(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2029],{48313:function(o){function C(o){var C=Error("Cannot find module '"+o+"'");throw C.code="MODULE_NOT_FOUND",C}C.keys=function(){return[]},C.resolve=C,C.id=48313,o.exports=C},77678:function(o,C,j){"use strict";j.d(C,{W:function(){return ej},B:function(){return eC}});var w=j(52322),L=j(25237),S=j.n(L);let E=S()(()=>j.e(9831).then(j.bind(j,99831)),{loadableGenerated:{webpack:()=>[99831]}}),D=S()(()=>j.e(2522).then(j.bind(j,22522)),{loadableGenerated:{webpack:()=>[22522]}}),Z=S()(()=>j.e(4110).then(j.bind(j,54110)),{loadableGenerated:{webpack:()=>[54110]}});S()(()=>j.e(9786).then(j.bind(j,49786)),{loadableGenerated:{webpack:()=>[49786]}});let P=S()(()=>j.e(3179).then(j.bind(j,43179)),{loadableGenerated:{webpack:()=>[43179]}}),N=S()(()=>j.e(7256).then(j.bind(j,47256)),{loadableGenerated:{webpack:()=>[47256]}}),T=S()(()=>j.e(3393).then(j.bind(j,73393)),{loadableGenerated:{webpack:()=>[73393]}}),z=S()(()=>j.e(4838).then(j.bind(j,24838)),{loadableGenerated:{webpack:()=>[24838]}}),F=S()(()=>j.e(1342).then(j.bind(j,81342)),{loadableGenerated:{webpack:()=>[81342]}}),O=S()(()=>j.e(612).then(j.bind(j,90612)),{loadableGenerated:{webpack:()=>[90612]}}),I=S()(()=>j.e(5385).then(j.bind(j,65385)),{loadableGenerated:{webpack:()=>[65385]}});S()(()=>j.e(2973).then(j.bind(j,42973)),{loadableGenerated:{webpack:()=>[42973]}}),S()(()=>j.e(2633).then(j.bind(j,92633)),{loadableGenerated:{webpack:()=>[92633]}});let W=S()(()=>j.e(3699).then(j.bind(j,13699)),{loadableGenerated:{webpack:()=>[13699]}}),B=S()(()=>j.e(3737).then(j.bind(j,53737)),{loadableGenerated:{webpack:()=>[53737]}}),H=S()(()=>j.e(3681).then(j.bind(j,43681)),{loadableGenerated:{webpack:()=>[43681]}}),A=S()(()=>j.e(8491).then(j.bind(j,28491)),{loadableGenerated:{webpack:()=>[28491]}}),R=S()(()=>j.e(7334).then(j.bind(j,47334)),{loadableGenerated:{webpack:()=>[47334]}}),J=S()(()=>j.e(1587).then(j.bind(j,21587)),{loadableGenerated:{webpack:()=>[21587]}}),M=S()(()=>j.e(7763).then(j.bind(j,37763)),{loadableGenerated:{webpack:()=>[37763]}}),$=S()(()=>j.e(8546).then(j.bind(j,58546)),{loadableGenerated:{webpack:()=>[58546]}}),K=[{id:"esp32dev",type:"ArrayLiteralExpression",check:(o,C)=>"ArrayLiteralExpression"==o.type&&'"esp32dev"'==C["element-1"],getComponent:(o,C,j)=>(0,w.jsx)(D,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:'"esp32dev"'}),hidden:!0,nonDeletable:!0},{id:"Wifi",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("wifi"))},getComponent:(o,C,j)=>(0,w.jsx)(E,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"wifi",param1:'"SSID"',param2:'"PASSWORD"',param3:'"none"'})},{id:"Mqtt",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("mqtt"))},getComponent:(o,C,j)=>(0,w.jsx)(Z,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"mqtt",param1:'"BROKERADDRESS"',param2:'"1883"'})},{id:"Relay",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("relay"))},getComponent:(o,C,j)=>(0,w.jsx)(T,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"relay",param1:'""',param2:'"ALWAYS_OFF"'})},{id:"BinarySensor",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("binarySensor"))},getComponent:(o,C,j)=>(0,w.jsx)(P,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"binarySensor",param1:'""'})},{id:"NeopixelsBus",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("neopixelsBus"))},getComponent:(o,C,j)=>(0,w.jsx)(N,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"neopixelsBus",param1:'""',param2:"16",param3:'"GRB"',param4:'"WS2811"',param5:'"ALWAYS_ON"',param6:'"1s"',param7:"0",param8:!1,param9:!1,param10:!1,param11:!1,param12:!1,param13:!1,param14:!1,param15:!1,param16:!1,param17:!1,param18:!1})},{id:"ADCSensor",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("adcSensor"))},getComponent:(o,C,j)=>(0,w.jsx)(z,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"adcSensor",param1:'"analogic"',param2:'"30s"',param3:'"auto"'})},{id:"I2cBus",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("i2cBus"))},getComponent:(o,C,j)=>(0,w.jsx)(F,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"i2cBus",param1:'""',param2:"22",param3:!0})},{id:"UARTBus",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("uartBus"))},getComponent:(o,C,j)=>(0,w.jsx)(R,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"uartBus",param1:'""',param2:"17",param3:'"9600"'})},{id:"PCA9685",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("pca9685"))},getComponent:(o,C,j)=>(0,w.jsx)(O,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"pca9685",param1:'""',param2:"1000",param3:!1,param4:"0x40",param5:'""'})},{id:"Ethernet",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("ethernet"))},getComponent:(o,C,j)=>(0,w.jsx)(I,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"ethernet",param1:'"LAN8720"',param2:"23",param3:"18",param4:'"GPIO17_OUT"',param5:"0",param6:"12"})},{id:"TempHumidity",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("tempHumidity"))},getComponent:(o,C,j)=>(0,w.jsx)(W,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"tempHumidity",param1:'"temperaturehumidity"',param2:'"DHT22"',param3:'"60s"'})},{id:"MicrofirePhEcTemp",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("microfirePhEcTemp"))},getComponent:(o,C,j)=>(0,w.jsx)(B,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"microfirePhEcTemp",param1:'"phectemp"',param2:22,param3:'"60s"'})},{id:"HX711",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("hx711"))},getComponent:(o,C,j)=>(0,w.jsx)(M,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"hx711",param1:'""',param2:"",param3:'"128"',param4:'"60s"'})},{id:"A4988",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("a4988"))},getComponent:(o,C,j)=>(0,w.jsx)($,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"a4988",param1:'""',param2:'""',param3:'"250 steps/s"',param4:'"none"',param5:'"inf"',param6:'"inf"'})},{id:"MPU6050",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("mpu6050"))},getComponent:(o,C,j)=>(0,w.jsx)(J,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"mpu6050",param1:'""',param2:'""',param3:'"0x68"',param4:'"30s"'})},{id:"SEN55",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("sen55"))},getComponent:(o,C,j)=>(0,w.jsx)(H,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"sen55",param1:'""',param2:'""',param3:'"0x69"',param4:'"30s"'})},{id:"MHZ19",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("mhz19"))},getComponent:(o,C,j)=>(0,w.jsx)(A,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"mhz19",param1:'""',param2:'""',param3:'"30s"'})}];var V=K.map(o=>({...o,capabilities:["esphome"]})),G=JSON.parse('[{"id":"BigTitle","title":"BigTitle","path":"*","type":"JsxElement","filter":{"name":"BigTitle"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]}]},{"id":"ButtonSimple","title":"ButtonSimple","path":"*","type":"JsxElement","filter":{"name":"ButtonSimple"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"theme","field":"prop-theme","staticLabel":true,"type":"color-theme","section":"layout"},{"label":"textColor","field":"prop-textColor","staticLabel":true,"type":"color","section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"size","field":"prop-size","staticLabel":true,"type":"range-theme","section":"dimensions"},{"label":"circular","field":"prop-circular","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"chromeless","field":"prop-chromeless","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"prop","data":[{"label":"onPress","field":"prop-onPress","staticLabel":true}]}]},{"id":"Container","title":"Container","path":"*","type":"JsxElement","filter":{"name":"Container"},"body":[{"type":"custom-field","data":[{"label":"backgroundColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"flexDirection","field":"prop-flexDirection","type":"alignment-flex","staticLabel":true,"section":"layout"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"custom-field","data":[]},{"type":"child","data":[]}]},{"id":"Center","title":"Center","path":"*","type":"JsxElement","filter":{"name":"Center"},"body":[{"type":"custom-field","data":[{"label":"backgroundColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"flexDirection","field":"prop-flexDirection","type":"alignment-flex","staticLabel":true,"section":"layout"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"custom-field","data":[]},{"type":"child","data":[]}]},{"id":"Image","title":"Image","path":"*","type":"JsxElement","filter":{"name":"Image"},"body":[{"type":"api","data":{"label":"url","field":"prop-url","apiUrl":"adminapi/v1/files//apps/next/public","list":"return res.isDir ? undefined : res.name"}},{"type":"link","data":{"text":"Need to upload a file?","url":"admin/files?path=/apps/next/public"}},{"type":"custom-field","data":[{"label":"resizeMode","field":"prop-resizeMode","staticLabel":true,"type":"select","data":["center","contain","cover","repeat","stretch"],"section":"dimensions"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"opacity","field":"prop-opacity","staticLabel":true,"type":"range","data":{"max":1,"step":0.1},"section":"decoration"}]}]},{"id":"VStack","title":"VStack","path":"*","type":"JsxElement","filter":{"name":"VStack"},"body":[{"type":"custom-field","data":[{"label":"backgroundColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"VCenterStack","title":"VCenterStack","path":"*","type":"JsxElement","filter":{"name":"VCenterStack"},"body":[{"type":"custom-field","data":[{"label":"backgroundColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"HCenterStack","title":"HCenterStack","path":"*","type":"JsxElement","filter":{"name":"HCenterStack"},"body":[{"type":"custom-field","data":[{"label":"backgroundColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"HStack","title":"HStack","path":"*","type":"JsxElement","filter":{"name":"HStack"},"body":[{"type":"custom-field","data":[{"label":"backgroundColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"Spacer","title":"Spacer","path":"*","type":"JsxElement","filter":{"name":"Spacer"},"body":[{"type":"custom-field","data":[{"label":"size","field":"prop-size","staticLabel":true,"type":"range-theme","section":"layout"}]},{"type":"child","data":[],"disableAdd":true}]},{"id":"Page","title":"Page","path":"*","type":"JsxElement","filter":{"name":"Page"},"body":[{"type":"custom-field","data":[{"label":"title","field":"prop-title","staticLabel":true,"type":"input","section":"basic"},{"label":"backgroundColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"basic"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"Head1","title":"Head1","path":"*","type":"JsxElement","filter":{"name":"Head1"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"Head2","title":"Head2","path":"*","type":"JsxElement","filter":{"name":"Head2"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"Head3","title":"Head3","path":"*","type":"JsxElement","filter":{"name":"Head3"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"Text","title":"Text","path":"*","type":"JsxElement","filter":{"name":"Text"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontSize","field":"prop-fontSize","staticLabel":true,"type":"range-theme","section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"RainbowText","title":"RainbowText","path":"*","type":"JsxElement","filter":{"name":"RainbowText"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"BlockTitle","title":"BlockTitle","path":"*","type":"JsxElement","filter":{"name":"BlockTitle"},"body":[{"type":"custom-field","data":[{"label":"title","field":"prop-title","staticLabel":true,"type":"input","section":"basic"},{"label":"subtitle","field":"prop-subtitle","staticLabel":true,"type":"input","section":"basic"},{"label":"titleColor","field":"prop-titleColor","type":"color","staticLabel":true,"section":"basic"},{"label":"subtitleColor","field":"prop-subtitleColor","type":"color","staticLabel":true,"section":"basic"},{"label":"space","field":"prop-space","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"flexDirection","field":"prop-flexDirection","type":"alignment-flex","staticLabel":true,"section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"DefaultLayout","title":"DefaultLayout","path":"*","type":"JsxElement","filter":{"name":"DefaultLayout"},"body":[{"type":"custom-field","data":[{"label":"headerTitle","field":"prop-headerTitle","staticLabel":true,"type":"input","section":"basic"},{"label":"title","field":"prop-title","staticLabel":true,"type":"input","section":"basic"},{"label":"description","field":"prop-description","staticLabel":true,"type":"input","section":"basic"},{"label":"tintSwitcher","field":"prop-tintSwitcher","staticLabel":true,"type":"toggle-boolean","section":"conf"},{"label":"themeSwitcher","field":"prop-themeSwitcher","staticLabel":true,"type":"toggle-boolean","section":"conf"}]},{"type":"child","data":[]}]},{"id":"MainButton","title":"MainButton","path":"*","type":"JsxElement","filter":{"name":"MainButton"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"margin","field":"prop-margin"},{"label":"padding","field":"prop-padding"}]},{"type":"prop","data":[{"label":"color","field":"prop-color","static":true,"type":"colorPicker"},{"label":"textColor","field":"prop-textColor","static":true,"type":"colorPicker"}]}]},{"id":"GithubIcon","title":"GithubIcon","path":"*","type":"JsxElement","filter":{"name":"GithubIcon"},"body":[{"type":"custom-field","data":[{"label":"color","field":"prop-color","staticLabel":true,"type":"color"},{"label":"height","field":"prop-height","type":"range-px","staticLabel":true},{"label":"width","field":"prop-width","type":"range-px","staticLabel":true}]},{"type":"child","data":[]}]},{"id":"DiscordIcon","title":"DiscordIcon","path":"*","type":"JsxElement","filter":{"name":"DiscordIcon"},"body":[{"type":"custom-field","data":[{"label":"color","field":"prop-color","staticLabel":true,"type":"color"},{"label":"height","field":"prop-height","type":"range-px","staticLabel":true},{"label":"width","field":"prop-width","type":"range-px","staticLabel":true}]},{"type":"child","data":[]}]},{"id":"TwitterIcon","title":"TwitterIcon","path":"*","type":"JsxElement","filter":{"name":"TwitterIcon"},"body":[{"type":"custom-field","data":[{"label":"color","field":"prop-color","staticLabel":true,"type":"color"},{"label":"height","field":"prop-height","type":"range-px","staticLabel":true},{"label":"width","field":"prop-width","type":"range-px","staticLabel":true}]},{"type":"child","data":[]}]}]'),U=[],Y=j(90530),X=j(48115),Q=j(2784);let ee=o=>{let C={};return null==o||o.forEach(o=>{var j;let w=null==o?void 0:null===(j=o.subsystem)||void 0===j?void 0:j.filter(o=>{var C;return(null==o?void 0:o.actions)&&(null==o?void 0:null===(C=o.actions)||void 0===C?void 0:C.length)}).map(o=>'"'+o.name+'"');C['"'+o.name+'"']=w}),C},et=o=>{let C={};return o.forEach(o=>{var j;let w='"'+o.name+'"',L={};null===(j=o.subsystem)||void 0===j||j.forEach(o=>{var C;null===(C=o.actions)||void 0===C||C.forEach(C=>{L['"'+o.name+'"']=L['"'+o.name+'"']||[],L['"'+o.name+'"'].push('"'+C.name+'"')})}),C[w]=L}),C},el=o=>null==o?void 0:o.map(o=>'"'+o.name+'"'),ei=o=>{var C,j,L,S,E,D,Z,P;let{node:N={},nodeData:T={},children:z}=o,[F,O]=(0,Q.useState)([]),[I,W]=(0,Q.useState)(!1),B=T.param1,H=T.param2,A=T.param3,R=async o=>{var C,j,w,L;let S=null===(C=o.filter(o=>o.name===(null==B?void 0:B.replaceAll('"',"")))[0])||void 0===C?void 0:C.subsystem,E=null==S?void 0:null===(j=S.filter(o=>o.name===H.replaceAll('"',""))[0])||void 0===j?void 0:j.actions,D=null==E?void 0:null===(L=E.filter(o=>o.name===A.replaceAll('"',""))[0])||void 0===L?void 0:null===(w=L.payload)||void 0===w?void 0:w.value;W(!!D)},J=async()=>{let{data:o}=await X.bl.get("/adminapi/v1/devices"),C=o.items;O([...C]),R(C)};(0,Q.useEffect)(()=>{J()},[]),(0,Q.useEffect)(()=>{R(F)},[A]);let M=[{label:"Device name",field:"param1",type:"selectWithDefault",static:!0,selectedIndex:null!==(S=null===(C=el(F))||void 0===C?void 0:C.indexOf(B))&&void 0!==S?S:0,data:F?el(F):['"none"']},{label:"Component",field:"param2",type:"selectWithDefault",static:!0,selectedIndex:null!==(E=null===(j=ee(F)[B])||void 0===j?void 0:j.indexOf(H))&&void 0!==E?E:0,data:F?null!==(D=ee(F)[B])&&void 0!==D?D:[]:['"none"']},{label:"Action",field:"param3",type:"selectWithDefault",static:!0,selectedIndex:F&&et(F)[B]?null!==(Z=null===(L=et(F)[B][H])||void 0===L?void 0:L.indexOf(A))&&void 0!==Z?Z:[]:0,data:F&&et(F)[B]?null!==(P=et(F)[B][H])&&void 0!==P?P:[]:['"none"']}],$=[{label:"Action payload",field:"param4",type:"input",static:!0}];return(0,w.jsxs)(Y.Node,{node:N,isPreview:!N.id,title:"devicePub",color:"#FFDF82",id:N.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,w.jsx)(Y.NodeParams,{id:N.id,params:M}),I?(0,w.jsx)(w.Fragment,{}):(0,w.jsx)(Y.NodeParams,{id:N.id,params:$})]})};var en=ei;let ea=o=>{let C={};return null==o||o.forEach(o=>{var j;let w=null==o?void 0:null===(j=o.subsystem)||void 0===j?void 0:j.filter(o=>{var C;return(null==o?void 0:o.monitors)&&(null==o?void 0:null===(C=o.monitors)||void 0===C?void 0:C.length)}).map(o=>'"'+o.name+'"');C['"'+o.name+'"']=w}),C},eo=o=>{let C={};return o.forEach(o=>{var j;let w='"'+o.name+'"',L={};null===(j=o.subsystem)||void 0===j||j.forEach(o=>{var C;null===(C=o.monitors)||void 0===C||C.forEach(C=>{L['"'+o.name+'"']=L['"'+o.name+'"']||[],L['"'+o.name+'"'].push('"'+C.name+'"')})}),C[w]=L}),console.log("DeviceSubsystemsMonitors: ",C),C},er=o=>null==o?void 0:o.map(o=>'"'+o.name+'"'),eu=o=>{var C,j,L,S,E,D,Z,P;let{node:N={},nodeData:T={},children:z}=o,[F,O]=(0,Q.useState)([]),I=T.param1,W=T.param2,B=T.param3,H=async()=>{let{data:o}=await X.bl.get("/adminapi/v1/devices");console.log("Readed deviceSub items: ",o);let C=null==o?void 0:o.items;O([...C])};(0,Q.useEffect)(()=>{H()},[]);let A=[{label:"Device name",field:"param1",type:"selectWithDefault",static:!0,selectedIndex:null!==(S=null===(C=er(F))||void 0===C?void 0:C.indexOf(I))&&void 0!==S?S:0,data:F?er(F):['"none"']},{label:"Component",field:"param2",type:"selectWithDefault",static:!0,selectedIndex:null!==(E=null===(j=ea(F)[I])||void 0===j?void 0:j.indexOf(W))&&void 0!==E?E:0,data:F?null!==(D=ea(F)[I])&&void 0!==D?D:[]:['"none"']},{label:"Monitor",field:"param3",type:"selectWithDefault",static:!0,selectedIndex:F&&eo(F)[I]?null!==(Z=null===(L=eo(F)[I][W])||void 0===L?void 0:L.indexOf(B))&&void 0!==Z?Z:[]:0,data:F&&eo(F)[I]?null!==(P=eo(F)[I][W])&&void 0!==P?P:[]:['"none"']}];return(0,w.jsxs)(Y.Node,{node:N,isPreview:!N.id,title:"deviceSub",color:"#FFDF82",id:N.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,w.jsx)(Y.NodeParams,{id:N.id,params:A}),(0,w.jsxs)("div",{style:{marginTop:"35px"},children:[(0,w.jsx)(Y.FlowPort,{id:N.id,type:"output",label:"On (message, topic)",style:{top:"225px"},handleId:"request"}),(0,w.jsx)(Y.FallbackPort,{node:N,port:"param4",type:"target",fallbackPort:"request",portType:"_",preText:"(message,topic) => ",postText:""})]})]})};var ec=eu;let ep=o=>{let{node:C={},nodeData:j={},children:L}=o,S=[{label:"Response text",field:"param1",type:"input",static:!0}];return(0,w.jsx)(Y.Node,{node:C,isPreview:!C.id,title:"Api Response",color:"#FFDF82",id:C.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:(0,w.jsx)(Y.NodeParams,{id:C.id,params:S})})};var ef=ep,eh=j(32253);let eg=o=>{let{node:C={},nodeData:j={},children:L}=o,S=[{label:"Level",static:!0,field:"to",type:"select",data:["logger.trace","logger.debug","logger.info","logger.warn","logger.error","logger.fatal"]},{label:"Message",field:"param2"},{label:"Data",field:"param1"}];return(0,w.jsx)(Y.Node,{node:C,isPreview:!C.id,title:"Logger",color:"#82d0ff",id:C.id,skipCustom:!0,children:(0,w.jsx)(Y.NodeParams,{id:C.id,params:S})})};var em=eg;let ev=[{id:"devicePub",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("devicePub"))},getComponent:(o,C,j)=>(0,w.jsx)(en,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"devicePub",param1:'"none"',param2:'"none"',param3:'"none"'})},{id:"deviceSub",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("deviceSub"))},getComponent:(o,C,j)=>(0,w.jsx)(ec,{node:o,nodeData:C,children:j}),filterChildren:(0,Y.filterCallback)("4"),restoreChildren:(0,Y.restoreCallback)("4"),getInitialData:()=>({to:"deviceSub",param1:'"none"',param2:'"none"',param3:'"none"',param4:"(message,topic) =>"})},{id:"logger",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("logger."))},getComponent:(o,C,j)=>(0,w.jsx)(em,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"logger.info",param1:"{}",param2:'"message"'})},{id:"res.send",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("res.send"))},getComponent:(o,C,j)=>(0,w.jsx)(ef,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"res.send",param1:'"Response"'})},{id:"CloudApi",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.param2)||void 0===j?void 0:j.startsWith("(req,res) =>"))&&("app.get"==C.to||"app.post"==C.to)},getComponent:eh.Z,filterChildren:(0,Y.filterCallback)(),restoreChildren:(0,Y.restoreCallback)(),getInitialData:()=>({to:"app.get",param1:'"/api/v1/"',param2:"(req,res) =>"})}];var ex=ev;let ey=!0,eb={devices:["devices","deviceDefinitions","deviceBoards","deviceCores","deviceSdks"],visualui:["visualui"],apis:["apis"]},eC=(o,C)=>{let j=o.split("/"),w=j[j.length-1],L=JSON.stringify(C);return eb.devices.includes(w)?V:eb.visualui.includes(w)||L&&eb.visualui.find(o=>L.includes(o))?[]:ey&&eb.apis.includes(w)?ex:[]},ej=(o,C)=>{let j=o.split("/"),w=j[j.length-1],L=JSON.stringify(C);return eb.visualui.includes(w)||L&&eb.visualui.find(o=>L.includes(o))?[...G,...U,...Y.BaseJSMasks]:[...U]}},89711:function(o,C,j){"use strict";j.d(C,{l:function(){return eO}});var w,L=j(52322),S=j(30195);let E=S.z.object({action:S.z.string(),domain:S.z.string(),data:S.z.any()}),D=(o,C,j)=>(E.parse({action:o,domain:C,data:j}),{action:o,domain:C,data:j});var Z=j(10836),P=j(8939),N=j(2784),T=j(74634),z=j(56359),F=j(64129),O=j(60545),I=j(5632),W=j(43260),B=j(96666),H=j(6289),A=j(57643),R=j(48115),J=j(26887);let M=(o,C)=>{let[j,w]=(0,N.useState)((0,H.E)("pending"));return(0,A.rf)(()=>{w((0,H.E)("pending"))},[o]),(0,J.a)(C=>R.bl.get("/adminapi/v1/files/"+o.replace(/\/+/g,"/"),C,!0),w,j,!C),[j,w]};var $=j(95753),K=j(60892),V=j(50042),G=j(32878),U=j(16399),Y=j(27911),X=j(45054),Q=j(52026),ee=j(94484),et=j(91838);function el(o,C,j){let w,L,S;if(0===C)w=L=S=j;else{let E=(o,C,j)=>(j<0&&(j+=1),j>1&&(j-=1),j<1/6)?o+(C-o)*6*j:j<.5?C:j<2/3?o+(C-o)*(2/3-j)*6:o,D=j<.5?j*(1+C):j+C-j*C,Z=2*j-D;w=E(Z,D,o+1/3),L=E(Z,D,o),S=E(Z,D,o-1/3)}return[Math.round(255*w),Math.round(255*L),Math.round(255*S)]}function ei(o){let C=o.match(/^hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)$/i);if(!C)return null;let[j,w,L]=[C[1]/360,C[2]/100,C[3]/100],[S,E,D]=el(j,w,L);return"#".concat((16777216+(S<<16)+(E<<8)+D).toString(16).slice(1).toUpperCase())}let en=o=>{let{path:C="",sourceCode:j,onChange:w=()=>{},onSave:S=()=>{},onEscape:E=()=>{},...D}=o,{resolvedTheme:Z}=(0,U.P)(),P=(0,Y.Ik)(),N="myCustomTheme",T=(0,Q.useTheme)(),{tint:z}=(0,ee.d5)(),F=T[z+"10"].val;F=F.startsWith("hsl")?ei(F):F,P&&P.editor.defineTheme(N,{base:"dark"===Z?"vs-dark":"vs",inherit:!0,rules:[{token:"keyword",foreground:F},{token:"punctuation",foreground:F}],colors:{"editor.background":"dark"===Z?"#151515":"#FFFFFF"}});let O=(o,C)=>{C.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0}),C.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0})};return S&&(0,X.Z)(["s","S"],o=>{("s"===o.key||"S"===o.key)&&(o.ctrlKey||o.metaKey)&&(o.preventDefault(),S())}),E&&(0,X.Z)(["Escape"],o=>{"Escape"===o.key&&(o.preventDefault(),E())}),(0,L.jsx)(et.I,{children:(0,L.jsx)(Y.ZP,{onMount:O,path:C,theme:P?N:void 0,value:j,onChange:w,...D})})};var ea=j(25237),eo=j.n(ea),er=j(1201),eu=j(28554),ec=j(77678),ep=j(20477);j(15153),(0,j(53596).j)();let ef=function(o,C){let j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,w=o.getDescendantsOfKind(ep.lGB.CallExpression),L=w.find(o=>{let j=o.getArguments(),w=o.getExpression();return w.getKind()===ep.lGB.Identifier&&"Protofy"===w.getText()&&j.length&&j[0].getText()==C});return L?L.getArguments()[j]:void 0},eh=o=>{let C=new ep.IKL({useInMemoryFileSystem:!0});return C.createSourceFile("_temp1.tsx",o,{overwrite:!0})};!function(o){o[o.DEFAULT=0]="DEFAULT",o[o.NAMED=1]="NAMED"}(w||(w={}));var eg=j(28261),em=j.n(eg),ev=j(29691),ex=j.n(ev),ey=j(39684);let eb=()=>{let{message:o}=(0,ey.mU)("notifications/event/create/#");return o},eC=(o,C)=>{let j=eb();(0,N.useEffect)(()=>{if(j&&j.message)try{let w=JSON.parse(j.message);if(C.path&&w.path!=C.path||C.from&&w.from!=C.from)return;o(j)}catch(o){console.error("Error parsing message from mqtt: ",o)}},[j])},ej="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _mih-0px _miw-0px _fs-0 _o-0 _t--200000px _pos-absolute ",ew="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _mih-0px _miw-0px _fs-0 _pos-absolute _r-20px _t--32px ",eL="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _mt-30px _fg-1 _w-10037 ",ek="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 _w-10037 ",eS=eo()(()=>Promise.all([j.e(4546),j.e(9610),j.e(7175)]).then(j.bind(j,57175)),{loadableGenerated:{webpack:()=>[57175]},loading:()=>(0,L.jsxs)(Z.Z,{children:[(0,L.jsx)(O.$,{size:"large",scale:3,top:-50}),"Loading"]}),ssr:!1}),eE=o=>{let{extraIcons:C,name:j,path:w}=o,[S,E]=M(w);console.log("file content: ",S);let D=S.isLoaded?JSON.parse(S.data):"";return(0,L.jsx)(B.Z,{waitForLoading:1e3,atom:S,children:(0,L.jsx)("div",{className:ek,children:(0,L.jsx)(W.I,{extraIcons:C,hideDeleteIcon:!0,itemCardProps:{topBarProps:{top:-10,backgroundColor:"transparent"}},minimal:!0,f:1,backgroundColor:"transprent",onDelete:()=>{},onSave:o=>{},json:D,name:j})})},w)},e_=o=>{let{checkStatus:C=()=>!0,defaultState:j="available",path:w,getContent:S,positionStyle:E,onSave:D=()=>{}}=o,[Z,T]=(0,N.useState)(j),z=o=>{T(j),D()};eC(z,{path:"services/api/start"}),(0,A.Yz)(()=>{C()&&"unavailable"==Z&&T("available")},250);let F=async()=>{T("loading");let o=S();await R.bl.post("/adminapi/v1/files/"+w.replace(/\/+/g,"/"),{content:o}),w.startsWith("/packages/app/bundles/custom/apis/")||(T(j),D())};return(0,L.jsxs)(P.sL,{position:"absolute",...E,children:["loading"!=Z&&(0,L.jsx)($.q,{disabled:"unavailable"==Z,onPress:F,children:(0,L.jsx)(K.v,{color:"var(--color)",size:"$1"})}),"loading"==Z&&(0,L.jsx)(O.$,{color:"$color",opacity:.5,size:17})]})},eD=o=>{let{extraIcons:C,isFull:j,path:w,isModified:S,setIsModified:E}=o,[D,Z]=M(w),[P,T]=(0,N.useState)(""),[z,F]=(0,N.useState)(!1),O=(0,N.useRef)(!1),W=(0,N.useRef)(""),H=(0,N.useRef)(""),R=(0,I.useRouter)(),[J,K]=(0,er.G)((o,C,j)=>{let L=o.startsWith("/code"),S="The user is viewing a sourceCode file named: ".concat(w,". The content of the sourceFile is: ").concat(W.current),E=L?"\nThe user has generated a request to change the sourceCode content. You need to fulfill the request. Reply only with source code with prefix: [code] and nothing else. Your response will be used directly to replace the content of the sourceFile, but adaptaed to what the user requested.\nFor example, if the final code you decide to generate is \"console.log('test');\" then your anser should be [code]console.log('test');\nKeep the original sourcecode comments when generating new code;\nIf you are unable to generate the source code (too ambiguous/unespecific/whaterver reason), explain why in natural language, but do not include [code] at the beginning.\nRemember to generate a response for the request that is only sourceCode and prefixed with [code]. Your response will be used to feed another program, that expects just [code] and sourceCode.\nIf you include anything else in your message (like reasonings or natural language) it will be considered that you are rejecting the request, and the reasons will be shown to the user.\n            ":"";return E+S},()=>(0,er.MT)({cmd:"/code",format:"sourceCode",action:"generates a source code solution in source code format of the current file."}));(0,A.rf)(()=>{if(console.log("Response prompt: ",J),J.startsWith("[code]")){console.log("Replacing code with updated code");let o=J.substring(6);T(o),W.current=o}},[J]),(0,N.useEffect)(()=>{if(D.isLoaded){let o=eh(D.data),C=ef(o,'"code"');C&&ep.is9.isArrowFunction(C)?(W.current=C.getBodyText(),O.current=!0):(O.current=!1,W.current=D.data),H.current=W.current,F(!0)}},[D]);let{resolvedTheme:Y}=(0,U.P)(),[X,Q]=(0,N.useState)("flow");return(0,L.jsx)(B.Z,{atom:D,children:(0,L.jsxs)("div",{className:eL,children:[(0,L.jsxs)("div",{className:ew,children:["code"==X?(0,L.jsx)($.q,{onPress:()=>Q("flow"),children:(0,L.jsx)(V.h,{color:"var(--color)",size:"$1"})}):(0,L.jsx)($.q,{onPress:()=>Q("code"),children:(0,L.jsx)(G.E,{color:"var(--color)",size:"$1"})}),(0,L.jsx)(e_,{onSave:()=>H.current=W.current,checkStatus:()=>W.current!=H.current,defaultState:"unavailable",path:w,getContent:()=>{if(O.current){let o=eh(D.data),C=ef(o,'"code"').getBody();C.replaceWithText("{\n"+W.current+"\n}");let j=ex().format(o.getFullText(),{quoteProps:"consistent",parser:"typescript",plugins:[em()]});if(j)return j}return W.current},positionStyle:{position:"relative"}}),C]}),"code"==X?(0,L.jsx)(en,{path:w,darkMode:"dark"==Y,sourceCode:P||W.current,onChange:o=>{W.current=o}}):(0,L.jsx)(eu.Z,{isModified:S,customComponents:(0,ec.B)(R.pathname,R.query),onEdit:o=>{W.current=o},setIsModified:E,setSourceCode:o=>{o.current=o},sourceCode:P||W.current,path:w,themeMode:Y}),(0,L.jsx)("div",{className:ej,children:(0,L.jsx)(eu.Z,{preload:!0})})]})})},eZ=o=>{let{path:C}=o,[j]=M(C),w=(0,N.useRef)(""),{resolvedTheme:S}=(0,U.P)();return(0,N.useEffect)(()=>{j.isLoaded&&(w.current=j.data)},[j]),(0,L.jsx)(B.Z,{waitForLoading:1e3,atom:j,children:(0,L.jsxs)("div",{className:eL,children:[(0,L.jsx)(e_,{path:C,getContent:()=>w.current,positionStyle:{right:55,top:-33}}),(0,L.jsx)(en,{path:C,darkMode:"dark"==S,sourceCode:j.data,onChange:o=>{w.current=o}})]})},C)},eP=o=>{let{action:C,domain:j,data:w}=o,{mime:S}=w,E=S?S.split("/")[0]:"text",D=("/adminapi/v1/files/"+w.path).replace(/\/+/g,"/");return"application/json"==S?{component:(0,L.jsx)(eE,{...w}),supportIcons:!0}:"application/javascript"==S||"video/mp2t"==S||w.path.endsWith(".tsx")?{component:(0,L.jsx)(eD,{...w}),supportIcons:!0}:"model/gltf-binary"==S?{component:(0,L.jsx)(eS,{path:D}),widget:"text"}:"text"==E||"application"==E?{component:(0,L.jsx)(eZ,{path:w.path}),widget:"text"}:"image"==E?{component:(0,L.jsx)("img",{src:D}),widget:"image"}:void 0};j(78260);let eN=o=>{let C;if(C=eP(o))return C},eT="  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _mih-0px _miw-0px _fs-0 _pos-absolute _r-15px _t-17px ",ez="  is_H4 _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _tt-230632953 _ff-299667014 _fow-233016233 _ls-167744152 _fos-229441313 _lh-222976666 _ussel-auto _pos-absolute _l-15px _t-10px font_heading ",eF="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _h-20px ";(0,z._5)({iconComponent:F.K}),z.p$.ToggleHiddenFiles.option.defaultValue=!1;let eO=o=>{let{isFull:C,hideCloseIcon:j,isModified:w=!1,setIsModified:S=()=>{},icons:E=[],currentFile:N,currentFileName:z,...F}=o,O=(0,T.P)(N),I=eN(D("open","files",{isModified:w,isFull:C,extraIcons:E,name:z,path:N,mime:O}));return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:eF}),(0,L.jsx)(P.FA,{flex:1,alignItems:"center",justifyContent:"center",...F,children:I?I.component:(0,L.jsx)(Z.Z,{children:"No viewer exists for this file type"})}),(0,L.jsx)("h4",{className:ez,children:z}),I&&I.supportIcons||j?null:(0,L.jsx)("div",{className:eT,children:E})]})};j(62321)},28554:function(o,C,j){"use strict";var w=j(52322),L=j(25237),S=j.n(L);j(2784);let E=S()(()=>Promise.resolve().then(j.bind(j,90530)).then(o=>o.FlowFactory),{loadableGenerated:{webpack:()=>[90530]},loading:()=>(0,w.jsx)("div",{children:"Loading..."}),ssr:!1});C.Z=o=>(0,w.jsx)(E,{...o})},32253:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52322),protoflow__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(90530),protolib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(48115);let ApiMask=function(){let node=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},nodeData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nodeParams=[{label:"Type",field:"to",type:"select",data:["app.get","app.post"],static:!0}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(protoflow__WEBPACK_IMPORTED_MODULE_1__.Node,{node:node,isPreview:!(null==node?void 0:node.id),title:"Api endpoint",id:node.id,color:"#A5D6A7",skipCustom:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.NodeParams,{id:node.id,params:nodeParams}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.NodeParams,{id:node.id,params:[{label:"Path",field:"param1",type:"input"}]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{paddingBottom:"30px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.FlowPort,{id:node.id,type:"input",label:"On Request (req, res)",style:{top:"170px"},handleId:"request"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.FallbackPort,{node:node,port:"param2",type:"target",fallbackPort:"request",portType:"_",preText:"(req, res) => ",postText:""})]}),nodeData&&"app.get"==nodeData.to&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.Button,{label:"Make request",onPress:()=>{protolib__WEBPACK_IMPORTED_MODULE_2__.bl.get(eval(nodeData.param1))}})]})};__webpack_exports__.Z=ApiMask},96666:function(o,C,j){"use strict";var w=j(52322),L=j(52026),S=j(60545),E=j(29897),D=j(2784),Z=j(91838),P=j(57643);let N="  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-1316330238 _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto _o-0d0t646 font_body ",T="  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",z=D.forwardRef((o,C)=>{let{forceLoad:j,waitForLoading:z=250,spinnerSize:F,atom:O,error:I=null,loading:W=null,children:B,loadingText:H,...A}=o,[R,J]=(0,D.useState)(!z);if((0,P.KS)(()=>J(!0),z),j)return B;if(null==O?void 0:O.isError){var M,$;return I||(0,w.jsx)(E.Z,{details:null!==($=null===(M=O.error)||void 0===M?void 0:M.result)&&void 0!==$?$:O.error})}return(null==O?void 0:O.isLoaded)?B:R?W||(0,w.jsxs)(L.Stack,{ref:C,mt:"$10",ai:"center",jc:"center",f:1,...A,children:[(0,w.jsx)(Z.I,{children:(0,w.jsx)(S.$,{color:"$color6",size:null!=F?F:"large"})}),(0,w.jsx)("div",{className:T,children:H&&(0,w.jsx)("p",{className:N,children:H})})]}):(0,w.jsx)(w.Fragment,{})});C.Z=z,j(91092)},43260:function(o,C,j){"use strict";j.d(C,{I:function(){return Y}});var w=j(52322),L=j(52026),S=j(86838),E=j(66306),D=j(8939),Z=j(60545),P=j(94484),N=j(61773),T=j(47343),z=j(57441),F=j(13742),O=j(2784),I=j(40914),W=j(13043),B=j(6289),H=j(95753);let A="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _pt-1481558400 _pr-1481558400 _pb-1481558400 _pl-1481558400 _mah--1px _ox-hidden _oy-hidden _transform-1529299154 ",R="  _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px ",J="  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-1481558152 _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body ",M="  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center _jc-center _pt-1316330238 _pr-1316330238 _pb-1316330238 _pl-1316330238 ",$="  _o-0hover-0d0t846 _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _mr-1481558152 _o-0d0t546 _cur-pointer ",K="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _cur-pointer ",V="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _l--1036 ",G="  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr--536 _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto _fg-1 _fs-1 _fb-auto _o-0d0t846 font_body ",U="  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _jc-flex-start _ai-center _pr-1481558152 _pl-1481558152 _w-10037 ",Y=O.forwardRef((o,C)=>{var j;let{compact:Y=!1,innerContainerProps:X={},extraIcons:Q=[],iconProps:ee={},itemCardProps:et={},minimal:el,json:ei,name:en,onSave:ea=o=>{},onDelete:eo=()=>{},hideDeleteIcon:er,isTemplate:eu=!1,...ec}=o,{tint:ep}=(0,P.d5)(),[ef,eh]=(0,O.useState)(eu),[eg,em]=(0,O.useState)(ei),[ev,ex]=(0,O.useState)(0),[ey,eb]=(0,O.useState)((0,B.E)("pending")),[eC,ej]=(0,O.useState)(ei),[ew,eL]=(0,O.useState)(!1),ek=()=>{ex(o=>o+1),em(eC),eh(!ef)},eS=async()=>{ex(o=>o+1),eh(!ef),ej(eg),eb(await ea(eg))},eE=o=>{em(o)},e_=(0,O.useMemo)(()=>(0,w.jsx)(W.Z,{compact:Y,onChange:eE,editable:ef,data:eg,collapsible:!0},ev),[Y,ev,eE,ef,eg]);return(0,w.jsx)(L.Stack,{ref:C,...ec,children:(0,w.jsx)(I.q,{topBarOutSideScrollArea:el,backgroundColor:null!==(j=ec.backgroundColor)&&void 0!==j?j:"$color1",...et,elevation:el?0:1,borderWidth:el?0:1,pointerEvents:"none",pointerEventsControls:"none",topBar:(0,w.jsx)(L.Theme,{name:ep,children:(0,w.jsxs)("div",{className:U,children:[(0,w.jsx)("p",{className:G,children:el?"":en}),(0,w.jsx)(L.Theme,{reset:!0,children:(0,w.jsxs)("div",{className:V,children:[er?null:(0,w.jsxs)(S.J2,{onOpenChange:eL,open:ew,placement:"bottom-end",children:[eu?null:(0,w.jsx)(S.J2.Trigger,{children:(0,w.jsx)("div",{onClick:()=>eL(!0),className:K,children:(0,w.jsx)("div",{className:$,children:(0,w.jsx)(F.V,{size:"$1"})})})}),(0,w.jsx)(S.J2.Content,{padding:0,space:0,top:"$2",children:(0,w.jsxs)("div",{className:M,children:[(0,w.jsx)("p",{className:J,children:(0,w.jsx)("span",{className:R,children:"Are you sure?"})}),(0,w.jsxs)(E.zx,{onPress:()=>{eo(en)&&eL(!1)},children:[(0,w.jsx)(F.V,{size:"$1",color:"var(--red10)"})," Delete"]})]})})]}),(0,w.jsxs)(D.sL,{...ee,children:[ef?(0,w.jsx)(H.q,{paddingHorizontal:"$3",onPress:()=>{eu?eo(en,eu):ek()},children:(0,w.jsx)(z.X,{color:"var(--red9)",size:"$1"})}):null,ef?(0,w.jsx)(H.q,{onPress:eS,children:(0,w.jsx)(N.J,{color:"var(--color9)",size:"$1"})}):(0,w.jsx)(H.q,{onPress:()=>eh(!ef),children:(0,w.jsx)(T.H,{size:"$1"})}),Q]})]})})]})}),children:(0,w.jsx)(L.Stack,{f:1,...X,children:(0,w.jsx)(L.Theme,{name:ep,children:(0,w.jsx)("div",{className:A,children:(null==ey?void 0:ey.isLoading)?(0,w.jsx)(Z.$,{}):(null==ey?void 0:ey.isError)?(0,w.jsx)("span",{className:R,children:"ERROR"}):e_})})})})})});j(97752)},29897:function(o,C,j){"use strict";var w=j(52322),L=j(41473),S=j(8939),E=j(2784);let D="  _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _col-1094904378 ",Z="  is_H2 _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _tt-230633015 _ff-299667014 _fow-233016295 _ls-167744214 _fos-229441375 _lh-222976728 _ussel-auto font_heading ",P=E.forwardRef((o,C)=>{let{msg:j="Error loading content from server",details:E=""}=o;return(0,w.jsxs)(S.FA,{flex:1,alignItems:"center",justifyContent:"center",space:"$4",ref:C,children:[(0,w.jsx)(L.u,{size:"$7"}),(0,w.jsx)("h2",{className:Z,children:j}),(0,w.jsx)("span",{className:D,children:E})]})});C.Z=P,j(77733)},95753:function(o,C,j){"use strict";j.d(C,{q:function(){return S}});var w=j(52322),L=j(8939);let S=o=>(0,w.jsx)(L.sL,{paddingHorizontal:"$3",opacity:o.disabled?.2:.5,cursor:o.disabled?"default":"pointer",hoverStyle:{opacity:o.disabled?.2:.8},...o,...o.disabled?{onPress:()=>{}}:{},children:o.children})},40914:function(o,C,j){"use strict";j.d(C,{q:function(){return F}});var w=j(52322),L=j(2784),S=j(8939),E=j(22287),D=j(10836),Z=j(6712);let P="  is_SizableText _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 font_body ",N="  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center ",T="  is_Separator _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _btc-2122800589 _brc-2122800589 _bbc-2122800589 _blc-2122800589 _btw-0px _brw-0px _bbw-1px _blw-0px _fg-1 _h-0px _mah-0px _mb--1px _bbs-solid _bts-solid _bls-solid _brs-solid _transform-d0t1394298074 ",z="  _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1  _dsp-flex _ai-stretch ",F=(0,L.memo)(L.forwardRef((o,C)=>{let{containerElement:j=S.FA,topBarOutSideScrollArea:F=!1,bottomBarProps:O={},bottomBar:I,topBarProps:W={},topBar:B,children:H,imageProps:A={},image:R=null,hasPicture:J,theme:M,alt:$,onHoverSection:K,pointerEvents:V,pointerEventsControls:G,...U}=o,[Y,X]=(0,L.useState)(!1);return(0,w.jsxs)("div",{ref:C,className:z,children:[F&&B?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(S.sL,{zi:1e3,w:"100%",bc:"$backgroundHover",btrr:18,btlr:18,jc:"center",...W,children:B}),(0,w.jsx)("div",{className:T})]}):null,L.createElement(j,{borderWidth:1,borderColor:"$borderColor",backgroundColor:"$color1",br:"$7",p:0,ai:"stretch",elevation:"$2",overflow:"hidden",...U},[!F&&B?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(S.sL,{zi:1e3,w:"100%",px:"$2",py:"$2",bc:"$backgroundHover",btrr:18,btlr:18,space:"$5",jc:"center",...W,children:B}),(0,w.jsx)("div",{className:T})]}):null,(0,w.jsx)("div",{className:N,children:J?(0,w.jsx)(D.Z,{children:R&&R.src&&!Y?(0,w.jsx)(E.E,{onError:()=>X(!0),btrr:20,btlr:20,top:-20,source:{uri:R.src,width:R.width,height:R.height}}):(0,w.jsxs)(S.FA,{o:.2,btrr:20,btlr:20,width:null==R?void 0:R.width,height:null==R?void 0:R.height,jc:"center",ai:"center",children:[(0,w.jsx)(Z.L,{}),(0,w.jsx)("span",{className:P,children:"No photo"})]})}):(0,w.jsx)(w.Fragment,{})}),H,I?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:T}),(0,w.jsx)(S.sL,{zi:1e3,w:"100%",px:"$2",py:"$2",bc:"$backgroundHover",bbrr:17,bblr:17,ai:"center",space:"$5",jc:"center",pointerEvents:V,...O,children:I})]}):null])]})}));j(34719)},90530:function(o,C,j){"use strict";j.r(C),j.d(C,{AddPropButton:function(){return S.Z},BaseJSMasks:function(){return F.U},Button:function(){return A.Z},CustomEdge:function(){return D.Z},Diagram:function(){return P.Z},FallbackPort:function(){return I.Z},FlowConstructor:function(){return L.e},FlowFactory:function(){return L.Z},FlowPort:function(){return w._t},FlowStoreContext:function(){return z.p},HandleOutput:function(){return w.IS},Node:function(){return w.ZP},NodeParams:function(){return w.kz},NodeTypes:function(){return E.$P},PORT_TYPES:function(){return Z.LL},Panel:function(){return H.s_},connectNodes:function(){return B.Nl},createNode:function(){return Z.dS},filterCallback:function(){return O.HO},filterCallbackProp:function(){return O.J6},generateId:function(){return W.O},getId:function(){return Z.zv},isHandleConnected:function(){return T.SY},layouts:function(){return N.Z},restoreCallback:function(){return O.Qq},restoreCallbackProp:function(){return O.Ey},useFlowsStore:function(){return z.g}});var w=j(30690),L=j(73073),S=j(96169),E=j(52422),D=j(47544),Z=j(43134),P=j(12041),N=j(64352),T=j(53600),z=j(45823),F=j(64920),O=j(50317),I=j(84571),W=j(18292),B=j(45927),H=j(10729),A=j(43055)},96169:function(o,C,j){"use strict";var w=j(52322),L=j(2784),S=j(18292),E=j(45823),D=j(43055);C.Z=o=>{let{nodeData:C,id:j,type:Z="Param",style:P={},keyId:N=null,label:T=null}=o,z=(0,L.useContext)(E.p),F=z(o=>o.setNodeData),O={Attribute:"attr",Method:"meth",Case:"case",Element:"element",Component:"element",Import:"import",param:"param",Prop:"prop",Child:"child",Union:"union"},I=O[Z]||"param";N=null!==N?N:I+"-"+(0,S.O)();let W=()=>{if(["child","case","element","union"].includes(I)){var o,w;N=I+"-"+(null!==(w=(null===(o=Object.keys(C))||void 0===o?void 0:o.filter(o=>o.startsWith("".concat(I,"-"))).length)+1)&&void 0!==w?w:1)}F(j,{...C,[N]:""})};return(0,w.jsx)(D.Z,{onPress:W,label:null!=T?T:"Add ".concat(Z),style:P})}},43055:function(o,C,j){"use strict";var w=j(52322),L=j(2784),S=j(72405);function E(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[w,S]=L.useState(C),E=()=>S(o),D=()=>S(C);return{style:{...w,customStyle:j},onMouseEnter:E,onMouseLeave:D}}C.Z=o=>{let{onPress:C,label:j,style:L={}}=o,D={width:"50%",margin:"15px",border:"0px solid transparent",borderRadius:"8px",color:(0,S.Z)("interactiveColor"),padding:"10px 15px",cursor:"pointer",transition:"background-color 0.3s ease",display:"flex",position:"relative",alignSelf:"center",textAlign:"center",alignItems:"stretch",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",textDecoration:"none",zIndex:"0",fontFamily:"Jost-Regular",fontSize:(0,S.Z)("nodeFontSize"),...L},Z=E({...D,backgroundColor:(0,S.Z)("interactiveHoverColor")},{...D,backgroundColor:"transparent"},L);return(0,w.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,w.jsx)("button",{onClick:C,...Z,children:j})})}},47544:function(o,C,j){"use strict";j.d(C,{Z:function(){return P}});var w=j(52322),L=j(2784),S=j(10729),E=j(72405);function D(o){let{id:C,sourceX:j,sourceY:L,targetX:D,targetY:Z,sourcePosition:P,targetPosition:N,style:T={},markerEnd:z,targetHandleId:F,sourceHandleId:O,selected:I,color:W,children:B}=o,H=j===D,A=L===Z,[R]=(0,S.OQ)({sourceX:H?j+1e-4:j,sourceY:A?L+1e-4:L,sourcePosition:P,targetX:D,targetY:Z,targetPosition:N});(0,E.Z)("nodeBorderWidth");let J=(0,E.Z)("nodeEdgeWidth"),M=(0,E.Z)("nodeEdgeStyle");return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("path",{id:C,strokeWidth:I?2*J:J,stroke:W,className:"react-flow__edge",d:R,fill:"none","stroke-dasharray":M}),(0,w.jsx)("path",{id:C,className:"react-flow__edge-interaction",d:R,strokeOpacity:"0",strokeWidth:"20",fill:"none"}),B]})}var Z=j(45823);function P(o){var C,j;let P=arguments.length>1&&void 0!==arguments[1]&&arguments[1],N=(0,L.useContext)(Z.p),T=N(o=>o.setMenu),z=N(C=>null!==(j=C.nodeData[o.source])&&void 0!==j?j:{}),[F,O,I]=(0,S.OQ)({sourceX:o.sourceX,sourceY:o.sourceY,sourcePosition:o.sourcePosition,targetX:o.targetX,targetY:o.targetY,targetPosition:o.targetPosition}),W=C=>{T("open",[C.clientX,C.clientY],{edgeId:o.id,type:"edge",sourceHandle:o.sourceHandleId,source:o.source,targetHandle:o.targetHandleId,target:o.target})},B=null!=z&&null!==(C=z._metadata)&&void 0!==C&&!!C.layouted,H={...o,color:(0,E.Z)("edgeColor")},A=(0,E.Z)("edgeColor"),R=(0,E.Z)("plusColor"),J=(0,E.Z)("portSize"),M=(0,E.Z)("flowOutputColor");return B?(0,w.jsx)(D,{...H,children:P?(0,w.jsxs)("g",{transform:"translate(".concat(O,", ").concat(I,")"),children:[(0,w.jsx)("rect",{style:{cursor:"pointer",pointerEvents:"all",strokeWidth:"1px",stroke:A,fill:M},onClick:W,x:-10,y:-10,width:J,ry:J,rx:J,height:J}),(0,w.jsx)("text",{style:{fontWeight:600,pointerEvents:"none",userSelect:"none",fill:R,fontSize:"17px"},y:5,x:-6,children:"+"})]}):null}):null}},84571:function(o,C,j){"use strict";var w=j(52322),L=j(2784),S=j(45823);let E=o=>{let{node:C,port:j,type:E,fallbackPort:D,portType:Z,preText:P,postText:N,fallbackText:T=""}=o,z=(0,L.useContext)(S.p),F=z(o=>o.setNodeData),O=z(o=>o.nodeData[null==C?void 0:C.id]);return(0,L.useEffect)(()=>{C&&C.id&&!(null==O?void 0:O.hasOwnProperty("_fallBack"))&&F(C.id,{...O,_fallBack:[{port:j,type:E,fallbackPort:D,portType:Z,fallbackText:T,preText:P,postText:N}]})},[null==C?void 0:C.id,O]),(0,w.jsx)(w.Fragment,{})};C.Z=E},73073:function(o,C,j){"use strict";j.d(C,{e:function(){return eZ},Z:function(){return eD}});var w=j(52322);j(18803),j(43579),j(95280);var L=j(56334),S=j(52998),E=j(91958),D=j(2784),Z=j(10729),P=j(43134),N=j(85067),T=j.n(N);function z(o,C){var j=T().diff(o,C);return null==j?void 0:j.filter(o=>!(["E","N"].includes(o.kind)&&"hidden"===o.path[1]))}var F=j(52422),O=j(45823),I=j(18292),W=j(64509),B=j(77044),H=j(94533),A=j(72405),R=j(45927),J=j(38880),M=j(33361);let $=null!==B.rb&&void 0!==B.rb&&B.rb;var K=(0,W.Ic)(o=>{let{enabledNodes:C=["*"],hideBaseComponents:j,customComponents:L=[],style:S={},diagramNodes:E,setNodes:N,setNodeData:T,nodeData:z,edges:W,setEdges:B,takeSnapshot:K=()=>null,reactFlowWrapper:V=null,topics:G,onAddNode:U=(o,C,j)=>null,onEditDiagram:Y=(o,C,j)=>{}}=o,X=(0,D.useRef)(),Q=(0,D.useRef)(),ee=(0,D.useRef)(),et=50,[el,ei]=(0,D.useState)(""),[en,ea]=(0,D.useState)(0),eo=(0,D.useContext)(O.p),er=eo(o=>o.menuState),eu=eo(o=>o.menuPosition),ec=eo(o=>o.menuOpener),ep=eo(o=>o.setMenu),{project:ef,setViewport:eh,getViewport:eg,setCenter:em}=(0,M.vM)(),{publish:ev}=G,ex=259,ey=500,eb=100,eC=()=>{var o=eu[1]-30;return o<70?70:o+ey+eb<(null==V?void 0:V.current.offsetHeight)?o:(null==V?void 0:V.current.offsetHeight)-ey-eb},ej=()=>{var o=eu[0]-110;return(null==V?void 0:V.current)?o<100||(null==V?void 0:V.current.offsetWidth)-ex-eb<100?100:o+ex+eb<(null==V?void 0:V.current.offsetWidth)?o:(null==V?void 0:V.current.offsetWidth)-ex-eb:100},ew=Object.fromEntries(Object.entries(F.ZP).filter(o=>{let[j,w]=o;return C.includes(j)||C.includes("*")})),eL=L.filter(o=>C.includes(o.type)||C.includes("*")),ek=ec.targetHandle?ec.targetHandle.replace(ec.target,"").slice(1):null;var eS=Object.keys(ew),eE=eL,e_=!1;if($&&ek){var eD,eZ,eP,eN=Object.keys(P.U3).find(o=>ek.startsWith(o));"param"==eN&&(null===(eP=ec.targetHandle)||void 0===eP?void 0:eP.endsWith("-key"))&&(eN="key"),eN&&P.U3[eN].length&&(eS=Object.keys(ew).filter(o=>P.U3[eN].includes(o)),eE=eL.filter(o=>P.U3[eN].includes(o.type)),e_=!0)}let eT=el?Object.keys(ew).filter(o=>{var C,j=null!==(C=ew[o].type)&&void 0!==C?C:ew[o];let w=[...j.keyWords,j.name];return null==w?void 0:w.map(o=>o.toLowerCase()).join().includes(el.toLowerCase())}):eS,ez=el?eL.filter(o=>o.id.toLowerCase().replace(/\s+/g,"").includes(el.toLowerCase().replace(/\s+/g,""))):eE,eF="open"!=er?{top:"-5000px"}:{top:eC()+"px",left:ej()+"px"},eO=async(o,C)=>{K(),ei("");let j=o+P.LL.flow+(0,I.O)(),w=ef({x:ej(),y:eu[1]});var L,S=(0,P.dS)([w.x,w.y-70],o,j,{},!0,{},{}),D=[],Z={},N=[];if(C&&T(j,Z=C.getInitialData()),"edge"==ec.type){let C=null!==(L=ew[o].type)&&void 0!==L?L:ew[o],w=C.defaultHandle;D.push(...(0,R.Yc)(ec,j,w)),N.push(ec.edgeId)}else{let o=ec.target,C={animated:!1,id:(0,I.O)(),source:j,sourceHandle:j+"-output",target:o,targetHandle:ec.targetHandle,type:"custom"};D.push(C),z[o].hasOwnProperty(ek)||T(o,{[ek]:void 0}),U(S[0],C,Z)}let F=W.filter(o=>!N.includes(o.id)).concat(D),O=E.concat(S);ep("closed");let B=(o,C)=>{if(!C)return;C.getBoundingClientRect();let w=eg(),L=o.find(o=>o.id==S[0].id),E=document.getElementById(j),D=-L.position.x,Z=-L.position.y;if(!E)return;let P=E.querySelector("input:first-of-type");P&&(P.focus(),eI(D,Z,w.zoom));let N=E.querySelector("div > [role='button']:first-of-type");N&&(N.focus(),eI(D,Z,w.zoom))};Y(O,F,B)},eI=(0,D.useCallback)((o,C,j)=>{},[eh]),eW=()=>{en+1>ez.length&&eT.length?eO(eT[en-ez.length]):ez.length&&eO(ez[en].type,ez[en])},eB=o=>{let C=44;"Enter"==o.key?eW():"ArrowDown"==o.key&&en<ez.length+eT.length-1?(ea(en+1),ee.current.scrollBy({top:C,behavior:"smooth"})):"ArrowUp"==o.key&&en>0?(ea(en-1),ee.current.scrollBy({top:-C,behavior:"smooth"})):ea(0)},eH=o=>(0,w.jsx)("div",{style:{display:"flex",border:o.isSelected?"".concat((0,A.Z)("borderWidth"),"px solid black"):"0px solid transparent",borderRadius:2*(0,A.Z)("borderWidthSelected"),alignItems:"stretch",backgroundColor:"rgba(0, 0, 0, 0)",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",margin:"0px",minHeight:"0px",minWidth:"0px",padding:"0px",position:"relative",textDecoration:"none",zIndex:"0"},children:o.children});(0,D.useEffect)(()=>{if("closed"!=er)try{null==Q||Q.current.focus()}catch(o){console.error("error focusing element. ",o)}ev("menuState",{state:er})},[er]);let eA=(0,A.Z)("textColor");return(0,w.jsxs)(Z.s_,{position:"top-left",children:[(0,w.jsx)("div",{onClick:()=>ep("closed"),style:{display:"closed"==er?"none":"flex",height:"100vh",width:"100vw",position:"absolute"}}),(0,w.jsx)("div",{style:{display:"flex",flexDirection:"column",height:ey,margin:"0px",position:"absolute",border:"1px solid grey",borderRadius:"10px",...eF},children:(0,w.jsxs)("div",{ref:X,style:{flexGrow:1,width:ex,backgroundColor:(0,A.Z)("nodeBackgroundColor"),borderRadius:"10px",paddingBottom:"20px",padding:"10px",border:"".concat((0,A.Z)("borderWidth"),"px solid ").concat((0,A.Z)("borderColor"))},children:[(0,w.jsxs)("div",{style:{height:et},children:[(0,w.jsx)("input",{ref:Q,style:{fontFamily:"Jost-Regular",padding:"8px",border:(0,A.Z)("inputBorder"),display:"flex",flex:1,width:"100%",boxSizing:"border-box",fontSize:"14px",backgroundColor:(0,A.Z)("highlightInputBackgroundColor"),borderRadius:"6px",borderWidth:"0px",outline:"none",paddingLeft:"32px",color:eA},value:el,onKeyDown:eB,onChange:o=>ei(o.target.value),placeholder:"search nodel"}),(0,w.jsx)(J.Z,{color:"#57534e",size:20,style:{marginRight:"-5px",marginLeft:"8px",position:"absolute",top:18}})]}),(0,w.jsxs)("div",{ref:ee,className:".list-protoflow",style:{height:"calc(".concat(ey,"px - ").concat(et,"px - 22px)"),overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column",paddingRight:(null==ee?void 0:null===(eD=ee.current)||void 0===eD?void 0:eD.scrollHeight)>(null==ee?void 0:null===(eZ=ee.current)||void 0===eZ?void 0:eZ.clientHeight)?"10px":"0px"},children:[!j&&ez.length?(0,w.jsxs)(H.Z,{style:{fontSize:"16px",marginBottom:"10px",fontFamily:"Jost-Medium",marginLeft:"10px"},children:["Custom ",e_&&!el.length?"(Suggestions)":""]}):null,eL.map((o,C)=>{let j=ez.map(o=>o.id.toLowerCase().replace(/\s+/g,"")).indexOf(o.id.toLowerCase().replace(/\s+/g,"")),L=j==en;return o.hidden?null:(0,w.jsx)("div",{onClick:()=>eO(o.type,o),style:{display:ez.map(o=>o.id.toLowerCase().replace(/\s+/g,"")).includes(o.id.toLowerCase().replace(/\s+/g,""))?"flex":"none",marginBottom:"10px"},children:(0,w.jsx)(eH,{isSelected:L,children:o.getComponent({type:o.type},{},null,o)})},C)}),!j&&ez.length?(0,w.jsx)("div",{style:{margin:"10px 0px 10px 0px"}}):null,!j&&eT.length?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(H.Z,{style:{fontSize:"16px",marginBottom:"10px",fontFamily:"Jost-Medium",marginLeft:"10px"},children:["JavaScript ",e_&&!el.length?"(Suggestions)":""]}),eT.map((o,C)=>(0,w.jsx)("div",{onClick:()=>eO(o),style:{marginBottom:"10px"},children:(0,w.jsx)(eH,{isSelected:ez.length+C==en,children:D.createElement(ew[o],{type:o})})},C))]}):null]})]})})]})}),V=j(47544),G=j(41051),U=j(53544),Y=j(1674),X=j(39036),Q=j(64352);let ee=async function(o,C,j,w,L,S){let E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,D=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Z=C.map(o=>({...o})),{nodes:P,edges:N,metadata:T}="device"!=o?await Q.Z[null!=o?o:"code"](Z,j,S(Z)):await Q.Z[o](Z,j,S(Z),D);return await E(T),await w(P),await L(j),{layoutedNodes:P,layoutedEdges:N,metadata:T}},et=o=>{let{layout:C,hasChanges:j,onReload:L,onSave:S,onShowCode:E,getFirstNode:Z}=o,P=25,N=(0,D.useContext)(O.p),T=N(o=>o.saveStatus);return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"row",margin:"auto",right:0,left:0,justifyContent:"center",marginTop:"20px"},children:[S?(0,w.jsx)("div",{onClick:()=>S(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"error"==T?"#EF4444":j?"#373737":"#BFBFBF",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:"loading"==T?(0,w.jsxs)("div",{id:"spinner",className:"lds-ring",children:[(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{})]}):"error"==T?(0,w.jsx)(G.Z,{color:"white",size:P}):(0,w.jsx)(U.Z,{color:"white",size:P})}):null,E?(0,w.jsx)("div",{onClick:()=>E(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:(0,w.jsx)(Y.Z,{color:"white",size:P})}):null,L?(0,w.jsx)("div",{onClick:()=>L(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:(0,w.jsx)(X.Z,{color:"white",size:P})}):null]})})};var el=et,ei=j(64920),en=j(12041),ea=j(20477),eo=j(29392),er=j(50317),eu=j(30690),ec=j(84571),ep=j(43055),ef=o=>{let{href:C,...j}=o;return(0,w.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,w.jsx)("a",{target:"_blank",href:C,style:{color:(0,A.Z)("interactiveColor"),padding:"10px 15px",cursor:"pointer",display:"flex",flexDirection:"column",fontFamily:"Jost-Regular",fontSize:(0,A.Z)("nodeFontSize")},onMouseEnter:o=>{o.currentTarget.style.textDecorationLine="underline"},onMouseLeave:o=>{o.currentTarget.style.textDecorationLine=""},children:j.children})})},eh=j(64346),eg=j(38519),em=j(96169),ev=j(54398);let ex={CallExpression:eh.Z,JsxElement:Y.Z,JsxSelfClosingElement:Y.Z},ey=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=(arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0),[L,S]=D.useState(""),[E,Z]=D.useState(),P=j.data.body.find(o=>"api"==o.type);return P&&(0,D.useEffect)(()=>{let o=P.data.apiUrl;fetch(o).then(o=>o.json()).then(o=>{Z(o)})},[]),(0,w.jsx)(eu.ZP,{icon:ex[o.type],node:o,isPreview:!o.id,title:j.data.title,id:o.id,color:F.TT[o.type],skipCustom:!0,children:j.data.body.map(D=>{switch(D.type){case"params":return(0,w.jsx)(eu.kz,{id:o.id,params:D.params});case"spacer":return(0,w.jsx)("div",{style:{marginBottom:D.params.height}});case"output":return(0,w.jsx)(eu._t,{id:o.id,type:"output",label:D.params.label,style:null!==(Z=D.params.style)&&void 0!==Z?Z:{},handleId:D.params.handleId});case"redirect":return(0,w.jsx)(ec.Z,{node:o,port:D.params.port,type:"target",fallbackPort:D.params.fallbackPort,portType:"_",preText:D.params.preText,postText:D.params.postText});case"api":{let j=Function("res",null===(P=D.data)||void 0===P?void 0:P.list),L=null!==(T=null==E?void 0:null===(N=E.map(j))||void 0===N?void 0:N.filter(o=>o))&&void 0!==T?T:[],S=D.data.field;return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(ev.Z,{node:o,nodeData:C,item:{field:S,label:D.data.label,type:"input",data:{options:L}}})})}case"link":return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(ef,{target:"_blank",href:D.data.url,children:D.data.text})});case"button":return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ep.Z,{onPress:async()=>{let o=Function("data","\n                                    return (async () => {\n                                        ".concat(D.params.onPress,"\n                                    })();\n                                ")),j=await o(C);S(j),console.log("result: ",j)},label:D.params.label}),L&&D.params.displayResult?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("textarea",{style:{width:"100%",height:"150px",fontSize:"20px"},children:JSON.stringify(L)})}):null]});case"child":{let j=Object.keys(C).filter(o=>o.startsWith("child-")).map((o,C)=>{var j;let w=null===(j=D.data)||void 0===j?void 0:j.find(C=>C.field===o);return{label:w?w.label:"Child"+(C+1),field:o,fieldType:"child",deleteable:!w}});return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(eu.kz,{id:o.id,params:j}),D.disableAdd?null:(0,w.jsx)(em.Z,{id:o.id,type:"Child",nodeData:C})]})}case"prop":{let L=Object.keys(C).filter(o=>o.startsWith("prop-")).map((o,C)=>({label:o.substr(5),field:o,fieldType:"prop",deleteable:!0})),S=j.data.body.find(o=>"redirect"==o.type),E=null==S?void 0:null===(z=S.params)||void 0===z?void 0:z.port,Z=j.data.body.find(o=>"custom-field"==o.type),P=(0,eg.aP)(j.data.body);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(eu.kz,{id:o.id,params:D.data}),(0,w.jsx)(eu.kz,{id:o.id,params:L.filter(o=>!P.includes(o.field)||!Z).filter(o=>!D.data.find(C=>C.field==o.field)&&o.field!=E)}),D.disableAdd?null:(0,w.jsx)(em.Z,{id:o.id,type:"Prop",nodeData:C})]})}case"custom-field":{let j="Props",L=D.data.reduce((o,C)=>{var w,L,S=null!==(w=C.section)&&void 0!==w?w:j;return o[S]=[...null!==(L=o[S])&&void 0!==L?L:[],C],o},{});var Z,P,N,T,z,F=Object.keys(L);let S=F.indexOf(j);return -1!==S&&(F.splice(S,1),F.push(j)),(0,w.jsx)(w.Fragment,{children:F.map((S,E)=>{let D=S==j?"":S;return(0,w.jsxs)("div",{children:[L[S].map((j,L)=>(0,w.jsx)(eg.ly,{item:j,node:o,nodeData:C},L)),D?(0,w.jsx)("div",{style:{borderBottom:"1px solid "+(0,A.Z)("separatorColor"),margin:"20px 22px"}}):null]},E)})})}}})})};ey.check=(o,C,j)=>{let w;var L=o.type,S=!1;switch(L){case"JsxElement":case"JsxSelfClosingElement":if(j.initialData){var E,D,Z,P=null===(Z=j.body)||void 0===Z?void 0:null===(D=Z.find(o=>"prop"==o.type))||void 0===D?void 0:null===(E=D.props)||void 0===E?void 0:E.map(o=>null==o?void 0:o.field),N=Object.keys(C);S=(null==P?void 0:P.filter(o=>!N.includes(o)).length)==0}else S=!0;w=(o.type==j.type||"JsxSelfClosingElement"==o.type)&&C.name==j.id&&S;break;default:w=o.type==j.type&&new RegExp(j.filter.to).test(C.to);for(let o=0;j.filter.params&&w&&o<j.filter.params.length;o++)w=new RegExp(j.filter.params[o]).test(C["param"+(o+1)])}return w};var eb=ey,eC={CallExpression:eb,JsxElement:eb};let ej={filterCallback:er.HO,restoreCallback:er.Qq,filterCallbackProp:er.J6,restoreCallbackProp:er.Ey},ew=o=>{var C;let j=void 0===(C=Function(o))?void 0:C.call(ej);return j},eL=o=>{var C,j;let w={data:o,id:o.id,type:o.type,check:(j,w)=>(null!==(C=eC[o.type])&&void 0!==C?C:eb).check(j,w,o),getComponent:null!==(j=eC[o.type])&&void 0!==j?j:eb,getInitialData:()=>o.initialData};return o.filterChildren&&(w.filterChildren=ew(o.filterChildren)),o.restoreChildren&&(w.restoreChildren=ew(o.restoreChildren)),w};var ek=eL;let eS=o=>{var C,j,L;let{dataNotify:S=()=>{},disableDots:E=!1,bgColor:N="transparent",onShowCode:W=null,sourceCode:B,onSave:H,onPlay:A,onReload:R,disableStart:J=!1,getFirstNode:$=o=>o.find(o=>o.id&&o.id.startsWith("SourceFile")),customComponents:G=[],hideBaseComponents:U=!1,positions:Y,topics:X,flowId:Q,display:et=!0,enableCommunicationInterface:er,children:eu,showActionsBar:ec=!1,zoomOnDoubleClick:ep=!0,onSelectionChange:ef=()=>{},onEdit:eh=()=>{},config:eg={},themeMode:em="light",theme:ev={},disableMiniMap:ex=!0,bridgeNode:ey=!1,onViewPortChange:eb=()=>{},defaultViewPort:eC={x:100,y:window.innerHeight/4,zoom:.8},path:ej="Start",mode:ew="js",nodePreview:eL="flow",metadata:eS={},defaultSelected:eE=()=>void 0}=o,{data:e_,publish:eD}=X,eZ=(0,D.useContext)(O.p),eP=(0,D.useRef)(null),eN=eZ(o=>o.setError),eT=eZ(o=>o.clearError),ez=eZ(o=>o.setDataNotify),eF=eZ(o=>o.initialEdges),eO=eZ(o=>o.setInitialEdges),eI=eZ(o=>o.initialNodes),eW=eZ(o=>o.setInitialNodes),eB=eZ(o=>o.setSaveStatus),eH=eZ(o=>o.setNodeData),eA=eZ(o=>o.setNodesData),eR=eZ(o=>o.setMetadata),eJ=eZ(o=>o.setCurrentPath),eM=eZ(o=>o.setNodesMetaData),e$=eZ(o=>o.clearNodesData),eK=eZ(o=>o.appendCustomComponents),eV=eZ(o=>o.customComponents),eq=eZ(o=>o.nodeData),eG=eZ(o=>o.menuState),eU=[...G,...null!==(L=null==eg?void 0:null===(C=eg.masks)||void 0===C?void 0:C.map(o=>ek(o)))&&void 0!==L?L:[]].filter(o=>o),eY=(0,D.useMemo)(()=>F.$P,[]),eX=(0,D.useMemo)(()=>({custom:o=>(0,V.Z)(o,ey)}),[]),eQ={nodePreview:eL,flowsHeight:null===(j=eP.current)||void 0===j?void 0:j.offsetHeight},[e0,e1,e2]=(0,M.ui)(eI,eQ),[e5,e4,e3]=(0,M.XD)(eF,eQ),[e6,e7]=(0,D.useState)(!1),[e8,e9]=(0,D.useState)((0,eo.Yg)(eq)),te=(0,D.useCallback)(o=>e4(C=>(0,M.Df)(o,C)),[e4]),tt=async()=>{e$();let{nodes:o,edges:C,nodeDataTable:j}=await to();eA(j),e9((0,eo.Yg)(j)),e1(o),e4(C),eO(C),eW(o)},tl=o=>"json"==ew?"("+o+")":o,ti="json"==ew?"elk":"device"==ew?"device":"code",tn=()=>"json"==ew?["ObjectLiteralExpression","ArrayLiteralExpression"]:["*"],ta="json"==ew?o=>o.find(o=>o.id&&o.id.startsWith("ObjectLiteralExpression")):$,to=async()=>{let o;let C=new ea.IKL({useInMemoryFileSystem:!0,manipulationSettings:{indentationText:ea.xI4.Tab},compilerOptions:{target:ea.H7j.Latest,scriptKind:ea.hVH.TSX,languageVariant:ea.C$L.JSX}}),j=C.createSourceFile("_temp1.tsx",tl(B),{overwrite:!0});if("json"==ew){var w,L;let o=null===(L=j.getStatements()[0])||void 0===L?void 0:null===(w=L.getExpression())||void 0===w?void 0:w.getExpression();o&&(j=o)}let S=(o,C,j,w)=>{if(!C(o))return j(o,w,[]);let L=[];return o.forEachChild(o=>{L=L.concat(S(o,C,j,[]))}),j(o,w,L)},E={},D=[],Z={},N=S(j,C=>{let j=eY[C.getKindName()];if(j){var w;let L=null!==(w=j.type)&&void 0!==w?w:j;if(L.isShadow&&L.isShadow(C,E,ew,D)||o||(o=(0,P.zv)(C)),L.skipTraversal)return!1}return!0},(o,C,j)=>{let w=eY[o.getKindName()];if((null===(N=o.getParent())||void 0===N?void 0:N.getKindName())=="CatchClause"&&"VariableDeclaration"==o.getKindName())return;var L,S=!0;if(w){let j=null!==(z=w.type)&&void 0!==z?z:w;if(j.getData){Z[(0,P.zv)(o)]={};var N,T,z,F,O=j.getData(o,E,Z,D,ew);O={...Z[(0,P.zv)(o)],...O,_astNode:o},Z[(0,P.zv)(o)]=O,E[(0,P.zv)(o)]=O;let C=(0,ei.Z)({type:o.getKindName()},null!==(F=Z[(0,P.zv)(o)])&&void 0!==F?F:{},eU);eH((0,P.zv)(o),O),(null==C?void 0:C.nonDeletable)&&(S=!1)}if((!j.isShadow||!j.isShadow(o,E,ew,D))&&(!j.checkCreate||j.checkCreate(o,E))&&("SourceFile"!=o.getKindName()||!J)){let j=(0,P.dS)([0,0],o.getKindName(),(0,P.zv)(o),null,"SourceFile"!=o.getKindName()&&S,D,Z[(0,P.zv)(o)]);C=C.concat(j),E[(0,P.zv)(o)]={type:"node",value:j[0]}}}E[(0,P.zv)(o)]||(0==o.getChildren().length?E[(0,P.zv)(o)]={type:"data",value:o.getText(),_astNode:o}:E[(0,P.zv)(o)]=o.forEachDescendant(o=>E[(0,P.zv)(o)]));let I=(0,ei.Z)(null===(T=E[(0,P.zv)(o)])||void 0===T?void 0:T.value,null!==(L=Z[(0,P.zv)(o)])&&void 0!==L?L:{},eU),W=(o,C)=>{Z[o]=C};I&&I.filterChildren&&W((0,P.zv)(o),{...Z[(0,P.zv)(o)],_initialNodes:j,_initialEdges:JSON.parse(JSON.stringify(D))});let B=w&&w.type?w.type:w,H=[...C,...I&&I.filterChildren?I.filterChildren(o,j,D,Z,W):j];return B&&B.filterChildren?B.filterChildren(o,H,D,Z,W):H},[]).filter(o=>o),T=N;return eg&&eg.layers&&eg.layers.length&&(T=[...T,...eg.layers.map(o=>{var C;let j="Layer_"+(0,I.O)();return Z[j]=o,(0,P.dS)(null!==(C=o.position)&&void 0!==C?C:[0,0],"Layer",j,{},!1,[],{})[0]})]),{nodes:T,edges:D,nodeDataTable:Z}},tr=o=>e0.reduce((C,j)=>{var w;let L=(0,ei.Z)(j,null!==(w=o[j.id])&&void 0!==w?w:{},eU);if(L&&L.restoreChildren){let w=L.restoreChildren(j,C.nodes,o[j.id]._initialNodes,C.edges,eF,o);return w.nodeData||(w.nodeData=C.nodeData),w}return C},{nodes:e0,edges:e5,nodeData:o}),td=async o=>{var C;let j=tr(Object.assign({},eq));eT();try{C=(0,P.c8)(j.nodes,j.edges,j.nodeData,ta,ew),eO(j.edges),eW(j.nodes);let w=e0.map(o=>({id:o.id,position:o.position}));!o&&H&&(null==e0?void 0:e0.length)&&H(C,w,{nodesData:eq,nodes:e0})}catch(S){let o=S.codeFrame.split("\n").find(o=>o.startsWith("> ")).split("|");o.shift();let C=S.loc.start.column,j=o.join("|").substr(1,C),w=j.lastIndexOf("/* JSFLOWID("),L=j.substring(w+12).split(")")[0];eB("error"),eN(L)}return C},ts=async()=>{try{let o=await td();A&&A(o)}catch(o){console.error(o)}},tu=o=>o.map(o=>{let{draggable:C,height:j,width:w,position:L,selected:S,positionAbsolute:E,dragging:D,data:Z,...P}=o,{layouted:N,...T}=Z||{layouted:1};return{...P,data:T}}),tc=async()=>{await e4([]),await e1([]),R?R():tt()},tp=(o,C)=>{if(er){var j=C.nodeId,w=C.param,L=C.value;try{L=JSON.parse(L)}catch(o){}switch(o){case"delete-node":let O=C,I=O.map(o=>o.id),W=e5.find(o=>I.includes(o.source));S=null==W?void 0:W.target;let B=W?null===(D=e0.find(o=>o.id==W.source))||void 0===D?void 0:D.type:null===(Z=O.find(o=>o.id==I[0]))||void 0===Z?void 0:Z.type;if(E={action:"delete-node",nodesToDelete:I,deletedNodeType:B},"JsxElement"==B){let o=W?Number(W.targetHandle.split("child-")[1]):null;if(eq[S]){let{data:C}=(0,eo.ap)(eq[S],o);eA({...eq,[S]:C})}}eD("flow/editor",E);break;case"delete-data":E={action:"delete-data",nodeId:j,param:w},eD("flow/editor",E);break;case"add-node":let H=C.newEdge,A=C.initialData,R=null==A?void 0:A.name,J=null===(N=C.node)||void 0===N?void 0:N.type;j=C.node.id,S=H.target,w=H.targetHandle.split(S+"-")[1];let M={...eq,[j]:{...A}};E={...E,action:"add-node",nodeId:j,type:J,nodeName:R,parent:S};let $=(0,eo.wo)(e0,e5.concat(H),M,j,J);if("JsxElement"==J){let o=(null==w?void 0:w.startsWith("child"))?Number(w.split("child-")[1]):void 0;E={...E,childrenPos:o-1},eA(M={...M,[S]:{...M[S],["child-"+o]:$}})}else{let o,C,j=H.targetHandle.split(S)[1],w=j.slice(0,1),L=j.slice(1),F=M[S];if(w==P.LL.flow){let j=null===(T=F._fallBack)||void 0===T?void 0:T.find(o=>o.fallbackPort==L&&o.portType==w),P=(null==j?void 0:j.preText)+$+(null==j?void 0:j.postText);var S,E,D,Z,N,T,z=P.indexOf("=");if(-1===z)return;o=P.substring(0,z).trim(),C=P.substring(z+1).trim()}else if(w==P.LL.data){let j=F[L];o=null==j?void 0:j.key,C=$}E={...E,data:{isAncestorJsxElement:!0,key:o,value:C}}}eD("flow/editor",E);break;case"add-data":var F=!!C.isProp;E={action:"add-data",nodeId:j,param:w,value:L,isProp:F},eD("flow/editor",E);break;case"edit-data":E={action:"edit-data",nodeId:j,param:w,value:L,deleteKey:C.deleteKey},eD("flow/editor",E);break;default:console.error("Communication sender error. Invalid action ".concat(o))}}},tf=o=>{if(o)return o.startsWith("prop-")?o.split("prop-")[1]:o.startsWith("child-")?"children":o},th=o=>{let C=e5.find(C=>C.targetHandle==o);return C},tg=()=>{if(!er)return;let o=(0,eo.Yg)(eq);if(!Object.keys(e8).length)return;let C=T().diff(e8,o);if(C&&!(C.length>1)){if(C.find(o=>"E"==o.kind)){var j,w,L,S;let o,E;let D=C.find(o=>"E"==o.kind),Z=D.path[0];if(!e8[Z])return;let N=Z+P.LL.data+D.path[1];if(th(N))return;let T=null===(j=e0.find(o=>o.id==Z))||void 0===j?void 0:j.type,z={nodeId:Z};if("JsxElement"==T||"JsxSelfClosingElement"==T){let C;if("key"==D.path[2]){E=D.rhs;let j=D.lhs,L=D.path[1];o=null===(w=eq[Z][L])||void 0===w?void 0:w.value,C=!0,z={...z,deleteKey:j}}else{if(E=tf(D.path[1]),void 0==(o=D.rhs)||!E||"object"==typeof o||"kind"==D.path[2])return;(C=!E.includes("child"))&&(E=null!==(S=null===(L=eq[Z]["prop-"+E])||void 0===L?void 0:L.key)&&void 0!==S?S:E)}z={...z,param:E,value:o,isProp:C}}else{let o=(0,eo.U7)(Z,e5);if(o){E=o.split("-")[2],Z=o.split("-")[0];let C=o.split("_")[0],j=(0,eo.Nb)(e0,e5,eq,Z,C,E);z={...z,nodeId:Z,param:E,value:j,isProp:!0}}}tp("edit-data",z)}else if(C.find(o=>"N"==o.kind)){let o;let j=C.find(o=>"N"==o.kind),w=j.path[0];if(!e8[w])return;let L=null===(E=e0.find(o=>o.id==w))||void 0===E?void 0:E.type,S=j.path[1];if("JsxElement"==L||"JsxSelfClosingElement"==L){let C=j.rhs;"object"==typeof C&&(S=S.split("-")[0]+"-"+C.key,C=C.value),S=tf(S);let L=w+P.LL.data+j.path[1];if(th(L)||void 0==C||!S)return;let E=!S.includes("child");o={nodeId:w,param:S,value:C,isProp:E}}else{let C=(0,eo.U7)(w,e5);var E,D=null==C?void 0:C.indexOf("-");if(-1===D||!C)return;let j=C.slice(D+1),L=C.split("-")[0],S=C.split("_")[0],Z=eq[L],P=Z[j].key,N=(0,eo.Nb)(e0,e5,eq,L,S,P);o={nodeId:L,param:P,value:N,isProp:!0}}tp("add-data",o)}else if(C.find(o=>"D"==o.kind)){let o=C.find(o=>"D"==o.kind),j=o.path[0],w=o.lhs.key;tp("delete-data",{nodeId:j,param:w})}}},tm=o=>{var C;let j=null===(C=o[0])||void 0===C?void 0:C.type,w=["ObjectLiteralExpression","ArrowFunction","CallExpression"].includes(j)||o.length<=1;if(!o||!o.length||w)return B;let L=o[0];if(!L)return B;let S=F.$P[L.type];S.type&&(S=S.type);let E=S.dump(L,e0,e5,eq);return(0,P.jE)(E,ew)},tv=async()=>{try{let o=await td(!0);void 0!==o?eh(o):console.error("There was an error in the code, not emitting")}catch(o){}};if((0,D.useEffect)(()=>{let o=z(tu(eF),tu(e5)),C=z(tu(eI),tu(e0)),j=e0.filter(o=>{var C;return o.id!=(null===(C=$(e0))||void 0===C?void 0:C.id)&&!e5.find(C=>C.source==o.id)&&!o.draggable});j.length&&e1(e0.map(o=>j.find(C=>C.id==o.id)?{...o,draggable:!0}:o));let w=e0.filter(o=>{var C;return o.id!=(null===(C=$(e0))||void 0===C?void 0:C.id)&&e5.find(C=>C.source==o.id)&&o.draggable});w.length&&e1(e0.map(o=>w.find(C=>C.id==o.id)?{...o,draggable:!1}:o)),C&&C.length||o&&o.length?(o&&!C&&(ee(ti,e0,e5,e1,e4,ta,eM,eq),eO(e5)),ec||tv(),e7(!0)):e7(!1),eB(null)},[e0,e5]),(0,D.useEffect)(()=>{ez(S)},[S]),(0,D.useEffect)(()=>{var o;(null===(o=e_[Q+"/play"])||void 0===o?void 0:o.ts)&&ts()},[e_[Q+"/play"]]),(0,D.useEffect)(()=>{eJ(ej)},[ej]),er){let o={edges:e5,nodeData:eq,nodes:e0,setEdges:e4,createNode:P.dS,setNodeData:eH,setNodes:e1,setNodesData:eA,deleteNodes:eo._l,onSaveNodes:td,_customComponents:eU,flowId:Q,data:e_};er(o)}return(0,D.useEffect)(()=>{eU.length!=eV.length&&eK(eU),eR(eS)},[eU.length]),(0,D.useEffect)(()=>{B&&tt()},[B]),(0,D.useEffect)(()=>{let o=(0,eo.Yg)(eq),C=z(e8,o);(null==C?void 0:C.length)&&(e7(!0),tg(),e9(o),e0.length&&!ec&&tv())},[eq]),(0,D.useEffect)(()=>{e0&&e0.length&&e0.filter(o=>o.width&&o.height).length==e0.length&&ee(ti,e0,e5,e1,e4,ta,eM,eq)},[e0.reduce((o,C)=>o+=C.id+" "+(C.width&&C.height?"1":"0")+",","")]),(0,w.jsx)("div",{ref:eP,style:{height:"100%",width:"100%"},children:et?(0,w.jsxs)(en.Z,{defaultSelected:eE,onViewPortChange:eb,defaultViewPort:eC,themeMode:em,onSelectionChange:o=>ef(tm(o),o),nodeTypes:eY,nodes:e0,edges:e5,zoomOnDoubleClick:ep,onNodesChange:e2,onEdgesChange:e3,onNodesDelete:o=>tp("delete-node",o),onConnect:te,edgeTypes:eX,onInit:()=>{},style:{backgroundColor:N},nodePreview:eL,componentsMenu:"closed"!=eG?(0,w.jsx)(K,{enabledNodes:tn(),onEditDiagram:async(o,C,j)=>{e1(o),e4(C)},edges:e5,diagramNodes:e0,setNodes:e1,setEdges:e4,setNodeData:eH,nodeData:eq,style:{position:"absolute",top:"0px",left:"0px"},hideBaseComponents:U,customComponents:eU,onAddNode:(o,C,j)=>tp("add-node",{node:o,newEdge:C,initialData:j})}):(0,w.jsx)(w.Fragment,{}),disableDots:E,disableMiniMap:ex,theme:ev,children:[eu,ec?(0,w.jsx)(Z.s_,{position:"top-center",children:(0,w.jsx)(el,{getFirstNode:ta,layout:ti,onSave:td,onReload:R?tc:null,onShowCode:W||null,hasChanges:e6})}):null]}):(0,w.jsx)(w.Fragment,{})})},eE=o=>{let C=(0,D.useMemo)(O.g,[]);return(0,w.jsx)(O.p.Provider,{value:C,children:(0,w.jsx)(e_,{children:(0,w.jsx)(eS,{...o})})})},e_=o=>{let{children:C}=o,[j,D]=(0,L.U)();return(0,w.jsx)(S.G,{onChangeTheme:o=>{D(o)},children:(0,w.jsx)(E.z,{disableRootThemeClass:!0,defaultTheme:j,children:C})})};var eD=o=>{let C=(0,W.Ic)(eE,{topics:[o.flowId+"/play",o.flowId+"/ui","savenodes"]});return o.path&&(o.path.endsWith(".json")?o.mode="json":(o.path.endsWith("yml")||o.path.endsWith("yaml"))&&(o.mode="yaml")),(0,w.jsx)(W.US,{children:(0,w.jsx)(C,{...o})})};let eZ=o=>(0,W.Ic)(eE,{topics:[o+"/play",o+"/ui","savenodes"]})},30690:function(o,C,j){"use strict";j.d(C,{FW:function(){return ee},IS:function(){return ea},_t:function(){return er},kz:function(){return eo},sS:function(){return et}});var w=j(52322),L=j(2784),S=j(10729),E=j(41447),D=j(94533),Z=j(52422),P=j(43134),N=j(64920),T=j(50902),z=j(59336),F=j(53600),O=j(64509),I=j(45823),W=j(77044),B=j(6226),H=j(72405),A=j(57451),R=j(33248),J=j(60884),M=j(88724),$=j(11001),K=j(13153),V=j(63044),G=j(95602),U=j(86486),Y=j(43911),X=j(33361),Q=j(69685);let ee=(o,C,j)=>j.find(j=>j.targetHandle=="".concat(o).concat(P.LL.data).concat(C)),et=55,el=o=>{let{id:C,left:j=!1,field:S}=o,E=(0,L.useContext)(I.p),D=E(o=>o.deletePropNodeData),Z=()=>{D(C,S)};return(0,w.jsx)("div",{id:"deleteButton-"+C+S,style:{display:"flex",alignSelf:"center",cursor:"pointer"},onClick:Z,children:(0,w.jsx)(M.Z,{size:(0,H.Z)("nodeFontSize"),color:(0,H.Z)("colorError"),style:{marginRight:j?"7px":"2px"}})})},ei=o=>{let{id:C,disabled:j,post:S=o=>o,pre:D=o=>o,onBlur:Z,field:P,children:N,style:T={},editing:z=!1}=o,F=(0,L.useContext)(I.p),O=F(o=>o.setNodeData),{setNodes:W}=(0,X.vM)(),B=F(o=>null!==(R=o.nodeData[C])&&void 0!==R?R:{}),A=F(o=>o.dataNotify);var R,J=D(B[P]);let[M,$]=L.useState(J),K=(0,H.Z)("nodeFontSize"),V=L.useRef();L.useEffect(()=>{if(V.current&&z){var o;null===(o=V.current)||void 0===o||o.focus()}},[z]);let G=o=>{A({...o,notifyId:B._dataNotifyId})};(0,L.useEffect)(()=>{$(J)},[B[P]]);let U=()=>{W(o=>{let j=[...o];j=j.map(o=>(o.hasOwnProperty("selected")&&delete o.selected,o));let w=j.findIndex(o=>o.id==C);return j[w]={...j[w],selected:!0},j})},Y=()=>{j||(O(C,{...B,[P]:(0,Q.Jf)(S(M),P,B)}),G({id:C,paramField:P,newValue:M})),Z&&Z(M)};return(0,w.jsx)("div",{className:"nodrag",style:{flex:1},children:(0,w.jsxs)("div",{style:{flex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,w.jsx)(E.Z,{ref:V,onFocus:U,onBlur:Y,readOnly:j,style:{fontSize:K+"px",fontWeight:"medium",...T},value:M,placeholder:"default",onChange:o=>$(o.target.value)}),N]})})},en=o=>{var C;let{id:j,param:E,index:Z=0,portId:N=null,editing:O=!1,onRequestEdit:A=o=>{},onCancelEdit:R=()=>{}}=o,M=(0,L.useContext)(I.p),ee=M(o=>o.setNodeData),et=M(o=>o.dataNotify);M(o=>o.deletePropNodeData);let en=M(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),ea=(0,X.yt)(),eo=ea.find(o=>o.targetHandle=="".concat(j).concat(P.LL.data).concat(E.field)),eu="child"==E.fieldType,ec="parameter"==E.fieldType,ep="prop"==E.fieldType,ef=L.useRef(),eh=L.useRef(),eg=E.pre?E.pre:o=>o,em=E.post?E.post:o=>o,ev=E.keyPre?E.keyPre:o=>o,ex=E.keyPost?E.keyPost:o=>o,ey=o=>{et({...o,notifyId:en._dataNotifyId})},eb=o=>{var C,S,Z,P,N,F,O,I,W,A,R,M,X,et,el;switch(E.type){case"selectWithDefault":let ea=o=>{ee(j,{...en,[E.field]:(0,Q.Jf)(null==o?void 0:o.value,E.field,en)}),ey({id:j,paramField:E.field,newValue:null==o?void 0:o.value})},eo=null===(C=E.data)||void 0===C?void 0:C.map((o,C)=>{var j=(null==o?void 0:o.color)?{color:o.color}:{};return{label:null!=o?o:"default",value:o,...j}});return(0,w.jsx)("div",{style:{flex:1,zIndex:1e3},children:(0,w.jsx)(J.Z,{onChange:ea,defaultValue:{value:E.data[E.selectedIndex],label:E.data[E.selectedIndex]},options:eo})});case"select":let er=o=>{ee(j,{...en,[E.field]:(0,Q.Jf)(null==o?void 0:o.value,E.field,en)}),ey({id:j,paramField:E.field,newValue:null==o?void 0:o.value})},eu=null===(S=E.data)||void 0===S?void 0:S.map((o,C)=>{var j=(null==o?void 0:o.color)?{color:o.color}:{};return{label:null!=o?o:"default",value:o,...j}});return(0,w.jsx)("div",{style:{flex:1,zIndex:1e3},children:(0,w.jsx)(J.Z,{onChange:er,defaultValue:{value:(0,Q.oe)(E.field,en),label:(0,Q.oe)(E.field,en)},options:eu})});case"select-multi":let eh=o=>{let C=o.map(o=>o.value.replace(/"/g,""));ee(j,{...en,dataValues:C}),ey({id:j,paramField:E.field,newValue:C})},ev=(0,H.Z)("inputBorder"),ex=(0,H.Z)("textColor"),eb={control:(o,C)=>({...o,backgroundColor:(0,H.Z)("inputBackgroundColor"),borderColor:C.isSelected?ev:"transparent",textColor:ex,width:"fit-content"}),singleValue:(o,C)=>{let{data:j}=C;return{...o,fontSize:"12px",minWidth:"95px",textAlign:"left",color:ex}},menu:o=>({...o,color:ex,backgroundColor:(0,H.Z)("inputBackgroundColor")})},eC=null===(Z=E.data)||void 0===Z?void 0:Z.map((o,C)=>{var j=o.color?{color:o.color}:{};return{label:o,value:o,...j}}),ej=o=>T.c.DropdownIndicator&&(0,w.jsxs)(T.c.DropdownIndicator,{...o,children:[" ",(0,w.jsx)($.Z,{size:"15px"})," "]});return(0,w.jsx)("div",{style:{zIndex:1e3},children:(0,w.jsx)(z.ZP,{components:{DropdownIndicatorMulti:ej},menuPlacement:"top",onChange:eh,className:"nodrag",options:eC,styles:eb,isMulti:!0})});case"colorPicker":let ew=en[E.field]?eg(en[E.field]):"#404040",[eS,eE]=L.useState(!1);return(0,w.jsxs)("div",{style:{cursor:"pointer"},children:[(0,w.jsx)("div",{style:{width:"36px",height:"36px",backgroundColor:ew,border:eS?ek+" solid "+eL:"1px #cccccc solid",borderRadius:5},onClick:()=>{eE(!eS)}}),(0,w.jsx)("div",{style:{cursor:"pointer",position:"absolute",zIndex:1100},children:eS?(0,w.jsx)(B.xS,{className:"nodrag",color:ew,onChangeComplete:o=>{ey({id:j,paramField:E.field,newValue:{r:o.rgb.r,g:o.rgb.g,b:o.rgb.b,a:o.rgb.a}}),ee(j,{...en,[E.field]:(0,Q.Jf)(o.hex,E.field,en)})}}):null})]});case"range":let eD=(null===(P=E.data)||void 0===P?void 0:P.min)?E.data.min:0,eZ=(null===(N=E.data)||void 0===N?void 0:N.max)?E.data.max:100,eP=null===(F=E.data)||void 0===F?void 0:F.step,eN=null===(O=E.data)||void 0===O?void 0:O.defaultValue,eT=null!==(A=null!==(W=null===(I=en[E.field])||void 0===I?void 0:I.value)&&void 0!==W?W:en[E.field])&&void 0!==A?A:null!=eN?eN:eD,[ez,eF]=L.useState(eg(eT));return(0,w.jsxs)(w.Fragment,{children:[E.hideLabel?null:(0,w.jsx)("div",{style:{fontSize:"14px",position:"relative",top:"3px",width:18*eZ.toString().length,textAlign:"left"},children:em(ez)}),(0,w.jsx)("input",{type:"range",style:{width:"100%",marginTop:"6px",accentColor:(0,H.Z)("interactiveColor"),height:"5px",borderWidth:"4px solid blue",backgroundColor:(0,H.Z)("inputBackgroundColor"),borderRadius:"10px"},step:eP,onChange:o=>eF(o.target.value),onMouseUp:()=>{ey({id:j,paramField:E.field,newValue:ez}),ee(j,{...en,[E.field]:(0,Q.Jf)(em(ez),E.field,en)})},value:ez,min:eD,max:eZ})]});case"boolean":let eO=o=>"string"==typeof o||o instanceof String?"true"==o:o,[eI,eW]=L.useState(eO(en[E.field]));return(0,w.jsx)("span",{ref:ef,children:(0,w.jsx)("input",{type:"checkbox",onChange:()=>{ey({id:j,paramField:E.field,newValue:!eI}),ee(j,{...en,[E.field]:(0,Q.Jf)(!eI,E.field,en)}),eW(!eI)},checked:!!eI,style:{all:"revert",width:e_,margin:"2px 0px 2px 0px",accentColor:(0,H.Z)("interactiveColor"),transform:"scale(".concat((0,H.Z)("nodeFontSize")/15,")"),marginRight:"5px"}})});default:let eB=null===(R=en[E.field])||void 0===R?void 0:R.kind,eH={StringLiteral:K.Z,NumericLiteral:V.Z,TrueKeyword:G.Z,ObjectLiteralExpression:U.Z,FalseKeyword:G.Z};return(0,w.jsxs)(w.Fragment,{children:[eB&&eH[eB]?(0,w.jsx)("div",{style:{padding:"8px",justifyContent:"center",position:"absolute",zIndex:100,cursor:"pointer"},onClick:()=>{ee(j,{...en,[E.field]:{...en[E.field],kind:Object.keys(eH)[(Object.keys(eH).indexOf(eB)+1)%(Object.keys(eH).length-1)]}})},children:L.createElement(eH[eB],{size:16,color:(0,H.Z)("interactiveColor")})}):(0,w.jsx)(w.Fragment,{}),(0,w.jsx)(ei,{id:j,post:o=>{var C;return ec||ep?{...en[E.field],key:null!==(X=null===(C=en[E.field])||void 0===C?void 0:C.key)&&void 0!==X?X:E.label,value:em(o)}:em(o)},pre:o=>null!==(el=null!==(et=null==o?void 0:o.value)&&void 0!==et?et:o)&&void 0!==el?el:"",options:null===(M=E.data)||void 0===M?void 0:M.options,field:E.field,onBlur:E.onBlur,disabled:o||E.isDisabled,style:{marginRight:["case","child"].includes(E.fieldType)?"20px":"0px",paddingLeft:eB&&eH[eB]?"30px":void 0},children:E.error?(0,w.jsxs)("div",{style:{alignItems:"center",marginTop:"5px",display:"flex"},children:[(0,w.jsx)(Y.Z,{size:"14px",color:"red",style:{alignSelf:"center",marginRight:"5px"}}),(0,w.jsx)(D.Z,{style:{color:"red",fontSize:"12px"},children:E.error})," "]}):null})]})}},eC=()=>{var o,C,L,S;let Z=null!==(o=null==E?void 0:E.label)&&void 0!==o?o:E.field;return(ec||ep)&&!E.static&&!E.staticLabel&&(Z=ev(null!==(L=null===(C=en[E.field])||void 0===C?void 0:C.key)&&void 0!==L?L:""),O)?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(ei,{editing:O,id:j,post:o=>{var C,j;return{key:ex(o),value:null!==(j=null===(C=en[E.field])||void 0===C?void 0:C.value)&&void 0!==j?j:""}},pre:()=>{var o;return ev(null!==(S=null===(o=en[E.field])||void 0===o?void 0:o.key)&&void 0!==S?S:"")},field:E.field,onBlur:o=>{o&&R()},style:{marginRight:"16px"}})}):(0,w.jsx)(D.Z,{adaptiveSize:!0,onClick:()=>{(ec||ep)&&A(E)},style:{marginRight:"12px",textAlign:"left",whiteSpace:"nowrap",cursor:"pointer"},children:null!=Z?Z:" "})},ej="default"==E.field,ew="call"==E.fieldType||"clause"==E.fieldType,eL=(0,H.Z)("borderColor"),ek=(0,H.Z)("borderWidth"),eS=(0,H.Z)("handleBorderColor");(0,H.Z)("dataOutputColor");let eE=(0,H.Z)("dataPort"),e_=(0,H.Z)("nodeFontSize"),eD=L.useRef();return(0,w.jsxs)("div",{style:{alignItems:"stretch",flexBasis:"auto",flexShrink:0,listStyle:"none",position:"relative",display:"flex",zIndex:"select"==E.type||"colorPicker"==E.type?1100:0,flexDirection:"column"},children:[ej?null:(0,w.jsxs)("div",{ref:eD,style:{flex:1,fontSize:e_+"px",padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row",alignItems:"stretch"},children:[(0,w.jsxs)("div",{className:"handleKey",ref:eh,style:{display:"flex",flexDirection:"row",alignItems:"center",flex:2},children:[(null==E?void 0:E.deleteable)&&eu?(0,w.jsx)(el,{id:j,left:!0,field:E.field}):null,eC()]}),(0,w.jsxs)("div",{className:"handleValue",title:E.description,style:{minWidth:"180px",marginRight:"10px",display:"flex",flexDirection:"row",justifyContent:"boolean"==E.type?"flex-end":"",alignItems:"center",flex:3},children:[eb(eo),(null==E?void 0:E.deleteable)&&!eu?(0,w.jsx)(el,{id:j,field:E.field}):null]})]}),E.additionalHandlePort?(0,w.jsx)(F.iU,{type:"target",style:{top:"16px"},position:"RIGHT"==W.Hd?S.Ly.Left:S.Ly.Right,id:"".concat(null!=N?N:j).concat(P.LL.data).concat(E.field).concat(P.LL.data).concat(E.additionalHandlePort),allowedTypes:["data"]}):null,E.static||ew?null:(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(F.iU,{position:"RIGHT"==W.Hd?S.Ly.Left:S.Ly.Right,id:"".concat(null!=N?N:j).concat(P.LL.data).concat(E.field),label:"",nodeId:j,type:"target",style:{marginTop:E.additionalHandlePort?"14px":""},allowedTypes:["data"]})}),"error"==E.type?(0,w.jsx)(S.HH,{type:"source",title:W.te?"".concat(null!=N?N:j).concat(P.LL.data).concat(E.field):void 0,style:{width:"15px",height:"15px",backgroundColor:eE,marginRight:"-4px",border:ek+"solid "+eS},position:"RIGHT"==W.Hd?S.Ly.Left:S.Ly.Right,id:"".concat(null!=N?N:j).concat(P.LL.data).concat(E.field)}):null,"clause"==E.fieldType?(0,w.jsx)(er,{id:"".concat(null!=N?N:j).concat(P.LL.flow).concat(E.field),type:"output",style:{top:"26px"},label:ej?"Default":void 0,isConnected:!!eo}):null,"call"==E.fieldType?(0,w.jsx)(er,{id:j,handleId:"call",type:"input",style:{top:"26px"},isConnected:!!ea.find(o=>o.targetHandle=="".concat(j).concat(P.LL.flow).concat(E.field))}):null]})},ea=o=>{let{id:C,param:j,position:E=null,style:Z={},isConnected:N=!1,dataOutput:T=A.f.data}=o,{getEdges:z}=(0,X.vM)(),O=(0,F.SY)(z(),"".concat(C).concat(P.LL.data,"output")),B=T==A.f.data?(0,H.Z)("dataPort"):T==A.f.block?(0,H.Z)("blockPort"):(0,H.Z)("flowPort"),J=(0,L.useContext)(I.p),M=J(o=>o.flowInstance),$=(0,H.Z)("portSize"),K=(0,H.Z)("nodeBorderColor"),V=(0,H.Z)("nodeBorderWidth");return(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"column",zIndex:222},children:[j.label?(0,w.jsx)("div",{style:{padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row"},children:(0,w.jsx)(D.Z,{style:{marginRight:"12px"},children:j.label})}):null,(0,w.jsx)(S.HH,{type:"source",style:{marginLeft:-$/4,width:$+"px",height:$+"px",backgroundColor:B,top:$/2+10,border:V+" solid "+K,...Z},position:null!=E?E:"LEFT"==W.Hd?S.Ly.Left:S.Ly.Right,title:W.te?"".concat(C).concat(P.LL.data,"output"):void 0,id:"".concat(C).concat(P.LL.data,"output"),isConnectable:!O,isValidConnection:o=>{let C=(0,R.i)(M,o.targetHandle,[]);if(-1==C.indexOf(T))return!1;let j=(0,F.SY)(z(),o.targetHandle);return!j}})]})},eo=o=>{let{mode:C="column",id:j,params:S,boxStyle:E={},children:D=null,portId:Z=null}=o,[P,N]=L.useState(""),[T,z]=L.useState(null);return(0,L.useEffect)(()=>{if((!P||S)&&S.length&&S.find(o=>o.field==P)||N(""),null!==T){let o=S.find(o=>!T.includes(o.field));o&&N(o.field)}z(S.map(o=>o.field))},[S]),(0,w.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:C,...E},children:[S.map((o,C)=>(0,w.jsx)(en,{onCancelEdit:()=>N(""),editing:o.field==P,onRequestEdit:o=>P?null:N(o.field),id:j,param:o,index:C,portId:Z},C)),D]})},er=o=>{let{id:C,type:j,style:L,handleId:E,label:D,isConnected:Z=!1,position:N=null,allowedTypes:T=["block","data","flow"]}=o,z=null!=N?N:"RIGHT"==W.Hd?S.Ly.Left:S.Ly.Right;return(0,w.jsx)(F.iU,{position:z,id:"".concat(C).concat(P.LL.flow).concat(null!=E?E:j),type:j,style:{...L,marginLeft:z==S.Ly.Left?-4:0},label:D,isConnected:Z,nodeId:C,allowedTypes:T})},eu=o=>{var C,j,S,E;let{adaptiveTitleSize:D=!0,modeParams:P="column",mode:T="column",draggable:z=!0,icon:O=null,container:B=!1,title:H="",children:R,isPreview:J=!1,id:M,params:$=[],output:K={label:"",field:"value",type:"output"},color:V=Z.TT.defaultColor,node:G,skipCustom:U=!1,topics:Y,style:Q={},dataOutput:ee=A.f.data,contentStyle:et={}}=o,el=(0,L.useContext)(I.p),ei=el(o=>null!==(j=o.nodeData[M])&&void 0!==j?j:{}),en=el(o=>o.customComponents),er=(0,X.yt)();(0,F.S5)(er,M);let eu=L.useRef(),ec=()=>{if(eu.current){let o=eu.current.querySelectorAll(".handleKey"),C=0;o.forEach(o=>{var j;let w=null===(j=o.firstElementChild)||void 0===j?void 0:j.offsetWidth;w>C&&(C=w)}),o.forEach(o=>{o.style.width=C+15+"px"})}};if((0,L.useEffect)(()=>ec(),[]),!U){let o=(0,N.Z)(G,ei,en),C=null==o?void 0:o.getComponent(G,ei,Y,o);if(C)return C}let ep=!1;for(let o in R)(null===(E=R[o])||void 0===E?void 0:null===(S=E.type)||void 0===S?void 0:S.name)=="HandleOutput"&&(ep=!0);let ef={};return M||(ef.minWidth="200px"),G&&G.data&&G.data.width&&(ef.minWidth=G.data.width+"px"),G&&G.data&&G.data.height&&(ef.minHeight=G.data.height+"px"),!G.id||(null==ei?void 0:null===(C=ei._metadata)||void 0===C?void 0:C.layouted)||(ef.opacity="0"),(0,w.jsx)(F.ZP,{adaptiveTitleSize:D,mode:T,contentStyle:et,draggable:z,icon:O,container:B,title:H,isPreview:J,id:M,color:V,node:G,style:{...Q,...ef},headerContent:(0,w.jsx)(w.Fragment,{children:ep||J||!K?null:(0,w.jsx)(ea,{id:M,param:K,dataOutput:ee})}),children:(0,w.jsxs)("div",{ref:eu,children:[W.te?(0,w.jsx)("div",{children:M}):null,!J&&$?(0,w.jsx)(eo,{mode:P,id:M,params:$}):null,J?null:R]})})};C.ZP=(0,O.Ic)(eu)},12041:function(o,C,j){"use strict";j.d(C,{Z:function(){return M}});var w=j(52322),L=j(2784),S=j(10729),E=j(70283),D=j(17736),Z=j(45823),P=j(33361);let N={maxHistorySize:100,enableShortcuts:!1},T=function(){let{maxHistorySize:o=N.maxHistorySize,enableShortcuts:C=N.enableShortcuts}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,j=(0,L.useContext)(Z.p),w=j(o=>o.nodeData),S=j(o=>o.setNodesData),[E,D]=(0,L.useState)([]),[T,z]=(0,L.useState)([]),{setNodes:F,setEdges:O,getNodes:I,getEdges:W,deleteElements:B}=(0,P.vM)(),H=(0,L.useCallback)(C=>{D(j=>[...j.slice(j.length-o+1,j.length),{nodes:I(),edges:W(),nodeData:C||w}]),z([])},[I,W,o]),A=async o=>{var C,j,w,L,S=null!==(w=null===(C=E[E.length-1])||void 0===C?void 0:C.nodeData)&&void 0!==w?w:{},D=null!==(L=null===(j=T[T.length-1])||void 0===j?void 0:j.nodeData)&&void 0!==L?L:{};if((Object.keys(S).length||"undo"!=o)&&(Object.keys(D).length||"redo"!=o))return await F([])},R=(0,L.useCallback)(()=>{let o=E[E.length-1];o&&(D(o=>o.slice(0,o.length-1)),z(o=>[...o,{nodes:I(),edges:W(),nodeData:w}]),F(o.nodes),O(o.edges),Object.keys(o.nodeData).length&&S(o.nodeData))},[F,O,I,W,E,S]),J=(0,L.useCallback)(()=>{let o=T[T.length-1];o&&(z(o=>o.slice(0,o.length-1)),D(o=>[...o,{nodes:I(),edges:W(),nodeData:w}]),F(o.nodes),O(o.edges),Object.keys(o.nodeData).length&&S(o.nodeData))},[F,O,I,W,T,S]);return{undo:R,redo:J,takeSnapshot:H,canUndo:!E.length,canRedo:!T.length,clearNodes:A}};var z=T,F=j(45054),O=o=>{let{onSelectionChange:C}=o;return(0,S.AQ)({onChange:o=>{let{nodes:j,edges:w}=o;return C(j,w)}}),(0,w.jsx)(w.Fragment,{})},I=j(92467),W=j(15729);let B=(0,I.Z)(o=>({zoom:0,setZoom:C=>o((0,W.ZP)(o=>{o.zoom=C}))}));var H=o=>{let{zoom:C}=o;try{B(o=>o.setZoom),(0,S.oR)(o=>o.transform[2])}catch(o){console.error(o)}return(0,w.jsx)(w.Fragment,{})},A=j(64509);let R=L.forwardRef((o,C)=>{var j,N;let{componentsMenu:T=(0,w.jsx)(w.Fragment,{}),disableMiniMap:I=!1,disableDots:W=!1,zoomOnDoubleClick:B=!0,edgeTypes:A=[],nodeTypes:R=[],edges:J=[],nodes:M=[],onInit:$=o=>{},onNodesChange:K=()=>{},onEdgesChange:V=()=>{},onConnect:G=()=>{},style:U={},onSelectionChange:Y=()=>{},onNodeClick:X=()=>{},onNodesDelete:Q,children:ee=null,topics:et,themeMode:el="light",theme:ei={},defaultViewPort:en={x:100,y:window.innerHeight/4,zoom:.8},onViewPortChange:ea=()=>{},nodePreview:eo="flow",defaultSelected:er=()=>void 0}=o,eu=(0,L.useRef)(null),ec=(null===(N=eu.current)||void 0===N?void 0:null===(j=N.getBoundingClientRect())||void 0===j?void 0:j.height)>0,ep=(0,L.useContext)(Z.p),ef=ep(o=>o.nodeData),eh=ep(o=>o.setTemeMode),[eg,em]=(0,L.useState)([]),{project:ev,setViewport:ex,getNodes:ey,getViewport:eb,setCenter:eC,setEdges:ej,getEdges:ew,setNodes:eL}=(0,P.vM)(),{undo:ek,redo:eS,takeSnapshot:eE,clearNodes:e_}=z(),eD=(0,L.useRef)(null),eZ=ep(o=>o.setMenu),eP=ep(o=>o.setNodeData),[eN,eT]=(0,L.useState)([]),{data:ez,publish:eF}=et,eO="preview"===eo,eI=(0,L.useCallback)(o=>{o.preventDefault(),o.dataTransfer.dropEffect="move"},[]),eW=(0,L.useCallback)(()=>{eE()},[eE]),eB=(0,L.useCallback)(()=>{eE()},[eE]),eH=(0,L.useCallback)(o=>{Q(o),eE()},[eE,eF]),eA=o=>{o.forEach(o=>{let C=o.target,j=ef[C],w=o.targetHandle.replace(C,"").slice(1),L=R[C.split("_")[0]];L.type&&(L=L.type),w&&(L.onDeleteConnection?eP(C,L.onDeleteConnection(j,w)):eP(C,{...j,[w]:""}))})},eR=(0,L.useCallback)(o=>{eA(o),eE()},[eE,ef]),eJ=o=>{eE(),G(o)},eM=(0,L.useCallback)((o,C)=>{eD.current=C},[]),e$=(0,L.useCallback)(o=>{var C;let j=o.target.classList.contains("react-flow__pane");j&&(null===(C=eD.current)||void 0===C?void 0:C.handleType)=="target"&&eZ("open",[o.clientX,o.clientY],{target:eD.current.nodeId,targetHandle:eD.current.handleId})},[ev]),eK=()=>{ej(o=>o.map(o=>({...o,hidden:!1}))),eL(o=>o.map(o=>({...o,hidden:!1})))},eV=o=>{let C=[o],j=ew().filter(C=>C.target==o);return j.length&&j.forEach(o=>{C=C.concat(...eV(o.source))}),C},eq=o=>{let C=eV(o);ej(o=>o.map(o=>({...o,hidden:!C.includes(o.target)}))),eL(o=>o.map(o=>({...o,hidden:!C.includes(o.id)})))},eG=o=>{o&&(ej(o=>o.map(o=>({...o,hidden:!0}))),eL(C=>C.map(C=>({...C,hidden:C.id!=o}))))},eU=(0,L.useCallback)(o=>{setTimeout(()=>{var C,j,w;let L=ey().find((C,j)=>(w=j,C.id==o));if(!L)return;let S=null===(C=eu.current)||void 0===C?void 0:C.offsetWidth;if(!S)return;let E=null===(j=eu.current)||void 0===j?void 0:j.offsetHeight,D=eO?10:50,Z=L.position.x+L.width/2,P=L.position.y+E/2-D;eC(Z,P,{zoom:1,duration:eO?1:500})},80)},[eC,eo,M]),eY=()=>{switch(eo){case"preview":eG(eN[0]);break;case"flow-preview":eq(eN[0]);break;case"flow":eK();break;default:console.error("Unauthorized value for nodePreview: ",eo)}};(0,F.Z)(["z","Z"],async o=>{if(ec){if(("z"==o.key||"Z"==o.key)&&(o.ctrlKey||o.metaKey)&&o.shiftKey)return o.preventDefault(),await e_("redo"),eS();if(("z"==o.key||"Z"==o.key)&&(o.ctrlKey||o.metaKey))return o.preventDefault(),await e_("undo"),ek()}}),(0,L.useEffect)(()=>{eh(el,ei)},[el,ei]),(0,L.useEffect)(()=>{eg.push(ef),em(eg),eu.current&&(eu.current.nodeData=ef)},[ef]),(0,L.useEffect)(()=>{var o,C,j;if(!document.activeElement)return;let w=null===(o=document.activeElement.id)||void 0===o?void 0:o.includes("input"),L=null===(C=document.activeElement.id)||void 0===C?void 0:C.includes("select"),S=null===(j=document.activeElement.id)||void 0===j?void 0:j.includes("delete-button"),E=eg[eg.length-2];E&&(L||w||S)&&Object.keys(E).length&&eE(E)},[document.activeElement]),(0,L.useEffect)(()=>{var o;let C=null===(o=ez.zoomToNode)||void 0===o?void 0:o.id;if(C){if(eN[0]==C)return;eN[0]=C,eT([...eN])}},[ez.zoomToNode]),(0,L.useEffect)(()=>{let o=new IntersectionObserver(o=>{let[C]=o;C.isIntersecting&&!1==eu.current.open&&!eN[0]&&(eN[0]=er(eu.current.nodeData),eT([...eN])),eu.current&&(eu.current.open=C.isIntersecting)},{threshold:.5});return eu.current&&o.observe(eu.current),()=>{o.disconnect()}},[]),(0,L.useEffect)(()=>{eY(),eU(eN[0])},[eo,eN[0]]);let eX={hideAttribution:!0};return(0,w.jsxs)("div",{style:{width:"100%",height:"100%"},ref:C,children:[(0,w.jsx)(O,{onSelectionChange:Y}),(0,w.jsx)("div",{style:{height:"100%"},ref:eu,children:(0,w.jsxs)(S.x$,{onMoveEnd:o=>ea(eb()),defaultViewport:en,proOptions:eX,nodeTypes:R,nodes:M,edges:J,zoomOnDoubleClick:B,onNodesChange:K,onEdgesChange:V,onConnectStart:eM,onConnectEnd:e$,onConnect:eJ,onNodeDragStart:eW,onSelectionDragStart:eB,onNodesDelete:eH,onEdgesDelete:eR,onNodeClick:X,style:{cursor:"pointer",...U},onDragOver:eI,edgeTypes:A,zoomOnScroll:"preview"!==eo,panOnDrag:"preview"!==eo,minZoom:.3,maxZoom:2,onInit:o=>{$(o)},children:[I?null:(0,w.jsx)(E.a,{zoomable:!0,pannable:!0}),W?null:(0,w.jsx)(D.A,{}),(0,L.cloneElement)(T,{takeSnapshot:eE,reactFlowWrapper:eu}),ee,(0,w.jsx)(H,{zoom:en.zoom})]})})]})}),J=o=>{var C;let j=(0,L.useRef)(null);return(0,w.jsx)(P.NH.Provider,{value:{nodePreview:o.nodePreview,flowsHeight:null===(C=j.current)||void 0===C?void 0:C.offsetHeight},children:(0,w.jsx)(S.tV,{children:(0,w.jsx)(R,{ref:j,...o})})})};var M=L.memo((0,A.Ic)(J,{topics:["zoomToNode","flow/editor"]}))},53600:function(o,C,j){"use strict";j.d(C,{S5:function(){return J},SY:function(){return R},iU:function(){return A}});var w=j(52322),L=j(2784),S=j(94533),E=j(10729),D=j(5392),Z=j.n(D),P=j(45823),N=j(77044),T=j(33361),z=j(72405),F=j(52422),O=j(33248),I=j(34389),W=j(86130),B=j(57643);let H=o=>{var C;let{adaptiveTitleSize:j=!0,mode:E="column",draggable:D=!0,icon:T=null,container:F=!1,title:O="",children:I,isPreview:H=!1,id:A,color:R="white",node:J,headerContent:M=null,style:$={},contentStyle:K={}}=o,V=(0,L.useContext)(P.p),G=V(o=>o.errorData),U=(0,L.useRef)(),Y=(0,L.useRef)(),X=(null==J?void 0:null===(C=J.data)||void 0===C?void 0:C.preview)=="node",Q=K,ee=A&&A==G.id,et=!A||-1==A.indexOf("_"),el=(0,z.Z)("colorError");R=ee?el:!H&&et?Z().scale([R,"white"])(.5).hex():R;let ei=Z().scale([R,"black"])(.6).hex(),en=(0,z.Z)("titleColor"),ea=(0,z.Z)("borderColor"),eo=ee?el:ea,er=(0,z.Z)("borderWidth"),eu=(0,z.Z)("nodeBackgroundColor"),ec=(0,B.XI)(U),ep=(0,z.Z)("nodeFontSize")/100*100,ef=(0,z.Z)("selectedColor"),eh="12px ",eg="column"==E?eh+eh+" 0px 0px":eh+"0px 0px "+eh;if(J&&J.data&&J.data.flowsHeight&&X){let o=J.data.flowsHeight-20;Q.height=o+"px",Q.maxHeight=o+"px",Q.overflow="scroll",Q.overflowX="hidden"}let em=()=>X||F?"none":!H&&(null==J?void 0:J.selected)?"0px 0px 0px 2px "+ef:(0,W.p)(ec?10:3);return(0,w.jsxs)("div",{id:A,ref:U,style:{display:"flex",minHeight:H?"30px":"80px",flexDirection:E,borderRadius:13,textAlign:"center",fontSize:(0,z.Z)("nodeFontSize"),boxShadow:em(),cursor:X?"default":void 0,...$},className:D?"":"nodrag",children:[(O||M)&&!X?(0,w.jsxs)("div",{ref:Y,style:{display:"flex",backgroundColor:R,borderRadius:H?"8px":eg,borderBottom:"column"!=E||H?"0px":er+" solid "+eo,paddingBottom:"10px",justifyContent:"center"},children:[T&&"LEFT"==N.Hd?(0,w.jsx)("div",{style:{display:"flex",right:"15px",position:"absolute",top:"8px"},children:L.createElement(T,{size:A?ep:"18px",color:ei})}):null,O?(0,w.jsx)(S.Z,{style:{fontSize:A?ep:"18px",padding:"0px 10px 0px 10px",color:en,flex:1,textAlign:"center",alignSelf:"center",position:"relative",top:"4px",fontFamily:"Jost-Medium",maxWidth:"15ch",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:O}):null,T&&"RIGHT"==N.Hd?(0,w.jsx)("div",{style:{display:"flex",left:"10px",position:"absolute",top:"8px"},children:L.createElement(T,{size:A?ep:"18px",color:ei})}):null,M]}):null,H?(0,w.jsx)(w.Fragment,{}):(0,w.jsx)("div",{className:X?"nowheel":"",style:{borderRadius:"0px 0px "+eh+eh,backgroundColor:F?"transparent":eu,flex:1,paddingTop:"0.5ch",paddingBottom:"0.5ch",...Q},children:I})]})},A=o=>{var C,j;let{id:D,type:Z,style:W,label:B,isConnected:H=!1,nodeId:A,position:J=E.Ly.Right,allowedTypes:M}=o,$=(0,L.useRef)(),K=(0,L.useRef)(),V=(0,L.useContext)(P.p),G=V(o=>o.setMenu),U=V(o=>o.flowInstance),Y=160,X=J==E.Ly.Right?"-".concat(Y,"px"):"25px",Q=(0,T.yt)(),ee=R(Q,D),et=(0,z.Z)("portSize"),el=(0,z.Z)("plusColor"),ei=(0,z.Z)("nodeBorderColor"),en=(0,z.Z)("nodeBorderWidth"),ea=(null===(C=Q[0])||void 0===C?void 0:C.data)&&(null===(j=Q[0])||void 0===j?void 0:j.data.preview)=="node",eo=()=>{G("open",[(null==K?void 0:K.current.getBoundingClientRect().right)+200,(null==K?void 0:K.current.getBoundingClientRect().top)-30],{targetHandle:D,target:A})},er=M?M.includes("block")?(0,z.Z)("blockPort"):(0,z.Z)("flowPort"):null;1==M.length&&M.includes("data")&&(er=(0,z.Z)("dataPort")),L.useEffect(()=>{(0,O.c)(U,D,M)},[M]);let eu=Math.floor(-(et/3.5*1));return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(E.HH,{ref:K,tabIndex:ee?-1:0,title:N.te?D:void 0,onClick:()=>eo(),onKeyDown:o=>"Enter"==o.code?eo():null,type:"target",position:J,style:{backgroundColor:er,display:ea?"none":"flex",flexDirection:"row",alignItems:"center",border:en+" solid "+ei,width:et+"px",height:et+"px",marginLeft:"",marginRight:eu+"px",cursor:"pointer",...W},id:D,isConnectable:!ee,isValidConnection:o=>{let C=o.source.split("_")[0],j=F.$P[C];if(j){var w;let o=null!==(w=j.type)&&void 0!==w?w:j,C=o&&o.dataOutput?o.dataOutput:"data";if(-1==M.indexOf(C))return!1}let L=R(Q,o.sourceHandle);return!L},children:[B?(0,w.jsx)("div",{style:{display:"flex",width:"".concat(Y,"px"),marginLeft:X,zIndex:-1,justifyContent:"flex-end"},children:(0,w.jsx)(S.Z,{ref:$,style:{marginRight:"5px",textAlign:J==E.Ly.Right?"right":"left"},children:B})}):null,ee?null:(0,w.jsx)("div",{style:{width:et+"px",height:et+"px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,w.jsx)(I.Z,{color:el,size:10,strokeWidth:5})})]})})},R=(o,C)=>o.find(o=>o.targetHandle==C||o.sourceHandle==C),J=(o,C)=>o.find(o=>o.target==C||o.source==C);C.ZP=(0,L.memo)(H)},41447:function(o,C,j){"use strict";j.d(C,{Z:function(){return J}});var w=j(52322),L=j(2784),S=j(72405),E=j(84291),D=j(52026),Z=j(6364),P=j(56701),N=j(66754),T=j(59240);let z=function(){var o;let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$true",j=arguments.length>1?arguments[1]:void 0;if(j.props.multiline||j.props.numberOfLines>1)return F(C,j);let w=(0,P.f)(C,j),L=(0,T.Pj)(C,{shift:-1,bounds:[2]}),S=(0,N.H)(C,j);return!D.isWeb&&S&&delete S.lineHeight,{...S,fontSize:null!==(o=S.fontSize.val)&&void 0!==o?o:S.fontSize,...w,paddingHorizontal:L}},F=function(){var o;let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$true",j=arguments.length>1?arguments[1]:void 0,{props:w}=j,L=(0,P.f)(C,j),S=(0,N.H)(C,j),E=null!==(o=w.rows)&&void 0!==o?o:w.numberOfLines,Z="number"==typeof E?E*(0,D.getVariableValue)(S.lineHeight):"auto",z=(0,T.Pj)(C,{shift:-2,bounds:[2]}),F=(0,T.Pj)(C,{shift:-1,bounds:[2]});return{...L,...S,paddingVertical:z,paddingHorizontal:F,height:Z}};j(79711);let O=o=>{let{value:C}=o;return(0,w.jsx)("option",{value:C})},I=o=>{let{children:C,options:j=[],...L}=o,S="input-select-"+(0,Z.Z)();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("input",{list:S,...L,style:{fontSize:L.fontSize,...L.style}}),(0,w.jsxs)("datalist",{className:"datalist",id:S,children:[C,j.map((o,C)=>(0,w.jsx)(O,{value:o},C))]})]})},W={size:"$true",fontFamily:"$body",borderWidth:1,outlineWidth:0,color:"$color",...D.isWeb?{tabIndex:0}:{focusable:!0},borderColor:"$borderColor",backgroundColor:"$background",minWidth:0,hoverStyle:{borderColor:"$borderColorHover"},focusStyle:{outlineColor:"$borderColorFocus",outlineWidth:2,outlineStyle:"solid",borderColor:"$borderColorFocus"}},B=(0,D.styled)(I,{name:"Input",acceptsClassName:!0,variants:{unstyled:{false:W},size:{"...size":z}},defaultVariants:{unstyled:!1}},{isInput:!0}),H=B.styleable((o,C)=>{let j=(0,E.kp)(o,C);return(0,w.jsx)(B,{...j})}),A=(0,D.withStaticProperties)(H,{Option:O}),R=L.forwardRef((o,C)=>{let j=(0,S.Z)("nodeBorderColor");return(0,w.jsx)(A,{unstyled:!0,...o,ref:C,style:{fontSize:(0,S.Z)("nodeFontSize"),fontFamily:"Jost-Regular",border:(0,S.Z)("inputBorder"),color:o.readOnly?(0,S.Z)("disableTextColor"):(0,S.Z)("textColor"),backgroundColor:(0,S.Z)("inputBackgroundColor"),padding:"0.35ch",paddingLeft:"1ch",borderRadius:"0.5ch",display:"flex",flex:1,width:"100%",boxSizing:"border-box",cursor:o.readOnly?"grab":"text",...o.style},onFocus:C=>{C.currentTarget.style.boxShadow="inset 0px 0px 0px 2px "+j,o.onFocus&&o.onFocus(C)},onBlur:C=>{C.currentTarget.style.boxShadow="",o.onBlur&&o.onBlur(C)},children:o.children})});var J=R},60884:function(o,C,j){"use strict";var w=j(52322);j(2784);var L=j(72405),S=j(81395);let E=o=>{var C;let j=C=>{let j=C.target.value;o.onChange({label:j,value:j})};return(0,w.jsxs)("div",{style:{position:"relative"},children:[(0,w.jsx)("select",{defaultValue:o.defaultValue.value,onClick:j,onChange:j,style:{width:"100%",boxSizing:"border-box",backgroundColor:(0,L.Z)("inputBackgroundColor"),color:(0,L.Z)("textColor"),fontFamily:"Jost-Regular",fontSize:(0,L.Z)("nodeFontSize"),border:(0,L.Z)("inputBorder"),padding:"0.35ch",paddingLeft:"1ch",paddingRight:"1ch",flex:1,display:"flex",borderRadius:"0.5ch",appearance:"none"},children:null===(C=o.options)||void 0===C?void 0:C.map(C=>(0,w.jsx)("option",{value:C.value,label:C.label,selected:C.value==o.defaultValue.value}))}),(0,w.jsx)(S.Z,{style:{position:"absolute",right:"10px",top:(0,L.Z)("nodeFontSize")/2}})]})};C.Z=E},94533:function(o,C,j){"use strict";var w=j(52322);j(2784);var L=j(72405);let S=o=>{let C=(0,L.Z)("nodeFontSize");return(0,w.jsx)("span",{...o,style:{whiteSpace:"nowrap",textOverflow:"ellipsis",fontFamily:"Jost-Regular",paddingLeft:"0.4em",paddingRight:"0.4em",fontSize:C+"px",color:(0,L.Z)("textColor"),...o.style},title:o.children,children:o.children})};C.Z=S},72405:function(o,C,j){"use strict";var w=j(2784),L=j(45823);let S={nodeBorderWidth:"1px",nodeFontSize:20,nodeEdgeWidth:3,nodeEdgeStyle:"7 5"};S.portSize=20,S.borderWidth=0,S.borderWidthSelected=.5;let E="#888",D={light:{...S,plusColor:"#999",edgeColor:"#888",nodeBackgroundColor:"#fdfdfd",inputBackgroundColor:"white",inputBorder:"1px solid #ccc",textColor:"#666",selectedColor:"#2680EB",disableTextColor:"#ccc",interactiveColor:"#4fc2f7",interactiveHoverColor:"rgba(79, 194, 247, 0.1)",borderColor:"#888",colorError:"#EF4444",handleBorderColor:"white",flowOutputColor:"white",dataOutputColor:"black",highlightInputBackgroundColor:"#F1F1F1",blockPort:"#fefefe",flowPort:"#fefefe",dataPort:"#fefefe",nodeBorderColor:"#aaa",titleColor:"#222",containerColor:"#00000005",separatorColor:"#D4D4D4"},dark:{...S,plusColor:"white",handleBorderColor:"black",edgeColor:E,nodeBackgroundColor:"#303030",inputBackgroundColor:"#404040",inputBorder:"0",textColor:"#e5e5e5",selectedColor:"#2680EB",disableTextColor:"grey",interactiveColor:"#4772b3",interactiveHoverColor:"#252525",borderColor:E,colorError:"#EF4444",flowOutputColor:"grey",dataOutputColor:"black",highlightInputBackgroundColor:"#222222",blockPort:"black",flowPort:"grey",dataPort:"grey",nodeBorderColor:E,titleColor:"black",containerColor:"#FFFFFF05",separatorColor:"#424242"}},Z=function(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,j=(0,w.useContext)(L.p),S=j(o=>o.themeMode),E=j(o=>o.themeOverride),Z={...D[S],...E};try{let C=Z[o];return C}catch(o){return C}};C.Z=Z},64352:function(o,C,j){"use strict";j.d(C,{Z:function(){return ee}});var w=j(96325),L=j.n(w),S=j(77044);let E={"elk.algorithm":"layered","elk.direction":S.Hd,"elk.layered.considerModelOrder.strategy":"NODES_AND_EDGES","elk.hierarchyHandling":"SEPARATE_CHILDREN","elk.layered.crossingMinimization.forceNodeModelOrder":!0,"elk.layered.crossingMinimization.strategy":"LAYER_SWEEP","elk.layered.spacing.nodeNodeBetweenLayers":"350","elk.spacing.nodeNode":"160"},D=function(o){var C;arguments.length>1&&void 0!==arguments[1]&&arguments[1];let j=arguments.length>2?arguments[2]:void 0,w=j.filter(C=>C.target==o.id).length,L=40*Math.max(0,w-1);return{layoutOptions:(null===(C=o.children)||void 0===C?void 0:C.length)?E:{},id:o.id,width:o.width+L,height:o.height,children:o.children?o.children.map((o,C)=>D(o,C,j)):[]}},Z=async(o,C,j)=>{let w=new(L()),S={id:"root",layoutOptions:{...E,"elk.hierarchyHandling":"INCLUDE_CHILDREN"},children:o.map(o=>D(o,0,C)),edges:[]},Z=o=>{let j=[],w=(o,L,S)=>{let E={...o};if(delete E.children,S&&(E.parentNode=S),j.push(E),o.children&&o.children.length){let j=C.find(C=>C.source==o.children[0].id);if(j){let w=JSON.parse(JSON.stringify(j));w.source=o.id,w.sourceHandle=o.id+"-output",C.push(w)}o.children.forEach(C=>w(C,L,o.id))}};return o.forEach(o=>w(o,S,null)),j},P=Z(o);C.filter(o=>P.find(C=>C&&C.id==o.source)&&P.find(C=>C&&C.id==o.target)).sort((o,C)=>{let j=o.targetHandle.split("_"),w=C.targetHandle.split("_"),L=j[j.length-1],S=w[w.length-1];if(L.startsWith("block")&&S.startsWith("block")&&o.target==C.target){let o=parseInt(L.substr(5),10),C=parseInt(S.substr(5),10);return o-C}return 0}).forEach((o,C)=>{S.edges.push({id:o.id,sources:[o.source],targets:[o.target]})}),await w.layout(S),S.children[0];var N={};let T=o=>o.forEach(o=>{let C=P.find(C=>C.id==o.id);if(C){N[C.id]={layouted:!0};let j=o.x,w=o.y;C.position={x:j,y:w},o.children&&o.children.length&&(C.data.height=o.height,C.data.width=o.width)}o&&o.children&&T(o.children)});return T(S.children),{nodes:P,edges:C,metadata:N}};var P=Z,N=j(52422);let T=(o,C,j)=>{let w=o.filter(o=>C.find(C=>C.source==o.id&&C.target==j.id)).map(o=>({node:o,edge:C.find(C=>C.source==o.id&&C.target==j.id)}));return w},z=1,F=1,O=120,I=100;function W(o){return new Promise(C=>setTimeout(C,o))}let B=function(o,C,j){var w,L,S;let E,D,Z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0},P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},W=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{x:0},H=T(o,C,j),A=N.$P[j.type];if(j.position={x:Z.x,y:Z.y},j.data={...j.data,layouted:!0},A){let o=null!==(w=A.type)&&void 0!==w?w:A;o&&o.getPosition&&(Z=o.getPosition(Z,j.type))}let R=Z.y,J=Z.x,M=j.width;if(A){let o=null!==(L=A.type)&&void 0!==L?L:A;o&&o.getWidth&&(M=o.getWidth(j))}let $=z,K=F;if(A){let o=null!==(S=A.type)&&void 0!==S?S:A;if(o&&o.getSpacingFactor){let{factorX:C,factorY:w}=o.getSpacingFactor(j);$=C,K=w}}let V=M+O*$;Z.x+=V;let G=[],U=0;H.forEach(async w=>{if(A){var L;let o=null!==(L=A.type)&&void 0!==L?L:A;o&&o.getChildPosition&&(Z=o.getChildPosition(j,Z,{x:J,y:R},w,j.type))}E={...Z},D={x:0},B(o,C,w.node,Z,P,D),G.push({pos:{...E},delta:{x:E.x-j.position.x,y:E.y-R},width:D.x-W.x,height:Z.y-R,node:w}),D.x>U&&(U=D.x)}),W.x+=V+U,P[j.id]={layouted:!0,childWidth:W.x,childHeight:Z.y-R,childHeights:G},Z.x-=M+O*$;let Y="Block"==j.type||"CaseClause"==j.type||"DefaultClause"==j.type?P[j.id].childHeight?P[j.id].childHeight+100:0:j.height;return Z.y+=Z.y-R>Y+I*K?0:Y+I*K-(Z.y-R),P},H=async(o,C,j)=>{let w=o.map(o=>({...o})),L=B(w,C,j);return await W(1),{nodes:w,edges:C,metadata:L}};var A=H;let R=(o,C,j)=>{let w=o.filter(o=>C.find(C=>C.source==o.id&&C.target==j.id)).map(o=>({node:o,edge:C.find(C=>C.source==o.id&&C.target==j.id)}));return w},J=1,M=1,$=120,K=100;function V(o){return new Promise(C=>setTimeout(C,o))}function G(o){var C;return Object.keys(o).forEach(j=>{o[j]._devicePositioning&&(C={id:j,...o[j]})}),C}function U(o,C){let j=o.filter(o=>o.source==C);return j[0]}let Y=[],X=function(o,C,j,w){let L,S,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0},D=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{x:0};console.log("----- ENTER ON computeLayout -----"),console.log("Nodes: ",o),console.log("Edges: ",C),console.log("Node: ",j);let P=R(o,C,j),T=N.$P[j.type];var z,F,O,I="n";let W=G(w);if(j.id!=(null==W?void 0:W.id)){let o=U(C,j.id);console.log("nodePositionReference: ",I=W._devicePositioning.filter(C=>{if(C)return C.includes(o.targetHandle.split("element-")[1])})[0].split("-")[1])}if(j.position={x:"r"==I?-1500+E.x:E.x,y:E.y},j.data={...j.data,layouted:!0},Y.push({node:j}),console.log("Metas: ",Y),T){let o=null!==(z=T.type)&&void 0!==z?z:T;o&&o.getPosition&&(E=o.getPosition(E,j.type))}let B=E.y,H=E.x,A=j.width;if(T){let o=null!==(F=T.type)&&void 0!==F?F:T;o&&o.getWidth&&(A=o.getWidth(j))}let V=J,Q=M;if(T){let o=null!==(O=T.type)&&void 0!==O?O:T;if(o&&o.getSpacingFactor){let{factorX:C,factorY:w}=o.getSpacingFactor(j);V=C,Q=w}}let ee=A+$*V;E.x+=ee;let et=[],el=0;P.forEach(async P=>{if(T){var N;let o=null!==(N=T.type)&&void 0!==N?N:T;o&&o.getChildPosition&&(E=o.getChildPosition(j,E,{x:H,y:B},P,j.type))}L={...E},S={x:0},X(o,C,P.node,w,E,D,S),et.push({pos:{...L},delta:{x:L.x-j.position.x,y:L.y-B},width:S.x-Z.x,height:E.y-B,node:P}),S.x>el&&(el=S.x)}),Z.x+=ee+el,D[j.id]={layouted:!0,childWidth:Z.x,childHeight:E.y-B,childHeights:et},E.x-=A+$*V;let ei="Block"==j.type||"CaseClause"==j.type||"DefaultClause"==j.type?D[j.id].childHeight?D[j.id].childHeight+100:0:j.height;return E.y+=E.y-B>ei+K*Q?0:ei+K*Q-(E.y-B),D},Q=async(o,C,j,w)=>{let L=o.map(o=>({...o}));console.log("Enter computeLayout: ",L,C,j);let S=X(L,C,j,w);return console.log("Returning from computeLayout: ",S),await V(1),{nodes:L,edges:C,metadata:S}};var ee={elk:P,code:A,device:Q}},54398:function(o,C,j){"use strict";j.d(C,{D:function(){return I}});var w=j(52322),L=j(2784),S=j(72405),E=j(45823),D=j(38519),Z=j(13153),P=j(63044),N=j(95602),T=j(86486),z=j(73429),F=j(41447),O=j(69685);let I=()=>["input"];C.Z=o=>{var C;let{nodeData:j={},item:I,node:W}=o,B=(0,L.useContext)(E.p),H=B(o=>o.setNodeData),{field:A,label:R,type:J,menuActions:M}=I,$=j[A],K=(0,O.oe)(A,j),[V,G]=(0,L.useState)(K),U={StringLiteral:Z.Z,NumericLiteral:P.Z,TrueKeyword:N.Z,ObjectLiteralExpression:T.Z,FalseKeyword:N.Z,Identifier:z.Z},Y=Object.keys(U).filter(o=>"Identifier"!=o),X=Y[0],Q=null!==(C=null==$?void 0:$.kind)&&void 0!==C?C:X,ee=o=>{H(W.id,{...j,[A]:(0,O.Jf)(o,A,j)})},et=()=>{H(W.id,{...j,[A]:{...$,kind:Y[(Y.indexOf(Q)+1)%(Y.length-1)]}})},el=()=>{{var o;let C=Y.includes(Q),j="detailed"==(0,O.Ql)(A);return(0,w.jsxs)(w.Fragment,{children:[U[Q]&&j?(0,w.jsx)("div",{style:{padding:"8px",justifyContent:"center",position:"absolute",zIndex:100,cursor:C?"pointer":""},onClick:C?et:null,children:L.createElement(U[Q],{size:16,color:C?(0,S.Z)("interactiveColor"):(0,S.Z)("disableTextColor")})}):(0,w.jsx)(w.Fragment,{}),(0,w.jsx)(F.Z,{onBlur:()=>ee(V),style:{fontSize:(0,S.Z)("nodeFontSize"),fontWeight:"medium",paddingLeft:j?"38px":void 0},options:null===(o=I.data)||void 0===o?void 0:o.options,value:V,placeholder:"default",onChange:o=>G(o.target.value)})]})}};return(0,w.jsx)(D.Jf,{label:R,input:el(),menuActions:M})}},38519:function(o,C,j){"use strict";j.d(C,{Jf:function(){return eL},ly:function(){return ew},Ep:function(){return ej},aP:function(){return eC}});var w=j(52322),L=j(2784),S=j(72405),E=j(94533),D=j(45823),Z=j(34854),P=j(47416),N=j(76588),T=j(51619),z=j(62200),F=j(34550),O=j(27995),I=j(34498),W=j(40971),B=j(11059),H=j(51801),A=j(35034),R=j(3368),J=j(76515),M=j(12966),$=j(33511),K=j(97894),V=j(69685);let G=()=>["alignment-text","alignment-items","alignment-flex","alignment-content"];var U=o=>{let{nodeData:C={},item:j,node:E}=o,G=(0,L.useContext)(D.p),U=G(o=>o.setNodeData),Y=G(o=>o.deletePropNodeData),X=(0,S.Z)("interactiveColor"),Q=(0,S.Z)("disableTextColor"),{field:ee,label:et,type:el,fieldType:ei,menuActions:en}=j,ea=ee.replace(ei+"-",""),eo=(0,V.oe)(ee,C),er=eu();function eu(){var o,j;let w="0deg",L=!!(null===(j=C["prop-flexDirection"])||void 0===j?void 0:null===(o=j.value)||void 0===o?void 0:o.startsWith("row"));return L&&(w="alignItems"==ea?"90deg":"-90deg"),w}let ec=o=>eo==o?X:Q,ep=o=>{eo==o?Y(E.id,ee):U(E.id,{...C,[ee]:(0,V.Jf)(o,ee,C)})},ef=o=>{let{icon:C,name:j,rotate:S="0deg"}=o;return(0,w.jsx)("div",{title:j,style:{cursor:"pointer",rotate:S},onClick:()=>ep(j),children:L.createElement(C,{color:ec(j)})})},eh=()=>{switch(el){case"alignment-text":return(0,w.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,w.jsx)(ef,{icon:Z.Z,name:"left"}),(0,w.jsx)(ef,{icon:P.Z,name:"center"}),(0,w.jsx)(ef,{icon:N.Z,name:"right"}),(0,w.jsx)(ef,{icon:T.Z,name:"justify"})]});case"alignment-items":return(0,w.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,w.jsx)(ef,{rotate:er,icon:z.Z,name:"start"}),(0,w.jsx)(ef,{rotate:er,icon:F.Z,name:"center"}),(0,w.jsx)(ef,{rotate:er,icon:O.Z,name:"end"}),(0,w.jsx)(ef,{rotate:er,icon:I.Z,name:"stretch"})]});case"alignment-flex":return(0,w.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,w.jsx)(ef,{icon:W.Z,name:"row"}),(0,w.jsx)(ef,{icon:B.Z,name:"row-reverse"}),(0,w.jsx)(ef,{icon:H.Z,name:"column"}),(0,w.jsx)(ef,{icon:A.Z,name:"column-reverse"})]});case"alignment-content":return(0,w.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,w.jsx)(ef,{rotate:er,icon:R.Z,name:"start"}),(0,w.jsx)(ef,{rotate:er,icon:J.Z,name:"center"}),(0,w.jsx)(ef,{rotate:er,icon:M.Z,name:"end"}),(0,w.jsx)(ef,{rotate:er,icon:$.Z,name:"space-between"}),(0,w.jsx)(ef,{rotate:er,icon:K.Z,name:"space-around"})]})}};return(0,w.jsx)(eL,{label:et,input:eh(),menuActions:en})},Y=j(6226),X=j(41447),Q=j(86838),ee=j(2350),et=j(25228),el=j(16399);let ei=o=>{let{onPress:C=o=>{},selected:j=!1,...L}=o;return(0,w.jsx)("div",{onClick:C,style:{padding:"5px",backgroundColor:j?(0,S.Z)("interactiveColor"):(0,S.Z)("inputBackgroundColor"),display:"flex",alignContent:"center",alignItems:"center"},...L})},en=()=>["color","color-theme"];var ea=o=>{var C;let{nodeData:j={},node:Z,item:P}=o,{resolvedTheme:N}=(0,el.P)(),T=null!=N?N:"light",z=T.charAt(0).toUpperCase()+T.slice(1),F="10"+z,O=(0,L.useContext)(D.p),I=O(o=>o.setNodeData),W=O(o=>o.metadata),B=null==W?void 0:null===(C=W.tamagui)||void 0===C?void 0:C.color,H=(0,S.Z)("nodeFontSize"),A=(0,S.Z)("textColor"),R=["blue","gray","green","orange","pink","purple","red","yellow"],{field:J,label:M,type:$,menuActions:K}=P,G=(0,V.oe)(J,j),[U,en]=(0,L.useState)(G),[ea,er]=L.useState(!1),eu=()=>{var o,C,j;return G?"color-theme"==$?null===(o=B[G+F])||void 0===o?void 0:o.val:null!==(j=null===(C=B[G+z])||void 0===C?void 0:C.val)&&void 0!==j?j:G:""},ec={default:{card:{background:"transparent",border:"0px",boxShadow:"none"}}},ep=o=>{o&&(I(Z.id,{...j,[J]:(0,V.Jf)(o,J,j)}),en(o))},ef=()=>{if("color-theme"===$){let o=R.map(o=>{var C;return null===(C=B[o+F])||void 0===C?void 0:C.val});return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{style:{width:"100%",padding:"6px"},children:(0,w.jsx)(E.Z,{style:{fontFamily:"Jost-Medium",fontSize:"16px",paddingLeft:0,alignSelf:"flex-start"},children:"Choose a Theme"})}),(0,w.jsx)(Y.Lf,{styles:ec,triangle:"hide",onChangeComplete:o=>{let C=eo(o.hsl),j=Object.keys(B).find(o=>B[o].val==C&&o.endsWith(F)&&!o.startsWith("$")),w=null==j?void 0:j.replace(F,"");ep(null!=w?w:o.hex)},width:"220px",colors:o})]})}{let[o,C]=L.useState("theme"),j=R.map(o=>Object.keys(B).filter(C=>C.startsWith(o)&&C.endsWith(z)).map(o=>B[o].val)).flat(1);return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{style:{height:"380px"},children:[(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",padding:"6px"},children:[(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,w.jsx)(E.Z,{style:{fontFamily:"Jost-Medium",fontSize:"16px",paddingLeft:0},children:"Choose a Color"}),(0,w.jsx)(E.Z,{style:{color:"gray",fontSize:"14px",paddingLeft:0,textAlign:"left"},children:"theme"==o?"Theme Color":"Custom Color"})]}),(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"row",borderRadius:"6px",overflow:"hidden",height:"28px"},children:[(0,w.jsx)(ei,{selected:"theme"==o,onPress:()=>C("theme"),children:(0,w.jsx)(ee.Z,{size:"16px",color:(0,S.Z)("textColor"),fillOpacity:0})}),(0,w.jsx)(ei,{selected:"custom"==o,onPress:()=>C("custom"),children:(0,w.jsx)(et.Z,{size:"16px",color:(0,S.Z)("textColor"),fillOpacity:0})})]})]}),"theme"==o?(0,w.jsx)("div",{style:{height:"280px",marginTop:"5px",overflowY:"scroll"},children:(0,w.jsx)(Y.Lf,{styles:ec,triangle:"hide",onChangeComplete:o=>{let C=eo(o.hsl),j=Object.keys(B).find(o=>B[o].val==C&&o.endsWith(z)),w=null==j?void 0:j.replace(z,"");ep(null!=w?w:o.hex)},width:"220px",colors:j})}):(0,w.jsx)(Y.xS,{color:U,onChangeComplete:o=>{ep(o.hex)},styles:{default:{picker:{background:"transparent",border:"0px",boxShadow:"none",width:"210px"}}}})]})})}};return(0,w.jsx)(eL,{label:M,menuActions:K,input:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(Q.J2,{onOpenChange:er,open:ea,placement:"left-start",children:[(0,w.jsx)(Q.J2.Trigger,{children:(0,w.jsx)("div",{style:{width:"28px",height:"28px",cursor:"pointer",backgroundColor:eu(),borderRadius:4,zIndex:10,position:"absolute",marginLeft:"5px",border:G?"":"1px solid "+A,top:"13px"}})}),(0,w.jsx)(Q.J2.Content,{marginRight:"20px",space:0,width:"250px",shadowRadius:"$4",shadowColor:"black",shadowOpacity:.6,bc:(0,S.Z)("nodeBackgroundColor"),children:ef()})]}),(0,w.jsx)(X.Z,{onBlur:()=>ep(U),style:{fontSize:H+"px",fontWeight:"medium",paddingLeft:"38px"},value:U,placeholder:"default",onChange:o=>en(o.target.value)})]})})};function eo(o){let{h:C,s:j,l:w,a:L}=o,S=Math.round(C),E=1==j?100:(100*j).toFixed(1),D=(100*w).toFixed(1),Z="hsl(".concat(S,", ").concat(E,"%, ").concat(D,"%)");return Z}let er=()=>["range-theme","range-px","range"];var eu=o=>{var C,j,E,Z,P,N,T,z,F,O,I,W;let{nodeData:B={},item:H,node:A}=o,R=(0,L.useContext)(D.p),J=R(o=>o.setNodeData),M={"range-theme":{pre:o=>"$"==o[0]?o.split("$")[1]:o,post:o=>"$"+o,max:20,min:0,kind:"StringLiteral"},"range-px":{pre:o=>"p"==o[o.length-2]&&"x"==o[o.length-1]?o.slice(0,-2):o,post:o=>o+"px",max:100,min:0,kind:"StringLiteral"},default:{pre:o=>o,post:o=>o,max:100,min:0,step:1,kind:"NumericLiteral"}},{field:$,label:K,type:G,data:U,menuActions:Y}=H,X=(0,V.oe)($,B),Q={...M[G],...U},ee=null!==(T=null==Q?void 0:Q.pre)&&void 0!==T?T:null===(C=M.default)||void 0===C?void 0:C.pre,et=null!==(z=null==Q?void 0:Q.post)&&void 0!==z?z:null===(j=M.default)||void 0===j?void 0:j.post,el=null!==(F=null==Q?void 0:Q.max)&&void 0!==F?F:null===(E=M.default)||void 0===E?void 0:E.max,ei=null!==(O=null==Q?void 0:Q.min)&&void 0!==O?O:null===(Z=M.default)||void 0===Z?void 0:Z.min,en=null!==(I=null==Q?void 0:Q.step)&&void 0!==I?I:null===(P=M.default)||void 0===P?void 0:P.step,ea=null!==(W=null==Q?void 0:Q.kind)&&void 0!==W?W:null===(N=M.default)||void 0===N?void 0:N.kind,eo=o=>{J(A.id,{...B,[$]:(0,V.Jf)(o,$,B,{kind:ea})})},er=()=>{let o="D.",C=null!=X?X:o,[j,E]=L.useState(ee(C)),D=X?j:o;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{style:{fontSize:"14px",position:"relative",top:"3px",width:18*el.toString().length,textAlign:"left",color:(0,S.Z)("textColor")},children:et(D)}),(0,w.jsx)("input",{type:"range",style:{width:"100%",marginTop:"6px",accentColor:X?(0,S.Z)("interactiveColor"):(0,S.Z)("disableTextColor"),height:"5px",borderWidth:"4px solid blue",backgroundColor:(0,S.Z)("separatorColor"),borderRadius:"10px"},step:en,onChange:o=>E(o.target.value),onMouseUp:()=>eo(et(j)),value:D,min:ei,max:el})]})};return(0,w.jsx)(eL,{label:K,input:er(),menuActions:Y})},ec=j(8939),ep=j(66306);let ef=()=>["toggle-boolean"];var eh=o=>{let{nodeData:C={},item:j,node:Z}=o,P=(0,L.useContext)(D.p),N=P(o=>o.setNodeData),{resolvedTheme:T}=(0,el.P)(),{field:z,label:F,type:O,menuActions:I}=j,W=(0,V.oe)(z,C),B=o=>{N(Z.id,{...C,[z]:(0,V.Jf)(o,z,C,{kind:"FalseKeyword"})})},H=(0,S.Z)("inputBorder").split(" ")[0],A=(0,S.Z)("inputBorder").split(" ")[2],R=o=>{let{defaultValue:C=!1,values:j}=o;return(0,w.jsx)(ec.sL,{width:"100%",height:"38px",space:"4px",paddingHorizontal:"2px",backgroundColor:(0,S.Z)("inputBackgroundColor"),borderWidth:H,borderColor:A,alignItems:"center",justifyContent:"space-around",borderRadius:"$2",children:j.map(o=>(0,w.jsx)(J,{defaultValue:C,itemValue:o,onPress:B}))})},J=o=>{let{itemValue:C,onPress:j,defaultValue:L=!1}=o,D=W==C,Z="light"==T;return(0,w.jsx)(ep.zx,{onPress:()=>j(C),f:1,chromeless:!D,backgroundColor:D&&Z?A:void 0,size:"$3",height:"34px",borderRadius:"$1",fontSize:"$4",children:(0,w.jsx)(E.Z,{style:{color:D?D&&Z?(0,S.Z)("textColor"):"":(0,S.Z)("disableTextColor")},children:C?"true":"false"})})},M=()=>(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(R,{values:[!1,!0]})});return(0,w.jsx)(eL,{label:F,input:M(),menuActions:I})},eg=j(54398),em=j(60884);let ev=()=>["select"];var ex=o=>{let{nodeData:C={},item:j,node:S}=o,E=(0,L.useContext)(D.p),Z=E(o=>o.setNodeData),{field:P,label:N,type:T,data:z,menuActions:F}=j,O=(0,V.oe)(P,C),I=(null!=z?z:[]).map(o=>({label:o,value:o})),W=o=>{Z(S.id,{...C,[P]:(0,V.Jf)(o,P,C)})},B=()=>(0,w.jsx)("div",{style:{width:"100%"},children:(0,w.jsx)(em.Z,{onChange:o=>W(o.value),defaultValue:{value:O,label:O},options:I})});return(0,w.jsx)(eL,{label:N,input:B(),menuActions:F})},ey=j(11006),eb=j(9944);let eC=o=>{var C,j;let w=null!==(j=null===(C=o.find(o=>"custom-field"==o.type))||void 0===C?void 0:C.data)&&void 0!==j?j:[],L=w.map(o=>o.field);return[...L]},ej=()=>{let o=G(),C=en(),j=er(),w=ef(),L=(0,eg.D)(),S=ev();return[...o,...C,...j,...w,...L,...S]},ew=o=>{let{item:C,node:j,nodeData:S}=o,E=(0,L.useContext)(D.p),Z=E(o=>o.deletePropNodeData);var P,N,T={...C,menuActions:[{text:"Default Value",icon:ey.Z,action:()=>{Z(j.id,C.field)}}]};switch((null===(P=S[C.field])||void 0===P?void 0:P.kind)=="Identifier"&&(T.type="input"),(null!==(N=T.type)&&void 0!==N?N:"").split("-")[0]){case"alignment":return(0,w.jsx)(U,{node:j,item:T,nodeData:S});case"color":return(0,w.jsx)(ea,{node:j,item:T,nodeData:S});case"range":return(0,w.jsx)(eu,{node:j,item:T,nodeData:S});case"toggle":return(0,w.jsx)(eh,{node:j,item:T,nodeData:S});case"select":return(0,w.jsx)(ex,{node:j,item:T,nodeData:S});case"input":return(0,w.jsx)(eg.Z,{node:j,item:T,nodeData:S});default:return(0,w.jsx)(w.Fragment,{})}},eL=o=>{let{label:C,input:j,menuActions:D}=o,Z=(0,S.Z)("nodeFontSize"),[P,N]=L.useState(!1);return(0,w.jsx)("div",{style:{alignItems:"stretch",flexBasis:"auto",flexShrink:0,listStyle:"none",position:"relative",display:"flex",flexDirection:"column"},children:(0,w.jsxs)("div",{style:{fontSize:Z+"px",padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row",alignItems:"stretch"},children:[(0,w.jsx)("div",{className:"handleKey",style:{display:"flex",flexDirection:"row",alignItems:"center",flex:2},children:(0,w.jsx)(E.Z,{width:"100%",children:C})}),(0,w.jsx)("div",{className:"handleValue",style:{minWidth:"180px",marginRight:"10px",display:"flex",flexDirection:"row",alignItems:"center",flex:3},children:j}),D?(0,w.jsxs)(Q.J2,{onOpenChange:N,open:P,placement:"left",children:[(0,w.jsx)(Q.J2.Trigger,{children:(0,w.jsx)("div",{onClick:()=>N(!0),style:{padding:"4px",justifyContent:"center",cursor:"pointer",position:"absolute",right:0,alignSelf:"center",zIndex:10},children:(0,w.jsx)(eb.Z,{size:16,color:(0,S.Z)("textColor")})})}),(0,w.jsx)(Q.J2.Content,{padding:0,space:0,shadowRadius:"$4",shadowColor:"black",shadowOpacity:.6,bc:(0,S.Z)("nodeBackgroundColor"),children:D.map((o,C)=>(0,w.jsxs)(ec.sL,{gap:"$2",ml:"$1",o:1,br:"$5",ai:"center",p:"$3",als:"flex-start",cursor:"pointer",onPress:C=>{o.action(),N(!1)},hoverStyle:{backgroundColor:(0,S.Z)("interactiveColor")},children:[L.createElement(o.icon,{size:"16px",strokeWidth:2}),(0,w.jsx)(E.Z,{style:{fontSize:"16px",fontFamily:"Jost-Medium"},children:o.text})]},C))})]}):(0,w.jsx)(w.Fragment,{})]})})}},45927:function(o,C,j){"use strict";j.d(C,{Nl:function(){return E},Yc:function(){return Z},m1:function(){return D}});var w=j(6364),L=j(43134),S=j(18292);let E=(o,C,j,L)=>({id:(0,w.Z)(),source:o,sourceHandle:C,target:j,targetHandle:L,animated:!1,type:"custom"}),D=(o,C,j,w)=>!!w.find(w=>{let S=w.sourceHandle==(0,L.zv)(o)+j+C||w.targetHandle==(0,L.zv)(o)+j+C;return S}),Z=(o,C,j)=>{var w=[];let L={id:(0,S.O)(),source:C,sourceHandle:C+"-output",target:o.target,targetHandle:o.targetHandle,type:"custom"};if(w.push(L),j){let L={id:(0,S.O)(),source:o.source,sourceHandle:o.sourceHandle,target:C,targetHandle:C+j,type:"custom"};w.push(L)}return w}},29392:function(o,C,j){"use strict";j.d(C,{MR:function(){return D},Nb:function(){return W},U7:function(){return I},Yg:function(){return F},_l:function(){return z},ap:function(){return E},cV:function(){return Z},lh:function(){return N},lm:function(){return P},ro:function(){return T},wo:function(){return O}});var w=j(52422),L=j(18292),S=j(20477);let E=function(){let o,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j=arguments.length>1?arguments[1]:void 0,w=Object.keys(C).reduce((w,L)=>{if(!L.startsWith("child-"))return{...w,[L]:C[L]};{let S=Number(L.split("child-")[1]);return S===j?(o=C[L],w):S>j?{...w,["child-"+(S-1)]:C[L]}:{...w,[L]:C[L]}}},{});return{data:w,deletedElementData:o}},D=(o,C,j)=>{var w,L=null===(w=Object.keys(o))||void 0===w?void 0:w.filter(o=>o.startsWith("child-")).length;return[...Object.keys(o),"child-"+(L+1)].reduce((w,L)=>{if(L.startsWith("child-")){let S=Number(L.split("child-")[1]);if(S===C)return{...w,["child-"+C]:j};if(S>C)return{...w,["child-"+S]:o["child-"+(S-1)]}}return{...w,[L]:o[L]}},{})},Z=function(o,C,j,w){let S=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,E=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,D=[];if(o.forEach(o=>{let C={...o},L=Number(C.targetHandle.split(j+"-child-")[1]),Z=Number(C.targetHandle.split(S+"-child-")[1]);L?L>w?(C.targetHandle=j+"-child-"+(L-1),D.push(C)):L<w&&D.push(C):(Z&&Z>E-1&&(C.targetHandle=S+"-child-"+(Z+1)),D.push(C))}),S&&E){let o={id:(0,L.O)(),targetHandle:S+"-child-"+E,target:S,source:C,sourceHandle:C+"-output",animated:!1,type:"custom"};D.push(o)}return D},P=(o,C,j,w)=>{let S=[];o.forEach(o=>{let C={...o};if(C.targetHandle.startsWith(j+"-child-")&&!(C.targetHandle.split(j+"-child-")[1]<w)){let o=C.targetHandle.split(j+"-child-")[1];o>=w&&(C.targetHandle=j+"-child-"+(Number(o)+1),S.push(C))}else S.push(C)});let E={id:(0,L.O)(),targetHandle:j+"-child-"+w,target:j,source:C,sourceHandle:C+"-output",animated:!1,type:"custom"};return S.push(E),S},N=(o,C,j,w)=>{let L=[];return o.forEach(o=>{let S={...o},E=S.targetHandle.split(C+"-child-")[1];S.targetHandle.startsWith(C+"-child-")&&-1!=w.findIndex(o=>o+1===Number(E))&&(S.targetHandle=C+"-child-"+(j+(w.findIndex(o=>o+1===Number(E))+1))),L.push(S)}),L},T=(o,C,j)=>{let w={...o};return C.forEach((C,L)=>{w["child-"+(j+L+1)]=o["child-"+(C+1)]}),w},z=(o,C,j,w,L)=>{let S;w.forEach(C=>{o.includes(C.target)&&o.push(C.source)});var D=w.filter(j=>o.includes(j.source)&&j.target==C);let P={...L};return S=w,D.forEach(o=>{let w=o?Number(o.targetHandle.split("child-")[1]):null;S=Z(S,j,C,w);let{data:D}=E(L[C],w);P[C]=D}),{updatedEdges:S,newNodeData:P}},F=o=>Object.keys(o).reduce((C,j)=>{let w=o[j],L=Object.keys(w).reduce((o,C)=>(C.startsWith("_")||"connections"==C||"SourceFile_0_0"==C||(o={...o,[C]:w[C]}),o),{});return C={...C,[j]:L}},{}),O=(o,C,j,L,S)=>{var E=w.$P[S].type;let D=null==E?void 0:E.dump({id:L,type:S},o,C,j);return D},I=(o,C)=>{let j=C.find(C=>C.source==o);if(!j)return;let w=j.targetHandle,L="JsxElement"===w.split("_")[0];return L?w:I(j.target,C)},W=(o,C,j,w,L,E)=>{var D,Z,P,N;let T=O(o,C,j,w,L),z=B(T),F=null===(P=z.getFirstDescendantByKind(S.lGB.JsxElement))||void 0===P?void 0:null===(Z=P.getOpeningElement())||void 0===Z?void 0:null===(D=Z.getAttributes())||void 0===D?void 0:D.find(o=>(null==o?void 0:o.getName)&&o.getName()==E),I=null==F?void 0:null===(N=F.getInitializer())||void 0===N?void 0:N.getText();return I},B=function(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customCode.tsx",j=new S.IKL({useInMemoryFileSystem:!0,manipulationSettings:{indentationText:S.xI4.Tab},compilerOptions:{target:S.H7j.Latest,scriptKind:S.hVH.TSX,languageVariant:S.C$L.JSX}}),w=j.createSourceFile(C,o,{overwrite:!0});return w}},18292:function(o,C,j){"use strict";j.d(C,{O:function(){return L}});var w=j(6364);let L=()=>(0,w.Z)().replace(/-/g,"")},50317:function(o,C,j){"use strict";j.d(C,{Ey:function(){return Z},HO:function(){return E},J6:function(){return S},Qq:function(){return D}});var w=j(43134),L=j(45927);let S=()=>(o,C,j)=>{var S,E,D,Z=[],P=[],N=null===(S=j.find(C=>C.target==(0,w.zv)(o)))||void 0===S?void 0:S.source;Z.push(N);var T=null===(E=j.find(o=>o.target==N))||void 0===E?void 0:E.source;Z.push(T);var z=null===(D=j.find(o=>o.target==T))||void 0===D?void 0:D.source;return z&&P.push(z),null==P||P.forEach(C=>j.push((0,L.Nl)(C,C+"-output",(0,w.zv)(o),(0,w.zv)(o)+"_request"))),C.filter(o=>!(null==Z?void 0:Z.includes(null==o?void 0:o.id)))},E=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2";return(C,j,S)=>{var E;let D=null===(E=S.find(j=>j.targetHandle==(0,w.zv)(C)+"-param"+o))||void 0===E?void 0:E.source,Z=S.find(o=>o.targetHandle==D+"_call");return Z&&(console.log("new edge: ",(0,L.Nl)((0,w.zv)(C),(0,w.zv)(C)+"_request",Z.target,Z.targetHandle)),S.push((0,L.Nl)(Z.source,Z.sourceHandle,(0,w.zv)(C),(0,w.zv)(C)+"_request"))),j.filter(o=>(null==o?void 0:o.id)!=D)}},D=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2";return(C,j,w,L,S)=>{let E=S.find(j=>j.targetHandle==C.id+"-param"+o),D=[],Z=[];if(E){let o=null==w?void 0:w.find(o=>o.id==E.source);o&&Z.push(o),D=S.filter(C=>C.source==(null==o?void 0:o.id)||C.target==(null==o?void 0:o.id))}return{nodes:[...Z,...j],edges:[...D,...L]}}},Z=()=>(o,C,j,w,L)=>{let S=[],E=[];if(L&&j){let C=L.find(C=>C.target==o.id),D=w.find(o=>o.target==(null==C?void 0:C.source)),Z=w.find(o=>o.target==(null==D?void 0:D.source));if(C&&D&&Z){let o=j.find(o=>o.id==(null==C?void 0:C.source)),w=j.find(o=>o.id==(null==D?void 0:D.source)),P=j.find(o=>o.id==(null==Z?void 0:Z.source));E.push(o),E.push(w),E.push(P),S=L.filter(C=>C.source==(null==o?void 0:o.id)||C.target==(null==o?void 0:o.id)||C.source==(null==w?void 0:w.id)||C.target==(null==w?void 0:w.id)||C.source==(null==P?void 0:P.id)||C.target==(null==P?void 0:P.id))}}return{nodes:[...E,...C],edges:[...S,...w]}}},43134:function(o,C,j){"use strict";j.d(C,{LL:function(){return I},Su:function(){return B},Tz:function(){return H},U3:function(){return W},ah:function(){return A},c8:function(){return z},dS:function(){return T},jE:function(){return F},uC:function(){return R},zv:function(){return O}});var w=j(45927),L=j(52422),S=j(18292),E=j(28261),D=j.n(E),Z=j(29691),P=j.n(Z);let N=!1,T=(o,C,j,w,E,D,Z)=>{let P={id:null!=j?j:(0,S.O)(),position:{x:o[0],y:o[1]},data:null!=w?w:{},type:C,deletable:E,selectable:E,draggable:!1};return L.$P[C]&&L.$P[C].onCreate?L.$P[C].onCreate(P,D,Z):[P]};function z(o,C,j,w,S){let E=w(o,j);if(!E)return"";let D=L.$P[E.type];D.type&&(D=D.type);let Z=D.dump(E,o,C,j,null,"json"!=S,"full");if("json"==S){let o=JSON.stringify(JSON.parse(Z),null,4);return o}let P=F(Z,S);if(P){let w=D.dump(E,o,C,j,null,!1,"full");return F(w,S)}return""}function F(o,C){let j=P().format(o,{quoteProps:"consistent",parser:"typescript",plugins:[D()]});return j}function O(o){try{return o.getKindName()+"_"+o._compilerNode.pos+"_"+o._compilerNode.end}catch(C){return o}}let I={flow:"_",data:"-"},W={prop:["ArrowFunction","CallExpression","JsxElement","JsxFragment","JsxSelfClosingElement","ObjectBindingPattern","ObjectLiteralExpression"],expression:["ArrowFunction","CallExpression","JsxElement","JsxFragment","JsxSelfClosingElement","ObjectBindingPattern","ObjectLiteralExpression"],child:["Block","JsxElement","JsxFragment","JsxSelfClosingElement"],incrementor:["BinaryExpression"],initializer:["letNode","varNode"],condition:["BinaryExpression","CallExpression"],declarationName:["ObjectBindingPattern"],accessName:["BinaryExpression","CallExpression","ElementAccessExpression"],setLeft:["ElementAccessExpression"],left:["ArrayLiteralExpression","BinaryExpression","CallExpression","ElementAccessExpression"],right:["ArrayLiteralExpression","BinaryExpression","CallExpression","ElementAccessExpression"],to:["ElementAccessExpression"],param:["ArrayLiteralExpression","ArrowFunction","BinaryExpression","CallExpression","Function","JsxElement","JsxFragment","JsxSelfClosingElement","ObjectBindingPattern","ObjectLiteralExpression","ParenthesizedExpression"],key:["SpreadAssignment"],name:["ElementAccessExpression"],value:["ArrayLiteralExpression","CallExpression","ElementAccessExpression"],block:[],request:["Block","CallExpression"],then:["BinaryExpression","Block","CallExpression"],else:["BinaryExpression","Block","CallExpression"],constructor:["MethodDeclaration"],body:["Block"],union:["TypeLiteral"]};function B(o,C,j,S,E,D,Z){let P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,T=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[I.data,I.data];if(!o||!j)return"";try{let F=O(o),I=O(j),W=E[F],B=E[I];if(W||(W={type:"node",value:{id:F}}),B||(B={type:"node",value:{id:I}}),"node"==W.type){if(Z.push((0,w.Nl)(W.value.id,"".concat(W.value.id).concat(T[0]).concat(C),B.value.id,"".concat(B.value.id).concat(T[1]).concat(S))),N)return"";var z=L.$P[F.split("_")[0]];if(!z)return"";z=z.type?z.type:z;let o=Object.keys(E).filter(o=>E[o]&&"node"==E[o].type).map(o=>E[o].value),j=z.dump({id:F,type:F.split("_")[0]},o,Z,D);return j.replace(/(\r\n|\n|\r)/gm,"")}if(P&&W._astNode)try{D[I]["trivia-"+P]=H(W._astNode)}catch(o){}return W?W.value:""}catch(w){return console.error("Error connecting nodes: ",w,o,C,j,S),""}}function H(o){let C=o.getFullText();return o.getLeadingTriviaWidth()?C.substring(0,o.getLeadingTriviaWidth()):""}function A(o,C){var j,w;return(null!==(j=o["trivia-"+C])&&void 0!==j?j:" ")+(null!==(w=o[C])&&void 0!==w?w:"")}function R(o,C,j,w,S,E,D,Z){let P=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,N=arguments.length>9&&void 0!==arguments[9]&&arguments[9],T=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"partial",z=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,F=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{},O=arguments.length>13&&void 0!==arguments[13]&&arguments[13],I="source"==C?"sourceHandle":"targetHandle",W=E.find(C=>C[I]==o.id+w+j&&C.source);if(W){let o=D.find(o=>o.id==("target"==C?W.source:W.target));if(!o)return S;let j=L.$P[o.type];j.type&&(j=j.type);let w=N?"/* JSFLOWID("+(o&&o.id?o.id:"")+") */":"",I="";if(F.fromFile=!1,j){if(!O&&Z[o.id]&&Z[o.id]._astNode){let C=Z[o.id]._astNode;F.fromFile=!0,I=H(C),F.content=I}let C=j.dump(o,D,E,Z,P,N,T,z,I);return w+("full"==T?I:"")+C}}return S}},33248:function(o,C,j){"use strict";j.d(C,{c:function(){return L},i:function(){return w}});let w=(o,C,j)=>[],L=(o,C,j)=>{}},86130:function(o,C,j){"use strict";function w(o){o<0&&(o=0);let C=o/10,j=.2*C,w=.14*C,L=.12*C;return"0px 3px 5px -1px rgba(0,0,0,".concat(j,"), \n            0px 6px 10px 0px rgba(0,0,0,").concat(w,"), \n            0px 1px 18px 0px rgba(0,0,0,").concat(L,")")}j.d(C,{p:function(){return w}})},57451:function(o,C,j){"use strict";var w;j.d(C,{f:function(){return w}}),function(o){o.block="block",o.flow="flow",o.data="data",o.spread="spread",o.method="method",o.jsx="jsx",o.binding="binding"}(w||(w={}))},1594:function(o,C,j){"use strict";j.d(C,{$N:function(){return U},GT:function(){return Y}});var w=j(52322),L=j(2784),S=j(43134),E=j(30690),D=j(52422),Z=j(45823),P=j(96169),N=j(20477),T=j(1674),z=j(77044),F=j(99272),O=j(8939),I=j(66306),W=j(84291),B=j(97732),H=j(72405),A=j(10956),R=j(88724),J=j(81395),M=j(83030),$=j(38519),K=o=>{let{nodeData:C,maskType:j}=o,S=Object.keys(C).filter(o=>o.startsWith("prop")).map(o=>({label:C[o].key,field:C[o].key,fieldType:"prop",staticLabel:!0})),[E,D]=(0,L.useState)(S),[Z,P]=(0,L.useState)(void 0),[N,T]=(0,L.useState)(""),z=[void 0,...(0,$.Ep)()],B=()=>{P(""),T("")},R=()=>{if(N){var o={label:N,field:N,fieldType:"prop",staticLabel:!0};Z&&(o.type=Z),E.push(o),D([...E]),B()}},J=(o,C,j)=>{var w=[...E];"field"==C&&(w[o].label=j),"type"==C&&"default"==j?delete w[o][C]:w[o][C]=j,D(w)},M=o=>{let C=E.filter(C=>C.field!=o);D(C)},K=o=>{o||(D(S),B())},U=()=>{let o=E.map(o=>({...o,field:"prop-"+o.field})),w=o.filter(o=>o.type),L=o.filter(o=>!o.type);fetch("/adminapi/v1/mask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:C.name,title:C.name,path:"*",type:j,filter:{name:C.name},body:[{type:"custom-field",data:w},{type:"prop",data:L},{type:"child",data:[]}]})}).then(o=>o.json()).then(o=>console.log(o))};return(0,w.jsxs)(F.Vq,{modal:!0,onOpenChange:K,children:[(0,w.jsx)(F.Vq.Trigger,{asChild:!0,children:(0,w.jsx)(O.FA,{justifyContent:"center",children:(0,w.jsx)(I.zx,{chromeless:!0,alignSelf:"center",theme:"blue",mb:"$3",children:(0,w.jsx)(A.Z,{fillOpacity:0,color:(0,H.Z)("interactiveColor")})})})}),(0,w.jsxs)(F.Vq.Portal,{zIndex:999999999,overflow:"hidden",children:[(0,w.jsx)(F.Vq.Overlay,{}),(0,w.jsxs)(F.Vq.Content,{bordered:!0,elevate:!0,animateOnly:["transform","opacity"],enterStyle:{x:0,y:-20,opacity:0,scale:.9},exitStyle:{x:0,y:10,opacity:0,scale:.95},gap:"$4",maxWidth:600,children:[(0,w.jsx)(F.Vq.Title,{children:"Create a mask"}),(0,w.jsx)(F.Vq.Description,{children:'When you click on create, a mask will be generated for the "'+C.name+'" component. Any unsaved changes will be lost.'}),(0,w.jsx)(F.Vq.Description,{children:"Properties: "}),(0,w.jsxs)(O.FA,{children:[(0,w.jsx)(O.FA,{overflow:"scroll",maxHeight:"$18",overflowX:"hidden",children:E.map((o,C)=>(0,w.jsx)(V,{onChange:J,index:C,item:o,selectItems:z,onDelete:M}))}),(0,w.jsxs)(O.sL,{gap:"$3",alignItems:"center",children:[(0,w.jsx)(W.II,{value:N,onChangeText:T,placeholder:"prop name..."}),(0,w.jsx)(G,{value:Z,onValueChange:P,items:z}),(0,w.jsx)(I.zx,{size:"$4",onPress:R,theme:"blue",children:"Add"})]})]}),(0,w.jsx)(F.Vq.Close,{displayWhenAdapted:!0,asChild:!0,children:(0,w.jsx)(I.zx,{theme:"blue",onPress:U,children:"Create"})})]})]})]})};let V=o=>{let{item:C,selectItems:j,onChange:S,index:E,onDelete:D}=o,[Z,P]=(0,L.useState)(C.field);return(0,w.jsxs)(O.sL,{gap:"$3",marginBottom:"$3",children:[(0,w.jsx)(W.II,{value:Z,onBlur:()=>S(E,"field",Z),onChangeText:P,placeholder:"prop name..."}),(0,w.jsx)(G,{value:null==C?void 0:C.type,onValueChange:o=>S(E,"type",o),items:j}),(0,w.jsx)(I.zx,{size:"$4",onPress:()=>D(C.field),icon:R.Z})]},C.field)},G=o=>{let{value:C,onValueChange:j,items:S}=o;return(0,w.jsxs)(B.Ph,{value:null!=C?C:"default",onValueChange:j,disablePreventBodyScroll:!0,children:[(0,w.jsx)(B.Ph.Trigger,{width:220,iconAfter:J.Z,children:(0,w.jsx)(B.Ph.Value,{placeholder:"default"})}),(0,w.jsx)(B.Ph.Content,{zIndex:9999999999,children:(0,w.jsx)(B.Ph.Viewport,{children:(0,w.jsxs)(B.Ph.Group,{children:[(0,w.jsx)(B.Ph.Label,{children:"Types"}),(0,L.useMemo)(()=>S.map((o,C)=>{var j;let L=null!=o?o:"default";return(0,w.jsxs)(B.Ph.Item,{index:C,value:null!==(j=null==o?void 0:o.toLowerCase())&&void 0!==j?j:"default",children:[(0,w.jsx)(B.Ph.ItemText,{children:L}),(0,w.jsx)(B.Ph.ItemIndicator,{marginLeft:"auto",children:(0,w.jsx)(M.Z,{size:16})})]},o)}),[S])]})})})]})},U=o=>{let C="JsxSelfClosingElement"==o,j=o=>{var C;let{id:j,type:S}=o,N=(0,L.useContext)(Z.p),F=N(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),O=[{label:"TagName",static:!0,field:"name",type:"input",description:"JsxElement name"}],I=Object.keys(F).filter(o=>o.startsWith("prop-")).map((o,C)=>({label:o.substr(5),field:o,fieldType:"prop",deleteable:!0})),W=Object.keys(F).filter(o=>o.startsWith("child-")).map((o,C)=>({label:"Child"+(C+1),field:o,fieldType:"child",deleteable:!0})),B=O.concat(I),H=W;return(0,w.jsxs)(E.ZP,{headerContent:(0,w.jsx)("div",{children:"hello"}),icon:T.Z,node:o,isPreview:!j,title:"<x ...></x>",id:j,color:D.TT[S],children:[z.r0&&(0,w.jsx)(K,{nodeData:F,maskType:"JsxElement"}),(0,w.jsx)(E.kz,{id:j,params:B}),(0,w.jsx)(P.Z,{id:j,nodeData:F,type:"Prop"}),(0,w.jsx)(E.kz,{id:j,params:H}),(0,w.jsx)(P.Z,{id:j,nodeData:F,type:"Child"})]})};return j.keyWords=["jsx","jsxelement","react","tsx","fragment","selfclosed"],j.getData=(o,j,w,L)=>{var E,D,Z,P;let T={name:C?null==o?void 0:null===(E=o.getTagNameNode())||void 0===E?void 0:E.getText():null==o?void 0:null===(Z=o.getOpeningElement())||void 0===Z?void 0:null===(D=Z.getTagNameNode())||void 0===D?void 0:D.getText()},z=C?null==o?void 0:o.getAttributes():null==o?void 0:null===(P=o.getOpeningElement())||void 0===P?void 0:P.getAttributes(),F=null==z?void 0:z.reduce((C,E,D)=>{let Z,P,N;if("JsxSpreadAttribute"==E.getKindName())P="prop-spreaded-"+D,Z="",N={value:E.getText()};else{var T,z=null==E?void 0:E.getInitializer();N=Q(z),P="prop-"+(Z=E.getNameNode().getText()),N||(N={value:null!==(T=(0,S.Su)(null==z?void 0:z.getExpression(),"output",o,P,j,w,L,P))&&void 0!==T?T:""})}return{...C,[P]:{key:null!=Z?Z:"",...N}}},{}),O=o.getChildrenOfKind(N.lGB.SyntaxList)[0],I=C?[]:O.getChildren(),W=I.filter(o=>["JsxElement","JsxSelfClosingElement","JsxExpression","JsxFragment","JsxText"].includes(o.getKindName())&&o.getText()),B=null==W?void 0:W.reduce((C,E,D)=>{let Z="child-".concat(D+1);return{...C,[Z]:(0,S.Su)(E,"output",o,Z,j,w,L,Z)}},{});return{...T,...F,...B}},j.dump=function(o,j,w,L){var E,D,Z,P,N;let T=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],F=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",O=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,I=null!==(Z=L[o.id])&&void 0!==Z?Z:{},W=null==I?void 0:I.name,B=null!==(P=null===(E=I._fallBack)||void 0===E?void 0:E.reduce((C,E)=>{let D=(0,S.uC)(o,E.type,E.fallbackPort,E.portType,null,w,j,L,T,!1,"full");return C=D?C+(E.preText+D+E.postText)+" ":C+E.fallbackText+" "},""))&&void 0!==P?P:"",H=null!==(N=null===(D=I._fallBack)||void 0===D?void 0:D.map(o=>o.port))&&void 0!==N?N:[],A=Object.keys(I).filter(o=>o.startsWith("prop-")&&!H.includes(o)).reduce((C,E)=>{var D,Z,P,N,W,B;let H;if(E.startsWith("prop-spreaded"))H=(0,S.uC)(o,"target",E,S.LL.data,null!==(Z=null===(D=I[E])||void 0===D?void 0:D.value)&&void 0!==Z?Z:"",w,j,L,T,z,F,O);else{let D;let Z=null!==(N=null===(P=I[E])||void 0===P?void 0:P.key)&&void 0!==N?N:E.replace("prop-",""),A=X(I[E]);if(A)D=A;else{let C=(0,S.uC)(o,"target",E,S.LL.data,null!==(B=null===(W=I[E])||void 0===W?void 0:W.value)&&void 0!==B?B:"",w,j,L,T,z,F,O);D=C?"{"+C+"}":void 0}if(H=D?"".concat(Z,"=").concat(D," "):"".concat(Z),!Z)return C}return C+H},""),R=Object.keys(I).filter(o=>o.startsWith("child-")).reduce((C,E)=>{var D;return C+"	"+(0,S.uC)(o,"target",E,S.LL.data,null!==(D=I[E])&&void 0!==D?D:"",w,j,L,T,z,F,O)+"\n"},""),J=C?"/>":">\n".concat(R,"</").concat(W,">");return"<".concat(W," ")+B+A+J+(0,S.uC)(o,"source","output",S.LL.flow,"",w,j,L,T,z,F,O)},j};function Y(o){switch(typeof o){case"number":return"NumericLiteral";case"string":return"StringLiteral";case"boolean":return"TrueKeyword";case"object":return Array.isArray(o)?"ArrayLiteralExpression":"ObjectLiteralExpression"}}function X(o){if(!o)return;let C=o.kind;var j=o.value;switch(C){case"StringLiteral":return'"'+j+'"';case"NumericLiteral":case"TrueKeyword":case"FalseKeyword":case"Identifier":break;default:return}return"{"+j+"}"}function Q(o){let C;var j,w=null==o?void 0:o.getKindName();if("StringLiteral"===w)C=null==o?void 0:o.getLiteralValue(),j=w;else{let w=null==o?void 0:o.getExpression();switch(j=null==w?void 0:w.getKindName()){case"StringLiteral":case"NumericLiteral":case"TrueKeyword":case"FalseKeyword":C=w.getLiteralValue();break;case"Identifier":C=w.getText();break;default:return}}return{value:C,kind:j}}U("JsxElement")},64920:function(o,C,j){"use strict";j.d(C,{U:function(){return w}});let w=[{id:"ActionFetch",title:"ActionFetch",path:"*",type:"CallExpression",filter:{to:"actionFetch"},body:[{type:"api",data:{label:"url",field:"param1",apiUrl:"api/v1/endpoints",list:"return `'` + res.path + `'`"}},{type:"link",data:{text:"Need to create an API?",url:"/admin/apis"}}],initialData:{to:"actionFetch",param1:""}}],L=(o,C,j)=>{if(!o)return null;let w=null==j?void 0:j.find(j=>j.check(o,C));return w||null};C.Z=L},52422:function(o,C,j){"use strict";j.d(C,{$P:function(){return tM},ZP:function(){return tV},TT:function(){return tK}});var w=j(52322),L=j(2784),S=j(43134),E=j(30690),D=j(96169),Z=j(45823),P=j(76066);let N=o=>{var C;let{id:j,type:S}=o,N=(0,L.useContext)(Z.p),T=N(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),z=Object.keys(T).filter(o=>o.startsWith("param")),F=z.reduce((o,C)=>{let j=parseInt(C.replace(/\D/g,""),10)>o?parseInt(C.replace(/\D/g,""),10):o;return j},1)+1,O=[{label:"To",field:"to",type:"input",description:"Identifier name. Leave empty to access current scope"}].concat(z.map((o,C)=>({label:"Params[".concat(C+1,"]"),field:o,type:"input",deleteable:!0})));return(0,w.jsxs)(E.ZP,{icon:P.Z,node:o,isPreview:!j,title:(T.to?T.to:"x")+"("+z.map(o=>T[o]?T[o]:"...").join(",")+")",id:j,color:tK[S],children:[(0,w.jsx)(E.kz,{id:j,params:O}),(0,w.jsx)(D.Z,{keyId:"param"+F,id:j,nodeData:T})]})};function T(o){if(!o)return"";let C=o.getSourceFile().getFullText(),j=o.getLastChild();if(j&&"CloseParenToken"===j.getKindName()){let o=j.getLeadingTriviaWidth(),w=C.substring(j.getPos(),j.getPos()+o);return w}return""}N.keyWords=["call"],N.defaultHandle=S.LL.data+"to",N.getData=(o,C,j,w)=>({to:(0,S.Su)(o.getExpression(),"output",o,"to",C,j,w,"to"),...o.getArguments().reduce((L,E,D)=>({...L,["param"+(D+1)]:(0,S.Su)(E,"output",o,"param"+(D+1),C,j,w,"param"+(D+1))}),{})}),N.dump=function(o,C,j,w){var L,E;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,z=null!==(L=w[o.id])&&void 0!==L?L:{},F=Object.keys(z).sort(),O=F.filter(o=>o.startsWith("param")).sort((o,C)=>o.localeCompare(C,"en",{numeric:!0})).map(L=>{let E;let T=z._fallBack?z._fallBack.find(o=>o.port==L):null;if(T){let L=(0,S.uC)(o,T.type,T.fallbackPort,T.portType,null,j,C,w,D,Z,P,N);E=L?T.preText+L+T.postText:T.fallbackText}else E=(0,S.uC)(o,"target",L,S.LL.data,(0,S.ah)(z,L),j,C,w,D,Z,P,N);return E}),I=(0,S.uC)(o,"target","to",S.LL.data,null!==(E=null==z?void 0:z.to)&&void 0!==E?E:"",j,C,w,D,Z,P,N);return I?I+"("+O.join(",")+T(z._astNode)+")":""+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,D,Z,P,N)};var z=(0,L.memo)(N),F=j(10729),O=j(51442),I=j(38757);let W=o=>{let C=o=>"="==o?"setLeft":"left",j=j=>{var S,D,P;let{id:N,type:T}=j,z={"+":"operator","-":"operator","*":"operator","/":"operator","%":"operator","<=":"operator","==":"operator","===":"operator","!=":"operator","!==":"operator",">=":"operator","||":"operator","&&":"operator","|":"operator","&":"operator",">":"operator","<":"operator","**":"operator","**=":"operator","-=":"operator","+=":"operator","/=":"operator","*=":"operator","=":"set",".":"property",instanceof:"operator","??":"operator"},W={operator:"Value",set:"Value",property:"Property"},B=(0,L.useContext)(Z.p),H=B(o=>null!==(S=o.nodeData[N])&&void 0!==S?S:{}),A=(0,F.Mi)(),R=z[null!==(D=H.operator)&&void 0!==D?D:o],J=null!==(P=H.operator)&&void 0!==P?P:o,M=[{label:"operator"==R?"Value":"Variable",field:C(J),type:"input",fieldType:H.leftType}];return"operator"==R&&M.push({field:"operator",type:"select",data:["+","-","*","/",">","<","<=","==","!=","===","!==",">=","||","&&","|","&","instanceof",""],static:!0}),M.push({label:W[R],field:"right",type:"input",fieldType:H.rightType}),(0,w.jsx)(E.ZP,{icon:"operator"==R?O.Z:I.Z,node:j,isPreview:!N,title:"operator"==R?(!(0,E.FW)(N,C(J),A)&&H[C(J)]?H[C(J)]:"...")+(H.operator?" "+H.operator+" ":" + ")+(!(0,E.FW)(N,"right",A)&&H.right?H.right:"..."):R,id:N,params:M,color:tK[T]})};return j.keyWords=["+","-","*","/",">","<","<=","==","!=","===","!==",">=","||","&&","|","&","set","operator","set","property","instanceof"],j.defaultHandle=S.LL.data+C(o),j.getData=(o,j,w,L)=>{let E=o.getOperatorToken().getText();return{operator:E,[C(E)]:(0,S.Su)(o.getLeft(),"output",o,C(E),j,w,L,C(E)),right:(0,S.Su)(o.getRight(),"output",o,"right",j,w,L,"right"),leftType:o.getLeft().getKindName(),rightType:o.getRight().getKindName(),operatorTrivia:(0,S.Tz)(o.getOperatorToken())}},j.dump=function(j,w,L,E){var D;let Z=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,P=arguments.length>5&&void 0!==arguments[5]&&arguments[5],N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,z=E[j.id],F=null!==(D=z.operator)&&void 0!==D?D:o,O=(0,S.uC)(j,"target",C(F),S.LL.data,z[C(F)],L,w,E,Z,P,N,T,{},!0),I=(0,S.uC)(j,"target","right",S.LL.data,(0,S.ah)(z,"right"),L,w,E,Z,P,N,T);return O+(void 0!==z.operatorTrivia&&"full"==N?z.operatorTrivia:"")+F+I+(0,S.uC)(j,"source","output",S.LL.flow,"",L,w,E,Z,P,N,T)},j};W("+");let B=o=>{let C=C=>{var j,S,D;let{id:P,type:N}=C,T=(0,L.useContext)(Z.p),z=T(o=>null!==(j=o.nodeData[P])&&void 0!==j?j:{}),O=null!==(S=z.type)&&void 0!==S?S:o;(0,F.Mi)();let W=Object.keys(z).filter(o=>o.startsWith("declarationName")),B=W.length?W:["declarationName1"];console.log("mobx: ",z);let H=[{label:"Type",field:"type",type:"select",data:["let","const","var"],static:!0}].concat(B.reduce((o,C,j)=>o=(o=o.concat({label:"Variable "+(j>0?"(".concat(j+1,")"):""),field:C,type:"input",static:"const"!=O})).concat({label:"Value "+(j>0?"(".concat(j+1,")"):""),field:"value".concat(j+1),fieldType:"input"}),[]),{label:"Export",field:"export",type:"boolean",static:!0});return(0,w.jsx)(E.ZP,{icon:I.Z,node:C,isPreview:!P,title:((null==z?void 0:z.export)?"export ":"")+O+" "+B.map(o=>z[o]).join(","),id:P,params:H,color:null!==(D=tK[O+"Node"])&&void 0!==D?D:tK[N]})};C.keyWords=["const","let","var"],C.getData=(o,C,j,w)=>{let L=o.getChildren()[0].getText(),E=o.getDeclarations().reduce((L,E,D)=>{let Z=E.getInitializer(),P=E.getName(),N=E.getTypeNode(),T=E.getChildren(),z=T.length>2?(0,S.Tz)(T[1]):" ",F="value".concat(D+1),O="declarationName".concat(D+1),I="type".concat(D+1),W={[O]:P,["opTrivia".concat(D+1)]:z};return Z&&(W={...W,[F]:(0,S.Su)(Z,"output",o,F,C,j,w,F)}),N&&(W={...W,[I]:N.getText()}),{...L,...W}},{});return{type:L,...E,export:!!o.getParent().getModifiers&&!!o.getParent().getModifiers().find(o=>"export"==o.getText())}};let j=o=>o?":"+o.trim():"";return C.dump=function(C,w,L,E){let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=E[C.id];var z,F=Object.keys(T).filter(o=>o.startsWith("declarationName"));if(!F.length)return"";let O=F.reduce((o,z,O)=>{let I="value".concat(O+1),W="type".concat(O+1),B="opTrivia".concat(O+1),H=(0,S.uC)(C,"target",I,S.LL.data,(0,S.ah)(T,I),L,w,E,D,Z,P,N);return console.log("value in vardec: ["+H+"]"),o+T[z]+j(T[W])+(""===H||void 0===H||" "==H?"":(void 0!==T[B]?T[B]:" ")+"="+H)+(F.length==O+1?"":", ")},"");return(T.export?"export ":"")+(null!==(z=T.type)&&void 0!==z?z:o)+" "+O},C},H=B("const");var A=(0,L.memo)(H),R=j(56881);let J=o=>{let{id:C,type:j}=o,L=[{label:"Name",field:"name",type:"input"},{label:"Property",field:"prop",type:"input"}];return(0,w.jsx)(E.ZP,{icon:R.Z,node:o,isPreview:!C,title:"property",color:tK[j],id:C,params:L})};J.keyWords=["property"],J.getData=(o,C,j,w)=>{let L=o.getNameNode(),E=o.getExpression();return"data"==C[(0,S.zv)(E)].type&&"data"==C[(0,S.zv)(L)].type?{type:"data",value:C[(0,S.zv)(E)].value+"."+C[(0,S.zv)(L)].value}:{name:(0,S.Su)(L,"output",o,"name",C,j,w,"name"),prop:(0,S.Su)(E,"output",o,"prop",C,j,w,"prop")}},J.checkCreate=(o,C)=>"data"!=C[(0,S.zv)(o)].type,J.dump=function(o,C,j,w){var L,E,D,Z;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,N=arguments.length>5&&void 0!==arguments[5]&&arguments[5],T=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,F=w[o.id],O=null!==(E=(0,S.uC)(o,"target","name",S.LL.data,null!==(L=null==F?void 0:F.name)&&void 0!==L?L:"",j,C,w,P,N,T,z))&&void 0!==E?E:"";return(null!==(Z=(0,S.uC)(o,"target","prop",S.LL.data,null!==(D=null==F?void 0:F.prop)&&void 0!==D?D:"",j,C,w,P,N,T,z))&&void 0!==Z?Z:"")+"."+O+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,P,N,T,z)};var M=(0,L.memo)(J),$=j(18292),K=j(20477),V=j(69498);let G=o=>{var C;let{id:j,type:S}=o,P="ArrowFunction"==S,N=(0,L.useContext)(Z.p),T=N(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),z=P?[]:[{label:"Name",static:!0,field:"name",type:"input",description:"Function name"}],F=z.concat(Object.keys(T).filter(o=>o.startsWith("param-")).map((o,C)=>({label:T[o].isBindingPattern?"".concat("Params["+(C+1)+"]"):o.substr(6),field:o,fieldType:"parameter",deleteable:!0})));return(0,w.jsxs)(E.ZP,{icon:V.Z,node:o,isPreview:!j,title:P?"=>":T.name?T.name:"function",id:j,color:tK[S],children:[(0,w.jsx)(E.kz,{id:j,params:[{label:"Call",field:"call",fieldType:"call",type:"input"}]}),(0,w.jsx)(E.kz,{id:j,params:F}),"FunctionExpression"!=S?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(E.kz,{id:j,params:[{label:"Async",field:"async",type:"boolean",static:!0}],boxStyle:{marginTop:"40px"}}),(0,w.jsx)(E.kz,{id:j,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),T.export?(0,w.jsx)(E.kz,{id:j,params:[{label:"isDefault",field:"isDefault",type:"boolean",static:!0}]}):null]}):(0,w.jsx)("div",{style:{marginTop:"26px"}}),(0,w.jsx)(D.Z,{id:j,nodeData:T})]})};G.keyWords=["function","=>","arrow"],G.getData=(o,C,j,w)=>{let L=(0,S.zv)(o.getBody()),E=(0,S.Su)(L,"output",o,"call",C,j,w,null,[S.LL.data,S.LL.flow]);return{...o.getParameters().reduce((L,E,D)=>{let Z=(0,$.O)(),P=E.getInitializer(),N=E.getName(),T=E.getTypeNode(),z=T?T.getText():null,F=!!E.getDescendantsOfKind(K.lGB.ObjectBindingPattern).length;return F&&(N=E.getDescendantsOfKind(K.lGB.ObjectBindingPattern)[0]),{...L,["param-"+Z]:{key:F?(0,S.Su)(N,"output",o,"param-"+Z,C,j,w,"key"):E.getName(),value:P?(0,S.Su)(P,"output",o,"param-"+Z,C,j,w,"value"):"",isBindingPattern:F,type:z}}},{name:o.getName&&void 0!=o.getName()?o.getName():"",export:!!o.getModifiers&&!!o.getModifiers().find(o=>"export"==o.getText()),isDefault:!!o.getModifiers&&!!o.getModifiers().find(o=>"default"==o.getText()),async:!!o.getModifiers().find(o=>"AsyncKeyword"==o.getKindName()),call:E,type:o.getReturnTypeNode()?o.getReturnTypeNode().getText():null})}},G.dump=function(o,C,j,w){var L,E;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=null!==(L=w[o.id])&&void 0!==L?L:{},z=Object.keys(T).filter(o=>o.startsWith("param")).map(L=>{let E;if(T[L].isBindingPattern){let z=(0,S.uC)(o,"target",L,S.LL.data,T[L].value,j,C,w,D,Z,P,N);E=z+(T[L].type?":".concat(T[L].type):"")}else{let z=(0,S.uC)(o,"target",L+"-key",S.LL.data,T[L].key,j,C,w,D,Z,P,N),F=(0,S.uC)(o,"target",L,S.LL.data,T[L].value,j,C,w,D,Z,P,N);E=z+(T[L].type?":".concat(T[L].type):"")+(F?"="+F:"")}return E}),F=(0,S.uC)(o,"target","call",S.LL.flow,null!==(E=T.call)&&void 0!==E?E:"{}",j,C,w,D,Z,P,N,{},!0),O=(T.export?"export ":"")+(T.export&&T.isDefault?"default ":"")+(T.async?"async ":"");return"ArrowFunction"==o.type?O+="("+z.join(",")+") => "+F:O+="function "+T.name+"("+z.join(",")+") "+(T.type?":"+T.type+" ":"")+F,O+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,D,Z,P,N)};var U=(0,L.memo)(G);let Y=o=>{let{id:C,type:j}=o;return(0,w.jsx)(w.Fragment,{})};Y.getData=(o,C,j)=>{let w=o.getInitializer();return w?C[(0,S.zv)(w)]:{type:"data",value:""}},Y.isShadow=(o,C,j,w)=>!0;var X=(0,L.memo)(Y),Q=j(18010),ee=j(57451),et=j(72405);let el=260,ei=o=>{var C;let{id:j,type:D}=o,P=[{label:"Condition",field:"condition",type:"input"}],N=(0,et.Z)("nodeFontSize"),T=(0,L.useContext)(Z.p),z=T(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),F=T(o=>o.nodeData[j]&&o.nodeData[j]._metadata?o.nodeData[j]._metadata:{childHeight:0,childHeights:[]}),O=(o,C)=>F.childHeights.find(w=>{var L,S;return(null===(S=w.node)||void 0===S?void 0:null===(L=S.edge)||void 0===L?void 0:L.targetHandle)==j+C+o}),I=()=>{if(!j)return;if(!F.childHeight)return el;let o=O("condition",S.LL.data),C=O("then",S.LL.flow);return Math.max(el,(o?o.height:0)+(C?Math.min(10*N,C.height):0))},W=(o,C)=>{let j=O(o,S.LL.flow);return j?j.delta.y+2*N:C},B=I();return(0,w.jsxs)(E.ZP,{style:{minHeight:B+"px"},icon:Q.Z,node:o,isPreview:!j,title:j?"if ( "+z.condition+" )":"if",id:j,color:tK[D],dataOutput:ee.f.flow,children:[(0,w.jsx)(E.kz,{id:j,params:P,boxStyle:{marginTop:"0px",marginBottom:"20px"}}),(0,w.jsx)(E._t,{id:j,type:"input",label:"Then",style:{top:W("then",8*N)+"px"},handleId:"then"}),(0,w.jsx)(E._t,{id:j,type:"input",label:"Else",style:{top:Math.max(0,B-N)+"px"},handleId:"else"})]})};ei.keyWords=["if"],ei.getData=(o,C,j,w)=>{var L,E,D,Z;(0,S.zv)(o);let P=null===(E=C[(0,S.zv)(o.getThenStatement())])||void 0===E?void 0:null===(L=E.value)||void 0===L?void 0:L.id,N=null===(Z=C[(0,S.zv)(o.getElseStatement())])||void 0===Z?void 0:null===(D=Z.value)||void 0===D?void 0:D.id;return P&&(0,S.Su)(P,"output",o,"then",C,j,w,null,[S.LL.data,S.LL.flow]),N&&(0,S.Su)(N,"output",o,"else",C,j,w,null,[S.LL.data,S.LL.flow]),{condition:(0,S.Su)(o.getExpression(),"output",o,"condition",C,j,w,"condition")}},ei.dataOutput=ee.f.flow,ei.dump=function(o,C,j,w){var L;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id],T=(0,S.uC)(o,"target","condition",S.LL.data,null!==(L=null==N?void 0:N.condition)&&void 0!==L?L:"",j,C,w,E,D,Z,P),z=(0,S.uC)(o,"target","then",S.LL.flow,"",j,C,w,E,D,Z,P),F=(0,S.uC)(o,"target","else",S.LL.flow,"",j,C,w,E,D,Z,P),O="";return F&&(O=" else "+F),"if("+T+")"+z+O+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,E,D,Z,P)},ei.getChildPosition=(o,C,j,w,L)=>(w.edge.targetHandle==o.id+S.LL.flow+"then"&&o.position.y==C.y&&(C.y+=120),C);var en=(0,L.memo)(ei),ea=j(19753);let eo=o=>{let{id:C,type:j}=o,L=[{label:"Error",field:"error",type:"input",static:!0}];return(0,w.jsxs)(E.ZP,{icon:ea.Z,node:o,isPreview:!C,title:"try",id:C,color:tK[j],dataOutput:ee.f.flow,children:[(0,w.jsx)(E.kz,{id:C,params:L,boxStyle:{marginTop:"70px",marginBottom:"30px"}}),(0,w.jsx)(E._t,{id:C,type:"input",label:"Try",style:{top:"60px"},handleId:"try"}),(0,w.jsx)(E._t,{id:C,type:"input",label:"Catch",style:{top:"90px"},handleId:"catch"})]})};eo.keyWords=["try"],eo.getData=(o,C,j,w)=>{var L,E,D,Z,P;let N=null===(E=C[(0,S.zv)(o.getTryBlock())])||void 0===E?void 0:null===(L=E.value)||void 0===L?void 0:L.id,T=null===(Z=C[(0,S.zv)(o.getCatchClause().getBlock())])||void 0===Z?void 0:null===(D=Z.value)||void 0===D?void 0:D.id;return{try:(0,S.Su)(N,"output",o,"try",C,j,w,"try",[S.LL.data,S.LL.flow]),catch:(0,S.Su)(T,"output",o,"catch",C,j,w,"catch",[S.LL.data,S.LL.flow]),error:null===(P=o.getCatchClause())||void 0===P?void 0:P.getVariableDeclaration().getFullText()}},eo.dataOutput=ee.f.flow,eo.dump=function(o,C,j,w){let L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,E=arguments.length>5&&void 0!==arguments[5]&&arguments[5],D=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,P=w[o.id],N=(0,S.uC)(o,"target","try",S.LL.flow,"",j,C,w,L,E,D,Z),T=(0,S.uC)(o,"target","catch",S.LL.flow,"",j,C,w,L,E,D,Z);var z,F=(0,S.uC)(o,"source","error",S.LL.data,null!==(z=null==P?void 0:P.error)&&void 0!==z?z:"",j,C,w,L,E,D,Z);return F||(F="e"),"try "+N+"catch("+F+") "+T+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,L,E,D,Z)};var er=(0,L.memo)(eo);let eu=o=>{var C;let{id:j,type:S}=o,P=(0,L.useContext)(Z.p),N=P(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),T=[{label:"Expression",field:"expression",type:"input"}].concat(Object.keys(N).filter(o=>o.startsWith("case-")).reduce((o,C,j)=>o=(o=o.concat({label:"case",field:C,type:"input",deleteable:!0})).concat({label:":",field:"block".concat(j),fieldType:"clause"}),[])),z=[{label:"default :",field:"defaultBlock",fieldType:"clause"}];return(0,w.jsxs)(E.ZP,{icon:Q.Z,node:o,isPreview:!j,title:"switch",id:j,color:tK[S],dataOutput:ee.f.flow,children:[(0,w.jsx)(E.kz,{id:j,params:T,boxStyle:{marginTop:"10px"}}),(0,w.jsx)(D.Z,{id:j,nodeData:N,type:"Case",style:{marginBottom:"20px"}}),(0,w.jsx)(E.kz,{id:j,params:z,boxStyle:{marginBottom:"10px"}})]})};eu.keyWords=["switch"],eu.getData=(o,C,j,w)=>{let L=o.getCaseBlock().getClauses(),E={};return L&&(E=L.reduce((L,E,D)=>{if("CaseClause"!=E.getKindName())return{...L,defaultBlock:(0,S.Su)(E,"output",o,"defaultBlock"+S.LL.flow+"output",C,j,w,"defaultBlock",[S.LL.data,S.LL.flow])};{let Z="case-".concat(D+1),P="block".concat(D),N=E.getExpression();return{...L,[Z]:(0,S.Su)(N,"output",o,Z,C,j,w,Z),[P]:(0,S.Su)(E,"output",o,P+S.LL.flow+"output",C,j,w,P,[S.LL.data,S.LL.flow])}}},{})),{expression:(0,S.Su)(o.getExpression(),"output",o,"expression",C,j,w,"expression"),...E}},eu.dataOutput=ee.f.flow,eu.dump=function(o,C,j,w){var L,E,D;let Z=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,P=arguments.length>5&&void 0!==arguments[5]&&arguments[5],N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,z=null!==(L=w[o.id])&&void 0!==L?L:{},F=(0,S.uC)(o,"target","expression",S.LL.data,null!==(E=null==z?void 0:z.expression)&&void 0!==E?E:"",j,C,w,Z,P,N,T,{}),O="defaultBlock"+S.LL.flow+"output",I=(0,S.uC)(o,"target",O,S.LL.flow,null!==(D=z.defaultBlock)&&void 0!==D?D:"",j,C,w,Z,P,N,T,{}),W=I?"default: \n"+I+"\n":"",B=Object.keys(z).filter(o=>o.startsWith("case")).map((L,E)=>{var D,F;let O=(0,S.uC)(o,"target",L,S.LL.data,null!==(D=z[L])&&void 0!==D?D:"",j,C,w,Z,P,N,T,{},!1),I="block".concat(E),W=I+S.LL.flow+"output",B={},H=(0,S.uC)(o,"target",W,S.LL.flow,null!==(F=z[I])&&void 0!==F?F:"",j,C,w,Z,P,N,T,B);return"\n"+"	".repeat(T)+"case "+O+":\n"+H.replace(/^[\n\r\t]+/,"")});return"switch("+F+") {"+B.join("")+W+"\n}"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,Z,P,N,T)};var ec=(0,L.memo)(eu);let ep=o=>{let{id:C,type:j}=o,L=[{label:"Condition",field:"condition",type:"input"},{label:"When true",field:"whenTrue",type:"input"},{label:"When false",field:"whenFalse",type:"input"}];return(0,w.jsx)(E.ZP,{icon:Q.Z,node:o,isPreview:!C,title:"ternary",params:L,id:C,color:tK[j]})};ep.keyWords=["ternary"],ep.getData=(o,C,j,w)=>({condition:(0,S.Su)(null==o?void 0:o.getCondition(),"output",o,"condition",C,j,w,"condition"),whenTrue:(0,S.Su)(null==o?void 0:o.getWhenTrue(),"output",o,"whenTrue",C,j,w,"whenTrue"),whenFalse:(0,S.Su)(null==o?void 0:o.getWhenFalse(),"output",o,"whenFalse",C,j,w,"whenFalse")}),ep.dump=function(o,C,j,w){var L,E,D;let Z=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,P=arguments.length>5&&void 0!==arguments[5]&&arguments[5],N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,z=w[o.id];return(0,S.uC)(o,"target","condition",S.LL.data,null!==(L=null==z?void 0:z.condition)&&void 0!==L?L:"",j,C,w,Z,P,N,T)+"?"+(0,S.uC)(o,"target","whenTrue",S.LL.data,null!==(E=null==z?void 0:z.whenTrue)&&void 0!==E?E:"",j,C,w,Z,P,N,T)+":"+(0,S.uC)(o,"target","whenFalse",S.LL.data,null!==(D=null==z?void 0:z.whenFalse)&&void 0!==D?D:"",j,C,w,Z,P,N,T)+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,Z,P,N,T)};var ef=(0,L.memo)(ep),eh=j(13410);let eg=o=>{var C,j,S;let{id:D,type:P}=o,N=(0,L.useContext)(Z.p),T=N(o=>null!==(C=o.nodeData[D])&&void 0!==C?C:{}),z=[{label:"Variable",field:"accessName",type:"input"},{label:"Key",field:"key",type:"input",fieldType:T.fieldType}];return(0,w.jsx)(E.ZP,{icon:eh.Z,node:o,isPreview:!D,title:(null!==(j=null==T?void 0:T.accessName)&&void 0!==j?j:"x")+"["+(null!==(S=null==T?void 0:T.key)&&void 0!==S?S:"y")+"]",id:D,params:z,color:tK[P]})};eg.keyWords=["[]"],eg.getData=(o,C,j,w)=>({accessName:(0,S.Su)(o.getExpression(),"output",o,"accessName",C,j,w,"accessName"),key:(0,S.Su)(o.getArgumentExpression(),"output",o,"key",C,j,w,"key")}),eg.dump=function(o,C,j,w){var L,E;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=w[o.id];return(0,S.uC)(o,"target","accessName",S.LL.data,null!==(L=null==T?void 0:T.accessName)&&void 0!==L?L:"",j,C,w,D,Z,P,N)+"["+(0,S.uC)(o,"target","key",S.LL.data,null!==(E=null==T?void 0:T.key)&&void 0!==E?E:"",j,C,w,D,Z,P,N)+"]"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,D,Z,P,N)};var em=L.memo(eg),ev=j(16290);let ex=o=>{var C;let j=(0,L.useContext)(Z.p),{id:S,type:P}=o,N=j(o=>null!==(C=o.nodeData[S])&&void 0!==C?C:{}),T=j(o=>o.setNodeData),z=Object.keys(N).filter(o=>o.startsWith("element-")),F=z.length,O=z.map((o,C)=>({label:"["+C+"]",field:o,type:"input",deleteable:!0}));return S&&L.useEffect(()=>{let o=Object.keys(N).filter(o=>o.startsWith("element"));o.length||N.error||T(S,{...N,"element-1":""})},[]),(0,w.jsxs)(E.ZP,{icon:ev.Z,node:{...o,data:{...o.data,width:1}},isPreview:!S,title:"array"+(F?" ["+F+"]":""),id:S,color:tK[P],children:[(0,w.jsx)(E.kz,{id:S,params:O}),(0,w.jsx)(D.Z,{id:S,nodeData:N,type:"Element"})]})};function ey(o,C){if(!o||"partial"==C)return"";let j=o.getSourceFile().getFullText(),w=o.getLastChild();if(w&&"CloseBracketToken"===w.getKindName()){let o=w.getLeadingTriviaWidth(),C=j.substring(w.getPos(),w.getPos()+o);return C}return""}ex.keyWords=["Array"],ex.defaultHandle=S.LL.data+"element-1",ex.getData=(o,C,j,w)=>{let L=o.getElements(),E=o.getFlags();return L.reduce((L,E,D)=>{let Z="element-".concat(D),P="trivia-element-".concat(D);return{...L,[Z]:(0,S.Su)(E,"output",o,Z,C,j,w,Z),[P]:(0,S.Tz)(E)}},{error:E})},ex.dump=function(o,C,j,w){var L;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=null!==(L=w[o.id])&&void 0!==L?L:{},T=Object.keys(N).filter(o=>o.startsWith("element-")).map(L=>{var T;return(void 0!==N["trivia-"+L]&&"full"==Z?N["trivia-"+L]:"")+(0,S.uC)(o,"target",L,S.LL.data,null!==(T=N[L])&&void 0!==T?T:"",j,C,w,E,D,Z,P)});return"["+T.join(",")+ey(N._astNode,Z)+"]"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,E,D,Z,P)},ex.getSize=(o,C,j)=>{let w=Object.keys(j).filter(o=>o.startsWith("element-")).length;return o[0].height=140+49*w,o};var eb=(0,L.memo)(ex),eC=j(13505);let ej=o=>{let{id:C,type:j}=o,L=[{label:"Value",field:"value",type:"input"}];return(0,w.jsx)(E.ZP,{icon:eC.Z,node:o,isPreview:!C,title:"()",id:C,params:L,color:tK[j]})};ej.keyWords=["()"],ej.getData=(o,C,j,w,L)=>({value:(0,S.Su)(o.getExpression(),"output",o,"value",C,j,w,"value")}),ej.dump=function(o,C,j,w){var L;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id];return"("+(0,S.uC)(o,"target","value",S.LL.data,null!==(L=null==N?void 0:N.value)&&void 0!==L?L:"",j,C,w,E,D,Z,P)+")"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,E,D,Z,P)};var ew=(0,L.memo)(ej),eL=j(92243);let ek=function(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",j=j=>{let L=(0,et.Z)("nodeFontSize"),{id:S,type:D}=j,Z=[];return"for"==o&&Z.push({label:"Initializer",field:"initializer",type:"input"}),Z.push({label:"Condition",field:"condition",type:"input"}),"for"==o&&Z.push({label:"Incrementor",field:"incrementor",type:"input"}),(0,w.jsxs)(E.ZP,{icon:eL.Z,node:j,isPreview:!S,title:C||o,id:S,color:tK[D],dataOutput:ee.f.flow,children:[(0,w.jsx)(E.kz,{id:S,params:Z,boxStyle:{marginTop:"0px",marginBottom:3*L+"px"}}),(0,w.jsx)(E._t,{id:S,type:"input",label:"Loop",style:{top:"for"==o?11*L:6.5*L+"px"},handleId:"loop"})]})};return j.keyWords=["for","while","do-while"],j.getData=(j,w,L,E)=>{j.getStatement()&&(0,S.Su)(j.getStatement(),"output",j,"loop",w,L,E,null,[S.LL.data,S.LL.flow]);let D={};return"for"==o&&(D={initializer:(0,S.Su)(j.getInitializer(),"output",j,"initializer",w,L,E,"initializer"),incrementor:(0,S.Su)(j.getIncrementor(),"output",j,"incrementor",w,L,E,"incrementor")}),{...D,condition:(0,S.Su)("while"==o?j.getExpression():j.getCondition(),"output",j,"condition",w,L,E,"condition"),mode:o,submode:C}},j.dataOutput=ee.f.flow,j.dump=function(o,C,j,w){let L,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id],T=(0,S.uC)(o,"target","condition",S.LL.data,null==N?void 0:N.condition,j,C,w,E,D,Z,P),z=(0,S.uC)(o,"target","loop",S.LL.flow,"",j,C,w,E,D,Z,P);if("WhileStatement"==o.type)L="while("+T+") "+z;else if("DoStatement"==o.type)L="do "+z+" while ("+T+")";else if("ForStatement"==o.type){let F=(0,S.uC)(o,"target","initializer",S.LL.data,null==N?void 0:N.initializer,j,C,w,E,D,Z,P),O=(0,S.uC)(o,"target","incrementor",S.LL.data,null==N?void 0:N.incrementor,j,C,w,E,D,Z,P);L="for("+F.replace(/;$/,"")+";"+T.replace(/;$/,"")+";"+O.replace(/;$/,"")+") "+z}return L+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,E,D,Z,P)},j};ek("while");let eS=o=>{let C=C=>{var j,S,D;let{id:P,type:N}=C,T=(0,L.useContext)(Z.p),z=T(o=>null!==(j=o.nodeData[P])&&void 0!==j?j:{}),F=[{label:"Value",field:"value",type:"input"}];F.push({field:"operator",type:"select",data:["++","--","!","-"],static:!0}),"pre"==o&&F.reverse();let I=null!==(S=z.operator)&&void 0!==S?S:"++",W=null!==(D=z.value)&&void 0!==D?D:"x";return(0,w.jsx)(E.ZP,{icon:O.Z,node:C,isPreview:!P,title:"pre"==o?I+W:W+I,id:P,params:F,color:tK[N]})};return C.keyWords=["pre","++x","x++","-x"],C.getData=(o,C,j,w)=>{let L={40:"-",45:"++",46:"--",53:"!"};return{operator:L[o.getOperatorToken()],value:(0,S.Su)(o.getOperand(),"output",o,"value",C,j,w,"value")}},C.dump=function(C,j,w,L){var E;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=L[C.id],z=(0,S.uC)(C,"target","value",S.LL.data,null!==(E=null==T?void 0:T.value)&&void 0!==E?E:"",w,j,L,D,Z,P,N),F=[T.operator,z];return"post"==o&&F.reverse(),F.join("")+(0,S.uC)(C,"source","output",S.LL.flow,"",w,j,L,D,Z,P,N)},L.memo(C)};var eE=j(66753);let e_=o=>{var C;let{id:j,type:S}=o,P=(0,L.useContext)(Z.p),N=P(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),T=Object.keys(N).filter(o=>o.startsWith("import-")).map((o,C)=>({label:C+1+"",field:o,type:"input",static:!0,deleteable:!0})),z=[{label:"Module",field:"module",type:"input",static:!0},{label:"Default",field:"default",type:"input",static:!0}].concat(T);return(0,w.jsxs)(E.ZP,{icon:eE.Z,node:o,isPreview:!j,title:"import",id:j,color:tK[S],dataOutput:ee.f.flow,children:[(0,w.jsx)(E.kz,{id:j,params:z,boxStyle:{marginTop:"10px"}}),(0,w.jsx)(D.Z,{id:j,nodeData:N,type:"Import",style:{marginBottom:"20px"}})]})};e_.keyWords=["import"],e_.getData=(o,C,j)=>{var w,L,S;let E=null!==(S=o.getNamedImports())&&void 0!==S?S:[];return E.reduce((o,C,j)=>{let w="import-"+j;return{...o,[w]:C.getName()}},{default:null===(w=o.getDefaultImport())||void 0===w?void 0:w.getText(),module:null===(L=o.getModuleSpecifier())||void 0===L?void 0:L.getText().slice(1,-1)})},e_.dataOutput=ee.f.flow,e_.dump=function(o,C,j,w){var L,E,D,Z;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,N=arguments.length>5&&void 0!==arguments[5]&&arguments[5],T=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,F=null!==(L=w[o.id])&&void 0!==L?L:{},O=Object.keys(F).filter(o=>o.startsWith("import")).reduce((L,E)=>{var D;return F[E]?L+=(0,S.uC)(o,"target",E,S.LL.data,null!==(D=F[E])&&void 0!==D?D:"",j,C,w,P,N,T,z)+", ":L},""),I=null!==(D=(0,S.uC)(o,"target","default",S.LL.data,null!==(E=null==F?void 0:F.default)&&void 0!==E?E:"",j,C,w,P,N,T,z))&&void 0!==D?D:"",W=(0,S.uC)(o,"target","module",S.LL.data,null!==(Z=null==F?void 0:F.module)&&void 0!==Z?Z:"",j,C,w,P,N,T,z),B=I&&O?", ":"",H=O?"{ "+O+"}":"";return"import "+I+B+H+' from "'.concat(W,'"')+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,P,N,T,z)};var eD=(0,L.memo)(e_),eZ=j(22951);let eP=o=>{let{id:C,type:j}=o,L=[{label:"Value",field:"value",type:"input"}];return(0,w.jsx)(E.ZP,{icon:eZ.Z,node:o,isPreview:!C,title:"export default",id:C,params:L,color:tK[j],dataOutput:ee.f.flow})};eP.keyWords=["export default"],eP.getData=(o,C,j,w)=>({value:(0,S.Su)(null==o?void 0:o.getExpression(),"output",o,"value",C,j,w,"value")}),eP.dataOutput=ee.f.flow,eP.dump=function(o,C,j,w){var L;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id];return"export default "+(0,S.uC)(o,"target","value",S.LL.data,null!==(L=null==N?void 0:N.value)&&void 0!==L?L:"",j,C,w,E,D,Z,P)};var eN=L.memo(eP);let eT=o=>{var C;let{id:j,type:S}=o,D=(0,L.useContext)(Z.p),P=D(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),N=Object.keys(P).filter(o=>o.startsWith("export-")).map((o,C)=>({label:C+1+"",field:o,type:"input",static:!0}));return(0,w.jsx)(E.ZP,{icon:eZ.Z,node:o,isPreview:!j,title:"export",id:j,params:N,color:tK[S],dataOutput:ee.f.flow})};eT.keyWords=["export"],eT.getData=(o,C,j)=>{var w;let L=null!==(w=o.getNamedExports())&&void 0!==w?w:[];return L.reduce((o,C,j)=>{let w="export-"+j;return{...o,[w]:C.getName()}},{})},eT.dataOutput=ee.f.flow,eT.dump=function(o,C,j,w){var L;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=null!==(L=w[o.id])&&void 0!==L?L:{},T=Object.keys(N).filter(o=>o.startsWith("export")).reduce((L,T)=>{var z;return L+((0,S.uC)(o,"target",T,S.LL.data,null!==(z=N[T])&&void 0!==z?z:"",j,C,w,E,D,Z,P)+", ")},"");return"export {"+T+"}"};var ez=L.memo(eT),eF=j(27145);let eO=o=>{var C;let{id:j,type:S}=o,D=[{label:"Value",field:"value",type:"input"}],P=(0,L.useContext)(Z.p),N=P(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{});return(0,w.jsx)(E.ZP,{icon:eF.Z,node:o,isPreview:!j,title:"return"+(o.id?" "+N.value:""),id:j,params:D,color:tK[S],dataOutput:ee.f.flow})};eO.keyWords=["return"],eO.getData=(o,C,j,w)=>({value:(0,S.Su)(null==o?void 0:o.getExpression(),"output",o,"value",C,j,w,"value")}),eO.dataOutput=ee.f.flow,eO.dump=function(o,C,j,w){var L,E;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=w[o.id];return"return "+(null!==(E=(0,S.uC)(o,"target","value",S.LL.data,null!==(L=null==T?void 0:T.value)&&void 0!==L?L:"",j,C,w,D,Z,P,N))&&void 0!==E?E:"")+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,D,Z,P,N)};var eI=L.memo(eO),eW=j(5521);let eB=o=>{let{id:C,type:j}=o,L=[],S=(0,et.Z)("nodeFontSize");return(0,w.jsx)(E.ZP,{icon:eW.Z,style:{minHeight:C?4*S+"px":S,minWidth:10*S+"px"},node:o,isPreview:!C,title:"break",id:C,params:L,color:tK[j]})};eB.keyWords=["break"],eB.getData=(o,C,j)=>({}),eB.dump=function(o,C,j,w){let L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,E=arguments.length>5&&void 0!==arguments[5]&&arguments[5],D=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return"break"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,L,E,D,Z)};var eH=L.memo(eB);let eA=o=>{let{id:C,type:j}=o;return(0,w.jsx)(w.Fragment,{})};eA.getData=(o,C,j)=>{let w=o.getDeclarationList();return w?C[(0,S.zv)(w)]:{type:"data",value:""}},eA.isShadow=(o,C,j,w)=>!0;var eR=(0,L.memo)(eA),eJ=j(45927),eM=j(19837),e$=j(43055);let eK=o=>{let C=C=>{var j,S;let{id:D,type:P}=C,N=(0,L.useContext)(Z.p),T=N(o=>null!==(S=o.nodeData[D])&&void 0!==S?S:{}),z=N(o=>o.setNodeData),F=null===(j=Object.keys(T))||void 0===j?void 0:j.filter(o=>o.startsWith("member-")),O=null==F?void 0:F.map((o,C)=>o.startsWith("param-")?{field:o,type:"input",fieldType:"parameter",separator:"=",deleteable:!1}:{label:"Member [".concat(C,"]"),field:o,type:"input",deleteable:!0}),I=[{label:"Name",field:"name",type:"input",static:!0}],W=[{label:"Extends",field:"extends",type:"input"},{label:"Implements",field:"implements",type:"input"}].concat(O),B=o=>{"attribute"==o?z(D,{...T,["param-".concat(F.length)]:{type:"attribute",key:"",value:""}}):z(D,{...T,["member-".concat(F.length)]:""})};return(0,w.jsxs)(E.ZP,{icon:eM.Z,node:C,isPreview:!D,title:"class ".concat(o),id:D,color:tK[P],dataOutput:ee.f.flow,children:["declaration"==o?(0,w.jsx)(E.kz,{id:D,params:I}):null,(0,w.jsx)(E.kz,{id:D,params:W}),(0,w.jsxs)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"space-around",marginTop:"20px"},children:[(0,w.jsx)(e$.Z,{onPress:()=>B("attribute"),label:"Add attribute",style:{width:"110px",margin:"0px"}}),(0,w.jsx)(e$.Z,{onPress:()=>B("member"),label:"Add member",style:{width:"110px",margin:"0px"}})]}),(0,w.jsx)(E.kz,{id:D,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),T.export?(0,w.jsx)(E.kz,{id:D,params:[{label:"isDefault",field:"isDefault",type:"boolean",static:!0}]}):null]})};return C.keyWords=["class"],C.getData=(o,C,j,w)=>{let L=o.getMembers().reduce((L,E,D)=>{var Z="member-"+D,P={};if("PropertyDeclaration"==E.getKindName()){var N,T,Z="param-"+D;let o=E.getName(),C=E.getTypeNode(),j=null!==(T=null===(N=E.getInitializer())||void 0===N?void 0:N.getText())&&void 0!==T?T:"",w="attrTrivia".concat(D),L=(0,S.Tz)(E);P[Z]={key:o,value:j},P["type-".concat(Z)]=C?C.getText():null,P[w]=L}else P[Z]=(0,S.Su)(E,"output",o,Z,C,j,w,null,[S.LL.data,S.LL.data]);return{...L,...P}},{}),E={...L,export:o.getModifiers().find(o=>"ExportKeyword"==o.getKindName()),isDefault:!!o.getModifiers&&!!o.getModifiers().find(o=>"default"==o.getText()),name:o.getName()},D=o.getHeritageClauses();return D.length&&D.forEach((L,Z)=>{let P=117==L.getToken()?"implements":"extends";E[P]=(0,S.Su)(D[0],"output",o,P,C,j,w,P)}),E},C.dataOutput=ee.f.flow,C.dump=function(C,j,w,L){var E,D;let Z=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,P=arguments.length>5&&void 0!==arguments[5]&&arguments[5],N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,z=null!==(D=L[C.id])&&void 0!==D?D:{},F=null===(E=Object.keys(z))||void 0===E?void 0:E.filter(o=>o.startsWith("member-")).reduce((o,E,D)=>{if(E.startsWith("param-")){var Z;let C=null!==(Z=z[E].key)&&void 0!==Z?Z:"",j=z[E].value,w=z["type-"+E]&&j?":":"=",L="attrTrivia".concat(D);return o+z[L]+C+(j?w+j:"")}return(0,eJ.m1)(C.id,E,S.LL.data,w)?o+(0,S.uC)(C,"target",E,S.LL.data,"",w,j,L,z[E],P,N,T):o},"");return(z.export?"export ":"")+(z.export&&z.isDefault?"default ":"")+"class "+("declaration"==o?z.name:"")+(z.extends?" extends "+z.extends:"")+(z.implements?" implements "+z.implements:"")+"{"+F+"}"+(0,S.uC)(C,"source","output",S.LL.flow,"",w,j,L,Z,P,N,T)},C};eK("declaration");var eV=j(89285);let eq=o=>{let C=C=>{var j;let{id:S,type:P}=C,N=(0,L.useContext)(Z.p),T=N(o=>null!==(j=o.nodeData[S])&&void 0!==j?j:{}),z=Object.keys(T).filter(o=>o.startsWith("param-")).map((o,C)=>({label:o.substr(6),field:o,fieldType:"parameter"}));return(0,w.jsxs)(E.ZP,{icon:eV.Z,node:C,isPreview:!S,title:o,id:S,color:tK[P],dataOutput:ee.f.method,children:[(0,w.jsx)("div",{style:{height:"40px"}}),"method"==o?(0,w.jsx)(E.kz,{id:S,params:[{label:"Name",field:"name",type:"input"}]}):null,(0,w.jsx)(E.kz,{id:S,params:z}),(0,w.jsx)(D.Z,{id:S,nodeData:T,type:"param"}),(0,w.jsx)(E._t,{id:S,type:"input",label:"Body",style:{top:"60px"},handleId:"body"}),(0,w.jsx)(E.kz,{id:S,params:[{label:"Static",field:"static",type:"boolean",static:!0},{label:"Async",field:"async",type:"boolean",static:!0}]}),(0,w.jsx)(E.kz,{id:S,params:[{field:"level",type:"select",data:["public","private","protected"],static:!0}]})]})};return C.keyWords=["method","constructor"],C.getData=(o,C,j,w)=>{(0,S.Su)(o.getBody(),"output",o,"body",C,j,w,null,[S.LL.data,S.LL.flow]);let L="public";return o.getModifiers().find(o=>"PublicKeyword"==o.getKindName())?L="public":o.getModifiers().find(o=>"PrivateKeyword"==o.getKindName())?L="private":o.getModifiers().find(o=>"ProtectedKeyword"==o.getKindName())&&(L="protected"),{...o.getParameters().reduce((L,E,D)=>{let Z=(0,$.O)(),P=E.getInitializer(),N=E.getTypeNode(),T=N?N.getText():null;return o.getName&&(L.name=o.getName()),{...L,["param-"+Z]:{key:E.getName(),value:P?(0,S.Su)(P,"output",o,"param-"+Z,C,j,w,"param-"+Z):"",type:T}}},{static:!!o.getModifiers().find(o=>"StaticKeyword"==o.getKindName()),async:!!o.getModifiers().find(o=>"AsyncKeyword"==o.getKindName()),level:L,type:o.getReturnTypeNode()?o.getReturnTypeNode().getText():null})}},C.dataOutput=ee.f.method,C.dump=function(C,j,w,L,E,D,Z){var P;let N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=null!==(P=L[C.id])&&void 0!==P?P:{},z="constructor"==o?"constructor":T.name,F=Object.keys(T).filter(o=>o.startsWith("param")).map(o=>{var E,P,z,F;let O=(0,S.uC)(C,"target",o+"-key",S.LL.data,null!==(z=null===(E=T[o])||void 0===E?void 0:E.key)&&void 0!==z?z:"",w,j,L,null,D,Z,N),I=(0,S.uC)(C,"target",o,S.LL.data,null!==(F=null===(P=T[o])||void 0===P?void 0:P.value)&&void 0!==F?F:"",w,j,L,null,D,Z,N),W=O+(T[o].type?":"+T[o].type+" ":"")+(I?"="+I:"");return W}),O=(0,S.uC)(C,"target","body",S.LL.flow,"",w,j,L,null,D,Z,N);return(T.static?"static ":"")+(T.async?"async ":"")+z+"("+F.join(",")+") "+(T.type?":"+T.type+" ":"")+O+(0,S.uC)(C,"source","output",S.LL.flow,"",w,j,L,null,D,Z,N)},C};eq("method");var eG=j(22253);let eU=o=>{var C;let{id:j,type:S}=o,P=(0,L.useContext)(Z.p),N=P(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),T=Object.keys(N).filter(o=>o.startsWith("param")).map((o,C)=>({label:"Params[".concat(C+1,"]"),field:o,type:"input",deleteable:!0})),z=[{label:"Name",field:"name",type:"input"}].concat(T),F={label:"Output",field:"value",type:"output"};return(0,w.jsxs)(E.ZP,{icon:eG.Z,output:{label:"Output",field:"value",type:"output"},node:o,isPreview:!j,title:"new",id:j,color:tK[S],children:[(0,w.jsx)(E.kz,{id:j,params:z,boxStyle:{marginTop:"10px"}}),(0,w.jsx)(D.Z,{id:j,nodeData:N,type:"param"}),(0,w.jsx)(E.IS,{id:j,param:F})]})};eU.keyWords=["new"],eU.getData=(o,C,j,w)=>({...o.getArguments().reduce((L,E,D)=>({...L,["param"+(D+1)]:(0,S.Su)(E,"output",o,"param"+(D+1),C,j,w,"param"+(D+1))}),{}),name:(0,S.Su)(o.getExpression(),"output",o,"name",C,j,w,"name")}),eU.dump=function(o,C,j,w){var L,E;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=null!==(L=w[o.id])&&void 0!==L?L:{},z=Object.keys(T).filter(o=>o.startsWith("param")).map(L=>(0,S.uC)(o,"target",L,S.LL.data,null!==(E=T[L])&&void 0!==E?E:"",j,C,w,D,Z,P,N)),F=(0,S.uC)(o,"target","name",S.LL.data,T.name,j,C,w,D,Z,P,N);return"new "+F+"("+z.join(",")+")"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,D,Z,P,N)};var eY=L.memo(eU),eX=j(81267);let eQ=o=>{let{id:C,type:j}=o,L=[];return(0,w.jsx)(E.ZP,{icon:eX.Z,node:o,isPreview:!C,title:"continue",id:C,params:L,color:tK[j],dataOutput:ee.f.flow})};eQ.keyWords=["continue"],eQ.getData=(o,C,j)=>({}),eQ.dataOutput=ee.f.flow,eQ.dump=function(o,C,j,w){let L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,E=arguments.length>5&&void 0!==arguments[5]&&arguments[5],D=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return"continue"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,L,E,D,Z)};var e0=L.memo(eQ),e1=j(69786);let e2=o=>{let{id:C,type:j}=o,L=[{label:"Value",field:"value",type:"input"}];return(0,w.jsx)(E.ZP,{icon:e1.Z,node:o,isPreview:!C,title:"await",id:C,params:L,color:tK[j]})};e2.keyWords=["await"],e2.getData=(o,C,j,w)=>({value:(0,S.Su)(null==o?void 0:o.getExpression(),"output",o,"value",C,j,w,"value")}),e2.dump=function(o,C,j,w){var L;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id];return"await "+(0,S.uC)(o,"target","value",S.LL.data,null!==(L=null==N?void 0:N.value)&&void 0!==L?L:"",j,C,w,E,D,Z,P)};var e5=L.memo(e2),e4=j(15038);let e3=o=>{let C=C=>{var j;let{id:S,type:P}=C,N=(0,L.useContext)(Z.p),T=N(o=>null!==(j=o.nodeData[S])&&void 0!==j?j:{}),z="json"==T.mode?{keyPre:o=>o.replace(/^(["'])|(["'])$/g,""),keyPost:o=>'"'+o+'"'}:{},F=Object.keys(T).filter(o=>o.startsWith("param-")).map((o,C)=>{let j="json"==T.mode?{}:{additionalHandlePort:"key"};return{label:o.substr(6),field:o,fieldType:"parameter",deleteable:!0,...j,...z}});return(0,w.jsxs)(E.ZP,{icon:e4.Z,node:C,isPreview:!S,title:"typeLiteral"==o?"type literal":"Object",id:S,color:tK[P],children:[(0,w.jsx)("div",{style:{height:"5px"}}),(0,w.jsx)(E.kz,{id:S,params:F}),(0,w.jsx)(D.Z,{label:"Add Property",id:S,nodeData:T})]})};function j(o){let C=o.getSourceFile().getFullText(),j=o.getLastChild();if(j&&"CloseBraceToken"===j.getKindName()){let o=j.getLeadingTriviaWidth(),w=C.substring(j.getPos(),j.getPos()+o);return w}return""}return C.keyWords=["Object"],C.getData=(C,j,w,L,E)=>({...C["typeLiteral"==o?"getMembers":"getProperties"]().reduce((D,Z,P)=>{let N,T;let z=(0,$.O)();return"SpreadAssignment"==Z.getKindName()?N=(0,S.Su)(Z,"output",C,"param-"+z+"-key",j,w,L):(N=Z.getName(),T="typeLiteral"==o?Z.getType().getText():Z.getInitializer()?(0,S.Su)(Z.getInitializer(),"output",C,"param-"+z,j,w,L,"param-"+z):""),{...D,["param-"+z]:{key:null!=N?N:"",value:null!=T?T:""},["trivia-param-"+z]:(0,S.Tz)(Z),mode:E}},{})}),C.onDeleteConnection=(o,C)=>({...o,[C]:{...o[C],value:""}}),C.dump=function(o,C,w,L){var E;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;arguments.length>8&&arguments[8];let T=null!==(E=L[o.id])&&void 0!==E?E:{},z=T._astNode?"":" ",F=!!T._astNode,O=Object.keys(T).filter(o=>o.startsWith("param")).map(j=>{var E,F,O,I;let W=null!==(O=null===(E=T[j])||void 0===E?void 0:E.key)&&void 0!==O?O:"",B={},H=(0,S.uC)(o,"target",j,S.LL.data,null!==(I=null===(F=T[j])||void 0===F?void 0:F.value)&&void 0!==I?I:"",w,C,L,D,Z,P,N+1,B),A=W+(H?":"+z+H:"");return{code:A,trivia:B.content,paramTrivia:T["trivia-"+j]}}),I="partial"==P?"":F?j(T._astNode):"\n"+"	".repeat(N-1);return"{"+O.reduce((o,C,j)=>{let w="partial"==P?"":void 0!==C.paramTrivia?C.paramTrivia:"\n"+"	".repeat(N);return o+w+C.code+(j<O.length-1?",":"")},"")+I+"}"+(0,S.uC)(o,"source","output",S.LL.flow,"",w,C,L,D,Z,P,N)},C},e6=e3("objectLiteral");var e7=L.memo(e6);let e8=o=>(0,w.jsx)(w.Fragment,{});e8.skipTraversal=!0;var e9=(0,L.memo)(e8),te=j(22e3);let tt=o=>{let{id:C,type:j}=o,L=[{label:"Template",field:"value",type:"input"}];return(0,w.jsx)(E.ZP,{icon:te.Z,node:o,isPreview:!C,title:"template",id:C,params:L,color:tK[j]})};tt.keyWords=["Template"],tt.getData=(o,C,j)=>({value:o.getText().slice(1,-1)}),tt.skipTraversal=!0;var tl=L.memo(tt),ti=j(77044),tn=j(38588),ta=j(66810),to=j(86130);let tr=200,td=222,ts=120,tu=100,tc=!0,tp=o=>{var C,j,S,D;let{id:P,type:N}=o,T=(0,L.useContext)(Z.p),z=T(o=>null!==(j=o.nodeData[P])&&void 0!==j?j:{}),O=T(o=>o.nodeData[P]&&o.nodeData[P]._metadata?o.nodeData[P]._metadata:{childWidth:0,childHeight:0,childHeights:[]}),I=T(o=>o.setNodeData),W=T(o=>o.currentPath),B=(0,et.Z)("nodeFontSize");(0,et.Z)("blockPort");let H=!O.childHeight,A=td+(0,et.Z)("nodeFontSize")/2,R=()=>{var o;return O.childHeight?O.childHeight+1.5*A+1*Math.max(0,(null===(o=z.connections)||void 0===o?void 0:o.length)-1):ts},J=P?R():0,M=(0,F.Mi)(),$=()=>{I(P,{...z,connections:z.connections?z.connections.concat([1]):[1]})},K={};K.minHeight=J+"px",K.border=0,K.minWidth="CaseClause"==N||"DefaultClause"==N?"400px":"200px";let V=(0,et.Z)("containerColor"),G={SourceFile:{color:"#F7B500",output:!1,title:W.split(/[/\\]/).pop()},Block:{icon:tn.Z,color:"#ccc",title:"Block"},CaseClause:{icon:ta.Z,color:tK[N],title:"Case Clause"},DefaultClause:{icon:ta.Z,color:tK.CaseClause,title:"Case Clause"}};return P&&L.useEffect(()=>{var o,C;let j=M.filter(o=>o.target==P);if("json"==z.mode||j.length!=(null==z?void 0:null===(o=z.connections)||void 0===o?void 0:o.length)&&(null==z?void 0:null===(C=z.connections)||void 0===C?void 0:C.length)){let o=j.reduce((o,C)=>{let j=parseInt(C.targetHandle.slice(P.length+6),10);return j>o?j:o},-1);I(P,{...z,connections:z.connections.slice(0,o+2)})}else $()},[M,null==z?void 0:null===(S=z.connections)||void 0===S?void 0:S.length]),(0,w.jsxs)(E.ZP,{draggable:"SourceFile"!=N,container:!H,style:K,icon:null!==(D=G[N].icon)&&void 0!==D?D:null,node:o,output:!1==G[N].output?null:{field:"value",type:"output"},isPreview:!P,title:G[N].title,id:P,params:[],color:G[N].color,dataOutput:ee.f.block,children:[H?(0,w.jsx)("div",{style:{height:2*B+"px"}}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{style:{top:1.9*B,opacity:1,pointerEvents:"none",borderRadius:"0px "+B/1.3+"px "+B/1.3+"px "+B/1.3+"px",position:"absolute",width:O.childWidth+"px",height:J-E.sS-2*B+"px",backgroundColor:V,borderLeft:B/2+"px solid "+G[N].color,boxShadow:(0,to.p)(1.5)}})}),(0,w.jsx)("div",{children:null===(C=z.connections)||void 0===C?void 0:C.map((o,C)=>{let j=C&&O&&O&&O.childHeight&&O.childHeights&&O.childHeights[C-1]?O.childHeights[C-1].height:0;return j=j+(1==z.connections.length?tu:A)-10,(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{style:{left:B/2-1+"px",position:"absolute",top:j-B/4+"px",width:B+"px",height:B/2+"px",backgroundColor:G[N].color}}),(0,w.jsx)(E._t,{id:P,type:"input",label:"",style:{left:H?"":B+"px",top:j+"px"},handleId:"block"+C,allowedTypes:["data","flow"]},C)]})})})]})};tp.keyWords=["block","{}","CaseClause"],tp.defaultHandle=S.LL.flow+"block0",tp.getData=(o,C,j,w,L)=>{let E=o.getStatements?o.getStatements():o.getDeclarations();E.forEach((L,E)=>{let D=C[(0,S.zv)(L)];if((null==D?void 0:D.type)||console.error("item has no type: ",D),(null==D?void 0:D.type)=="node"){let L=D.value.id;L&&(0,S.Su)(L,"output",o,"block"+E,C,j,w,null,[S.LL.data,S.LL.flow])}});let D=o.getStatements();return{connections:"json"==L&&D.length?D:D.concat([1]),mode:L}},tp.dataOutput=ee.f.block,tp.dump=function(o,C,j,w){var L,E,D;let Z=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,P=arguments.length>5&&void 0!==arguments[5]&&arguments[5],N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;arguments.length>8&&void 0!==arguments[8]&&arguments[8];let z=null!==(L=w[o.id])&&void 0!==L?L:{connections:[]},F=null!==(E=z.connections)&&void 0!==E?E:[],O=z._astNode;O&&(D=O.getText());let I="Block"==o.type?"	":"",W=F.map((L,E)=>{j.find(C=>C.targetHandle==o.id+S.LL.flow+"block"+E&&C.source);var D,z="";let F={},O=(0,S.uC)(o,"target","block"+E,S.LL.flow,"",j,C,w,Z,P,N,T+1,F);return z=F.content&&F.content.includes("\n")||!E?"":"\n"+(O?I.repeat(T>0?T:0):""),{code:O=O?z+O:null,trivia:null!==(D=F.content)&&void 0!==D?D:""}}).filter(o=>o.code),B=W.length&&W[0].trivia.includes("\n")?"":"\n",H=("Block"==o.type?"{"+B:"")+W.map(o=>o.code).join("")+("Block"==o.type?"\n"+I.repeat(Math.max(T-1,0))+"}":"");return H},tp.filterChildren=(o,C,j,w,L)=>{if(!ti.NE)return C;let E=(0,S.dS)([0,0],"VisualGroup","VisualGroup_"+C[0].id,{visible:!1},!1,j);return E[0].children=C,E},tp.getWidth=o=>50,tp.getPosition=(o,C)=>(tc&&(o.y=o.y+tr),o),tp.getSpacingFactor=()=>({factorX:1.2,factorY:1});var tf=tp,th=j(94533);let tg=o=>{let{id:C,type:j}=o,S=(0,L.useContext)(Z.p),D=S(o=>o.setMenu);return(0,w.jsxs)(E.ZP,{style:{borderColor:"#bbb",borderStyle:"dashed",borderWidth:2},output:!1,node:o,isPreview:!C,id:C,color:tK[j],children:[(0,w.jsx)("div",{onClick:o=>{let{clientX:j,clientY:w}=o;console.log("event: ",o),console.log("locationX: ",j,"locationY: ",w),D("open",[j,w],C)},children:(0,w.jsx)(th.Z,{style:{color:"#bbb",fontSize:"25px"},children:"+"})}),(0,w.jsx)(E.IS,{id:C,param:{label:"",field:"value",type:"output"},style:{backgroundColor:"#bbb",marginTop:"-25px"}})]})};tg.keyWords=["phantom"],tg.dump=(o,C,j,w)=>"";var tm=(0,L.memo)(tg),tv=j(69335);let tx=o=>{var C,j;let{id:S,type:P}=o,N=(0,L.useContext)(Z.p),T=N(o=>null!==(C=o.nodeData[S])&&void 0!==C?C:{}),z=[{label:"Name",static:!0,field:"name",type:"input",description:"Type name"}],F=z.concat(Object.keys(T).filter(o=>o.startsWith("union-")).map((o,C)=>({label:"["+C+"]",field:o,type:"input",deleteable:!0})));return(0,w.jsxs)(E.ZP,{icon:tv.Z,node:o,isPreview:!S,title:(T.export?"export ":"")+"type "+(null!==(j=T.name)&&void 0!==j?j:""),id:S,color:tK[P],dataOutput:ee.f.flow,children:[(0,w.jsx)(E.kz,{id:S,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),(0,w.jsx)(E.kz,{id:S,params:F}),(0,w.jsx)(D.Z,{id:S,nodeData:T,type:"Union"})]})};tx.keyWords=["type"],tx.getData=(o,C,j,w)=>{var L={name:o.getName?o.getName():"",export:o.getModifiers().find(o=>"ExportKeyword"==o.getKindName())},E=[];return o.forEachChild(o=>{"TypeLiteral"==o.getKindName()?E.push(o):"UnionType"==o.getKindName()&&o.forEachChild((o,C)=>{E.push(o)})}),E.forEach((E,D)=>{let Z="union-"+D;L={...L,[Z]:(0,S.Su)(E,"output",o,Z,C,j,w,null)}}),L},tx.dataOutput=ee.f.flow,tx.dump=function(o,C,j,w){var L;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=null!==(L=w[o.id])&&void 0!==L?L:{},T=Object.keys(N).filter(o=>o.startsWith("union-")),z=T.length,F=T.reduce((L,T,F)=>{var O;let I=(0,S.uC)(o,"target",T,S.LL.data,null!==(O=N[T])&&void 0!==O?O:"",j,C,w,E,D,Z,P);return L+I+(F+1<z?" | ":"\n")},"");return(N.export?"export ":"")+"type "+N.name+" = "+F+" "+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,E,D,Z,P)};var ty=L.memo(tx);let tb=o=>{var C;let{id:j,type:S}=o,P=(0,L.useContext)(Z.p),N=P(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),T=[{label:"Name",static:!0,field:"name",type:"input",description:"Interface name"}],z=T.concat(Object.keys(N).filter(o=>o.startsWith("param-")).map((o,C)=>({label:o.substr(6),field:o,fieldType:"parameter",deleteable:!0})));return(0,w.jsxs)(E.ZP,{icon:tv.Z,node:o,isPreview:!j,title:"interface",id:j,color:tK[S],dataOutput:ee.f.flow,children:[(0,w.jsx)(E.kz,{id:j,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),(0,w.jsx)(E.kz,{id:j,params:z}),(0,w.jsx)(D.Z,{id:j,nodeData:N})]})};tb.keyWords=["interface"],tb.getData=(o,C,j)=>({...o.getType().getProperties().reduce((o,C,j)=>{var w;let L=(0,$.O)(),S=C.getValueDeclaration().getType().getText(),E=!!(null===(w=C.getValueDeclaration())||void 0===w?void 0:w.getChildrenOfKind(K.lGB.QuestionToken).length),D=C.getName()+(E?"?":"");return{...o,["param-"+L]:{key:null!=D?D:"",value:null!=S?S:""}}},{name:o.getName?o.getName():"",export:o.getModifiers().find(o=>"ExportKeyword"==o.getKindName())})}),tb.dataOutput=ee.f.flow,tb.dump=function(o,C,j,w){var L;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=null!==(L=w[o.id])&&void 0!==L?L:{},T=Object.keys(N).filter(o=>o.startsWith("param-")).reduce((L,T)=>{var z,F;let O=N[T].key,I=(0,S.uC)(o,"target",T,S.LL.data,null!==(F=null===(z=N[T])||void 0===z?void 0:z.value)&&void 0!==F?F:"",j,C,w,E,D,Z,P),W="	"+O+":"+I+";";return L+W+"\n"},"");return(N.export?"export ":"")+" interface "+N.name+" {\n"+T+"\n}"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,E,D,Z,P)};var tC=L.memo(tb),tj=j(58942);let tw=o=>{var C;let{id:j,type:S}=o,P=(0,L.useContext)(Z.p),N=P(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),T=Object.keys(N).filter(o=>o.startsWith("param-")).map((o,C)=>({label:o.substr(6),field:o,fieldType:"parameter",deleteable:!0}));return(0,w.jsxs)(E.ZP,{icon:tj.Z,node:o,isPreview:!j,title:"object binding",id:j,color:tK[S],dataOutput:ee.f.binding,children:[(0,w.jsx)(E.kz,{id:j,params:T}),(0,w.jsx)(D.Z,{id:j,nodeData:N})]})};tw.keyWords=["object","binding","object binding"],tw.getData=(o,C,j,w)=>({...o.getElements().reduce((o,C,j)=>{let w=(0,$.O)(),L=null==C?void 0:C.getPropertyNameNode(),S=null!==(D=null==C?void 0:C.getName())&&void 0!==D?D:"",E=null==C?void 0:C.getInitializer();var D,Z={};return Z=E?{key:S,value:E.getText(),initializer:!0}:L?{key:L.getText(),value:S}:{key:S},{...o,["param-"+w]:{...Z}}},{})}),tw.dataOutput=ee.f.binding,tw.dump=function(o,C,j,w){var L;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=null!==(L=w[o.id])&&void 0!==L?L:{},T=Object.keys(N).filter(o=>o.startsWith("param-")).reduce((L,T)=>{var z,F;let O=N[T].key,I=N[T].initializer?"=":":",W=(0,S.uC)(o,"target",T,S.LL.data,null!==(F=null===(z=N[T])||void 0===z?void 0:z.value)&&void 0!==F?F:"",j,C,w,E,D,Z,P),B=O+(W?I+W:"")+", ";return L+B},"");return"{"+T+"}"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,E,D,Z,P)};var tL=tw,tk=j(1594),tS=j(1674);let tE=o=>{let{id:C,type:j}=o,L=[{label:"{jsx}",field:"expression",type:"input",description:"JsxExpression"}];return(0,w.jsx)(E.ZP,{icon:tS.Z,node:o,isPreview:!C,title:"{Jsx}",id:C,params:L,color:tK[j],dataOutput:ee.f.jsx})};tE.keyWords=["jsx","jsxexpression","expression","tsx","{}"],tE.defaultHandle=S.LL.data+"expression",tE.getData=(o,C,j,w)=>{var L;return{expression:null!==(L=(0,S.Su)(o.getExpression(),"output",o,"expression",C,j,w,"expression"))&&void 0!==L?L:""}},tE.dataOutput=ee.f.jsx,tE.dump=function(o,C,j,w){var L;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id],T=(0,S.uC)(o,"target","expression",S.LL.data,null!==(L=null==N?void 0:N.expression)&&void 0!==L?L:"",j,C,w,E,D,Z,P),z="{".concat(T,"}")+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,E,D,Z,P);return z},tE.isShadow=(o,C,j,w)=>"JsxAttribute"==o.getParent().getKindName();var t_=L.memo(tE);let tD=o=>{var C;let{id:j,type:S}=o,P=(0,L.useContext)(Z.p),N=P(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),T=Object.keys(N).filter(o=>o.startsWith("child-")).map((o,C)=>({label:"Child"+(C+1),field:o,fieldType:"child",deleteable:!0})),z=T;return(0,w.jsxs)(E.ZP,{icon:tS.Z,node:o,isPreview:!j,title:"<></>",id:j,color:tK[S],children:[(0,w.jsx)(E.kz,{id:j,params:z}),(0,w.jsx)(D.Z,{id:j,nodeData:N,type:"Child"})]})};tD.keyWords=["jsx","jsxelement","jsxfragment","react","tsx","fragment","selfclosed"],tD.getData=(o,C,j,w)=>{let L=o.getChildrenOfKind(K.lGB.SyntaxList)[0],E=L.getChildren(),D=E.filter(o=>["JsxElement","JsxSelfClosingElement","JsxExpression","JsxFragment"].includes(o.getKindName())),Z=null==D?void 0:D.reduce((L,E,D)=>{let Z="child-".concat(D+1);return{...L,[Z]:(0,S.Su)(E,"output",o,Z,C,j,w,Z)}},{});return{...Z}},tD.dump=function(o,C,j,w){var L;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=null!==(L=w[o.id])&&void 0!==L?L:{},T=Object.keys(N).filter(o=>o.startsWith("child-")).reduce((L,T)=>{var z;return L+"	"+(0,S.uC)(o,"target",T,S.LL.data,null!==(z=N[T])&&void 0!==z?z:"",j,C,w,E,D,Z,P)+"\n"},"");return"<>\n".concat(T,"</>")+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,E,D,Z,P)};var tZ=L.memo(tD);let tP=o=>{let C=C=>{var j,S,D;let{id:P,type:N}=C,T=(0,L.useContext)(Z.p),z=T(o=>null!==(j=o.nodeData[P])&&void 0!==j?j:{}),F=[{label:"Element",field:"element",type:"input"},{label:"Iterator",field:"iterator",type:"input"}];return(0,w.jsxs)(E.ZP,{icon:eh.Z,node:C,isPreview:!P,title:"for("+(null!==(S=null==z?void 0:z.element)&&void 0!==S?S:"element")+" ".concat(o," ")+(null!==(D=null==z?void 0:z.iterator)&&void 0!==D?D:"item")+")",id:P,color:tK[N],children:[(0,w.jsx)(E.kz,{id:P,params:F,boxStyle:{marginTop:"0px",marginBottom:"80px"}}),(0,w.jsx)(E._t,{id:P,type:"input",label:"Loop",style:{top:"180px"},handleId:"loop"})]})};return C.keyWords=["for","for-in","for-of"],C.getData=(o,C,j,w)=>{o.getStatement()&&(0,S.Su)(o.getStatement(),"output",o,"loop",C,j,w,null,[S.LL.data,S.LL.flow]);let L=o.getInitializer(),E=o.getExpression();return{element:(0,S.Su)(L,"output",o,"element",C,j,w,"element"),iterator:(0,S.Su)(E,"output",o,"iterator",C,j,w,"iterator")}},C.dump=function(C,j,w,L){var E,D;let Z=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,P=arguments.length>5&&void 0!==arguments[5]&&arguments[5],N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,z=L[C.id],F=(0,S.uC)(C,"target","loop",S.LL.flow,"{}",w,j,L,Z,P,N,T),O=(0,S.uC)(C,"target","element",S.LL.data,null!==(E=null==z?void 0:z.element)&&void 0!==E?E:"",w,j,L,Z,P,N,T),I=(0,S.uC)(C,"target","iterator",S.LL.data,null!==(D=null==z?void 0:z.iterator)&&void 0!==D?D:"",w,j,L,Z,P,N,T),W="for("+O+" ".concat(o," ")+I+" ) "+F+"\n";return W+(0,S.uC)(C,"source","output",S.LL.flow,"",w,j,L,Z,P,N,T)},C};tP("in");var tN=j(54373);let tT=o=>{var C,j;let{id:S,type:D}=o,P=(0,L.useContext)(Z.p),N=P(o=>null!==(C=o.nodeData[S])&&void 0!==C?C:{}),T=[{label:"Expression",field:"expression",type:"input"}];return(0,w.jsx)(E.ZP,{icon:tN.Z,node:o,isPreview:!S,title:j="delete "+(null==N?void 0:N.expression),params:T,id:S,color:tK[D],dataOutput:ee.f.flow})};tT.keyWords=["delete"],tT.getData=(o,C,j,w)=>({expression:(0,S.Su)(null==o?void 0:o.getExpression(),"output",o,"expression",C,j,w,"expression")}),tT.dataOutput=ee.f.flow,tT.dump=function(o,C,j,w){var L;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id];return"delete "+(0,S.uC)(o,"target","expression",S.LL.data,null!==(L=null==N?void 0:N.expression)&&void 0!==L?L:"",j,C,w,E,D,Z,P)+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,E,D,Z,P)};var tz=(0,L.memo)(tT);let tF=o=>{let{id:C,type:j}=o,L=[{label:"Expression",field:"expression",type:"input"}];return(0,w.jsx)(E.ZP,{icon:R.Z,node:o,isPreview:!C,title:"...",color:tK.SpreadAssignment,id:C,params:L,dataOutput:ee.f.spread})};tF.keyWords=["spread","..."],tF.getData=(o,C,j,w)=>{let L=o.getExpression();return{expression:(0,S.Su)(L,"output",o,"expression",C,j,w,"expression")}},tF.dataOutput=ee.f.spread,tF.dump=function(o,C,j,w){var L,E;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=w[o.id];return"..."+(null!==(E=(0,S.uC)(o,"target","expression",S.LL.data,null!==(L=null==T?void 0:T.expression)&&void 0!==L?L:"",j,C,w,D,Z,P,N))&&void 0!==E?E:"")+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,D,Z,P,N)};var tO=(0,L.memo)(tF);let tI=o=>{let{id:C,type:j}=o;return(0,w.jsx)(w.Fragment,{})};tI.getData=(o,C,j)=>{let w=o.getExpression();return w?C[(0,S.zv)(w)]:{type:"data",value:""}},tI.isShadow=(o,C,j,w)=>!0;var tW=(0,L.memo)(tI);let tB=o=>{var C,j,L;console.log("node in visualgroup: ",o),o.id.startsWith("VisualGroup_SourceFile_");let S=(null===(C=o.data)||void 0===C?void 0:C.width)+"px",E=(null===(j=o.data)||void 0===j?void 0:j.height)+"px",D="3px",Z="white";return(0,w.jsx)("div",{style:{width:"0px",height:"0px"},children:(null===(L=o.data)||void 0===L?void 0:L.visible)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"nodrag",style:{position:"absolute",width:S,height:D,backgroundColor:Z}}),(0,w.jsx)("div",{className:"nodrag",style:{position:"absolute",top:E,width:S,height:D,backgroundColor:Z}}),(0,w.jsx)("div",{className:"nodrag",style:{position:"absolute",width:D,height:E,backgroundColor:Z}}),(0,w.jsx)("div",{className:"nodrag",style:{position:"absolute",left:S,width:D,height:E,backgroundColor:Z}})]}):null})};var tH=(0,L.memo)(tB);let tA=o=>{var C,j,S;let E=(0,L.useContext)(Z.p),{id:D,type:P}=o,N=E(o=>null!==(C=o.nodeData[D])&&void 0!==C?C:{});switch(null==N?void 0:N.type){case"text":return(0,w.jsx)("p",{style:null==N?void 0:null===(j=N.data)||void 0===j?void 0:j.style,children:null==N?void 0:null===(S=N.data)||void 0===S?void 0:S.text});case"image":return(0,w.jsx)(w.Fragment,{})}};var tR=(0,L.memo)(tA);let tJ={Block:tf,CallExpression:z,BinaryExpression:W("+"),ObjectLiteralExpression:e7,ArrayLiteralExpression:eb,ArrowFunction:U,FunctionDeclaration:U,ReturnStatement:eI,ElementAccessExpression:em,ParenthesizedExpression:ew,IfStatement:en,ConditionalExpression:ef,WhileStatement:ek("while"),DoStatement:ek("while","do-while"),ForStatement:ek("for"),ForInStatement:tP("in"),ForOfStatement:tP("of"),SwitchStatement:ec,BreakStatement:eH,constNode:B("const"),letNode:B("let"),varNode:B("var"),setNode:W("="),PrefixUnaryExpression:eS("pre"),PostfixUnaryExpression:eS("post"),ClassDeclaration:eK("declaration"),ClassExpression:eK("expression"),MethodDeclaration:eq("method"),Constructor:eq("constructor"),ImportDeclaration:eD,ContinueStatement:e0,TemplateExpression:tl,ExportAssignment:eN,ExportDeclaration:ez,NewExpression:eY,TryStatement:er,AwaitExpression:e5,PropertyAccessExpression:M,TypeLiteral:e3("typeLiteral"),TypeAliasDeclaration:ty,InterfaceDeclaration:tC,ObjectBindingPattern:tL,JsxElement:(0,tk.$N)("JsxElement"),JsxExpression:t_,JsxFragment:tZ,JsxSelfClosingElement:(0,tk.$N)("JsxSelfClosingElement"),DeleteExpression:tz,SpreadAssignment:tO,CaseClause:tf},tM={...tJ,PropertyAccessExpression:M,SourceFile:tf,Parameter:X,VariableDeclarationList:A,VariableStatement:eR,ComputedPropertyName:e9,SpreadElement:tO,PhantomBox:tm,FunctionExpression:U,ExpressionStatement:tW,VisualGroup:tH,Layer:tR,DefaultClause:tf},t$=["#EF9A9A","#F48FB1","#CE93D8","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#A5D6A7","#C5E1A5","#FFF59D","#FFE082","#FFCC80","#FFAB91","#BCAAA4","#EEEEEE","#B0BEC5","#E57373","#F06292","#BA68C8","#9575CD","#7986CB","#64B5F6","#4FC3F7","#4DD0E1","#4DB6AC","#81C784","#AED581","#FFF176","#FFD54F","#FFB74D","#FF8A65","#A1887F","#E0E0E0","#90A4AE"],tK=Object.keys(tJ).reduce((o,C,j)=>({...o,[C]:t$[j%t$.length]}),{});var tV=tJ},33361:function(o,C,j){"use strict";j.d(C,{Df:function(){return z},NH:function(){return S},XD:function(){return N},ui:function(){return P},vM:function(){return Z},yt:function(){return T}});var w=j(2784),L=j(10729);let S=(0,w.createContext)({nodePreview:"",flowsHeight:void 0}),E=()=>{let{nodePreview:o,flowsHeight:C}=(0,w.useContext)(S),j="preview"===o,L=j?"node":"default";return{preview:L,flowsHeight:C}},D=(o,C)=>"function"==typeof o?j=>o(j.map(o=>({...o,data:{...o.data,...C}}))):o.map(o=>({...o,data:{...o.data,...C}})),Z=()=>{let{setNodes:o,setEdges:C,project:j,setViewport:w,getNodes:S,getViewport:Z,setCenter:P,getEdges:N,deleteElements:T,fitView:z}=(0,L._K)(),F=E(),O=C=>{o(D(C,F))},I=o=>{C(D(o,F))};return{setNodes:O,project:j,setViewport:w,getNodes:S,getViewport:Z,setCenter:P,setEdges:I,getEdges:N,deleteElements:T,fitView:z}},P=function(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[j,w,S]=(0,L.Rr)(D(o,C)),E=o=>w(D(o,C));return[j,E,S]},N=function(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[j,w,S]=(0,L.ll)(D(o,C)),E=o=>w(D(o,C));return[j,E,S]},T=()=>(0,L.Mi)(),z=(o,C)=>(0,L.Z_)({...o,type:"custom",animated:!1},C)},45823:function(o,C,j){"use strict";j.d(C,{g:function(){return E},p:function(){return D}});var w=j(2784),L=j(92467),S=j(15729);let E=()=>(0,L.Z)((o,C)=>({errorData:{},nodeData:{},customComponents:[],initialEdges:[],initialNodes:[],saveStatus:null,menuState:"closed",menuPosition:[0,0],menuOpener:"",themeMode:"light",themeOverride:{},flowInstance:Math.random(),currentPath:"Start",metadata:{},dataNotify:()=>{},setDataNotify:C=>o((0,S.ZP)(o=>{o.dataNotify=C})),clearError:()=>o((0,S.ZP)(o=>{o.errorData={}})),setError:C=>o((0,S.ZP)(o=>{o.errorData={id:C}})),setCurrentPath:C=>o((0,S.ZP)(o=>{o.currentPath=C})),setMenu:(C,j,w)=>o((0,S.ZP)(o=>{o.menuState=C,o.menuPosition=j||[-5e3,-5e3],o.menuOpener=w||""})),setInitialEdges:C=>o((0,S.ZP)(o=>{o.initialEdges=C})),setInitialNodes:C=>o((0,S.ZP)(o=>{o.initialNodes=C})),setCustomComponents:C=>o((0,S.ZP)(o=>{o.customComponents=C})),appendCustomComponents:C=>o((0,S.ZP)(o=>{let j=(o,C)=>o.some(o=>o.id===C.id);C.forEach(C=>{j(o.customComponents,C)||o.customComponents.push(C)})})),setNodeData:(j,w)=>o((0,S.ZP)(o=>{o.nodeData={...C().nodeData,[j]:{...C().nodeData[j],...w}}})),setNodesMetaData:C=>o((0,S.ZP)(o=>{Object.keys(C).forEach(j=>{o.nodeData[j]||(o.nodeData[j]={}),o.nodeData[j]._metadata=C[j]})})),setNodesData:C=>o((0,S.ZP)(o=>{o.nodeData=C})),deletePropNodeData:(j,w)=>o((0,S.ZP)(o=>{var L={...C().nodeData[j]};Object.keys(L).includes(w)?(delete L[w],o.nodeData={...o.nodeData,[j]:{...L}}):(console.error('Error deleting the following "Property Node Data": '+j),o.nodeData={...o.nodeData})})),clearNodesData:()=>o((0,S.ZP)(o=>{let j={},w=Object.keys(C().nodeData).filter(o=>!(o.startsWith("Object")||o.startsWith("ArrowFunction")||o.startsWith("TypeAliasDeclaration")||o.startsWith("InterfaceDeclaration")||o.startsWith("ObjectBindingPattern")||o.startsWith("JsxElement")||o.startsWith("JsxExpression")||o.startsWith("PropertyAssignment")||o.startsWith("FunctionDeclaration")));w.forEach(o=>{j[o]=C().nodeData[o]}),o.nodeData=j})),setSaveStatus:C=>o((0,S.ZP)(o=>{o.saveStatus=C})),setTemeMode:(C,j)=>o((0,S.ZP)(o=>{o.themeMode=C,o.themeOverride=j})),setMetadata:C=>o((0,S.ZP)(o=>{o.metadata=C}))})),D=(0,w.createContext)(E())},77044:function(o,C,j){"use strict";j.d(C,{Hd:function(){return w},NE:function(){return E},r0:function(){return D},rb:function(){return S},te:function(){return L}});let w="LEFT",L=!1,S=!0,E=!1,D=!1},69685:function(o,C,j){"use strict";j.d(C,{Jf:function(){return L},Ql:function(){return w},oe:function(){return S}});let w=o=>{var C;let j=o.split("-")[0];switch(j){case"prop":case"param":C="detailed";break;default:C="literal"}return C},L=function(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,L=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!C)return o;let S=C.split("-")[0],E=w(S),D=null!==(P=null!==(Z=null==z?void 0:z.kind)&&void 0!==Z?Z:L.kind)&&void 0!==P?P:"StringLiteral";if("detailed"===E){var Z,P,N,T=C.split("-")[1],z=j[C];N={...z,key:T,kind:D,value:o}}else N=o;return N},S=(o,C)=>{var j,L;let S=o.split("-")[0],E=w(S);return"detailed"===E?null===(L=C[o])||void 0===L?void 0:L.value:C[o]}},91092:function(){},62321:function(){},78260:function(){},77733:function(){},97752:function(){},34719:function(){},79711:function(){},56699:function(){},68379:function(){},68382:function(){},78867:function(){},21212:function(){},89854:function(){},25800:function(){},93037:function(){},26996:function(){}}]);