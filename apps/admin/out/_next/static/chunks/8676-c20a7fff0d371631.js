(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8676],{48313:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=48313,e.exports=t},92301:function(e,t,l){"use strict";l.d(t,{W:function(){return I},B:function(){return W}});var i=l(52322),a=l(25237),o=l.n(a);let n=o()(()=>l.e(9831).then(l.bind(l,99831)),{loadableGenerated:{webpack:()=>[99831]}}),r=o()(()=>l.e(2522).then(l.bind(l,22522)),{loadableGenerated:{webpack:()=>[22522]}}),d=o()(()=>l.e(4110).then(l.bind(l,54110)),{loadableGenerated:{webpack:()=>[54110]}});o()(()=>l.e(9786).then(l.bind(l,49786)),{loadableGenerated:{webpack:()=>[49786]}});let s=o()(()=>l.e(3179).then(l.bind(l,43179)),{loadableGenerated:{webpack:()=>[43179]}}),p=o()(()=>l.e(7256).then(l.bind(l,47256)),{loadableGenerated:{webpack:()=>[47256]}}),u=o()(()=>l.e(3393).then(l.bind(l,73393)),{loadableGenerated:{webpack:()=>[73393]}}),c=o()(()=>l.e(4838).then(l.bind(l,24838)),{loadableGenerated:{webpack:()=>[24838]}}),g=o()(()=>l.e(1342).then(l.bind(l,81342)),{loadableGenerated:{webpack:()=>[81342]}}),f=o()(()=>l.e(612).then(l.bind(l,90612)),{loadableGenerated:{webpack:()=>[90612]}}),h=o()(()=>l.e(5385).then(l.bind(l,65385)),{loadableGenerated:{webpack:()=>[65385]}});o()(()=>l.e(2973).then(l.bind(l,42973)),{loadableGenerated:{webpack:()=>[42973]}}),o()(()=>l.e(2633).then(l.bind(l,92633)),{loadableGenerated:{webpack:()=>[92633]}});let y=o()(()=>l.e(3681).then(l.bind(l,43681)),{loadableGenerated:{webpack:()=>[43681]}}),m=o()(()=>l.e(8491).then(l.bind(l,28491)),{loadableGenerated:{webpack:()=>[28491]}}),v=o()(()=>l.e(7334).then(l.bind(l,47334)),{loadableGenerated:{webpack:()=>[47334]}}),x=o()(()=>l.e(1587).then(l.bind(l,21587)),{loadableGenerated:{webpack:()=>[21587]}}),b=[{id:"esp32dev",type:"ArrayLiteralExpression",check:(e,t)=>"ArrayLiteralExpression"==e.type&&'"esp32dev"'==t["element-1"],getComponent:(e,t,l)=>(0,i.jsx)(r,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:'"esp32dev"'}),hidden:!0,nonDeletable:!0},{id:"Wifi",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("wifi"))},getComponent:(e,t,l)=>(0,i.jsx)(n,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"wifi",param1:'"SSID"',param2:'"PASSWORD"',param3:'"none"'})},{id:"Mqtt",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("mqtt"))},getComponent:(e,t,l)=>(0,i.jsx)(d,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"mqtt",param1:'"BROKERADDRESS"',param2:'""'})},{id:"Relay",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("relay"))},getComponent:(e,t,l)=>(0,i.jsx)(u,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"relay",param1:'""',param2:'"ALWAYS_OFF"'})},{id:"BinarySensor",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("binarySensor"))},getComponent:(e,t,l)=>(0,i.jsx)(s,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"binarySensor",param1:'""'})},{id:"NeopixelsBus",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("neopixelsBus"))},getComponent:(e,t,l)=>(0,i.jsx)(p,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"neopixelsBus",param1:'""',param2:"16",param3:'"GRB"',param4:'"WS2811"',param5:'"ALWAYS_ON"',param6:'"1s"',param7:"0",param8:!1,param9:!1,param10:!1,param11:!1,param12:!1,param13:!1,param14:!1,param15:!1,param16:!1,param17:!1,param18:!1})},{id:"ADCSensor",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("adcSensor"))},getComponent:(e,t,l)=>(0,i.jsx)(c,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"adcSensor",param1:'"analogic"',param2:'"30s"',param3:'"auto"'})},{id:"I2cBus",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("i2cBus"))},getComponent:(e,t,l)=>(0,i.jsx)(g,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"i2cBus",param1:'""',param2:"22",param3:!0})},{id:"UARTBus",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("uartBus"))},getComponent:(e,t,l)=>(0,i.jsx)(v,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"uartBus",param1:'""',param2:"17",param3:'"9600"'})},{id:"PCA9685",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("pca9685"))},getComponent:(e,t,l)=>(0,i.jsx)(f,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"pca9685",param1:'""',param2:"1000",param3:!1,param4:"0x40",param5:'""'})},{id:"Ethernet",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("ethernet"))},getComponent:(e,t,l)=>(0,i.jsx)(h,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"ethernet",param1:'"LAN8720"',param2:"23",param3:"18",param4:'"GPIO17_OUT"',param5:"0",param6:"12"})},{id:"MPU6050",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("mpu6050"))},getComponent:(e,t,l)=>(0,i.jsx)(x,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"mpu6050",param1:'""',param2:'""',param3:'"0x68"',param4:'"30s"'})},{id:"SEN55",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("sen55"))},getComponent:(e,t,l)=>(0,i.jsx)(y,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"sen55",param1:'""',param2:'""',param3:'"0x69"',param4:'"30s"'})},{id:"MHZ19",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("mhz19"))},getComponent:(e,t,l)=>(0,i.jsx)(m,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"mhz19",param1:'""',param2:'""',param3:'"30s"'})}];var j=b.map(e=>({...e,capabilities:["esphome"]})),C=JSON.parse('[{"id":"BigTitle","title":"BigTitle","path":"*","type":"JsxElement","filter":{"name":"BigTitle"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","fieldType":"child","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","fieldType":"prop","staticLabel":true,"section":"color"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","fieldType":"prop","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"}]}]},{"id":"ButtonSimple","title":"ButtonSimple","path":"*","type":"JsxElement","filter":{"name":"ButtonSimple"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","fieldType":"child","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"theme","field":"prop-theme","fieldType":"prop","staticLabel":true,"type":"color-theme","section":"layout"},{"label":"textColor","field":"prop-textColor","fieldType":"prop","staticLabel":true,"type":"color","section":"layout"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"size","field":"prop-size","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"dimensions"},{"label":"circular","field":"prop-circular","fieldType":"prop","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"chromeless","field":"prop-chromeless","fieldType":"prop","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"alignSelf","field":"prop-alignSelf","fieldType":"prop","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"borderRadius","field":"prop-borderRadius","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"prop","data":[{"label":"onPress","field":"prop-onPress","fieldType":"prop","staticLabel":true}]}]},{"id":"Container","title":"Container","path":"*","type":"JsxElement","filter":{"name":"Container"},"body":[{"type":"custom-field","data":[{"label":"backgroundColor","field":"prop-backgroundColor","fieldType":"prop","staticLabel":true,"type":"color","section":"color"},{"label":"flexDirection","field":"prop-flexDirection","type":"alignment-flex","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","fieldType":"prop","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","fieldType":"prop","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"custom-field","data":[]},{"type":"child","data":[]}]},{"id":"Center","title":"Center","path":"*","type":"JsxElement","filter":{"name":"Center"},"body":[{"type":"custom-field","data":[{"label":"backgroundColor","field":"prop-backgroundColor","fieldType":"prop","staticLabel":true,"type":"color","section":"color"},{"label":"flexDirection","field":"prop-flexDirection","type":"alignment-flex","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","fieldType":"prop","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","fieldType":"prop","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"custom-field","data":[]},{"type":"child","data":[]}]},{"id":"Image","title":"Image","path":"*","type":"JsxElement","filter":{"name":"Image"},"body":[{"type":"custom-field","data":[{"label":"url","field":"prop-url","type":"input","fieldType":"prop","staticLabel":true,"section":"media"},{"label":"resizeMode","field":"prop-resizeMode","fieldType":"prop","staticLabel":true,"type":"select","data":["center","contain","cover","repeat","stretch"],"section":"dimensions"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","fieldType":"prop","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"opacity","field":"prop-opacity","fieldType":"prop","staticLabel":true,"type":"range","data":{"max":1,"step":0.1},"section":"decoration"}]}]},{"id":"VStack","title":"VStack","path":"*","type":"JsxElement","filter":{"name":"VStack"},"body":[{"type":"custom-field","data":[{"label":"backgroundColor","field":"prop-backgroundColor","fieldType":"prop","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","fieldType":"prop","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","fieldType":"prop","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"VCenterStack","title":"VCenterStack","path":"*","type":"JsxElement","filter":{"name":"VCenterStack"},"body":[{"type":"custom-field","data":[{"label":"backgroundColor","field":"prop-backgroundColor","fieldType":"prop","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","fieldType":"prop","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","fieldType":"prop","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"HCenterStack","title":"HCenterStack","path":"*","type":"JsxElement","filter":{"name":"HCenterStack"},"body":[{"type":"custom-field","data":[{"label":"backgroundColor","field":"prop-backgroundColor","fieldType":"prop","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","fieldType":"prop","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","fieldType":"prop","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"HStack","title":"HStack","path":"*","type":"JsxElement","filter":{"name":"HStack"},"body":[{"type":"custom-field","data":[{"label":"backgroundColor","field":"prop-backgroundColor","fieldType":"prop","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","fieldType":"prop","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","fieldType":"prop","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"Spacer","title":"Spacer","path":"*","type":"JsxElement","filter":{"name":"Spacer"},"body":[{"type":"custom-field","data":[{"label":"size","field":"prop-size","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"}]},{"type":"child","data":[],"disableAdd":true}]},{"id":"Page","title":"Page","path":"*","type":"JsxElement","filter":{"name":"Page"},"body":[{"type":"custom-field","data":[{"label":"title","field":"prop-title","fieldType":"prop","staticLabel":true,"type":"input","section":"basic"},{"label":"backgroundColor","field":"prop-backgroundColor","fieldType":"prop","staticLabel":true,"type":"color","section":"basic"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"gap","field":"prop-gap","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"Head1","title":"Head1","path":"*","type":"JsxElement","filter":{"name":"Head1"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","fieldType":"child","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","fieldType":"prop","staticLabel":true,"section":"color"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","fieldType":"prop","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","fieldType":"prop","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"Head2","title":"Head2","path":"*","type":"JsxElement","filter":{"name":"Head2"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","fieldType":"child","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","fieldType":"prop","staticLabel":true,"section":"color"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","fieldType":"prop","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","fieldType":"prop","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"Head3","title":"Head3","path":"*","type":"JsxElement","filter":{"name":"Head3"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","fieldType":"child","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","fieldType":"prop","staticLabel":true,"section":"color"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","fieldType":"prop","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","fieldType":"prop","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"Text","title":"Text","path":"*","type":"JsxElement","filter":{"name":"Text"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","fieldType":"child","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","fieldType":"prop","staticLabel":true,"section":"basic"},{"label":"fontSize","field":"prop-fontSize","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","fieldType":"prop","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","fieldType":"prop","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","fieldType":"prop","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"RainbowText","title":"RainbowText","path":"*","type":"JsxElement","filter":{"name":"RainbowText"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","fieldType":"child","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","fieldType":"prop","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","fieldType":"prop","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"BlockTitle","title":"BlockTitle","path":"*","type":"JsxElement","filter":{"name":"BlockTitle"},"body":[{"type":"custom-field","data":[{"label":"title","field":"prop-title","fieldType":"prop","staticLabel":true,"type":"input","section":"basic"},{"label":"subtitle","field":"prop-subtitle","fieldType":"prop","staticLabel":true,"type":"input","section":"basic"},{"label":"titleColor","field":"prop-titleColor","type":"color","fieldType":"prop","staticLabel":true,"section":"basic"},{"label":"subtitleColor","field":"prop-subtitleColor","type":"color","fieldType":"prop","staticLabel":true,"section":"basic"},{"label":"space","field":"prop-space","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"margin","field":"prop-margin","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","fieldType":"prop","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","fieldType":"prop","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"flexDirection","field":"prop-flexDirection","type":"alignment-flex","fieldType":"prop","staticLabel":true,"section":"layout"},{"label":"width","field":"prop-width","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","fieldType":"prop","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"DefaultLayout","title":"DefaultLayout","path":"*","type":"JsxElement","filter":{"name":"DefaultLayout"},"body":[{"type":"custom-field","data":[{"label":"headerTitle","field":"prop-headerTitle","fieldType":"prop","staticLabel":true,"type":"input","section":"basic"},{"label":"title","field":"prop-title","fieldType":"prop","staticLabel":true,"type":"input","section":"basic"},{"label":"description","field":"prop-description","fieldType":"prop","staticLabel":true,"type":"input","section":"basic"},{"label":"tintSwitcher","field":"prop-tintSwitcher","fieldType":"prop","staticLabel":true,"type":"toggle-boolean","section":"conf"},{"label":"themeSwitcher","field":"prop-themeSwitcher","fieldType":"prop","staticLabel":true,"type":"toggle-boolean","section":"conf"}]},{"type":"child","data":[]}]},{"id":"MainButton","title":"MainButton","path":"*","type":"JsxElement","filter":{"name":"MainButton"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","fieldType":"child","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"margin","field":"prop-margin","fieldType":"prop"},{"label":"padding","field":"prop-padding","fieldType":"prop"}]},{"type":"prop","data":[{"label":"color","field":"prop-color","fieldType":"prop","static":true,"type":"colorPicker"},{"label":"textColor","field":"prop-textColor","fieldType":"prop","static":true,"type":"colorPicker"}]}]},{"id":"GithubIcon","title":"GithubIcon","path":"*","type":"JsxElement","filter":{"name":"GithubIcon"},"body":[{"type":"custom-field","data":[{"label":"color","field":"prop-color","fieldType":"prop","staticLabel":true,"type":"color"},{"label":"height","field":"prop-height","fieldType":"prop","type":"range-px","staticLabel":true},{"label":"width","field":"prop-width","fieldType":"prop","type":"range-px","staticLabel":true}]},{"type":"child","data":[]}]},{"id":"DiscordIcon","title":"DiscordIcon","path":"*","type":"JsxElement","filter":{"name":"DiscordIcon"},"body":[{"type":"custom-field","data":[{"label":"color","field":"prop-color","fieldType":"prop","staticLabel":true,"type":"color"},{"label":"height","field":"prop-height","fieldType":"prop","type":"range-px","staticLabel":true},{"label":"width","field":"prop-width","fieldType":"prop","type":"range-px","staticLabel":true}]},{"type":"child","data":[]}]},{"id":"TwitterIcon","title":"TwitterIcon","path":"*","type":"JsxElement","filter":{"name":"TwitterIcon"},"body":[{"type":"custom-field","data":[{"label":"color","field":"prop-color","fieldType":"prop","staticLabel":true,"type":"color"},{"label":"height","field":"prop-height","fieldType":"prop","type":"range-px","staticLabel":true},{"label":"width","field":"prop-width","fieldType":"prop","type":"range-px","staticLabel":true}]},{"type":"child","data":[]}]}]'),w=[],k=l(23819),T=l(48115),E=l(2784);let D=e=>{let t={};return null==e||e.forEach(e=>{var l;let i=null==e?void 0:null===(l=e.subsystem)||void 0===l?void 0:l.filter(e=>{var t;return(null==e?void 0:e.actions)&&(null==e?void 0:null===(t=e.actions)||void 0===t?void 0:t.length)}).map(e=>'"'+e.name+'"');t['"'+e.name+'"']=i}),t},S=e=>{let t={};return e.forEach(e=>{var l;let i='"'+e.name+'"',a={};null===(l=e.subsystem)||void 0===l||l.forEach(e=>{var t;null===(t=e.actions)||void 0===t||t.forEach(t=>{a['"'+e.name+'"']=a['"'+e.name+'"']||[],a['"'+e.name+'"'].push('"'+t.name+'"')})}),t[i]=a}),t},L=e=>null==e?void 0:e.map(e=>'"'+e.name+'"');var N=e=>{var t,l,a,o,n,r,d,s;let{node:p={},nodeData:u={},children:c}=e,[g,f]=(0,E.useState)([]),h=u.param1,y=u.param2,m=u.param3,v=async()=>{let{data:e}=await T.bl.get("/adminapi/v1/devices"),t=e.items;f([...t])};(0,E.useEffect)(()=>{v()},[]);let x=[{label:"Device name",field:"param1",type:"selectWithDefault",static:!0,selectedIndex:null!==(o=null===(t=L(g))||void 0===t?void 0:t.indexOf(h))&&void 0!==o?o:0,data:g?L(g):['"none"']},{label:"Component",field:"param2",type:"selectWithDefault",static:!0,selectedIndex:null!==(n=null===(l=D(g)[h])||void 0===l?void 0:l.indexOf(y))&&void 0!==n?n:0,data:g?null!==(r=D(g)[h])&&void 0!==r?r:[]:['"none"']},{label:"Action",field:"param3",type:"selectWithDefault",static:!0,selectedIndex:g&&S(g)[h]?null!==(d=null===(a=S(g)[h][y])||void 0===a?void 0:a.indexOf(m))&&void 0!==d?d:[]:0,data:g&&S(g)[h]?null!==(s=S(g)[h][y])&&void 0!==s?s:[]:['"none"']}];return(0,i.jsx)(k.Node,{node:p,isPreview:!p.id,title:"devicePub",color:"#FFDF82",id:p.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:(0,i.jsx)(k.NodeParams,{id:p.id,params:x})})},P=e=>{let{node:t={},nodeData:l={},children:a}=e;return(0,i.jsx)(k.Node,{node:t,isPreview:!t.id,title:"Api Response",color:"#FFDF82",id:t.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:(0,i.jsx)(k.NodeParams,{id:t.id,params:[{label:"Response text",field:"param1",type:"input",static:!0}]})})};let O=[{id:"devicePub",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("devicePub"))},getComponent:(e,t,l)=>(0,i.jsx)(N,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"devicePub",param1:'"none"',param2:'"none"',param3:'"none"'})},{id:"res.send",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("res.send"))},getComponent:(e,t,l)=>(0,i.jsx)(P,{node:e,nodeData:t,children:l}),getInitialData:()=>({to:"res.send",param1:'"Response"'})},{id:"CloudApi",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.param2)||void 0===l?void 0:l.startsWith("(req,res) =>"))&&("app.get"==t.to||"app.post"==t.to)},getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1],(0,i.jsxs)(k.Node,{node:e,isPreview:!(null==e?void 0:e.id),title:"Cloud Api",id:e.id,color:"#A5D6A7",skipCustom:!0,children:[(0,i.jsx)(k.NodeParams,{id:e.id,params:[{label:"Type",field:"to",type:"select",data:["app.get","app.post"],static:!0}]}),(0,i.jsx)(k.NodeParams,{id:e.id,params:[{label:"Path",field:"param1",type:"input"}]}),(0,i.jsxs)("div",{style:{paddingBottom:"30px"},children:[(0,i.jsx)(k.FlowPort,{id:e.id,type:"input",label:"On Request (req, res)",style:{top:"170px"},handleId:"request"}),(0,i.jsx)(k.FallbackPort,{node:e,port:"param2",type:"target",fallbackPort:"request",portType:"_",preText:"(req, res) => ",postText:""})]})]})},filterChildren:(0,k.filterCallback)(),restoreChildren:(0,k.restoreCallback)(),getInitialData:()=>({to:"app.get",param1:'"/api/v1/"',param2:"(req,res) =>"})}],F={devices:["devices","deviceDefinitions","deviceBoards","deviceCores","deviceSdks"],visualui:["visualui"],apis:["apis"]},W=(e,t)=>{let l=e.split("/"),i=l[l.length-1],a=JSON.stringify(t);return F.devices.includes(i)?j:F.visualui.includes(i)||a&&F.visualui.find(e=>a.includes(e))?[]:F.apis.includes(i)?O:[]},I=(e,t)=>{let l=e.split("/"),i=l[l.length-1],a=JSON.stringify(t);return F.visualui.includes(i)||a&&F.visualui.find(e=>a.includes(e))?[...C,...w,...k.BaseJSMasks]:[...w]}},23819:function(e,t,l){"use strict";l.r(t),l.d(t,{AddPropButton:function(){return H},BaseJSMasks:function(){return lv},CustomEdge:function(){return lQ},Diagram:function(){return ix},FallbackPort:function(){return iB},FlowConstructor:function(){return iq},FlowFactory:function(){return iU},FlowPort:function(){return lJ},FlowStoreContext:function(){return u},HandleOutput:function(){return lR},Node:function(){return lM},NodeParams:function(){return lZ},NodeTypes:function(){return lh},PORT_TYPES:function(){return N},Panel:function(){return r.s_},connectNodes:function(){return b},createNode:function(){return D},filterCallback:function(){return iF},filterCallbackProp:function(){return iO},generateId:function(){return x},getId:function(){return L},isHandleConnected:function(){return lL},layouts:function(){return io},restoreCallback:function(){return iW},restoreCallbackProp:function(){return iI},useFlowsStore:function(){return p}});var i,a,o=l(52322),n=l(2784),r=l(10729),d=l(92467),s=l(15729);let p=()=>(0,d.Z)((e,t)=>({errorData:{},nodeData:{},customComponents:[],initialEdges:[],initialNodes:[],saveStatus:null,menuState:"closed",menuPosition:[0,0],menuOpener:"",themeMode:"light",themeOverride:{},flowInstance:Math.random(),currentPath:"Start",metadata:{},dataNotify:()=>{},setDataNotify:t=>e((0,s.ZP)(e=>{e.dataNotify=t})),clearError:()=>e((0,s.ZP)(e=>{e.errorData={}})),setError:t=>e((0,s.ZP)(e=>{e.errorData={id:t}})),setCurrentPath:t=>e((0,s.ZP)(e=>{e.currentPath=t})),setMenu:(t,l,i)=>e((0,s.ZP)(e=>{e.menuState=t,e.menuPosition=l||[-5e3,-5e3],e.menuOpener=i||""})),setInitialEdges:t=>e((0,s.ZP)(e=>{e.initialEdges=t})),setInitialNodes:t=>e((0,s.ZP)(e=>{e.initialNodes=t})),setCustomComponents:t=>e((0,s.ZP)(e=>{e.customComponents=t})),appendCustomComponents:t=>e((0,s.ZP)(e=>{let l=(e,t)=>e.some(e=>e.id===t.id);t.forEach(t=>{l(e.customComponents,t)||e.customComponents.push(t)})})),setNodeData:(l,i)=>e((0,s.ZP)(e=>{e.nodeData={...t().nodeData,[l]:{...t().nodeData[l],...i}}})),setNodesMetaData:t=>e((0,s.ZP)(e=>{Object.keys(t).forEach(l=>{e.nodeData[l]||(e.nodeData[l]={}),e.nodeData[l]._metadata=t[l]})})),setNodesData:t=>e((0,s.ZP)(e=>{e.nodeData=t})),deletePropNodeData:(l,i)=>e((0,s.ZP)(e=>{var a={...t().nodeData[l]};Object.keys(a).includes(i)?(delete a[i],e.nodeData={...e.nodeData,[l]:{...a}}):(console.error('Error deleting the following "Property Node Data": '+l),e.nodeData={...e.nodeData})})),clearNodesData:()=>e((0,s.ZP)(e=>{let l={},i=Object.keys(t().nodeData).filter(e=>!(e.startsWith("Object")||e.startsWith("ArrowFunction")||e.startsWith("TypeAliasDeclaration")||e.startsWith("InterfaceDeclaration")||e.startsWith("ObjectBindingPattern")||e.startsWith("JsxElement")||e.startsWith("JsxExpression")||e.startsWith("PropertyAssignment")||e.startsWith("FunctionDeclaration")));i.forEach(e=>{l[e]=t().nodeData[e]}),e.nodeData=l})),setSaveStatus:t=>e((0,s.ZP)(e=>{e.saveStatus=t})),setTemeMode:(t,l)=>e((0,s.ZP)(e=>{e.themeMode=t,e.themeOverride=l})),setMetadata:t=>e((0,s.ZP)(e=>{e.metadata=t}))})),u=(0,n.createContext)(p()),c={nodeBorderWidth:"1px",nodeFontSize:20,nodeEdgeWidth:3,nodeEdgeStyle:"7 5"};c.portSize=20,c.borderWidth=0,c.borderWidthSelected=.5;let g="#888",f={light:{...c,plusColor:"#999",edgeColor:"#888",nodeBackgroundColor:"#fdfdfd",inputBackgroundColor:"white",inputBorder:"1px solid #ccc",textColor:"#666",selectedColor:"#2680EB",disableTextColor:"#ccc",interactiveColor:"#4fc2f7",interactiveHoverColor:"rgba(79, 194, 247, 0.1)",borderColor:"#888",colorError:"#EF4444",handleBorderColor:"white",flowOutputColor:"white",dataOutputColor:"black",highlightInputBackgroundColor:"#F1F1F1",blockPort:"#fefefe",flowPort:"#fefefe",dataPort:"#fefefe",nodeBorderColor:"#aaa",titleColor:"#222",containerColor:"#00000005"},dark:{...c,plusColor:"white",handleBorderColor:"black",edgeColor:g,nodeBackgroundColor:"#303030",inputBackgroundColor:"#404040",inputBorder:"0",textColor:"#e5e5e5",selectedColor:"#2680EB",disableTextColor:"grey",interactiveColor:"#4772b3",interactiveHoverColor:"#252525",borderColor:g,colorError:"#EF4444",flowOutputColor:"grey",dataOutputColor:"black",highlightInputBackgroundColor:"#222222",blockPort:"black",flowPort:"grey",dataPort:"grey",nodeBorderColor:g,titleColor:"black",containerColor:"#FFFFFF05"}};var h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=(0,n.useContext)(u),i=l(e=>e.themeMode),a=l(e=>e.themeOverride),o={...f[i],...a};try{let t=o[e];return t}catch(e){return t}};let y=n.forwardRef((e,t)=>(0,o.jsx)("input",{...e,ref:t,style:{fontSize:h("nodeFontSize"),fontFamily:"Jost-Regular",border:h("inputBorder"),color:e.readOnly?h("disableTextColor"):h("textColor"),backgroundColor:h("inputBackgroundColor"),padding:"0.35ch",paddingLeft:"1ch",borderRadius:"0.5ch",display:"flex",flex:1,width:"100%",boxSizing:"border-box",cursor:e.readOnly?"grab":"text",...e.style},children:e.children}));var m=e=>{let t=h("nodeFontSize");return(0,o.jsx)("span",{...e,style:{whiteSpace:"nowrap",textOverflow:"ellipsis",fontFamily:"Jost-Regular",paddingLeft:"0.4em",paddingRight:"0.4em",fontSize:t+"px",color:h("textColor"),...e.style},title:e.children,children:e.children})},v=l(6364);let x=()=>(0,v.Z)().replace(/-/g,""),b=(e,t,l,i)=>({id:(0,v.Z)(),source:e,sourceHandle:t,target:l,targetHandle:i,animated:!1,type:"custom"}),j=(e,t,l,i)=>!!i.find(i=>{let a=i.sourceHandle==L(e)+l+t||i.targetHandle==L(e)+l+t;return a}),C=(e,t,l)=>{var i=[];let a={id:x(),source:t,sourceHandle:t+"-output",target:e.target,targetHandle:e.targetHandle,type:"custom"};if(i.push(a),l){let a={id:x(),source:e.source,sourceHandle:e.sourceHandle,target:t,targetHandle:t+l,type:"custom"};i.push(a)}return i};var w=l(28261),k=l.n(w),T=l(29691),E=l.n(T);let D=(e,t,l,i,a,o,n)=>{let r={id:null!=l?l:x(),position:{x:e[0],y:e[1]},data:null!=i?i:{},type:t,deletable:a,selectable:a,draggable:!1};return lh[t]&&lh[t].onCreate?lh[t].onCreate(r,o,n):[r]};function S(e,t){let l=E().format(e,{quoteProps:"consistent",parser:"typescript",plugins:[k()]});return l}function L(e){try{return e.getKindName()+"_"+e._compilerNode.pos+"_"+e._compilerNode.end}catch(t){return e}}let N={flow:"_",data:"-"},P={prop:["ArrowFunction","CallExpression","JsxElement","JsxFragment","JsxSelfClosingElement","ObjectBindingPattern","ObjectLiteralExpression"],expression:["ArrowFunction","CallExpression","JsxElement","JsxFragment","JsxSelfClosingElement","ObjectBindingPattern","ObjectLiteralExpression"],child:["Block","JsxElement","JsxFragment","JsxSelfClosingElement"],incrementor:["BinaryExpression"],initializer:["letNode","varNode"],condition:["BinaryExpression","CallExpression"],declarationName:["ObjectBindingPattern"],accessName:["BinaryExpression","CallExpression","ElementAccessExpression"],setLeft:["ElementAccessExpression"],left:["ArrayLiteralExpression","BinaryExpression","CallExpression","ElementAccessExpression"],right:["ArrayLiteralExpression","BinaryExpression","CallExpression","ElementAccessExpression"],to:["ElementAccessExpression"],param:["ArrayLiteralExpression","ArrowFunction","BinaryExpression","CallExpression","Function","JsxElement","JsxFragment","JsxSelfClosingElement","ObjectBindingPattern","ObjectLiteralExpression","ParenthesizedExpression"],key:["SpreadAssignment"],name:["ElementAccessExpression"],value:["ArrayLiteralExpression","CallExpression","ElementAccessExpression"],block:[],request:["Block","CallExpression"],then:["BinaryExpression","Block","CallExpression"],else:["BinaryExpression","Block","CallExpression"],constructor:["MethodDeclaration"],body:["Block"],union:["TypeLiteral"]};function O(e,t,l,i,a,o,n){let r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[N.data,N.data];if(!e||!l)return"";try{let p=L(e),u=L(l),c=a[p],g=a[u];if(c||(c={type:"node",value:{id:p}}),g||(g={type:"node",value:{id:u}}),"node"==c.type){n.push(b(c.value.id,"".concat(c.value.id).concat(d[0]).concat(t),g.value.id,"".concat(g.value.id).concat(d[1]).concat(i)));var s=lh[p.split("_")[0]];if(!s)return"";s=s.type?s.type:s;let e=Object.keys(a).filter(e=>a[e]&&"node"==a[e].type).map(e=>a[e].value),l=s.dump({id:p,type:p.split("_")[0]},e,n,o);return l.replace(/(\r\n|\n|\r)/gm,"")}if(r&&c._astNode)try{o[u]["trivia-"+r]=F(c._astNode)}catch(e){}return c?c.value:""}catch(a){return console.error("Error connecting nodes: ",a,e,t,l,i),""}}function F(e){let t=e.getFullText();return e.getLeadingTriviaWidth()?t.substring(0,e.getLeadingTriviaWidth()):""}function W(e,t){var l,i;return(null!==(l=e["trivia-"+t])&&void 0!==l?l:" ")+(null!==(i=e[t])&&void 0!==i?i:"")}function I(e,t,l,i,a,o,n,r){let d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,s=arguments.length>9&&void 0!==arguments[9]&&arguments[9],p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"partial",u=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,c=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{},g=arguments.length>13&&void 0!==arguments[13]&&arguments[13],f="source"==t?"sourceHandle":"targetHandle",h=o.find(t=>t[f]==e.id+i+l&&t.source);if(h){let e=n.find(e=>e.id==("target"==t?h.source:h.target));if(!e)return a;let l=lh[e.type];l.type&&(l=l.type);let i=s?"/* JSFLOWID("+(e&&e.id?e.id:"")+") */":"",f="";if(c.fromFile=!1,l){if(!g&&r[e.id]&&r[e.id]._astNode){let t=r[e.id]._astNode;c.fromFile=!0,f=F(t),c.content=f}let t=l.dump(e,n,o,r,d,s,p,u,f);return i+("full"==p?f:"")+t}}return a}var B=e=>{let{onPress:t,label:l,style:i={}}=e,a={width:"50%",margin:"15px",border:"0px solid transparent",borderRadius:"8px",color:h("interactiveColor"),padding:"10px 15px",cursor:"pointer",transition:"background-color 0.3s ease",display:"flex",position:"relative",alignSelf:"center",textAlign:"center",alignItems:"stretch",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",textDecoration:"none",zIndex:"0",fontFamily:"Jost-Regular",fontSize:h("nodeFontSize"),...i},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[i,a]=n.useState(t);return{style:{...i,customStyle:l},onMouseEnter:()=>a(e),onMouseLeave:()=>a(t)}}({...a,backgroundColor:h("interactiveHoverColor")},{...a,backgroundColor:"transparent"},i);return(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,o.jsx)("button",{onClick:t,...r,children:l})})},H=e=>{let{nodeData:t,id:l,type:i="Param",style:a={},keyId:r=null,label:d=null}=e,s=(0,n.useContext)(u),p=s(e=>e.setNodeData),c={Attribute:"attr",Method:"meth",Case:"case",Element:"element",Component:"element",Import:"import",param:"param",Prop:"prop",Child:"child",Union:"union"}[i]||"param";return r=null!==r?r:c+"-"+x(),(0,o.jsx)(B,{onPress:()=>{if(["child","case","element","union"].includes(c)){var e,i;r=c+"-"+(null!==(i=(null===(e=Object.keys(t))||void 0===e?void 0:e.filter(e=>e.startsWith("".concat(c,"-"))).length)+1)&&void 0!==i?i:1)}p(l,{...t,[r]:""})},label:null!=d?d:"Add ".concat(i),style:a})},z=l(76066);let A=e=>{var t;let{id:l,type:i}=e,a=(0,n.useContext)(u),r=a(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),d=Object.keys(r).filter(e=>e.startsWith("param")),s=d.reduce((e,t)=>{let l=parseInt(t.replace(/\D/g,""),10)>e?parseInt(t.replace(/\D/g,""),10):e;return l},1)+1,p=[{label:"To",field:"to",type:"input",description:"Identifier name. Leave empty to access current scope"}].concat(d.map((e,t)=>({label:"Params[".concat(t+1,"]"),field:e,type:"input",deleteable:!0})));return(0,o.jsxs)(lM,{icon:z.Z,node:e,isPreview:!l,title:(r.to?r.to:"x")+"("+d.map(e=>r[e]?r[e]:"...").join(",")+")",id:l,color:lm[i],children:[(0,o.jsx)(lZ,{id:l,params:p}),(0,o.jsx)(H,{keyId:"param"+s,id:l,nodeData:r})]})};A.keyWords=["call"],A.defaultHandle=N.data+"to",A.getData=(e,t,l,i)=>({to:O(e.getExpression(),"output",e,"to",t,l,i,"to"),...e.getArguments().reduce((a,o,n)=>({...a,["param"+(n+1)]:O(o,"output",e,"param"+(n+1),t,l,i,"param"+(n+1))}),{})}),A.dump=function(e,t,l,i){var a,o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=null!==(a=i[e.id])&&void 0!==a?a:{},u=Object.keys(p).sort(),c=u.filter(e=>e.startsWith("param")).sort((e,t)=>e.localeCompare(t,"en",{numeric:!0})).map(a=>{let o;let u=p._fallBack?p._fallBack.find(e=>e.port==a):null;if(u){let a=I(e,u.type,u.fallbackPort,u.portType,null,l,t,i,n,r,d,s);o=a?u.preText+a+u.postText:u.fallbackText}else o=I(e,"target",a,N.data,W(p,a),l,t,i,n,r,d,s);return o}),g=I(e,"target","to",N.data,null!==(o=null==p?void 0:p.to)&&void 0!==o?o:"",l,t,i,n,r,d,s);return g?g+"("+c.join(",")+function(e){if(!e)return"";let t=e.getSourceFile().getFullText(),l=e.getLastChild();if(l&&"CloseParenToken"===l.getKindName()){let e=l.getLeadingTriviaWidth(),i=t.substring(l.getPos(),l.getPos()+e);return i}return""}(p._astNode)+")":""+I(e,"source","output",N.flow,"",l,t,i,n,r,d,s)};var R=(0,n.memo)(A),Z=l(51442),J=l(38757);let M=e=>{let t=e=>"="==e?"setLeft":"left",l=l=>{var i,a,d;let{id:s,type:p}=l,c=(0,n.useContext)(u),g=c(e=>null!==(i=e.nodeData[s])&&void 0!==i?i:{}),f=(0,r.Mi)(),h={"+":"operator","-":"operator","*":"operator","/":"operator","%":"operator","<=":"operator","==":"operator","===":"operator","!=":"operator","!==":"operator",">=":"operator","||":"operator","&&":"operator","|":"operator","&":"operator",">":"operator","<":"operator","**":"operator","**=":"operator","-=":"operator","+=":"operator","/=":"operator","*=":"operator","=":"set",".":"property",instanceof:"operator","??":"operator"}[null!==(a=g.operator)&&void 0!==a?a:e],y=null!==(d=g.operator)&&void 0!==d?d:e,m=[{label:"operator"==h?"Value":"Variable",field:t(y),type:"input",fieldType:g.leftType}];return"operator"==h&&m.push({field:"operator",type:"select",data:["+","-","*","/",">","<","<=","==","!=","===","!==",">=","||","&&","|","&","instanceof",""],static:!0}),m.push({label:{operator:"Value",set:"Value",property:"Property"}[h],field:"right",type:"input",fieldType:g.rightType}),(0,o.jsx)(lM,{icon:"operator"==h?Z.Z:J.Z,node:l,isPreview:!s,title:"operator"==h?(!lI(s,t(y),f)&&g[t(y)]?g[t(y)]:"...")+(g.operator?" "+g.operator+" ":" + ")+(!lI(s,"right",f)&&g.right?g.right:"..."):h,id:s,params:m,color:lm[p]})};return l.keyWords=["+","-","*","/",">","<","<=","==","!=","===","!==",">=","||","&&","|","&","set","operator","set","property","instanceof"],l.defaultHandle=N.data+t(e),l.getData=(e,l,i,a)=>{let o=e.getOperatorToken().getText();return{operator:o,[t(o)]:O(e.getLeft(),"output",e,t(o),l,i,a,t(o)),right:O(e.getRight(),"output",e,"right",l,i,a,"right"),leftType:e.getLeft().getKindName(),rightType:e.getRight().getKindName(),operatorTrivia:F(e.getOperatorToken())}},l.dump=function(l,i,a,o){var n;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=o[l.id],c=null!==(n=u.operator)&&void 0!==n?n:e,g=I(l,"target",t(c),N.data,u[t(c)],a,i,o,r,d,s,p,{},!0),f=I(l,"target","right",N.data,W(u,"right"),a,i,o,r,d,s,p);return g+(void 0!==u.operatorTrivia&&"full"==s?u.operatorTrivia:"")+c+f+I(l,"source","output",N.flow,"",a,i,o,r,d,s,p)},l};M("+");let _=e=>{let t=t=>{var l,i,a;let{id:d,type:s}=t,p=(0,n.useContext)(u),c=p(e=>null!==(l=e.nodeData[d])&&void 0!==l?l:{}),g=null!==(i=c.type)&&void 0!==i?i:e;(0,r.Mi)();let f=Object.keys(c).filter(e=>e.startsWith("declarationName")),h=f.length?f:["declarationName1"];console.log("mobx: ",c);let y=[{label:"Type",field:"type",type:"select",data:["let","const","var"],static:!0}].concat(h.reduce((e,t,l)=>e=(e=e.concat({label:"Variable "+(l>0?"(".concat(l+1,")"):""),field:t,type:"input",static:"const"!=g})).concat({label:"Value "+(l>0?"(".concat(l+1,")"):""),field:"value".concat(l+1),fieldType:"input"}),[]),{label:"Export",field:"export",type:"boolean",static:!0});return(0,o.jsx)(lM,{icon:J.Z,node:t,isPreview:!d,title:((null==c?void 0:c.export)?"export ":"")+g+" "+h.map(e=>c[e]).join(","),id:d,params:y,color:null!==(a=lm[g+"Node"])&&void 0!==a?a:lm[s]})};t.keyWords=["const","let","var"],t.getData=(e,t,l,i)=>{let a=e.getChildren()[0].getText(),o=e.getDeclarations().reduce((a,o,n)=>{let r=o.getInitializer(),d=o.getName(),s=o.getTypeNode(),p=o.getChildren(),u=p.length>2?F(p[1]):" ",c="value".concat(n+1),g={["declarationName".concat(n+1)]:d,["opTrivia".concat(n+1)]:u};return r&&(g={...g,[c]:O(r,"output",e,c,t,l,i,c)}),s&&(g={...g,["type".concat(n+1)]:s.getText()}),{...a,...g}},{});return{type:a,...o,export:!!e.getParent().getModifiers&&!!e.getParent().getModifiers().find(e=>"export"==e.getText())}};let l=e=>e?":"+e.trim():"";return t.dump=function(t,i,a,o){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=o[t.id];var u,c=Object.keys(p).filter(e=>e.startsWith("declarationName"));if(!c.length)return"";let g=c.reduce((e,u,g)=>{let f="value".concat(g+1),h="opTrivia".concat(g+1),y=I(t,"target",f,N.data,W(p,f),a,i,o,n,r,d,s);return console.log("value in vardec: ["+y+"]"),e+p[u]+l(p["type".concat(g+1)])+(""===y||void 0===y||" "==y?"":(void 0!==p[h]?p[h]:" ")+"="+y)+(c.length==g+1?"":", ")},"");return(p.export?"export ":"")+(null!==(u=p.type)&&void 0!==u?u:e)+" "+g},t},K=_("const");var V=(0,n.memo)(K),G=l(56881);let U=e=>{let{id:t,type:l}=e;return(0,o.jsx)(lM,{icon:G.Z,node:e,isPreview:!t,title:"property",color:lm[l],id:t,params:[{label:"Name",field:"name",type:"input"},{label:"Property",field:"prop",type:"input"}]})};U.keyWords=["property"],U.getData=(e,t,l,i)=>{let a=e.getNameNode(),o=e.getExpression();return"data"==t[L(o)].type&&"data"==t[L(a)].type?{type:"data",value:t[L(o)].value+"."+t[L(a)].value}:{name:O(a,"output",e,"name",t,l,i,"name"),prop:O(o,"output",e,"prop",t,l,i,"prop")}},U.checkCreate=(e,t)=>"data"!=t[L(e)].type,U.dump=function(e,t,l,i){var a,o,n,r;let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=i[e.id],g=null!==(o=I(e,"target","name",N.data,null!==(a=null==c?void 0:c.name)&&void 0!==a?a:"",l,t,i,d,s,p,u))&&void 0!==o?o:"";return(null!==(r=I(e,"target","prop",N.data,null!==(n=null==c?void 0:c.prop)&&void 0!==n?n:"",l,t,i,d,s,p,u))&&void 0!==r?r:"")+"."+g+I(e,"source","output",N.flow,"",l,t,i,d,s,p,u)};var q=(0,n.memo)(U),X=l(20477),Y=l(69498);let $=e=>{var t;let{id:l,type:i}=e,a="ArrowFunction"==i,r=(0,n.useContext)(u),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),s=(a?[]:[{label:"Name",static:!0,field:"name",type:"input",description:"Function name"}]).concat(Object.keys(d).filter(e=>e.startsWith("param-")).map((e,t)=>({label:d[e].isBindingPattern?"".concat("Params["+(t+1)+"]"):e.substr(6),field:e,fieldType:"parameter",deleteable:!0})));return(0,o.jsxs)(lM,{icon:Y.Z,node:e,isPreview:!l,title:a?"=>":d.name?d.name:"function",id:l,color:lm[i],children:[(0,o.jsx)(lZ,{id:l,params:[{label:"Call",field:"call",fieldType:"call",type:"input"}]}),(0,o.jsx)(lZ,{id:l,params:s}),"FunctionExpression"!=i?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lZ,{id:l,params:[{label:"Async",field:"async",type:"boolean",static:!0}],boxStyle:{marginTop:"40px"}}),(0,o.jsx)(lZ,{id:l,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),d.export?(0,o.jsx)(lZ,{id:l,params:[{label:"isDefault",field:"isDefault",type:"boolean",static:!0}]}):null]}):(0,o.jsx)("div",{style:{marginTop:"26px"}}),(0,o.jsx)(H,{id:l,nodeData:d})]})};$.keyWords=["function","=>","arrow"],$.getData=(e,t,l,i)=>{let a=L(e.getBody()),o=O(a,"output",e,"call",t,l,i,null,[N.data,N.flow]);return{...e.getParameters().reduce((a,o,n)=>{let r=x(),d=o.getInitializer(),s=o.getName(),p=o.getTypeNode(),u=p?p.getText():null,c=!!o.getDescendantsOfKind(X.lGB.ObjectBindingPattern).length;return c&&(s=o.getDescendantsOfKind(X.lGB.ObjectBindingPattern)[0]),{...a,["param-"+r]:{key:c?O(s,"output",e,"param-"+r,t,l,i,"key"):o.getName(),value:d?O(d,"output",e,"param-"+r,t,l,i,"value"):"",isBindingPattern:c,type:u}}},{name:e.getName&&void 0!=e.getName()?e.getName():"",export:!!e.getModifiers&&!!e.getModifiers().find(e=>"export"==e.getText()),isDefault:!!e.getModifiers&&!!e.getModifiers().find(e=>"default"==e.getText()),async:!!e.getModifiers().find(e=>"AsyncKeyword"==e.getKindName()),call:o,type:e.getReturnTypeNode()?e.getReturnTypeNode().getText():null})}},$.dump=function(e,t,l,i){var a,o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=null!==(a=i[e.id])&&void 0!==a?a:{},u=Object.keys(p).filter(e=>e.startsWith("param")).map(a=>{let o;if(p[a].isBindingPattern){let u=I(e,"target",a,N.data,p[a].value,l,t,i,n,r,d,s);o=u+(p[a].type?":".concat(p[a].type):"")}else{let u=I(e,"target",a+"-key",N.data,p[a].key,l,t,i,n,r,d,s),c=I(e,"target",a,N.data,p[a].value,l,t,i,n,r,d,s);o=u+(p[a].type?":".concat(p[a].type):"")+(c?"="+c:"")}return o}),c=I(e,"target","call",N.flow,null!==(o=p.call)&&void 0!==o?o:"{}",l,t,i,n,r,d,s,{},!0),g=(p.export?"export ":"")+(p.export&&p.isDefault?"default ":"")+(p.async?"async ":"");return"ArrowFunction"==e.type?g+="("+u.join(",")+") => "+c:g+="function "+p.name+"("+u.join(",")+") "+(p.type?":"+p.type+" ":"")+c,g+I(e,"source","output",N.flow,"",l,t,i,n,r,d,s)};var Q=(0,n.memo)($);let ee=e=>{let{id:t,type:l}=e;return(0,o.jsx)(o.Fragment,{})};ee.getData=(e,t,l)=>{let i=e.getInitializer();return i?t[L(i)]:{type:"data",value:""}},ee.isShadow=(e,t,l,i)=>!0;var et=(0,n.memo)(ee),el=l(18010);(i=a||(a={})).block="block",i.flow="flow",i.data="data",i.spread="spread",i.method="method",i.jsx="jsx",i.binding="binding";let ei=e=>{var t;let{id:l,type:i}=e,r=h("nodeFontSize"),d=(0,n.useContext)(u),s=d(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),p=d(e=>e.nodeData[l]&&e.nodeData[l]._metadata?e.nodeData[l]._metadata:{childHeight:0,childHeights:[]}),c=(e,t)=>p.childHeights.find(i=>{var a,o;return(null===(o=i.node)||void 0===o?void 0:null===(a=o.edge)||void 0===a?void 0:a.targetHandle)==l+t+e}),g=(()=>{if(!p.childHeight)return 0;let e=c("condition",N.data),t=c("then",N.flow);return Math.max(0,(e?e.height:0)+(t?Math.min(10*r,t.height):0))})();return(0,o.jsxs)(lM,{style:{minHeight:g+"px"},icon:el.Z,node:e,isPreview:!l,title:l?"if ( "+s.condition+" )":"if",id:l,color:lm[i],dataOutput:a.flow,children:[(0,o.jsx)(lZ,{id:l,params:[{label:"Condition",field:"condition",type:"input"}],boxStyle:{marginTop:"0px",marginBottom:"20px"}}),(0,o.jsx)(lJ,{id:l,type:"input",label:"Then",style:{top:((e,t)=>{let l=c(e,N.flow);return l?l.delta.y+2*r:t})("then",10*r)+"px"},handleId:"then"}),(0,o.jsx)(lJ,{id:l,type:"input",label:"Else",style:{top:Math.max(0,g-r)+"px"},handleId:"else"})]})};ei.keyWords=["if"],ei.getData=(e,t,l,i)=>{var a,o,n,r;L(e);let d=null===(o=t[L(e.getThenStatement())])||void 0===o?void 0:null===(a=o.value)||void 0===a?void 0:a.id,s=null===(r=t[L(e.getElseStatement())])||void 0===r?void 0:null===(n=r.value)||void 0===n?void 0:n.id;return d&&O(d,"output",e,"then",t,l,i,null,[N.data,N.flow]),s&&O(s,"output",e,"else",t,l,i,null,[N.data,N.flow]),{condition:O(e.getExpression(),"output",e,"condition",t,l,i,"condition")}},ei.dataOutput=a.flow,ei.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id],p=I(e,"target","condition",N.data,null!==(a=null==s?void 0:s.condition)&&void 0!==a?a:"",l,t,i,o,n,r,d),u=I(e,"target","then",N.flow,"",l,t,i,o,n,r,d),c=I(e,"target","else",N.flow,"",l,t,i,o,n,r,d),g="";return c&&(g=" else "+c),"if("+p+")"+u+g+I(e,"source","output",N.flow,"",l,t,i,o,n,r,d)},ei.getChildPosition=(e,t,l,i,a)=>(i.edge.targetHandle==e.id+N.flow+"then"&&e.position.y==t.y&&(t.y+=120),t);var ea=(0,n.memo)(ei),eo=l(19753);let en=e=>{let{id:t,type:l}=e;return(0,o.jsxs)(lM,{icon:eo.Z,node:e,isPreview:!t,title:"try",id:t,color:lm[l],dataOutput:a.flow,children:[(0,o.jsx)(lZ,{id:t,params:[{label:"Error",field:"error",type:"input",static:!0}],boxStyle:{marginTop:"70px",marginBottom:"30px"}}),(0,o.jsx)(lJ,{id:t,type:"input",label:"Try",style:{top:"60px"},handleId:"try"}),(0,o.jsx)(lJ,{id:t,type:"input",label:"Catch",style:{top:"90px"},handleId:"catch"})]})};en.keyWords=["try"],en.getData=(e,t,l,i)=>{var a,o,n,r,d;let s=null===(o=t[L(e.getTryBlock())])||void 0===o?void 0:null===(a=o.value)||void 0===a?void 0:a.id,p=null===(r=t[L(e.getCatchClause().getBlock())])||void 0===r?void 0:null===(n=r.value)||void 0===n?void 0:n.id;return{try:O(s,"output",e,"try",t,l,i,"try",[N.data,N.flow]),catch:O(p,"output",e,"catch",t,l,i,"catch",[N.data,N.flow]),error:null===(d=e.getCatchClause())||void 0===d?void 0:d.getVariableDeclaration().getFullText()}},en.dataOutput=a.flow,en.dump=function(e,t,l,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=i[e.id],s=I(e,"target","try",N.flow,"",l,t,i,a,o,n,r),p=I(e,"target","catch",N.flow,"",l,t,i,a,o,n,r);var u,c=I(e,"source","error",N.data,null!==(u=null==d?void 0:d.error)&&void 0!==u?u:"",l,t,i,a,o,n,r);return c||(c="e"),"try "+s+"catch("+c+") "+p+I(e,"source","output",N.flow,"",l,t,i,a,o,n,r)};var er=(0,n.memo)(en);let ed=e=>{var t;let{id:l,type:i}=e,r=(0,n.useContext)(u),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),s=[{label:"Expression",field:"expression",type:"input"}].concat(Object.keys(d).filter(e=>e.startsWith("case-")).reduce((e,t,l)=>e=(e=e.concat({label:"case",field:t,type:"input",deleteable:!0})).concat({label:":",field:"block".concat(l),fieldType:"clause"}),[]));return(0,o.jsxs)(lM,{icon:el.Z,node:e,isPreview:!l,title:"switch",id:l,color:lm[i],dataOutput:a.flow,children:[(0,o.jsx)(lZ,{id:l,params:s,boxStyle:{marginTop:"10px"}}),(0,o.jsx)(H,{id:l,nodeData:d,type:"Case",style:{marginBottom:"20px"}}),(0,o.jsx)(lZ,{id:l,params:[{label:"default :",field:"defaultBlock",fieldType:"clause"}],boxStyle:{marginBottom:"10px"}})]})};ed.keyWords=["switch"],ed.getData=(e,t,l,i)=>{let a=e.getCaseBlock().getClauses(),o={};return a&&(o=a.reduce((a,o,n)=>{if("CaseClause"!=o.getKindName())return{...a,defaultBlock:O(o,"output",e,"defaultBlock"+N.flow+"output",t,l,i,"defaultBlock",[N.data,N.flow])};{let r="case-".concat(n+1),d="block".concat(n),s=o.getExpression();return{...a,[r]:O(s,"output",e,r,t,l,i,r),[d]:O(o,"output",e,d+N.flow+"output",t,l,i,d,[N.data,N.flow])}}},{})),{expression:O(e.getExpression(),"output",e,"expression",t,l,i,"expression"),...o}},ed.dataOutput=a.flow,ed.dump=function(e,t,l,i){var a,o,n;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=null!==(a=i[e.id])&&void 0!==a?a:{},c=I(e,"target","expression",N.data,null!==(o=null==u?void 0:u.expression)&&void 0!==o?o:"",l,t,i,r,d,s,p,{}),g="defaultBlock"+N.flow+"output",f=I(e,"target",g,N.flow,null!==(n=u.defaultBlock)&&void 0!==n?n:"",l,t,i,r,d,s,p,{}),h=Object.keys(u).filter(e=>e.startsWith("case")).map((a,o)=>{var n,c;let g=I(e,"target",a,N.data,null!==(n=u[a])&&void 0!==n?n:"",l,t,i,r,d,s,p,{},!1),f="block".concat(o),h=f+N.flow+"output",y=I(e,"target",h,N.flow,null!==(c=u[f])&&void 0!==c?c:"",l,t,i,r,d,s,p,{});return"\n"+"	".repeat(p)+"case "+g+":\n"+y.replace(/^[\n\r\t]+/,"")});return"switch("+c+") {"+h.join("")+(f?"default: \n"+f+"\n":"")+"\n}"+I(e,"source","output",N.flow,"",l,t,i,r,d,s,p)};var es=(0,n.memo)(ed);let ep=e=>{let{id:t,type:l}=e;return(0,o.jsx)(lM,{icon:el.Z,node:e,isPreview:!t,title:"ternary",params:[{label:"Condition",field:"condition",type:"input"},{label:"When true",field:"whenTrue",type:"input"},{label:"When false",field:"whenFalse",type:"input"}],id:t,color:lm[l]})};ep.keyWords=["ternary"],ep.getData=(e,t,l,i)=>({condition:O(null==e?void 0:e.getCondition(),"output",e,"condition",t,l,i,"condition"),whenTrue:O(null==e?void 0:e.getWhenTrue(),"output",e,"whenTrue",t,l,i,"whenTrue"),whenFalse:O(null==e?void 0:e.getWhenFalse(),"output",e,"whenFalse",t,l,i,"whenFalse")}),ep.dump=function(e,t,l,i){var a,o,n;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=i[e.id];return I(e,"target","condition",N.data,null!==(a=null==u?void 0:u.condition)&&void 0!==a?a:"",l,t,i,r,d,s,p)+"?"+I(e,"target","whenTrue",N.data,null!==(o=null==u?void 0:u.whenTrue)&&void 0!==o?o:"",l,t,i,r,d,s,p)+":"+I(e,"target","whenFalse",N.data,null!==(n=null==u?void 0:u.whenFalse)&&void 0!==n?n:"",l,t,i,r,d,s,p)+I(e,"source","output",N.flow,"",l,t,i,r,d,s,p)};var eu=(0,n.memo)(ep),ec=l(13410);let eg=e=>{var t,l,i;let{id:a,type:r}=e,d=(0,n.useContext)(u),s=d(e=>null!==(t=e.nodeData[a])&&void 0!==t?t:{}),p=[{label:"Variable",field:"accessName",type:"input"},{label:"Key",field:"key",type:"input",fieldType:s.fieldType}];return(0,o.jsx)(lM,{icon:ec.Z,node:e,isPreview:!a,title:(null!==(l=null==s?void 0:s.accessName)&&void 0!==l?l:"x")+"["+(null!==(i=null==s?void 0:s.key)&&void 0!==i?i:"y")+"]",id:a,params:p,color:lm[r]})};eg.keyWords=["[]"],eg.getData=(e,t,l,i)=>({accessName:O(e.getExpression(),"output",e,"accessName",t,l,i,"accessName"),key:O(e.getArgumentExpression(),"output",e,"key",t,l,i,"key")}),eg.dump=function(e,t,l,i){var a,o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=i[e.id];return I(e,"target","accessName",N.data,null!==(a=null==p?void 0:p.accessName)&&void 0!==a?a:"",l,t,i,n,r,d,s)+"["+I(e,"target","key",N.data,null!==(o=null==p?void 0:p.key)&&void 0!==o?o:"",l,t,i,n,r,d,s)+"]"+I(e,"source","output",N.flow,"",l,t,i,n,r,d,s)};var ef=n.memo(eg),eh=l(16290);let ey=e=>{var t;let l=(0,n.useContext)(u),{id:i,type:a}=e,r=l(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),d=l(e=>e.setNodeData),s=Object.keys(r).filter(e=>e.startsWith("element-")),p=s.length,c=s.map((e,t)=>({label:"["+t+"]",field:e,type:"input",deleteable:!0}));return i&&n.useEffect(()=>{let e=Object.keys(r).filter(e=>e.startsWith("element"));e.length||r.error||d(i,{...r,"element-1":""})},[]),(0,o.jsxs)(lM,{icon:eh.Z,node:{...e,data:{...e.data,width:1}},isPreview:!i,title:"array"+(p?" ["+p+"]":""),id:i,color:lm[a],children:[(0,o.jsx)(lZ,{id:i,params:c}),(0,o.jsx)(H,{id:i,nodeData:r,type:"Element"})]})};ey.keyWords=["Array"],ey.defaultHandle=N.data+"element-1",ey.getData=(e,t,l,i)=>{let a=e.getElements(),o=e.getFlags();return a.reduce((a,o,n)=>{let r="element-".concat(n),d="trivia-element-".concat(n);return{...a,[r]:O(o,"output",e,r,t,l,i,r),[d]:F(o)}},{error:o})},ey.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(a=i[e.id])&&void 0!==a?a:{},p=Object.keys(s).filter(e=>e.startsWith("element-")).map(a=>{var p;return(void 0!==s["trivia-"+a]&&"full"==r?s["trivia-"+a]:"")+I(e,"target",a,N.data,null!==(p=s[a])&&void 0!==p?p:"",l,t,i,o,n,r,d)});return"["+p.join(",")+function(e,t){if(!e||"partial"==t)return"";let l=e.getSourceFile().getFullText(),i=e.getLastChild();if(i&&"CloseBracketToken"===i.getKindName()){let e=i.getLeadingTriviaWidth(),t=l.substring(i.getPos(),i.getPos()+e);return t}return""}(s._astNode,r)+"]"+I(e,"source","output",N.flow,"",l,t,i,o,n,r,d)},ey.getSize=(e,t,l)=>{let i=Object.keys(l).filter(e=>e.startsWith("element-")).length;return e[0].height=140+49*i,e};var em=(0,n.memo)(ey),ev=l(13505);let ex=e=>{let{id:t,type:l}=e;return(0,o.jsx)(lM,{icon:ev.Z,node:e,isPreview:!t,title:"()",id:t,params:[{label:"Value",field:"value",type:"input"}],color:lm[l]})};ex.keyWords=["()"],ex.getData=(e,t,l,i,a)=>({value:O(e.getExpression(),"output",e,"value",t,l,i,"value")}),ex.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id];return"("+I(e,"target","value",N.data,null!==(a=null==s?void 0:s.value)&&void 0!==a?a:"",l,t,i,o,n,r,d)+")"+I(e,"source","output",N.flow,"",l,t,i,o,n,r,d)};var eb=(0,n.memo)(ex),ej=l(92243);let eC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=l=>{let i=h("nodeFontSize"),{id:n,type:r}=l,d=[];return"for"==e&&d.push({label:"Initializer",field:"initializer",type:"input"}),d.push({label:"Condition",field:"condition",type:"input"}),"for"==e&&d.push({label:"Incrementor",field:"incrementor",type:"input"}),(0,o.jsxs)(lM,{icon:ej.Z,node:l,isPreview:!n,title:t||e,id:n,color:lm[r],dataOutput:a.flow,children:[(0,o.jsx)(lZ,{id:n,params:d,boxStyle:{marginTop:"0px",marginBottom:3*i+"px"}}),(0,o.jsx)(lJ,{id:n,type:"input",label:"Loop",style:{top:"for"==e?11*i:6.5*i+"px"},handleId:"loop"})]})};return l.keyWords=["for","while","do-while"],l.getData=(l,i,a,o)=>{l.getStatement()&&O(l.getStatement(),"output",l,"loop",i,a,o,null,[N.data,N.flow]);let n={};return"for"==e&&(n={initializer:O(l.getInitializer(),"output",l,"initializer",i,a,o,"initializer"),incrementor:O(l.getIncrementor(),"output",l,"incrementor",i,a,o,"incrementor")}),{...n,condition:O("while"==e?l.getExpression():l.getCondition(),"output",l,"condition",i,a,o,"condition"),mode:e,submode:t}},l.dataOutput=a.flow,l.dump=function(e,t,l,i){let a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id],p=I(e,"target","condition",N.data,null==s?void 0:s.condition,l,t,i,o,n,r,d),u=I(e,"target","loop",N.flow,"",l,t,i,o,n,r,d);if("WhileStatement"==e.type)a="while("+p+") "+u;else if("DoStatement"==e.type)a="do "+u+" while ("+p+")";else if("ForStatement"==e.type){let c=I(e,"target","initializer",N.data,null==s?void 0:s.initializer,l,t,i,o,n,r,d),g=I(e,"target","incrementor",N.data,null==s?void 0:s.incrementor,l,t,i,o,n,r,d);a="for("+c.replace(/;$/,"")+";"+p.replace(/;$/,"")+";"+g.replace(/;$/,"")+") "+u}return a+I(e,"source","output",N.flow,"",l,t,i,o,n,r,d)},l};eC("while");let ew=e=>{let t=t=>{var l,i,a;let{id:r,type:d}=t,s=(0,n.useContext)(u),p=s(e=>null!==(l=e.nodeData[r])&&void 0!==l?l:{}),c=[{label:"Value",field:"value",type:"input"}];c.push({field:"operator",type:"select",data:["++","--","!","-"],static:!0}),"pre"==e&&c.reverse();let g=null!==(i=p.operator)&&void 0!==i?i:"++",f=null!==(a=p.value)&&void 0!==a?a:"x";return(0,o.jsx)(lM,{icon:Z.Z,node:t,isPreview:!r,title:"pre"==e?g+f:f+g,id:r,params:c,color:lm[d]})};return t.keyWords=["pre","++x","x++","-x"],t.getData=(e,t,l,i)=>({operator:({40:"-",45:"++",46:"--",53:"!"})[e.getOperatorToken()],value:O(e.getOperand(),"output",e,"value",t,l,i,"value")}),t.dump=function(t,l,i,a){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=a[t.id],u=I(t,"target","value",N.data,null!==(o=null==p?void 0:p.value)&&void 0!==o?o:"",i,l,a,n,r,d,s),c=[p.operator,u];return"post"==e&&c.reverse(),c.join("")+I(t,"source","output",N.flow,"",i,l,a,n,r,d,s)},n.memo(t)};var ek=l(66753);let eT=e=>{var t;let{id:l,type:i}=e,r=(0,n.useContext)(u),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),s=Object.keys(d).filter(e=>e.startsWith("import-")).map((e,t)=>({label:t+1+"",field:e,type:"input",static:!0,deleteable:!0})),p=[{label:"Module",field:"module",type:"input",static:!0},{label:"Default",field:"default",type:"input",static:!0}].concat(s);return(0,o.jsxs)(lM,{icon:ek.Z,node:e,isPreview:!l,title:"import",id:l,color:lm[i],dataOutput:a.flow,children:[(0,o.jsx)(lZ,{id:l,params:p,boxStyle:{marginTop:"10px"}}),(0,o.jsx)(H,{id:l,nodeData:d,type:"Import",style:{marginBottom:"20px"}})]})};eT.keyWords=["import"],eT.getData=(e,t,l)=>{var i,a,o;let n=null!==(o=e.getNamedImports())&&void 0!==o?o:[];return n.reduce((e,t,l)=>({...e,["import-"+l]:t.getName()}),{default:null===(i=e.getDefaultImport())||void 0===i?void 0:i.getText(),module:null===(a=e.getModuleSpecifier())||void 0===a?void 0:a.getText().slice(1,-1)})},eT.dataOutput=a.flow,eT.dump=function(e,t,l,i){var a,o,n,r;let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=null!==(a=i[e.id])&&void 0!==a?a:{},g=Object.keys(c).filter(e=>e.startsWith("import")).reduce((a,o)=>{var n;return c[o]?a+=I(e,"target",o,N.data,null!==(n=c[o])&&void 0!==n?n:"",l,t,i,d,s,p,u)+", ":a},""),f=null!==(n=I(e,"target","default",N.data,null!==(o=null==c?void 0:c.default)&&void 0!==o?o:"",l,t,i,d,s,p,u))&&void 0!==n?n:"",h=I(e,"target","module",N.data,null!==(r=null==c?void 0:c.module)&&void 0!==r?r:"",l,t,i,d,s,p,u);return"import "+f+(f&&g?", ":"")+(g?"{ "+g+"}":"")+' from "'.concat(h,'"')+I(e,"source","output",N.flow,"",l,t,i,d,s,p,u)};var eE=(0,n.memo)(eT),eD=l(22951);let eS=e=>{let{id:t,type:l}=e;return(0,o.jsx)(lM,{icon:eD.Z,node:e,isPreview:!t,title:"export default",id:t,params:[{label:"Value",field:"value",type:"input"}],color:lm[l],dataOutput:a.flow})};eS.keyWords=["export default"],eS.getData=(e,t,l,i)=>({value:O(null==e?void 0:e.getExpression(),"output",e,"value",t,l,i,"value")}),eS.dataOutput=a.flow,eS.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id];return"export default "+I(e,"target","value",N.data,null!==(a=null==s?void 0:s.value)&&void 0!==a?a:"",l,t,i,o,n,r,d)};var eL=n.memo(eS);let eN=e=>{var t;let{id:l,type:i}=e,r=(0,n.useContext)(u),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),s=Object.keys(d).filter(e=>e.startsWith("export-")).map((e,t)=>({label:t+1+"",field:e,type:"input",static:!0}));return(0,o.jsx)(lM,{icon:eD.Z,node:e,isPreview:!l,title:"export",id:l,params:s,color:lm[i],dataOutput:a.flow})};eN.keyWords=["export"],eN.getData=(e,t,l)=>{var i;let a=null!==(i=e.getNamedExports())&&void 0!==i?i:[];return a.reduce((e,t,l)=>({...e,["export-"+l]:t.getName()}),{})},eN.dataOutput=a.flow,eN.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(a=i[e.id])&&void 0!==a?a:{},p=Object.keys(s).filter(e=>e.startsWith("export")).reduce((a,p)=>{var u;return a+(I(e,"target",p,N.data,null!==(u=s[p])&&void 0!==u?u:"",l,t,i,o,n,r,d)+", ")},"");return"export {"+p+"}"};var eP=n.memo(eN),eO=l(27145);let eF=e=>{var t;let{id:l,type:i}=e,r=(0,n.useContext)(u),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{});return(0,o.jsx)(lM,{icon:eO.Z,node:e,isPreview:!l,title:"return"+(e.id?" "+d.value:""),id:l,params:[{label:"Value",field:"value",type:"input"}],color:lm[i],dataOutput:a.flow})};eF.keyWords=["return"],eF.getData=(e,t,l,i)=>({value:O(null==e?void 0:e.getExpression(),"output",e,"value",t,l,i,"value")}),eF.dataOutput=a.flow,eF.dump=function(e,t,l,i){var a,o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=i[e.id];return"return "+(null!==(o=I(e,"target","value",N.data,null!==(a=null==p?void 0:p.value)&&void 0!==a?a:"",l,t,i,n,r,d,s))&&void 0!==o?o:"")+I(e,"source","output",N.flow,"",l,t,i,n,r,d,s)};var eW=n.memo(eF),eI=l(5521);let eB=e=>{let{id:t,type:l}=e,i=h("nodeFontSize");return(0,o.jsx)(lM,{icon:eI.Z,style:{minHeight:t?4*i+"px":i,minWidth:10*i+"px"},node:e,isPreview:!t,title:"break",id:t,params:[],color:lm[l]})};eB.keyWords=["break"],eB.getData=(e,t,l)=>({}),eB.dump=function(e,t,l,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return"break"+I(e,"source","output",N.flow,"",l,t,i,a,o,n,r)};var eH=n.memo(eB);let ez=e=>{let{id:t,type:l}=e;return(0,o.jsx)(o.Fragment,{})};ez.getData=(e,t,l)=>{let i=e.getDeclarationList();return i?t[L(i)]:{type:"data",value:""}},ez.isShadow=(e,t,l,i)=>!0;var eA=(0,n.memo)(ez),eR=l(19837);let eZ=e=>{let t=t=>{var l,i;let{id:r,type:d}=t,s=(0,n.useContext)(u),p=s(e=>null!==(i=e.nodeData[r])&&void 0!==i?i:{}),c=s(e=>e.setNodeData),g=null===(l=Object.keys(p))||void 0===l?void 0:l.filter(e=>e.startsWith("member-")),f=null==g?void 0:g.map((e,t)=>e.startsWith("member-attr-")?{field:e,type:"input",fieldType:"parameter",separator:"=",deleteable:!1}:{label:"Member [".concat(t,"]"),field:e,type:"input",deleteable:!0}),h=[{label:"Extends",field:"extends",type:"input"},{label:"Implements",field:"implements",type:"input"}].concat(f),y=e=>{"attribute"==e?c(r,{...p,["member-attr-".concat(g.length)]:{type:"attribute",key:"",value:""}}):c(r,{...p,["member-".concat(g.length)]:""})};return(0,o.jsxs)(lM,{icon:eR.Z,node:t,isPreview:!r,title:"class ".concat(e),id:r,color:lm[d],dataOutput:a.flow,children:["declaration"==e?(0,o.jsx)(lZ,{id:r,params:[{label:"Name",field:"name",type:"input",static:!0}]}):null,(0,o.jsx)(lZ,{id:r,params:h}),(0,o.jsxs)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"space-around",marginTop:"20px"},children:[(0,o.jsx)(B,{onPress:()=>y("attribute"),label:"Add attribute",style:{width:"110px",margin:"0px"}}),(0,o.jsx)(B,{onPress:()=>y("member"),label:"Add member",style:{width:"110px",margin:"0px"}})]}),(0,o.jsx)(lZ,{id:r,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),p.export?(0,o.jsx)(lZ,{id:r,params:[{label:"isDefault",field:"isDefault",type:"boolean",static:!0}]}):null]})};return t.keyWords=["class"],t.getData=(e,t,l,i)=>{let a=e.getMembers().reduce((a,o,n)=>{var r="member-"+n,d={};if("PropertyDeclaration"==o.getKindName()){var s,p,r="member-attr-"+n;let e=o.getName(),t=o.getTypeNode(),l=null!==(p=null===(s=o.getInitializer())||void 0===s?void 0:s.getText())&&void 0!==p?p:"",i=F(o);d[r]={key:e,value:l},d["type-".concat(r)]=t?t.getText():null,d["attrTrivia".concat(n)]=i}else d[r]=O(o,"output",e,r,t,l,i,null,[N.data,N.data]);return{...a,...d}},{}),o={...a,export:e.getModifiers().find(e=>"ExportKeyword"==e.getKindName()),isDefault:!!e.getModifiers&&!!e.getModifiers().find(e=>"default"==e.getText()),name:e.getName()},n=e.getHeritageClauses();return n.length&&n.forEach((a,r)=>{let d=117==a.getToken()?"implements":"extends";o[d]=O(n[0],"output",e,d,t,l,i,d)}),o},t.dataOutput=a.flow,t.dump=function(t,l,i,a){var o,n;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=null!==(n=a[t.id])&&void 0!==n?n:{},c=null===(o=Object.keys(u))||void 0===o?void 0:o.filter(e=>e.startsWith("member-")).reduce((e,o,n)=>{if(o.startsWith("member-attr-")){var r;let t=null!==(r=u[o].key)&&void 0!==r?r:"",l=u[o].value,i=u["type-"+o]&&l?":":"=";return e+u["attrTrivia".concat(n)]+t+(l?i+l:"")}return j(t.id,o,N.data,i)?e+I(t,"target",o,N.data,"",i,l,a,u[o],d,s,p):e},"");return(u.export?"export ":"")+(u.export&&u.isDefault?"default ":"")+"class "+("declaration"==e?u.name:"")+(u.extends?" extends "+u.extends:"")+(u.implements?" implements "+u.implements:"")+"{"+c+"}"+I(t,"source","output",N.flow,"",i,l,a,r,d,s,p)},t};eZ("declaration");var eJ=l(89285);let eM=e=>{let t=t=>{var l;let{id:i,type:r}=t,d=(0,n.useContext)(u),s=d(e=>null!==(l=e.nodeData[i])&&void 0!==l?l:{}),p=Object.keys(s).filter(e=>e.startsWith("param-")).map((e,t)=>({label:e.substr(6),field:e,fieldType:"parameter"}));return(0,o.jsxs)(lM,{icon:eJ.Z,node:t,isPreview:!i,title:e,id:i,color:lm[r],dataOutput:a.method,children:[(0,o.jsx)("div",{style:{height:"40px"}}),"method"==e?(0,o.jsx)(lZ,{id:i,params:[{label:"Name",field:"name",type:"input"}]}):null,(0,o.jsx)(lZ,{id:i,params:p}),(0,o.jsx)(H,{id:i,nodeData:s,type:"param"}),(0,o.jsx)(lJ,{id:i,type:"input",label:"Body",style:{top:"60px"},handleId:"body"}),(0,o.jsx)(lZ,{id:i,params:[{label:"Static",field:"static",type:"boolean",static:!0},{label:"Async",field:"async",type:"boolean",static:!0}]}),(0,o.jsx)(lZ,{id:i,params:[{field:"level",type:"select",data:["public","private","protected"],static:!0}]})]})};return t.keyWords=["method","constructor"],t.getData=(e,t,l,i)=>{O(e.getBody(),"output",e,"body",t,l,i,null,[N.data,N.flow]);let a="public";return e.getModifiers().find(e=>"PublicKeyword"==e.getKindName())?a="public":e.getModifiers().find(e=>"PrivateKeyword"==e.getKindName())?a="private":e.getModifiers().find(e=>"ProtectedKeyword"==e.getKindName())&&(a="protected"),{...e.getParameters().reduce((a,o,n)=>{let r=x(),d=o.getInitializer(),s=o.getTypeNode(),p=s?s.getText():null;return e.getName&&(a.name=e.getName()),{...a,["param-"+r]:{key:o.getName(),value:d?O(d,"output",e,"param-"+r,t,l,i,"param-"+r):"",type:p}}},{static:!!e.getModifiers().find(e=>"StaticKeyword"==e.getKindName()),async:!!e.getModifiers().find(e=>"AsyncKeyword"==e.getKindName()),level:a,type:e.getReturnTypeNode()?e.getReturnTypeNode().getText():null})}},t.dataOutput=a.method,t.dump=function(t,l,i,a,o,n,r){var d;let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=null!==(d=a[t.id])&&void 0!==d?d:{},u="constructor"==e?"constructor":p.name,c=Object.keys(p).filter(e=>e.startsWith("param")).map(e=>{var o,d,u,c;let g=I(t,"target",e+"-key",N.data,null!==(u=null===(o=p[e])||void 0===o?void 0:o.key)&&void 0!==u?u:"",i,l,a,null,n,r,s),f=I(t,"target",e,N.data,null!==(c=null===(d=p[e])||void 0===d?void 0:d.value)&&void 0!==c?c:"",i,l,a,null,n,r,s),h=g+(p[e].type?":"+p[e].type+" ":"")+(f?"="+f:"");return h}),g=I(t,"target","body",N.flow,"",i,l,a,null,n,r,s);return(p.static?"static ":"")+(p.async?"async ":"")+u+"("+c.join(",")+") "+(p.type?":"+p.type+" ":"")+g+I(t,"source","output",N.flow,"",i,l,a,null,n,r,s)},t};eM("method");var e_=l(22253);let eK=e=>{var t;let{id:l,type:i}=e,a=(0,n.useContext)(u),r=a(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),d=Object.keys(r).filter(e=>e.startsWith("param")).map((e,t)=>({label:"Params[".concat(t+1,"]"),field:e,type:"input",deleteable:!0})),s=[{label:"Name",field:"name",type:"input"}].concat(d);return(0,o.jsxs)(lM,{icon:e_.Z,output:{label:"Output",field:"value",type:"output"},node:e,isPreview:!l,title:"new",id:l,color:lm[i],children:[(0,o.jsx)(lZ,{id:l,params:s,boxStyle:{marginTop:"10px"}}),(0,o.jsx)(H,{id:l,nodeData:r,type:"param"}),(0,o.jsx)(lR,{id:l,param:{label:"Output",field:"value",type:"output"}})]})};eK.keyWords=["new"],eK.getData=(e,t,l,i)=>({...e.getArguments().reduce((a,o,n)=>({...a,["param"+(n+1)]:O(o,"output",e,"param"+(n+1),t,l,i,"param"+(n+1))}),{}),name:O(e.getExpression(),"output",e,"name",t,l,i,"name")}),eK.dump=function(e,t,l,i){var a,o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=null!==(a=i[e.id])&&void 0!==a?a:{},u=Object.keys(p).filter(e=>e.startsWith("param")).map(a=>I(e,"target",a,N.data,null!==(o=p[a])&&void 0!==o?o:"",l,t,i,n,r,d,s)),c=I(e,"target","name",N.data,p.name,l,t,i,n,r,d,s);return"new "+c+"("+u.join(",")+")"+I(e,"source","output",N.flow,"",l,t,i,n,r,d,s)};var eV=n.memo(eK),eG=l(81267);let eU=e=>{let{id:t,type:l}=e;return(0,o.jsx)(lM,{icon:eG.Z,node:e,isPreview:!t,title:"continue",id:t,params:[],color:lm[l],dataOutput:a.flow})};eU.keyWords=["continue"],eU.getData=(e,t,l)=>({}),eU.dataOutput=a.flow,eU.dump=function(e,t,l,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return"continue"+I(e,"source","output",N.flow,"",l,t,i,a,o,n,r)};var eq=n.memo(eU),eX=l(69786);let eY=e=>{let{id:t,type:l}=e;return(0,o.jsx)(lM,{icon:eX.Z,node:e,isPreview:!t,title:"await",id:t,params:[{label:"Value",field:"value",type:"input"}],color:lm[l]})};eY.keyWords=["await"],eY.getData=(e,t,l,i)=>({value:O(null==e?void 0:e.getExpression(),"output",e,"value",t,l,i,"value")}),eY.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id];return"await "+I(e,"target","value",N.data,null!==(a=null==s?void 0:s.value)&&void 0!==a?a:"",l,t,i,o,n,r,d)};var e$=n.memo(eY),eQ=l(15038);let e0=e=>{let t=t=>{var l;let{id:i,type:a}=t,r=(0,n.useContext)(u),d=r(e=>null!==(l=e.nodeData[i])&&void 0!==l?l:{}),s="json"==d.mode?{keyPre:e=>e.replace(/^(["'])|(["'])$/g,""),keyPost:e=>'"'+e+'"'}:{},p=Object.keys(d).filter(e=>e.startsWith("param-")).map((e,t)=>{let l="json"==d.mode?{}:{additionalHandlePort:"key"};return{label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0,...l,...s}});return(0,o.jsxs)(lM,{icon:eQ.Z,node:t,isPreview:!i,title:"typeLiteral"==e?"type literal":"Object",id:i,color:lm[a],children:[(0,o.jsx)("div",{style:{height:"5px"}}),(0,o.jsx)(lZ,{id:i,params:p}),(0,o.jsx)(H,{label:"Add Property",id:i,nodeData:d})]})};return t.keyWords=["Object"],t.getData=(t,l,i,a,o)=>({...t["typeLiteral"==e?"getMembers":"getProperties"]().reduce((n,r,d)=>{let s,p;let u=x();return"SpreadAssignment"==r.getKindName()?s=O(r,"output",t,"param-"+u+"-key",l,i,a):(s=r.getName(),p="typeLiteral"==e?r.getType().getText():r.getInitializer()?O(r.getInitializer(),"output",t,"param-"+u,l,i,a,"param-"+u):""),{...n,["param-"+u]:{key:null!=s?s:"",value:null!=p?p:""},["trivia-param-"+u]:F(r),mode:o}},{})}),t.onDeleteConnection=(e,t)=>({...e,[t]:{...e[t],value:""}}),t.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;arguments.length>8&&arguments[8];let s=null!==(a=i[e.id])&&void 0!==a?a:{},p=s._astNode?"":" ",u=!!s._astNode,c=Object.keys(s).filter(e=>e.startsWith("param")).map(a=>{var u,c,g,f;let h=null!==(g=null===(u=s[a])||void 0===u?void 0:u.key)&&void 0!==g?g:"",y={},m=I(e,"target",a,N.data,null!==(f=null===(c=s[a])||void 0===c?void 0:c.value)&&void 0!==f?f:"",l,t,i,o,n,r,d+1,y);return{code:h+(m?":"+p+m:""),trivia:y.content,paramTrivia:s["trivia-"+a]}}),g="partial"==r?"":u?function(e){let t=e.getSourceFile().getFullText(),l=e.getLastChild();if(l&&"CloseBraceToken"===l.getKindName()){let e=l.getLeadingTriviaWidth(),i=t.substring(l.getPos(),l.getPos()+e);return i}return""}(s._astNode):"\n"+"	".repeat(d-1);return"{"+c.reduce((e,t,l)=>{let i="partial"==r?"":void 0!==t.paramTrivia?t.paramTrivia:"\n"+"	".repeat(d);return e+i+t.code+(l<c.length-1?",":"")},"")+g+"}"+I(e,"source","output",N.flow,"",l,t,i,o,n,r,d)},t},e1=e0("objectLiteral");var e5=n.memo(e1);let e4=e=>(0,o.jsx)(o.Fragment,{});e4.skipTraversal=!0;var e2=(0,n.memo)(e4),e6=l(22e3);let e7=e=>{let{id:t,type:l}=e;return(0,o.jsx)(lM,{icon:e6.Z,node:e,isPreview:!t,title:"template",id:t,params:[{label:"Template",field:"value",type:"input"}],color:lm[l]})};e7.keyWords=["Template"],e7.getData=(e,t,l)=>({value:e.getText().slice(1,-1)}),e7.skipTraversal=!0;var e3=n.memo(e7),e8=l(38588),e9=l(66810);function te(e){e<0&&(e=0);let t=e/10;return"0px 3px 5px -1px rgba(0,0,0,".concat(.2*t,"), \n            0px 6px 10px 0px rgba(0,0,0,").concat(.14*t,"), \n            0px 1px 18px 0px rgba(0,0,0,").concat(.12*t,")")}let tt=e=>{var t,l,i,d,s;let{id:p,type:c}=e,g=(0,n.useContext)(u),f=g(e=>null!==(l=e.nodeData[p])&&void 0!==l?l:{}),y=g(e=>e.nodeData[p]&&e.nodeData[p]._metadata?e.nodeData[p]._metadata:{childWidth:0,childHeight:0,childHeights:[]}),m=g(e=>e.setNodeData),v=g(e=>e.currentPath),x=h("nodeFontSize");h("blockPort");let b=!y.childHeight,j=222+h("nodeFontSize")/2,C=p?y.childHeight?y.childHeight+1.5*j+1*Math.max(0,(null===(s=f.connections)||void 0===s?void 0:s.length)-1):120:0,w=(0,r.Mi)(),k=()=>{m(p,{...f,connections:f.connections?f.connections.concat([1]):[1]})},T={};T.minHeight=C+"px",T.border=0,T.minWidth="CaseClause"==c||"DefaultClause"==c?"400px":"200px";let E=h("containerColor"),D={SourceFile:{color:"#F7B500",output:!1,title:v.split(/[/\\]/).pop()},Block:{icon:e8.Z,color:"#ccc",title:"Block"},CaseClause:{icon:e9.Z,color:lm[c],title:"Case Clause"},DefaultClause:{icon:e9.Z,color:lm.CaseClause,title:"Case Clause"}};return p&&n.useEffect(()=>{var e,t;let l=w.filter(e=>e.target==p);"json"==f.mode||l.length!=(null==f?void 0:null===(e=f.connections)||void 0===e?void 0:e.length)&&(null==f?void 0:null===(t=f.connections)||void 0===t?void 0:t.length)||k()},[w,null==f?void 0:null===(i=f.connections)||void 0===i?void 0:i.length]),(0,o.jsxs)(lM,{draggable:"SourceFile"!=c,container:!b,style:T,icon:null!==(d=D[c].icon)&&void 0!==d?d:null,node:e,output:!1==D[c].output?null:{field:"value",type:"output"},isPreview:!p,title:D[c].title,id:p,params:[],color:D[c].color,dataOutput:a.block,children:[b?(0,o.jsx)("div",{style:{height:2*x+"px"}}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{style:{top:1.9*x,opacity:1,pointerEvents:"none",borderRadius:"0px "+x/1.3+"px "+x/1.3+"px "+x/1.3+"px",position:"absolute",width:y.childWidth+"px",height:C-lB-2*x+"px",backgroundColor:E,borderLeft:x/2+"px solid "+D[c].color,boxShadow:te(1.5)}})}),(0,o.jsx)("div",{children:null===(t=f.connections)||void 0===t?void 0:t.map((e,t)=>{let l=t&&y&&y&&y.childHeight&&y.childHeights&&y.childHeights[t-1]?y.childHeights[t-1].height:0;return l=l+(1==f.connections.length?100:j)-10,(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{left:x/2-1+"px",position:"absolute",top:l-x/4+"px",width:x+"px",height:x/2+"px",backgroundColor:D[c].color}}),(0,o.jsx)(lJ,{id:p,type:"input",label:"",style:{left:b?"":x+"px",top:l+"px"},handleId:"block"+t,allowedTypes:["data","flow"]},t)]})})})]})};tt.keyWords=["block","{}","CaseClause"],tt.defaultHandle=N.flow+"block0",tt.getData=(e,t,l,i,a)=>{let o=e.getStatements?e.getStatements():e.getDeclarations();o.forEach((a,o)=>{let n=t[L(a)];if((null==n?void 0:n.type)||console.error("item has no type: ",n),(null==n?void 0:n.type)=="node"){let a=n.value.id;a&&O(a,"output",e,"block"+o,t,l,i,null,[N.data,N.flow])}});let n=e.getStatements();return{connections:"json"==a&&n.length?n:n.concat([1]),mode:a}},tt.dataOutput=a.block,tt.dump=function(e,t,l,i){var a,o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;arguments.length>8&&void 0!==arguments[8]&&arguments[8];let p=null!==(a=i[e.id])&&void 0!==a?a:{connections:[]},u=null!==(o=p.connections)&&void 0!==o?o:[],c=p._astNode;c&&c.getText();let g="Block"==e.type?"	":"",f=u.map((a,o)=>{l.find(t=>t.targetHandle==e.id+N.flow+"block"+o&&t.source);var p,u="";let c={},f=I(e,"target","block"+o,N.flow,"",l,t,i,n,r,d,s+1,c);return u=c.content&&c.content.includes("\n")||!o?"":"\n"+(f?g.repeat(s>0?s:0):""),{code:f=f?u+f:null,trivia:null!==(p=c.content)&&void 0!==p?p:""}}).filter(e=>e.code),h=f.length&&f[0].trivia.includes("\n")?"":"\n",y=("Block"==e.type?"{"+h:"")+f.map(e=>e.code).join("")+("Block"==e.type?"\n"+g.repeat(Math.max(s-1,0))+"}":"");return y},tt.filterChildren=(e,t,l,i,a)=>t,tt.getWidth=e=>50,tt.getPosition=(e,t)=>(e.y=e.y+200,e),tt.getSpacingFactor=()=>({factorX:1.2,factorY:1});let tl=e=>{let{id:t,type:l}=e,i=(0,n.useContext)(u),a=i(e=>e.setMenu);return(0,o.jsxs)(lM,{style:{borderColor:"#bbb",borderStyle:"dashed",borderWidth:2},output:!1,node:e,isPreview:!t,id:t,color:lm[l],children:[(0,o.jsx)("div",{onClick:e=>{let{clientX:l,clientY:i}=e;console.log("event: ",e),console.log("locationX: ",l,"locationY: ",i),a("open",[l,i],t)},children:(0,o.jsx)(m,{style:{color:"#bbb",fontSize:"25px"},children:"+"})}),(0,o.jsx)(lR,{id:t,param:{label:"",field:"value",type:"output"},style:{backgroundColor:"#bbb",marginTop:"-25px"}})]})};tl.keyWords=["phantom"],tl.dump=(e,t,l,i)=>"";var ti=(0,n.memo)(tl),ta=l(69335);let to=e=>{var t,l;let{id:i,type:r}=e,d=(0,n.useContext)(u),s=d(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),p=[{label:"Name",static:!0,field:"name",type:"input",description:"Type name"}].concat(Object.keys(s).filter(e=>e.startsWith("union-")).map((e,t)=>({label:"["+t+"]",field:e,type:"input",deleteable:!0})));return(0,o.jsxs)(lM,{icon:ta.Z,node:e,isPreview:!i,title:(s.export?"export ":"")+"type "+(null!==(l=s.name)&&void 0!==l?l:""),id:i,color:lm[r],dataOutput:a.flow,children:[(0,o.jsx)(lZ,{id:i,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),(0,o.jsx)(lZ,{id:i,params:p}),(0,o.jsx)(H,{id:i,nodeData:s,type:"Union"})]})};to.keyWords=["type"],to.getData=(e,t,l,i)=>{var a={name:e.getName?e.getName():"",export:e.getModifiers().find(e=>"ExportKeyword"==e.getKindName())},o=[];return e.forEachChild(e=>{"TypeLiteral"==e.getKindName()?o.push(e):"UnionType"==e.getKindName()&&e.forEachChild((e,t)=>{o.push(e)})}),o.forEach((o,n)=>{let r="union-"+n;a={...a,[r]:O(o,"output",e,r,t,l,i,null)}}),a},to.dataOutput=a.flow,to.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(a=i[e.id])&&void 0!==a?a:{},p=Object.keys(s).filter(e=>e.startsWith("union-")),u=p.length,c=p.reduce((a,p,c)=>{var g;let f=I(e,"target",p,N.data,null!==(g=s[p])&&void 0!==g?g:"",l,t,i,o,n,r,d);return a+f+(c+1<u?" | ":"\n")},"");return(s.export?"export ":"")+"type "+s.name+" = "+c+" "+I(e,"source","output",N.flow,"",l,t,i,o,n,r,d)};var tn=n.memo(to);let tr=e=>{var t;let{id:l,type:i}=e,r=(0,n.useContext)(u),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),s=[{label:"Name",static:!0,field:"name",type:"input",description:"Interface name"}].concat(Object.keys(d).filter(e=>e.startsWith("param-")).map((e,t)=>({label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0})));return(0,o.jsxs)(lM,{icon:ta.Z,node:e,isPreview:!l,title:"interface",id:l,color:lm[i],dataOutput:a.flow,children:[(0,o.jsx)(lZ,{id:l,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),(0,o.jsx)(lZ,{id:l,params:s}),(0,o.jsx)(H,{id:l,nodeData:d})]})};tr.keyWords=["interface"],tr.getData=(e,t,l)=>({...e.getType().getProperties().reduce((e,t,l)=>{var i;let a=x(),o=t.getValueDeclaration().getType().getText(),n=!!(null===(i=t.getValueDeclaration())||void 0===i?void 0:i.getChildrenOfKind(X.lGB.QuestionToken).length),r=t.getName()+(n?"?":"");return{...e,["param-"+a]:{key:null!=r?r:"",value:null!=o?o:""}}},{name:e.getName?e.getName():"",export:e.getModifiers().find(e=>"ExportKeyword"==e.getKindName())})}),tr.dataOutput=a.flow,tr.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(a=i[e.id])&&void 0!==a?a:{},p=Object.keys(s).filter(e=>e.startsWith("param-")).reduce((a,p)=>{var u,c;let g=s[p].key,f=I(e,"target",p,N.data,null!==(c=null===(u=s[p])||void 0===u?void 0:u.value)&&void 0!==c?c:"",l,t,i,o,n,r,d);return a+("	"+g)+":"+f+";\n"},"");return(s.export?"export ":"")+" interface "+s.name+" {\n"+p+"\n}"+I(e,"source","output",N.flow,"",l,t,i,o,n,r,d)};var td=n.memo(tr),ts=l(58942);let tp=e=>{var t;let{id:l,type:i}=e,r=(0,n.useContext)(u),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),s=Object.keys(d).filter(e=>e.startsWith("param-")).map((e,t)=>({label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0}));return(0,o.jsxs)(lM,{icon:ts.Z,node:e,isPreview:!l,title:"object binding",id:l,color:lm[i],dataOutput:a.binding,children:[(0,o.jsx)(lZ,{id:l,params:s}),(0,o.jsx)(H,{id:l,nodeData:d})]})};tp.keyWords=["object","binding","object binding"],tp.getData=(e,t,l,i)=>({...e.getElements().reduce((e,t,l)=>{let i=x(),a=null==t?void 0:t.getPropertyNameNode(),o=null!==(r=null==t?void 0:t.getName())&&void 0!==r?r:"",n=null==t?void 0:t.getInitializer();var r,d={};return d=n?{key:o,value:n.getText(),initializer:!0}:a?{key:a.getText(),value:o}:{key:o},{...e,["param-"+i]:{...d}}},{})}),tp.dataOutput=a.binding,tp.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(a=i[e.id])&&void 0!==a?a:{},p=Object.keys(s).filter(e=>e.startsWith("param-")).reduce((a,p)=>{var u,c;let g=s[p].key,f=s[p].initializer?"=":":",h=I(e,"target",p,N.data,null!==(c=null===(u=s[p])||void 0===u?void 0:u.value)&&void 0!==c?c:"",l,t,i,o,n,r,d);return a+(g+(h?f+h:"")+", ")},"");return"{"+p+"}"+I(e,"source","output",N.flow,"",l,t,i,o,n,r,d)};var tu=l(1674),tc=(l(99272),l(8939)),tg=l(66306),tf=l(84291),th=l(15498),ty=(l(10956),l(88724)),tm=l(81395),tv=l(83030),tx=l(34854),tb=l(47416),tj=l(76588),tC=l(51619),tw=l(62200),tk=l(34550),tT=l(27995),tE=l(34498),tD=l(40971),tS=l(11059),tL=l(51801),tN=l(35034),tP=l(3368),tO=l(76515),tF=l(12966),tW=l(33511),tI=l(97894);let tB=()=>["alignment-text","alignment-items","alignment-flex","alignment-content"];var tH=e=>{let{nodeData:t={},item:l,node:i}=e,a=(0,n.useContext)(u),r=a(e=>e.setNodeData),d=a(e=>e.deletePropNodeData),{field:s,label:p,type:c,fieldType:g}=l,f=s.replace(g+"-",""),h=t[s],y=null==h?void 0:h.value,m=function(){var e,l;let i="0deg",a=!!(null===(l=t["prop-flexDirection"])||void 0===l?void 0:null===(e=l.value)||void 0===e?void 0:e.startsWith("row"));return a&&(i="alignItems"==f?"90deg":"-90deg"),i}(),v=e=>y==e?"white":void 0,x=e=>{y==e?d(i.id,s):r(i.id,{...t,[s]:{...h,key:f,value:e,kind:"StringLiteral"}})},b=e=>{let{icon:t,name:l,rotate:i="0deg"}=e;return(0,o.jsx)("div",{title:l,style:{cursor:"pointer",rotate:i},onClick:()=>x(l),children:n.createElement(t,{color:v(l)})})};return(0,o.jsx)(t3,{label:p,input:(()=>{switch(c){case"alignment-text":return(0,o.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,o.jsx)(b,{icon:tx.Z,name:"left"}),(0,o.jsx)(b,{icon:tb.Z,name:"center"}),(0,o.jsx)(b,{icon:tj.Z,name:"right"}),(0,o.jsx)(b,{icon:tC.Z,name:"justify"})]});case"alignment-items":return(0,o.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,o.jsx)(b,{rotate:m,icon:tw.Z,name:"start"}),(0,o.jsx)(b,{rotate:m,icon:tk.Z,name:"center"}),(0,o.jsx)(b,{rotate:m,icon:tT.Z,name:"end"}),(0,o.jsx)(b,{rotate:m,icon:tE.Z,name:"stretch"})]});case"alignment-flex":return(0,o.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,o.jsx)(b,{icon:tD.Z,name:"row"}),(0,o.jsx)(b,{icon:tS.Z,name:"row-reverse"}),(0,o.jsx)(b,{icon:tL.Z,name:"column"}),(0,o.jsx)(b,{icon:tN.Z,name:"column-reverse"})]});case"alignment-content":return(0,o.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,o.jsx)(b,{rotate:m,icon:tP.Z,name:"start"}),(0,o.jsx)(b,{rotate:m,icon:tO.Z,name:"center"}),(0,o.jsx)(b,{rotate:m,icon:tF.Z,name:"end"}),(0,o.jsx)(b,{rotate:m,icon:tW.Z,name:"space-between"}),(0,o.jsx)(b,{rotate:m,icon:tI.Z,name:"space-around"})]})}})()})},tz=l(6226),tA=e=>{let{children:t,trigger:l}=e,[i,a]=(0,n.useState)(!1),r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=e=>{r.current&&!r.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{onClick:()=>{a(!0)},children:l}),(0,o.jsx)("div",{style:{position:"relative",display:"inline-block"},children:i&&(0,o.jsx)("div",{ref:r,style:{position:"fixed",width:"250px",top:0,left:"50%",zIndex:1e4,backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",padding:"10px",borderRadius:"4px",minWidth:"200px",transform:"translateX(-50%)"},children:t})})]})},tR=l(2350),tZ=l(25228);let tJ=e=>{let{onPress:t=e=>{},selected:l=!1,...i}=e;return(0,o.jsx)("div",{onClick:t,style:{padding:"5px",backgroundColor:l?"#EBEBEB":"#F8F8F8",display:"flex",alignContent:"center",alignItems:"center"},...i})},tM=()=>["color","color-theme"];var t_=e=>{var t,l,i,a;let{nodeData:r={},node:d,item:s}=e,p="dark",c=p.charAt(0).toUpperCase()+p.slice(1),g="10"+c,f=(0,n.useContext)(u),v=f(e=>e.setNodeData),x=f(e=>e.metadata),b=null==x?void 0:null===(t=x.tamagui)||void 0===t?void 0:t.color,j=h("nodeFontSize"),C=h("interactiveColor"),w=["blue","gray","green","orange","pink","purple","red","yellow"],{field:k,label:T,type:E,fieldType:D}=s,S=k.replace(D+"-",""),L=r[k],N=null==L?void 0:L.value,[P,O]=(0,n.useState)(N),F={default:{card:{background:"transparent",border:"0px",boxShadow:"none"}}},W=e=>{e&&(v(d.id,{...r,[k]:{...L,key:S,value:e,kind:"StringLiteral"}}),O(e))};return(0,o.jsx)(t3,{label:T,input:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tA,{trigger:(0,o.jsx)("div",{style:{width:"28px",height:"28px",cursor:"pointer",backgroundColor:N?"color-theme"==E?null===(l=b[N+g])||void 0===l?void 0:l.val:null!==(a=null===(i=b[N+c])||void 0===i?void 0:i.val)&&void 0!==a?a:N:"",borderRadius:4,zIndex:10,position:"absolute",marginLeft:"5px",border:N?"":"1px solid white",top:"13px"}}),children:(()=>{if("color-theme"===E){let e=w.map(e=>{var t;return null===(t=b[e+g])||void 0===t?void 0:t.val});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{width:"100%",padding:"6px"},children:(0,o.jsx)(m,{style:{color:"black",fontFamily:"Jost-Medium",fontSize:"16px",paddingLeft:0,alignSelf:"flex-start"},children:"Choose a Theme"})}),(0,o.jsx)(tz.Lf,{styles:F,triangle:"hide",onChangeComplete:e=>{let t=tK(e.hsl),l=Object.keys(b).find(e=>b[e].val==t&&e.endsWith(g)&&!e.startsWith("$")),i=null==l?void 0:l.replace(g,"");W(null!=i?i:e.hex)},width:"220px",colors:e})]})}{let[e,t]=n.useState("theme"),l=w.map(e=>Object.keys(b).filter(t=>t.startsWith(e)&&t.endsWith(c)).map(e=>b[e].val)).flat(1);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{style:{height:"380px"},children:[(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",padding:"6px"},children:[(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,o.jsx)(m,{style:{color:"black",fontFamily:"Jost-Medium",fontSize:"16px",paddingLeft:0},children:"Choose a Color"}),(0,o.jsx)(m,{style:{color:"gray",fontSize:"14px",paddingLeft:0,textAlign:"left"},children:"theme"==e?"Theme Color":"Custom Color"})]}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",borderRadius:"6px",border:"1px solid #cccccc",overflow:"hidden",height:"28px"},children:[(0,o.jsx)(tJ,{selected:"theme"==e,onPress:()=>t("theme"),children:(0,o.jsx)(tR.Z,{size:"16px",color:"theme"==e?C:"gray",fillOpacity:0})}),(0,o.jsx)(tJ,{selected:"custom"==e,onPress:()=>t("custom"),children:(0,o.jsx)(tZ.Z,{size:"16px",color:"custom"==e?C:"gray",fillOpacity:0})})]})]}),"theme"==e?(0,o.jsx)("div",{style:{height:"280px",marginTop:"5px",overflowY:"scroll"},children:(0,o.jsx)(tz.Lf,{styles:F,triangle:"hide",onChangeComplete:e=>{let t=tK(e.hsl),l=Object.keys(b).find(e=>b[e].val==t&&e.endsWith(c)),i=null==l?void 0:l.replace(c,"");W(null!=i?i:e.hex)},width:"220px",colors:l})}):(0,o.jsx)(tz.xS,{color:P,onChangeComplete:e=>{W(e.hex)},styles:{default:{picker:{background:"transparent",border:"0px",boxShadow:"none",width:"210px"}}}})]})})}})()}),(0,o.jsx)(y,{onBlur:()=>W(P),style:{fontSize:j+"px",fontWeight:"medium",paddingLeft:"38px"},value:P,placeholder:"default",onChange:e=>O(e.target.value)})]})})};function tK(e){let{h:t,s:l,l:i,a}=e,o=1==l?100:(100*l).toFixed(1),n=(100*i).toFixed(1),r="hsl(".concat(Math.round(t),", ").concat(o,"%, ").concat(n,"%)");return r}let tV=()=>["range-theme","range-px","range"];var tG=e=>{var t,l,i,a,r,d,s,p,c,g,f,y;let{nodeData:m={},item:v,node:x}=e,b=(0,n.useContext)(u),j=b(e=>e.setNodeData),C={"range-theme":{pre:e=>"$"==e[0]?e.split("$")[1]:e,post:e=>"$"+e,max:20,min:0,kind:"StringLiteral"},"range-px":{pre:e=>"p"==e[e.length-2]&&"x"==e[e.length-1]?e.slice(0,-2):e,post:e=>e+"px",max:100,min:0,kind:"StringLiteral"},default:{pre:e=>e,post:e=>e,max:100,min:0,step:1,kind:"NumericLiteral"}},{field:w,label:k,type:T,fieldType:E,data:D}=v,S=w.replace(E+"-",""),L=m[w],N=null==L?void 0:L.value,P={...C[T],...D},O=null!==(s=null==P?void 0:P.pre)&&void 0!==s?s:null===(t=C.default)||void 0===t?void 0:t.pre,F=null!==(p=null==P?void 0:P.post)&&void 0!==p?p:null===(l=C.default)||void 0===l?void 0:l.post,W=null!==(c=null==P?void 0:P.max)&&void 0!==c?c:null===(i=C.default)||void 0===i?void 0:i.max,I=null!==(g=null==P?void 0:P.min)&&void 0!==g?g:null===(a=C.default)||void 0===a?void 0:a.min,B=null!==(f=null==P?void 0:P.step)&&void 0!==f?f:null===(r=C.default)||void 0===r?void 0:r.step,H=null!==(y=null==P?void 0:P.kind)&&void 0!==y?y:null===(d=C.default)||void 0===d?void 0:d.kind,z=e=>{j(x.id,{...m,[w]:{...L,key:S,value:e,kind:H}})};return(0,o.jsx)(t3,{label:k,input:(()=>{let[e,t]=n.useState(O(null!=N?N:0));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{fontSize:"14px",position:"relative",top:"3px",width:18*W.toString().length,textAlign:"left",color:h("textColor")},children:F(e)}),(0,o.jsx)("input",{type:"range",style:{width:"100%",marginTop:"6px",accentColor:h("interactiveColor"),height:"5px",borderWidth:"4px solid blue",backgroundColor:h("inputBackgroundColor"),borderRadius:"10px"},step:B,onChange:e=>t(e.target.value),onMouseUp:()=>z(F(e)),value:e,min:I,max:W})]})})()})};let tU=()=>["toggle-boolean"];var tq=e=>{let{nodeData:t={},item:l,node:i}=e,a=(0,n.useContext)(u),r=a(e=>e.setNodeData),{field:d,label:s,type:p,fieldType:c}=l,g=d.replace(c+"-",""),f=t[d],y=null==f?void 0:f.value,v=e=>{r(i.id,{...t,[d]:{...f,key:g,value:e,kind:"FalseKeyword"}})},x=e=>{let{itemValue:t,onPress:l,defaultValue:i=!1}=e,a=y==t;return(0,o.jsx)(tg.zx,{onPress:()=>l(t),f:1,chromeless:!a,size:"$3",height:"34px",borderRadius:"$1",fontSize:"$4",children:(0,o.jsxs)(m,{children:[" ",t?"true":"false"," "]})})};return(0,o.jsx)(t3,{label:s,input:(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(e=>{let{defaultValue:t=!1,values:l}=e;return(0,o.jsx)(tc.sL,{width:"100%",height:"38px",space:"4px",paddingHorizontal:"2px",backgroundColor:h("inputBackgroundColor"),alignItems:"center",justifyContent:"space-around",borderRadius:"$2",children:l.map(e=>(0,o.jsx)(x,{defaultValue:t,itemValue:e,onPress:v}))})},{values:[!1,!0]})})})},tX=l(13153),tY=l(63044),t$=l(95602),tQ=l(86486);let t0=()=>["input"];var t1=e=>{var t;let{nodeData:l={},item:i,node:a}=e,r=(0,n.useContext)(u),d=r(e=>e.setNodeData),{field:s,label:p,type:c,fieldType:g}=i,f=s.replace(g+"-",""),m=l[s],v=null==m?void 0:m.value,[x,b]=(0,n.useState)(v),j={StringLiteral:tX.Z,NumericLiteral:tY.Z,TrueKeyword:t$.Z,ObjectLiteralExpression:tQ.Z,FalseKeyword:t$.Z},C=Object.keys(j)[0],w=null!==(t=null==m?void 0:m.kind)&&void 0!==t?t:C,k=e=>{d(a.id,{...l,[s]:{...m,key:f,value:e,kind:w}})};return(0,o.jsx)(t3,{label:p,input:(0,o.jsxs)(o.Fragment,{children:[j[w]?(0,o.jsx)("div",{style:{padding:"8px",justifyContent:"center",position:"absolute",zIndex:100,cursor:"pointer"},onClick:()=>{d(a.id,{...l,[s]:{...m,kind:Object.keys(j)[(Object.keys(j).indexOf(w)+1)%(Object.keys(j).length-1)]}})},children:n.createElement(j[w],{size:16,color:h("interactiveColor")})}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)(y,{onBlur:()=>k(x),style:{fontSize:h("nodeFontSize"),fontWeight:"medium",paddingLeft:"38px"},value:x,placeholder:"default",onChange:e=>b(e.target.value)})]})})},t5=e=>{var t;let l=t=>{let l=t.target.value;e.onChange({label:l,value:l})};return(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)("select",{defaultValue:e.defaultValue.value,onClick:l,onChange:l,style:{width:"100%",boxSizing:"border-box",backgroundColor:h("inputBackgroundColor"),color:h("textColor"),fontFamily:"Jost-Regular",fontSize:h("nodeFontSize"),border:h("inputBorder"),padding:"0.35ch",paddingLeft:"1ch",paddingRight:"1ch",flex:1,display:"flex",borderRadius:"0.5ch",appearance:"none"},children:null===(t=e.options)||void 0===t?void 0:t.map(t=>(0,o.jsx)("option",{value:t.value,label:t.label,selected:t.value==e.defaultValue.value}))}),(0,o.jsx)(tm.Z,{style:{position:"absolute",right:"10px",top:h("nodeFontSize")/2}})]})};let t4=()=>["select"];var t2=e=>{let{nodeData:t={},item:l,node:i}=e,a=(0,n.useContext)(u),r=a(e=>e.setNodeData),{field:d,label:s,type:p,fieldType:c,data:g}=l,f=d.replace(c+"-",""),h=t[d],y=null==h?void 0:h.value,m=(null!=g?g:[]).map(e=>({label:e,value:e})),v=e=>{r(i.id,{...t,[d]:{...h,key:f,value:e,kind:"StringLiteral"}})};return(0,o.jsx)(t3,{label:s,input:(0,o.jsx)("div",{style:{width:"100%"},children:(0,o.jsx)(t5,{onChange:e=>v(e.value),defaultValue:{value:y,label:y},options:m})})})};let t6=e=>{var t,l;let i=null!==(l=null===(t=e.find(e=>"custom-field"==e.type))||void 0===t?void 0:t.data)&&void 0!==l?l:[],a=i.map(e=>e.field);return[...a]},t7=e=>{var t;let{item:l,node:i,nodeData:a}=e;switch((null!==(t=l.type)&&void 0!==t?t:"").split("-")[0]){case"alignment":return(0,o.jsx)(tH,{node:i,item:l,nodeData:a});case"color":return(0,o.jsx)(t_,{node:i,item:l,nodeData:a});case"range":return(0,o.jsx)(tG,{node:i,item:l,nodeData:a});case"toggle":return(0,o.jsx)(tq,{node:i,item:l,nodeData:a});case"select":return(0,o.jsx)(t2,{node:i,item:l,nodeData:a});case"input":return(0,o.jsx)(t1,{node:i,item:l,nodeData:a});default:return(0,o.jsx)(o.Fragment,{})}},t3=e=>{let{label:t,input:l}=e,i=h("nodeFontSize");return(0,o.jsx)("div",{style:{alignItems:"stretch",flexBasis:"auto",flexShrink:0,listStyle:"none",position:"relative",display:"flex",flexDirection:"column"},children:(0,o.jsxs)("div",{style:{fontSize:i+"px",padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row",alignItems:"stretch"},children:[(0,o.jsx)("div",{className:"handleKey",style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,o.jsx)(m,{children:t})}),(0,o.jsx)("div",{className:"handleValue",style:{minWidth:"180px",marginRight:"10px",display:"flex",flexDirection:"row",flexGrow:1,alignItems:"center"},children:l})]})})},t8=e=>{let{value:t,onValueChange:l,items:i}=e;return(0,o.jsxs)(th.Ph,{value:null!=t?t:"default",onValueChange:l,disablePreventBodyScroll:!0,children:[(0,o.jsx)(th.Ph.Trigger,{width:220,iconAfter:tm.Z,children:(0,o.jsx)(th.Ph.Value,{placeholder:"default"})}),(0,o.jsx)(th.Ph.Content,{zIndex:9999999999,children:(0,o.jsx)(th.Ph.Viewport,{children:(0,o.jsxs)(th.Ph.Group,{children:[(0,o.jsx)(th.Ph.Label,{children:"Types"}),(0,n.useMemo)(()=>i.map((e,t)=>{var l;let i=null!=e?e:"default";return(0,o.jsxs)(th.Ph.Item,{index:t,value:null!==(l=null==e?void 0:e.toLowerCase())&&void 0!==l?l:"default",children:[(0,o.jsx)(th.Ph.ItemText,{children:i}),(0,o.jsx)(th.Ph.ItemIndicator,{marginLeft:"auto",children:(0,o.jsx)(tv.Z,{size:16})})]},e)}),[i])]})})})]})},t9=e=>{let t="JsxSelfClosingElement"==e,l=e=>{var t;let{id:l,type:i}=e,a=(0,n.useContext)(u),r=a(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),d=Object.keys(r).filter(e=>e.startsWith("prop-")).map((e,t)=>({label:e.substr(5),field:e,fieldType:"prop",deleteable:!0})),s=Object.keys(r).filter(e=>e.startsWith("child-")).map((e,t)=>({label:"Child"+(t+1),field:e,fieldType:"child",deleteable:!0})),p=[{label:"TagName",static:!0,field:"name",type:"input",description:"JsxElement name"}].concat(d);return(0,o.jsxs)(lM,{headerContent:(0,o.jsx)("div",{children:"hello"}),icon:tu.Z,node:e,isPreview:!l,title:"<x ...></x>",id:l,color:lm[i],children:[!1,(0,o.jsx)(lZ,{id:l,params:p}),(0,o.jsx)(H,{id:l,nodeData:r,type:"Prop"}),(0,o.jsx)(lZ,{id:l,params:s}),(0,o.jsx)(H,{id:l,nodeData:r,type:"Child"})]})};return l.keyWords=["jsx","jsxelement","react","tsx","fragment","selfclosed"],l.getData=(e,l,i,a)=>{var o,n,r,d;let s={name:t?null==e?void 0:null===(o=e.getTagNameNode())||void 0===o?void 0:o.getText():null==e?void 0:null===(r=e.getOpeningElement())||void 0===r?void 0:null===(n=r.getTagNameNode())||void 0===n?void 0:n.getText()},p=t?null==e?void 0:e.getAttributes():null==e?void 0:null===(d=e.getOpeningElement())||void 0===d?void 0:d.getAttributes(),u=null==p?void 0:p.reduce((t,o,n)=>{let r,d,s;if("JsxSpreadAttribute"==o.getKindName())d="prop-spreaded-"+n,r="",s={value:o.getText()};else{var p,u=null==o?void 0:o.getInitializer();s=function(e){let t;var l,i=null==e?void 0:e.getKindName();if("StringLiteral"===i)t=null==e?void 0:e.getLiteralValue(),l=i;else{let i=null==e?void 0:e.getExpression();switch(l=null==i?void 0:i.getKindName()){case"StringLiteral":case"NumericLiteral":case"TrueKeyword":case"FalseKeyword":t=i.getLiteralValue();break;default:return}}return{value:t,kind:l}}(u),d="prop-"+(r=o.getNameNode().getText()),s||(s={value:null!==(p=O(null==u?void 0:u.getExpression(),"output",e,d,l,i,a,d))&&void 0!==p?p:""})}return{...t,[d]:{key:null!=r?r:"",...s}}},{}),c=e.getChildrenOfKind(X.lGB.SyntaxList)[0],g=t?[]:c.getChildren(),f=g.filter(e=>["JsxElement","JsxSelfClosingElement","JsxExpression","JsxFragment","JsxText"].includes(e.getKindName())&&e.getText()),h=null==f?void 0:f.reduce((t,o,n)=>{let r="child-".concat(n+1);return{...t,[r]:O(o,"output",e,r,l,i,a,r)}},{});return{...s,...u,...h}},l.dump=function(e,l,i,a){var o,n,r,d,s;let p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",g=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,f=null!==(r=a[e.id])&&void 0!==r?r:{},h=null==f?void 0:f.name,y=null!==(d=null===(o=f._fallBack)||void 0===o?void 0:o.reduce((t,o)=>{let n=I(e,o.type,o.fallbackPort,o.portType,null,i,l,a,p,!1,"full");return t=n?t+(o.preText+n+o.postText)+" ":t+o.fallbackText+" "},""))&&void 0!==d?d:"",m=null!==(s=null===(n=f._fallBack)||void 0===n?void 0:n.map(e=>e.port))&&void 0!==s?s:[],v=Object.keys(f).filter(e=>e.startsWith("prop-")&&!m.includes(e)).reduce((t,o)=>{var n,r,d,s,h,y;let m;if(o.startsWith("prop-spreaded"))m=I(e,"target",o,N.data,null!==(r=null===(n=f[o])||void 0===n?void 0:n.value)&&void 0!==r?r:"",i,l,a,p,u,c,g);else{let n;let r=null!==(s=null===(d=f[o])||void 0===d?void 0:d.key)&&void 0!==s?s:o.replace("prop-",""),v=function(e){if(!e)return;let t=e.kind;var l=e.value;switch(t){case"StringLiteral":return'"'+l+'"';case"NumericLiteral":case"TrueKeyword":case"FalseKeyword":break;default:return}return"{"+l+"}"}(f[o]);if(v)n=v;else{let t=I(e,"target",o,N.data,null!==(y=null===(h=f[o])||void 0===h?void 0:h.value)&&void 0!==y?y:"",i,l,a,p,u,c,g);n=t?"{"+t+"}":void 0}if(m=n?"".concat(r,"=").concat(n," "):"".concat(r),!r)return t}return t+m},""),x=Object.keys(f).filter(e=>e.startsWith("child-")).reduce((t,o)=>{var n;return t+"	"+I(e,"target",o,N.data,null!==(n=f[o])&&void 0!==n?n:"",i,l,a,p,u,c,g)+"\n"},""),b=t?"/>":">\n".concat(x,"</").concat(h,">");return"<".concat(h," ")+y+v+b+I(e,"source","output",N.flow,"",i,l,a,p,u,c,g)},l};t9("JsxElement");let le=e=>{let{id:t,type:l}=e;return(0,o.jsx)(lM,{icon:tu.Z,node:e,isPreview:!t,title:"{Jsx}",id:t,params:[{label:"{jsx}",field:"expression",type:"input",description:"JsxExpression"}],color:lm[l],dataOutput:a.jsx})};le.keyWords=["jsx","jsxexpression","expression","tsx","{}"],le.defaultHandle=N.data+"expression",le.getData=(e,t,l,i)=>{var a;return{expression:null!==(a=O(e.getExpression(),"output",e,"expression",t,l,i,"expression"))&&void 0!==a?a:""}},le.dataOutput=a.jsx,le.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id],p=I(e,"target","expression",N.data,null!==(a=null==s?void 0:s.expression)&&void 0!==a?a:"",l,t,i,o,n,r,d),u="{".concat(p,"}")+I(e,"source","output",N.flow,"",l,t,i,o,n,r,d);return u},le.isShadow=(e,t,l,i)=>"JsxAttribute"==e.getParent().getKindName();var lt=n.memo(le);let ll=e=>{var t;let{id:l,type:i}=e,a=(0,n.useContext)(u),r=a(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),d=Object.keys(r).filter(e=>e.startsWith("child-")).map((e,t)=>({label:"Child"+(t+1),field:e,fieldType:"child",deleteable:!0}));return(0,o.jsxs)(lM,{icon:tu.Z,node:e,isPreview:!l,title:"<></>",id:l,color:lm[i],children:[(0,o.jsx)(lZ,{id:l,params:d}),(0,o.jsx)(H,{id:l,nodeData:r,type:"Child"})]})};ll.keyWords=["jsx","jsxelement","jsxfragment","react","tsx","fragment","selfclosed"],ll.getData=(e,t,l,i)=>{let a=e.getChildrenOfKind(X.lGB.SyntaxList)[0],o=a.getChildren(),n=o.filter(e=>["JsxElement","JsxSelfClosingElement","JsxExpression","JsxFragment"].includes(e.getKindName())),r=null==n?void 0:n.reduce((a,o,n)=>{let r="child-".concat(n+1);return{...a,[r]:O(o,"output",e,r,t,l,i,r)}},{});return{...r}},ll.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(a=i[e.id])&&void 0!==a?a:{},p=Object.keys(s).filter(e=>e.startsWith("child-")).reduce((a,p)=>{var u;return a+"	"+I(e,"target",p,N.data,null!==(u=s[p])&&void 0!==u?u:"",l,t,i,o,n,r,d)+"\n"},"");return"<>\n".concat(p,"</>")+I(e,"source","output",N.flow,"",l,t,i,o,n,r,d)};var li=n.memo(ll);let la=e=>{let t=t=>{var l,i,a;let{id:r,type:d}=t,s=(0,n.useContext)(u),p=s(e=>null!==(l=e.nodeData[r])&&void 0!==l?l:{});return(0,o.jsxs)(lM,{icon:ec.Z,node:t,isPreview:!r,title:"for("+(null!==(i=null==p?void 0:p.element)&&void 0!==i?i:"element")+" ".concat(e," ")+(null!==(a=null==p?void 0:p.iterator)&&void 0!==a?a:"item")+")",id:r,color:lm[d],children:[(0,o.jsx)(lZ,{id:r,params:[{label:"Element",field:"element",type:"input"},{label:"Iterator",field:"iterator",type:"input"}],boxStyle:{marginTop:"0px",marginBottom:"80px"}}),(0,o.jsx)(lJ,{id:r,type:"input",label:"Loop",style:{top:"180px"},handleId:"loop"})]})};return t.keyWords=["for","for-in","for-of"],t.getData=(e,t,l,i)=>{e.getStatement()&&O(e.getStatement(),"output",e,"loop",t,l,i,null,[N.data,N.flow]);let a=e.getInitializer(),o=e.getExpression();return{element:O(a,"output",e,"element",t,l,i,"element"),iterator:O(o,"output",e,"iterator",t,l,i,"iterator")}},t.dump=function(t,l,i,a){var o,n;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=a[t.id],c=I(t,"target","loop",N.flow,"{}",i,l,a,r,d,s,p),g=I(t,"target","element",N.data,null!==(o=null==u?void 0:u.element)&&void 0!==o?o:"",i,l,a,r,d,s,p),f=I(t,"target","iterator",N.data,null!==(n=null==u?void 0:u.iterator)&&void 0!==n?n:"",i,l,a,r,d,s,p),h="for("+g+" ".concat(e," ")+f+" ) "+c+"\n";return h+I(t,"source","output",N.flow,"",i,l,a,r,d,s,p)},t};la("in");var lo=l(54373);let ln=e=>{var t,l;let{id:i,type:r}=e,d=(0,n.useContext)(u),s=d(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{});return(0,o.jsx)(lM,{icon:lo.Z,node:e,isPreview:!i,title:"delete "+(null==s?void 0:s.expression),params:[{label:"Expression",field:"expression",type:"input"}],id:i,color:lm[r],dataOutput:a.flow})};ln.keyWords=["delete"],ln.getData=(e,t,l,i)=>({expression:O(null==e?void 0:e.getExpression(),"output",e,"expression",t,l,i,"expression")}),ln.dataOutput=a.flow,ln.dump=function(e,t,l,i){var a;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id];return"delete "+I(e,"target","expression",N.data,null!==(a=null==s?void 0:s.expression)&&void 0!==a?a:"",l,t,i,o,n,r,d)+I(e,"source","output",N.flow,"",l,t,i,o,n,r,d)};var lr=(0,n.memo)(ln);let ld=e=>{let{id:t,type:l}=e;return(0,o.jsx)(lM,{icon:G.Z,node:e,isPreview:!t,title:"...",color:lm.SpreadAssignment,id:t,params:[{label:"Expression",field:"expression",type:"input"}],dataOutput:a.spread})};ld.keyWords=["spread","..."],ld.getData=(e,t,l,i)=>{let a=e.getExpression();return{expression:O(a,"output",e,"expression",t,l,i,"expression")}},ld.dataOutput=a.spread,ld.dump=function(e,t,l,i){var a,o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=i[e.id];return"..."+(null!==(o=I(e,"target","expression",N.data,null!==(a=null==p?void 0:p.expression)&&void 0!==a?a:"",l,t,i,n,r,d,s))&&void 0!==o?o:"")+I(e,"source","output",N.flow,"",l,t,i,n,r,d,s)};var ls=(0,n.memo)(ld);let lp=e=>{let{id:t,type:l}=e;return(0,o.jsx)(o.Fragment,{})};lp.getData=(e,t,l)=>{let i=e.getExpression();return i?t[L(i)]:{type:"data",value:""}},lp.isShadow=(e,t,l,i)=>!0;var lu=(0,n.memo)(lp),lc=(0,n.memo)(e=>{var t,l,i;console.log("node in visualgroup: ",e),e.id.startsWith("VisualGroup_SourceFile_");let a=(null===(t=e.data)||void 0===t?void 0:t.width)+"px",n=(null===(l=e.data)||void 0===l?void 0:l.height)+"px",r="white";return(0,o.jsx)("div",{style:{width:"0px",height:"0px"},children:(null===(i=e.data)||void 0===i?void 0:i.visible)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"nodrag",style:{position:"absolute",width:a,height:"3px",backgroundColor:r}}),(0,o.jsx)("div",{className:"nodrag",style:{position:"absolute",top:n,width:a,height:"3px",backgroundColor:r}}),(0,o.jsx)("div",{className:"nodrag",style:{position:"absolute",width:"3px",height:n,backgroundColor:r}}),(0,o.jsx)("div",{className:"nodrag",style:{position:"absolute",left:a,width:"3px",height:n,backgroundColor:r}})]}):null})}),lg=(0,n.memo)(e=>{var t,l,i;let a=(0,n.useContext)(u),{id:r,type:d}=e,s=a(e=>null!==(t=e.nodeData[r])&&void 0!==t?t:{});switch(null==s?void 0:s.type){case"text":return(0,o.jsx)("p",{style:null==s?void 0:null===(l=s.data)||void 0===l?void 0:l.style,children:null==s?void 0:null===(i=s.data)||void 0===i?void 0:i.text});case"image":return(0,o.jsx)(o.Fragment,{})}});let lf={Block:tt,CallExpression:R,BinaryExpression:M("+"),ObjectLiteralExpression:e5,ArrayLiteralExpression:em,ArrowFunction:Q,FunctionDeclaration:Q,ReturnStatement:eW,ElementAccessExpression:ef,ParenthesizedExpression:eb,IfStatement:ea,ConditionalExpression:eu,WhileStatement:eC("while"),DoStatement:eC("while","do-while"),ForStatement:eC("for"),ForInStatement:la("in"),ForOfStatement:la("of"),SwitchStatement:es,BreakStatement:eH,constNode:_("const"),letNode:_("let"),varNode:_("var"),setNode:M("="),PrefixUnaryExpression:ew("pre"),PostfixUnaryExpression:ew("post"),ClassDeclaration:eZ("declaration"),ClassExpression:eZ("expression"),MethodDeclaration:eM("method"),Constructor:eM("constructor"),ImportDeclaration:eE,ContinueStatement:eq,TemplateExpression:e3,ExportAssignment:eL,ExportDeclaration:eP,NewExpression:eV,TryStatement:er,AwaitExpression:e$,PropertyAccessExpression:q,TypeLiteral:e0("typeLiteral"),TypeAliasDeclaration:tn,InterfaceDeclaration:td,ObjectBindingPattern:tp,JsxElement:t9("JsxElement"),JsxExpression:lt,JsxFragment:li,JsxSelfClosingElement:t9("JsxSelfClosingElement"),DeleteExpression:lr,SpreadAssignment:ls,CaseClause:tt},lh={...lf,PropertyAccessExpression:q,SourceFile:tt,Parameter:et,VariableDeclarationList:V,VariableStatement:eA,ComputedPropertyName:e2,SpreadElement:ls,PhantomBox:ti,FunctionExpression:Q,ExpressionStatement:lu,VisualGroup:lc,Layer:lg,DefaultClause:tt},ly=["#EF9A9A","#F48FB1","#CE93D8","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#A5D6A7","#C5E1A5","#FFF59D","#FFE082","#FFCC80","#FFAB91","#BCAAA4","#EEEEEE","#B0BEC5","#E57373","#F06292","#BA68C8","#9575CD","#7986CB","#64B5F6","#4FC3F7","#4DD0E1","#4DB6AC","#81C784","#AED581","#FFF176","#FFD54F","#FFB74D","#FF8A65","#A1887F","#E0E0E0","#90A4AE"],lm=Object.keys(lf).reduce((e,t,l)=>({...e,[t]:ly[l%ly.length]}),{}),lv=[{id:"ActionFetch",title:"ActionFetch",path:"*",type:"CallExpression",filter:{to:"actionFetch"},body:[{type:"api",data:{label:"url",field:"param1",apiUrl:"api/v1/endpoints"}},{type:"link",data:{text:"Need to create an API?",url:"/admin/apis"}}],initialData:{to:"actionFetch",param1:'"adminapi/v1/apis"'}}];var lx=(e,t,l)=>{if(!e)return null;let i=null==l?void 0:l.find(l=>l.check(e,t));return i||null},lb=l(50902),lj=l(59336),lC=l(5392),lw=l.n(lC);let lk=(e,t,l)=>[],lT=(e,t,l)=>{};var lE=l(34389),lD=l(57643);let lS=e=>{var t,l;let{id:i,type:a,style:d,label:s,isConnected:p=!1,nodeId:c,position:g=r.Ly.Right,allowedTypes:f}=e,y=(0,n.useRef)(),v=(0,n.useRef)(),x=(0,n.useContext)(u),b=x(e=>e.setMenu),j=x(e=>e.flowInstance),C=g==r.Ly.Right?"-".concat(160,"px"):"25px",w=(0,r.Mi)(),k=lL(w,i),T=h("portSize"),E=h("plusColor"),D=h("nodeBorderColor"),S=h("nodeBorderWidth"),L=(null===(t=w[0])||void 0===t?void 0:t.data)&&(null===(l=w[0])||void 0===l?void 0:l.data.preview)=="node",N=()=>{b("open",[(null==v?void 0:v.current.getBoundingClientRect().right)+200,(null==v?void 0:v.current.getBoundingClientRect().top)-30],{targetHandle:i,target:c})},P=f?f.includes("block")?h("blockPort"):h("flowPort"):null;return 1==f.length&&f.includes("data")&&(P=h("dataPort")),n.useEffect(()=>{lT(j,i,f)},[f]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(r.HH,{ref:v,tabIndex:k?-1:0,title:void 0,onClick:()=>N(),onKeyDown:e=>"Enter"==e.code?N():null,type:"target",position:g,style:{backgroundColor:P,display:L?"none":"flex",flexDirection:"row",alignItems:"center",border:S+" solid "+D,width:T+"px",height:T+"px",marginLeft:"",marginRight:Math.floor(-(T/3.5*1))+"px",cursor:"pointer",...d},id:i,isConnectable:!k,isValidConnection:e=>{let t=e.source.split("_")[0],l=lh[t];if(l){var i;let e=null!==(i=l.type)&&void 0!==i?i:l,t=e&&e.dataOutput?e.dataOutput:"data";if(-1==f.indexOf(t))return!1}let a=lL(w,e.sourceHandle);return!a},children:[s?(0,o.jsx)("div",{style:{display:"flex",width:"".concat(160,"px"),marginLeft:C,zIndex:-1,justifyContent:"flex-end"},children:(0,o.jsx)(m,{ref:y,style:{marginRight:"5px",textAlign:g==r.Ly.Right?"right":"left"},children:s})}):null,k?null:(0,o.jsx)("div",{style:{width:T+"px",height:T+"px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)(lE.Z,{color:E,size:10,strokeWidth:5})})]})})},lL=(e,t)=>e.find(e=>e.targetHandle==t||e.sourceHandle==t),lN=(e,t)=>e.find(e=>e.target==t||e.source==t);var lP=(0,n.memo)(e=>{var t;let{adaptiveTitleSize:l=!0,mode:i="column",draggable:a=!0,icon:r=null,container:d=!1,title:s="",children:p,isPreview:c=!1,id:g,color:f="white",node:y,headerContent:v=null,style:x={},contentStyle:b={}}=e,j=(0,n.useContext)(u),C=j(e=>e.errorData),w=(0,n.useRef)(),k=(0,n.useRef)(),T=(null==y?void 0:null===(t=y.data)||void 0===t?void 0:t.preview)=="node",E=g&&g==C.id,D=!g||-1==g.indexOf("_"),S=h("colorError");f=E?S:!c&&D?lw().scale([f,"white"])(.5).hex():f;let L=lw().scale([f,"black"])(.6).hex(),N=h("titleColor"),P=h("borderColor"),O=E?S:P,F=h("borderWidth"),W=h("nodeBackgroundColor"),I=(0,lD.XI)(w),B=h("nodeFontSize")/100*100,H=h("selectedColor"),z="12px ";if(y&&y.data&&y.data.flowsHeight&&T){let e=y.data.flowsHeight-80;b.height=e+"px",b.maxHeight=e+"px",b.overflow="scroll",b.overflowX="hidden"}return(0,o.jsxs)("div",{id:g,ref:w,style:{display:"flex",minHeight:c?"30px":"80px",flexDirection:i,borderRadius:13,textAlign:"center",fontSize:h("nodeFontSize"),boxShadow:T||d?"none":!c&&(null==y?void 0:y.selected)?"0px 0px 0px 2px "+H:te(I?10:3),cursor:T?"default":void 0,...x},className:a?"":"nodrag",children:[(s||v)&&!T?(0,o.jsxs)("div",{ref:k,style:{display:"flex",backgroundColor:f,borderRadius:c?"8px":"column"==i?z+z+" 0px 0px":z+"0px 0px "+z,borderBottom:"column"!=i||c?"0px":F+" solid "+O,paddingBottom:"10px",justifyContent:"center"},children:[r?(0,o.jsx)("div",{style:{display:"flex",right:"15px",position:"absolute",top:"8px"},children:n.createElement(r,{size:g?B:"18px",color:L})}):null,s?(0,o.jsx)(m,{style:{fontSize:g?B:"18px",padding:"0px 10px 0px 10px",color:N,flex:1,textAlign:"center",alignSelf:"center",position:"relative",top:"4px",fontFamily:"Jost-Medium",maxWidth:"15ch",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:s}):null,null,v]}):null,c?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)("div",{className:T?"nowheel":"",style:{borderRadius:"0px 0px "+z+z,backgroundColor:d?"transparent":W,flex:1,paddingTop:"0.5ch",paddingBottom:"0.5ch",...b},children:p})]})}),lO=l(64509),lF=l(11001),lW=l(43911);let lI=(e,t,l)=>l.find(l=>l.targetHandle=="".concat(e).concat(N.data).concat(t)),lB=55,lH=e=>{let{id:t,left:l=!1,field:i}=e,a=(0,n.useContext)(u),r=a(e=>e.deletePropNodeData);return(0,o.jsx)("div",{id:"deleteButton-"+t+i,style:{display:"flex",alignSelf:"center",cursor:"pointer"},onClick:()=>{r(t,i)},children:(0,o.jsx)(ty.Z,{size:h("nodeFontSize"),color:h("colorError"),style:{marginRight:l?"7px":"2px"}})})},lz=e=>{let{id:t,disabled:l,post:i=e=>e,pre:a=e=>e,onBlur:d,field:s,children:p,style:c={},editing:g=!1}=e,f=(0,n.useContext)(u),m=f(e=>e.setNodeData),{setNodes:v}=(0,r._K)(),x=f(e=>null!==(j=e.nodeData[t])&&void 0!==j?j:{}),b=f(e=>e.dataNotify);var j,C=a(x[s]);let[w,k]=n.useState(C),T=h("nodeFontSize"),E=n.useRef();n.useEffect(()=>{if(E.current&&g){var e;null===(e=E.current)||void 0===e||e.focus()}},[g]);let D=e=>{b({...e,notifyId:x._dataNotifyId})};return(0,n.useEffect)(()=>{k(C)},[x[s]]),(0,o.jsx)("div",{className:"nodrag",style:{flex:1},children:(0,o.jsxs)("div",{style:{flex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,o.jsx)(y,{ref:E,onFocus:()=>{v(e=>{let l=[...e];l=l.map(e=>(e.hasOwnProperty("selected")&&delete e.selected,e));let i=l.findIndex(e=>e.id==t);return l[i]={...l[i],selected:!0},l})},onBlur:()=>{l||(m(t,{...x,[s]:i(w)}),D({id:t,paramField:s,newValue:w})),d&&d(w)},readOnly:l,style:{fontSize:T+"px",fontWeight:"medium",...c},value:w,placeholder:"default",onChange:e=>k(e.target.value)}),p]})})},lA=e=>{var t,l,i,a,d;let s;let{id:p,param:c,index:g=0,portId:f=null,editing:y=!1,onRequestEdit:v=e=>{},onCancelEdit:x=()=>{}}=e,b=(0,n.useContext)(u),j=b(e=>e.setNodeData),C=b(e=>e.dataNotify);b(e=>e.deletePropNodeData);let w=b(e=>null!==(t=e.nodeData[p])&&void 0!==t?t:{}),k=(0,r.Mi)(),T=k.find(e=>e.targetHandle=="".concat(p).concat(N.data).concat(c.field)),E="child"==c.fieldType,D="parameter"==c.fieldType,S="prop"==c.fieldType,L=n.useRef(),P=n.useRef(),O=c.pre?c.pre:e=>e,F=c.post?c.post:e=>e,W=c.keyPre?c.keyPre:e=>e,I=c.keyPost?c.keyPost:e=>e,B=e=>{C({...e,notifyId:w._dataNotifyId})},H="default"==c.field,z="call"==c.fieldType||"clause"==c.fieldType,A=h("borderColor"),R=h("borderWidth"),Z=h("handleBorderColor");h("dataOutputColor");let J=h("dataPort"),M=h("nodeFontSize"),_=n.useRef();return(0,o.jsxs)("div",{style:{alignItems:"stretch",flexBasis:"auto",flexShrink:0,listStyle:"none",position:"relative",display:"flex",zIndex:"select"==c.type||"colorPicker"==c.type?1100:0,flexDirection:"column"},children:[H?null:(0,o.jsxs)("div",{ref:_,style:{flex:1,fontSize:M+"px",padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row",alignItems:"stretch"},children:[(0,o.jsxs)("div",{className:"handleKey",ref:P,style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(null==c?void 0:c.deleteable)&&E?(0,o.jsx)(lH,{id:p,left:!0,field:c.field}):null,(s=null!==(l=null==c?void 0:c.label)&&void 0!==l?l:c.field,(D||S)&&!c.static&&!c.staticLabel&&(s=W(null!==(a=null===(i=w[c.field])||void 0===i?void 0:i.key)&&void 0!==a?a:""),y)?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(lz,{editing:y,id:p,post:e=>{var t,l;return{key:I(e),value:null!==(l=null===(t=w[c.field])||void 0===t?void 0:t.value)&&void 0!==l?l:""}},pre:()=>{var e;return W(null!==(d=null===(e=w[c.field])||void 0===e?void 0:e.key)&&void 0!==d?d:"")},field:c.field,onBlur:e=>{e&&x()},style:{marginRight:"16px"}})}):(0,o.jsx)(m,{adaptiveSize:!0,onClick:()=>{(D||S)&&v(c)},style:{marginRight:"12px",textAlign:"left",whiteSpace:"nowrap",cursor:"pointer"},children:null!=s?s:" "}))]}),(0,o.jsxs)("div",{className:"handleValue",title:c.description,style:{minWidth:"180px",marginRight:"10px",display:"flex",flexDirection:"row",flexGrow:1,justifyContent:"boolean"==c.type?"flex-end":"",alignItems:"center"},children:[(e=>{var t,l,i,a,r,d,s,u,g,f,y,v,x,b,C,k,T,E,N;switch(c.type){case"selectWithDefault":let P=null===(t=c.data)||void 0===t?void 0:t.map((e,t)=>{var l=(null==e?void 0:e.color)?{color:e.color}:{};return{label:null!=e?e:"default",value:e,...l}});return(0,o.jsx)("div",{style:{flex:1,zIndex:1e3},children:(0,o.jsx)(t5,{onChange:e=>{var t,l={[c.field]:S||(null===(t=w[c.field])||void 0===t?void 0:t.value)?{key:c.label,value:null==e?void 0:e.value}:null==e?void 0:e.value};j(p,{...w,...l}),B({id:p,paramField:c.field,newValue:null==e?void 0:e.value})},defaultValue:{value:c.data[c.selectedIndex],label:c.data[c.selectedIndex]},options:P})});case"select":let W=null===(l=c.data)||void 0===l?void 0:l.map((e,t)=>{var l=(null==e?void 0:e.color)?{color:e.color}:{};return{label:null!=e?e:"default",value:e,...l}});return(0,o.jsx)("div",{style:{flex:1,zIndex:1e3},children:(0,o.jsx)(t5,{onChange:e=>{var t,l={[c.field]:S||(null===(t=w[c.field])||void 0===t?void 0:t.value)?{key:c.label,value:null==e?void 0:e.value}:null==e?void 0:e.value};j(p,{...w,...l}),B({id:p,paramField:c.field,newValue:null==e?void 0:e.value})},defaultValue:{value:S||(null===(i=w[c.field])||void 0===i?void 0:i.value)?null===(a=w[c.field])||void 0===a?void 0:a.value:w[c.field],label:null!==(d=null===(r=w[c.field])||void 0===r?void 0:r.value)&&void 0!==d?d:w[c.field]},options:W})});case"select-multi":let I=h("inputBorder"),H=h("textColor"),z=null===(s=c.data)||void 0===s?void 0:s.map((e,t)=>{var l=e.color?{color:e.color}:{};return{label:e,value:e,...l}});return(0,o.jsx)("div",{style:{zIndex:1e3},children:(0,o.jsx)(lj.ZP,{components:{DropdownIndicatorMulti:e=>lb.c.DropdownIndicator&&(0,o.jsxs)(lb.c.DropdownIndicator,{...e,children:[" ",(0,o.jsx)(lF.Z,{size:"15px"})," "]})},menuPlacement:"top",onChange:e=>{let t=e.map(e=>e.value.replace(/"/g,""));console.log("\uD83D\uDE80 ~ file: Node.tsx:142 ~ onChangeSelectMulti ~ dataValues:",t),j(p,{...w,dataValues:t}),B({id:p,paramField:c.field,newValue:t})},className:"nodrag",options:z,styles:{control:(e,t)=>({...e,backgroundColor:h("inputBackgroundColor"),borderColor:t.isSelected?I:"transparent",textColor:H,width:"fit-content"}),singleValue:(e,t)=>{let{data:l}=t;return{...e,fontSize:"12px",minWidth:"95px",textAlign:"left",color:H}},menu:e=>({...e,color:H,backgroundColor:h("inputBackgroundColor")})},isMulti:!0})});case"colorPicker":let Z=w[c.field]?O(w[c.field]):"#404040",[J,_]=n.useState(!1);return(0,o.jsxs)("div",{style:{cursor:"pointer"},children:[(0,o.jsx)("div",{style:{width:"36px",height:"36px",backgroundColor:Z,border:J?R+" solid "+A:"1px #cccccc solid",borderRadius:5},onClick:()=>{_(!J)}}),(0,o.jsx)("div",{style:{cursor:"pointer",position:"absolute",zIndex:1100},children:J?(0,o.jsx)(tz.xS,{className:"nodrag",color:Z,onChangeComplete:e=>{B({id:p,paramField:c.field,newValue:{r:e.rgb.r,g:e.rgb.g,b:e.rgb.b,a:e.rgb.a}}),j(p,{...w,[c.field]:e.hex})}}):null})]});case"range":let K=(null===(u=c.data)||void 0===u?void 0:u.min)?c.data.min:0,V=(null===(g=c.data)||void 0===g?void 0:g.max)?c.data.max:100,G=null===(f=c.data)||void 0===f?void 0:f.step,U=null===(y=c.data)||void 0===y?void 0:y.defaultValue,q=null!==(b=null!==(x=null===(v=w[c.field])||void 0===v?void 0:v.value)&&void 0!==x?x:w[c.field])&&void 0!==b?b:null!=U?U:K,[X,Y]=n.useState(O(q));return(0,o.jsxs)(o.Fragment,{children:[c.hideLabel?null:(0,o.jsx)("div",{style:{fontSize:"14px",position:"relative",top:"3px",width:18*V.toString().length,textAlign:"left"},children:F(X)}),(0,o.jsx)("input",{type:"range",style:{width:"100%",marginTop:"6px",accentColor:h("interactiveColor"),height:"5px",borderWidth:"4px solid blue",backgroundColor:h("inputBackgroundColor"),borderRadius:"10px"},step:G,onChange:e=>Y(e.target.value),onMouseUp:()=>{var e,t,l,i;B({id:p,paramField:c.field,newValue:X}),j(p,{...w,[c.field]:D||S?{...w[c.field],key:null!==(l=null===(e=w[c.field])||void 0===e?void 0:e.key)&&void 0!==l?l:c.label,value:F(X),kind:null!==(i=null===(t=c.data)||void 0===t?void 0:t.kind)&&void 0!==i?i:"NumericLiteral"}:F(X)})},value:X,min:K,max:V})]});case"boolean":let[$,Q]=n.useState("string"==typeof(N=w[c.field])||N instanceof String?"true"==N:N);return(0,o.jsx)("span",{ref:L,children:(0,o.jsx)("input",{type:"checkbox",onChange:()=>{B({id:p,paramField:c.field,newValue:!$}),j(p,{...w,[c.field]:!$}),Q(!$)},checked:!!$,style:{all:"revert",width:M,margin:"2px 0px 2px 0px",accentColor:h("interactiveColor"),transform:"scale(".concat(h("nodeFontSize")/15,")"),marginRight:"5px"}})});default:let ee=null===(C=w[c.field])||void 0===C?void 0:C.kind,et={StringLiteral:tX.Z,NumericLiteral:tY.Z,TrueKeyword:t$.Z,ObjectLiteralExpression:tQ.Z,FalseKeyword:t$.Z};return(0,o.jsxs)(o.Fragment,{children:[ee&&et[ee]?(0,o.jsx)("div",{style:{padding:"8px",justifyContent:"center",position:"absolute",zIndex:100,cursor:"pointer"},onClick:()=>{j(p,{...w,[c.field]:{...w[c.field],kind:Object.keys(et)[(Object.keys(et).indexOf(ee)+1)%(Object.keys(et).length-1)]}})},children:n.createElement(et[ee],{size:16,color:h("interactiveColor")})}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)(lz,{id:p,post:e=>{var t;return D||S?{...w[c.field],key:null!==(k=null===(t=w[c.field])||void 0===t?void 0:t.key)&&void 0!==k?k:c.label,value:F(e)}:F(e)},pre:e=>null!==(E=null!==(T=null==e?void 0:e.value)&&void 0!==T?T:e)&&void 0!==E?E:"",field:c.field,onBlur:c.onBlur,disabled:e||c.isDisabled,style:{marginRight:["case","child"].includes(c.fieldType)?"20px":"0px",paddingLeft:ee&&et[ee]?"30px":void 0},children:c.error?(0,o.jsxs)("div",{style:{alignItems:"center",marginTop:"5px",display:"flex"},children:[(0,o.jsx)(lW.Z,{size:"14px",color:"red",style:{alignSelf:"center",marginRight:"5px"}}),(0,o.jsx)(m,{style:{color:"red",fontSize:"12px"},children:c.error})," "]}):null})]})}})(T),(null==c?void 0:c.deleteable)&&!E?(0,o.jsx)(lH,{id:p,field:c.field}):null]})]}),c.additionalHandlePort?(0,o.jsx)(lS,{type:"target",style:{top:"16px"},position:r.Ly.Right,id:"".concat(null!=f?f:p).concat(N.data).concat(c.field).concat(N.data).concat(c.additionalHandlePort),allowedTypes:["data"]}):null,c.static||z?null:(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(lS,{position:r.Ly.Right,id:"".concat(null!=f?f:p).concat(N.data).concat(c.field),label:"",nodeId:p,type:"target",style:{marginTop:c.additionalHandlePort?"14px":""},allowedTypes:["data"]})}),"error"==c.type?(0,o.jsx)(r.HH,{type:"source",title:void 0,style:{width:"15px",height:"15px",backgroundColor:J,marginRight:"-4px",border:R+"solid "+Z},position:r.Ly.Right,id:"".concat(null!=f?f:p).concat(N.data).concat(c.field)}):null,"clause"==c.fieldType?(0,o.jsx)(lJ,{id:"".concat(null!=f?f:p).concat(N.flow).concat(c.field),type:"output",style:{top:"26px"},label:H?"Default":void 0,isConnected:!!T}):null,"call"==c.fieldType?(0,o.jsx)(lJ,{id:p,handleId:"call",type:"input",style:{top:"26px"},isConnected:!!k.find(e=>e.targetHandle=="".concat(p).concat(N.flow).concat(c.field))}):null]})},lR=e=>{let{id:t,param:l,position:i=null,style:d={},isConnected:s=!1,dataOutput:p=a.data}=e,{getEdges:c}=(0,r._K)(),g=lL(c(),"".concat(t).concat(N.data,"output")),f=p==a.data?h("dataPort"):p==a.block?h("blockPort"):h("flowPort"),y=(0,n.useContext)(u),v=y(e=>e.flowInstance),x=h("portSize"),b=h("nodeBorderColor"),j=h("nodeBorderWidth");return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",zIndex:222},children:[l.label?(0,o.jsx)("div",{style:{padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row"},children:(0,o.jsx)(m,{style:{marginRight:"12px"},children:l.label})}):null,(0,o.jsx)(r.HH,{type:"source",style:{marginLeft:-x/4,width:x+"px",height:x+"px",backgroundColor:f,top:x/2+10,border:j+" solid "+b,...d},position:null!=i?i:r.Ly.Left,title:void 0,id:"".concat(t).concat(N.data,"output"),isConnectable:!g,isValidConnection:e=>{let t=lk(v,e.targetHandle,[]);if(-1==t.indexOf(p))return!1;let l=lL(c(),e.targetHandle);return!l}})]})},lZ=e=>{let{mode:t="column",id:l,params:i,boxStyle:a={},children:r=null,portId:d=null}=e,[s,p]=n.useState(""),[u,c]=n.useState(null);return(0,n.useEffect)(()=>{if((!s||i)&&i.length&&i.find(e=>e.field==s)||p(""),null!==u){let e=i.find(e=>!u.includes(e.field));e&&p(e.field)}c(i.map(e=>e.field))},[i]),(0,o.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:t,...a},children:[i.map((e,t)=>(0,o.jsx)(lA,{onCancelEdit:()=>p(""),editing:e.field==s,onRequestEdit:e=>s?null:p(e.field),id:l,param:e,index:t,portId:d},t)),r]})},lJ=e=>{let{id:t,type:l,style:i,handleId:a,label:n,isConnected:d=!1,position:s=null,allowedTypes:p=["block","data","flow"]}=e,u=null!=s?s:r.Ly.Right;return(0,o.jsx)(lS,{position:u,id:"".concat(t).concat(N.flow).concat(null!=a?a:l),type:l,style:{...i,marginLeft:u==r.Ly.Left?-4:0},label:n,isConnected:d,nodeId:t,allowedTypes:p})};var lM=(0,lO.Ic)(e=>{var t,l,i,d;let{adaptiveTitleSize:s=!0,modeParams:p="column",mode:c="column",draggable:g=!0,icon:f=null,container:h=!1,title:y="",children:m,isPreview:v=!1,id:x,params:b=[],output:j={label:"",field:"value",type:"output"},color:C=lm.defaultColor,node:w,skipCustom:k=!1,topics:T,style:E={},dataOutput:D=a.data,contentStyle:S={}}=e,L=(0,n.useContext)(u),N=L(e=>null!==(l=e.nodeData[x])&&void 0!==l?l:{}),P=L(e=>e.customComponents),O=(0,r.Mi)();lN(O,x);let F=n.useRef();if(!k){let e=lx(w,N,P),t=null==e?void 0:e.getComponent(w,N,T,e);if(t)return t}let W=!1;for(let e in m)(null===(d=m[e])||void 0===d?void 0:null===(i=d.type)||void 0===i?void 0:i.name)=="HandleOutput"&&(W=!0);let I={};x||(I.minWidth="200px"),w&&w.data&&w.data.width&&(I.minWidth=w.data.width+"px"),w&&w.data&&w.data.height&&(I.minHeight=w.data.height+"px"),!w.id||(null==N?void 0:null===(t=N._metadata)||void 0===t?void 0:t.layouted)||(I.opacity="0");let B=()=>{if(F.current){let e=F.current.querySelectorAll(".handleKey"),t=0;e.forEach(e=>{var l;let i=null===(l=e.firstElementChild)||void 0===l?void 0:l.offsetWidth;i>t&&(t=i)}),e.forEach(e=>{e.style.width=t+15+"px"})}};return(0,n.useEffect)(()=>B(),[]),(0,o.jsx)(lP,{adaptiveTitleSize:s,mode:c,contentStyle:S,draggable:g,icon:f,container:h,title:y,isPreview:v,id:x,color:C,node:w,style:{...E,...I},headerContent:(0,o.jsx)(o.Fragment,{children:W||v||!j?null:(0,o.jsx)(lR,{id:x,param:j,dataOutput:D})}),children:(0,o.jsxs)("div",{ref:F,children:[null,!v&&b?(0,o.jsx)(lZ,{mode:p,id:x,params:b}):null,v?null:m]})})});l(18803),l(43579),l(95280);var l_=l(56334),lK=l(52998),lV=l(9274),lG=l(85067),lU=l.n(lG);function lq(e,t){var l=lU().diff(e,t);return null==l?void 0:l.filter(e=>!(["E","N"].includes(e.kind)&&"hidden"===e.path[1]))}var lX=l(38880),lY=(0,lO.Ic)(e=>{let{enabledNodes:t=["*"],hideBaseComponents:l,customComponents:i=[],style:a={},diagramNodes:d,setNodes:s,setNodeData:p,nodeData:c,edges:g,setEdges:f,takeSnapshot:y=()=>null,reactFlowWrapper:v=null,topics:b,onAddNode:j=(e,t,l)=>null,onEditDiagram:w=(e,t,l)=>{}}=e,k=(0,n.useRef)(),T=(0,n.useRef)(),E=(0,n.useRef)(),[S,L]=(0,n.useState)(""),[O,F]=(0,n.useState)(0),W=(0,n.useContext)(u),I=W(e=>e.menuState),B=W(e=>e.menuPosition),H=W(e=>e.menuOpener),z=W(e=>e.setMenu),{project:A,setViewport:R,getViewport:Z,setCenter:J}=(0,r._K)(),{publish:M}=b,_=()=>{var e=B[0]-110;return(null==v?void 0:v.current)?e<100||(null==v?void 0:v.current.offsetWidth)-259-100<100?100:e+259+100<(null==v?void 0:v.current.offsetWidth)?e:(null==v?void 0:v.current.offsetWidth)-259-100:100},K=Object.fromEntries(Object.entries(lf).filter(e=>{let[l,i]=e;return t.includes(l)||t.includes("*")})),V=i.filter(e=>t.includes(e.type)||t.includes("*")),G=H.targetHandle?H.targetHandle.replace(H.target,"").slice(1):null;var U,q=Object.keys(K),X=V,Y=!1;if(G){var $,Q,ee,et=Object.keys(P).find(e=>G.startsWith(e));"param"==et&&(null===(ee=H.targetHandle)||void 0===ee?void 0:ee.endsWith("-key"))&&(et="key"),et&&P[et].length&&(q=Object.keys(K).filter(e=>P[et].includes(e)),X=V.filter(e=>P[et].includes(e.type)),Y=!0)}let el=S?Object.keys(K).filter(e=>{var t,l=null!==(t=K[e].type)&&void 0!==t?t:K[e];let i=[...l.keyWords,l.name];return null==i?void 0:i.map(e=>e.toLowerCase()).join().includes(S.toLowerCase())}):q,ei=S?V.filter(e=>e.id.toLowerCase().replace(/\s+/g,"").includes(S.toLowerCase().replace(/\s+/g,""))):X,ea="open"!=I?{top:"-5000px"}:{top:((U=B[1]-30)<70?70:U+500+100<(null==v?void 0:v.current.offsetHeight)?U:(null==v?void 0:v.current.offsetHeight)-500-100)+"px",left:_()+"px"},eo=async(e,t)=>{y(),L("");let l=e+N.flow+x(),i=A({x:_(),y:B[1]});var a,o=D([i.x,i.y-70],e,l,{},!0,{},{}),n=[],r={},s=[];if(t&&p(l,r=t.getInitialData()),"edge"==H.type){let t=null!==(a=K[e].type)&&void 0!==a?a:K[e],i=t.defaultHandle;n.push(...C(H,l,i)),s.push(H.edgeId)}else{let e=H.target,t={animated:!1,id:x(),source:l,sourceHandle:l+"-output",target:e,targetHandle:H.targetHandle,type:"custom"};n.push(t),c[e].hasOwnProperty(G)||p(e,{[G]:void 0}),j(o[0],t,r)}let u=g.filter(e=>!s.includes(e.id)).concat(n),f=d.concat(o);z("closed"),w(f,u,(e,t)=>{if(!t)return;t.getBoundingClientRect();let i=Z(),a=e.find(e=>e.id==o[0].id),n=document.getElementById(l),r=-a.position.x,d=-a.position.y;if(!n)return;let s=n.querySelector("input:first-of-type");s&&(s.focus(),en(r,d,i.zoom));let p=n.querySelector("div > [role='button']:first-of-type");p&&(p.focus(),en(r,d,i.zoom))})},en=(0,n.useCallback)((e,t,l)=>{},[R]),er=()=>{O+1>ei.length&&el.length?eo(el[O-ei.length]):ei.length&&eo(ei[O].type,ei[O])},ed=e=>(0,o.jsx)("div",{style:{display:"flex",border:e.isSelected?"".concat(h("borderWidth"),"px solid black"):"0px solid transparent",borderRadius:2*h("borderWidthSelected"),alignItems:"stretch",backgroundColor:"rgba(0, 0, 0, 0)",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",margin:"0px",minHeight:"0px",minWidth:"0px",padding:"0px",position:"relative",textDecoration:"none",zIndex:"0"},children:e.children});(0,n.useEffect)(()=>{if("closed"!=I)try{null==T||T.current.focus()}catch(e){console.error("error focusing element. ",e)}M("menuState",{state:I})},[I]);let es=h("textColor");return(0,o.jsxs)(r.s_,{position:"top-left",children:[(0,o.jsx)("div",{onClick:()=>z("closed"),style:{display:"closed"==I?"none":"flex",height:"100vh",width:"100vw",position:"absolute"}}),(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",height:500,margin:"0px",position:"absolute",border:"1px solid grey",borderRadius:"10px",...ea},children:(0,o.jsxs)("div",{ref:k,style:{flexGrow:1,width:259,backgroundColor:h("nodeBackgroundColor"),borderRadius:"10px",paddingBottom:"20px",padding:"10px",border:"".concat(h("borderWidth"),"px solid ").concat(h("borderColor"))},children:[(0,o.jsxs)("div",{style:{height:50},children:[(0,o.jsx)("input",{ref:T,style:{fontFamily:"Jost-Regular",padding:"8px",border:h("inputBorder"),display:"flex",flex:1,width:"100%",boxSizing:"border-box",fontSize:"14px",backgroundColor:h("highlightInputBackgroundColor"),borderRadius:"6px",borderWidth:"0px",outline:"none",paddingLeft:"32px",color:es},value:S,onKeyDown:e=>{"Enter"==e.key?er():"ArrowDown"==e.key&&O<ei.length+el.length-1?(F(O+1),E.current.scrollBy({top:44,behavior:"smooth"})):"ArrowUp"==e.key&&O>0?(F(O-1),E.current.scrollBy({top:-44,behavior:"smooth"})):F(0)},onChange:e=>L(e.target.value),placeholder:"search nodel"}),(0,o.jsx)(lX.Z,{color:"#57534e",size:20,style:{marginRight:"-5px",marginLeft:"8px",position:"absolute",top:18}})]}),(0,o.jsxs)("div",{ref:E,className:".list-protoflow",style:{height:"calc(".concat(500,"px - ").concat(50,"px - 22px)"),overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column",paddingRight:(null==E?void 0:null===($=E.current)||void 0===$?void 0:$.scrollHeight)>(null==E?void 0:null===(Q=E.current)||void 0===Q?void 0:Q.clientHeight)?"10px":"0px"},children:[!l&&ei.length?(0,o.jsxs)(m,{style:{fontSize:"16px",marginBottom:"10px",fontFamily:"Jost-Medium",marginLeft:"10px"},children:["Custom ",Y&&!S.length?"(Suggestions)":""]}):null,V.map((e,t)=>{let l=ei.map(e=>e.id.toLowerCase().replace(/\s+/g,"")).indexOf(e.id.toLowerCase().replace(/\s+/g,"")),i=l==O;return e.hidden?null:(0,o.jsx)("div",{onClick:()=>eo(e.type,e),style:{display:ei.map(e=>e.id.toLowerCase().replace(/\s+/g,"")).includes(e.id.toLowerCase().replace(/\s+/g,""))?"flex":"none",marginBottom:"10px"},children:(0,o.jsx)(ed,{isSelected:i,children:e.getComponent({type:e.type},{},null,e)})},t)}),!l&&ei.length?(0,o.jsx)("div",{style:{margin:"10px 0px 10px 0px"}}):null,!l&&el.length?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(m,{style:{fontSize:"16px",marginBottom:"10px",fontFamily:"Jost-Medium",marginLeft:"10px"},children:["JavaScript ",Y&&!S.length?"(Suggestions)":""]}),el.map((e,t)=>(0,o.jsx)("div",{onClick:()=>eo(e),style:{marginBottom:"10px"},children:(0,o.jsx)(ed,{isSelected:ei.length+t==O,children:n.createElement(K[e],{type:e})})},t))]}):null]})]})})]})});function l$(e){let{id:t,sourceX:l,sourceY:i,targetX:a,targetY:n,sourcePosition:d,targetPosition:s,style:p={},markerEnd:u,targetHandleId:c,sourceHandleId:g,selected:f,color:y,children:m}=e,v=l===a,x=i===n,[b]=(0,r.OQ)({sourceX:v?l+1e-4:l,sourceY:x?i+1e-4:i,sourcePosition:d,targetX:a,targetY:n,targetPosition:s});h("nodeBorderWidth");let j=h("nodeEdgeWidth"),C=h("nodeEdgeStyle");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{id:t,strokeWidth:f?2*j:j,stroke:y,className:"react-flow__edge",d:b,fill:"none","stroke-dasharray":C}),(0,o.jsx)("path",{id:t,className:"react-flow__edge-interaction",d:b,strokeOpacity:"0",strokeWidth:"20",fill:"none"}),m]})}function lQ(e){var t,l;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=(0,n.useContext)(u),d=a(e=>e.setMenu),s=a(t=>null!==(l=t.nodeData[e.source])&&void 0!==l?l:{}),[p,c,g]=(0,r.OQ)({sourceX:e.sourceX,sourceY:e.sourceY,sourcePosition:e.sourcePosition,targetX:e.targetX,targetY:e.targetY,targetPosition:e.targetPosition}),f=null!=s&&null!==(t=s._metadata)&&void 0!==t&&!!t.layouted,y={...e,color:h("edgeColor")},m=h("edgeColor"),v=h("plusColor"),x=h("portSize"),b=h("flowOutputColor");return f?(0,o.jsx)(l$,{...y,children:i?(0,o.jsxs)("g",{transform:"translate(".concat(c,", ").concat(g,")"),children:[(0,o.jsx)("rect",{style:{cursor:"pointer",pointerEvents:"all",strokeWidth:"1px",stroke:m,fill:b},onClick:t=>{d("open",[t.clientX,t.clientY],{edgeId:e.id,type:"edge",sourceHandle:e.sourceHandleId,source:e.source,targetHandle:e.targetHandleId,target:e.target})},x:-10,y:-10,width:x,ry:x,rx:x,height:x}),(0,o.jsx)("text",{style:{fontWeight:600,pointerEvents:"none",userSelect:"none",fill:v,fontSize:"17px"},y:5,x:-6,children:"+"})]}):null}):null}var l0=l(41051),l1=l(53544),l5=l(39036),l4=l(96325),l2=l.n(l4);let l6={"elk.algorithm":"layered","elk.direction":"LEFT","elk.layered.considerModelOrder.strategy":"NODES_AND_EDGES","elk.hierarchyHandling":"SEPARATE_CHILDREN","elk.layered.crossingMinimization.forceNodeModelOrder":!0,"elk.layered.crossingMinimization.strategy":"LAYER_SWEEP","elk.layered.spacing.nodeNodeBetweenLayers":"350","elk.spacing.nodeNode":"160"},l7=function(e){var t;arguments.length>1&&void 0!==arguments[1]&&arguments[1];let l=arguments.length>2?arguments[2]:void 0,i=l.filter(t=>t.target==e.id).length;return{layoutOptions:(null===(t=e.children)||void 0===t?void 0:t.length)?l6:{},id:e.id,width:e.width+40*Math.max(0,i-1),height:e.height,children:e.children?e.children.map((e,t)=>l7(e,t,l)):[]}},l3=async(e,t,l)=>{let i=new(l2()),a={id:"root",layoutOptions:{...l6,"elk.hierarchyHandling":"INCLUDE_CHILDREN"},children:e.map(e=>l7(e,0,t)),edges:[]},o=(e=>{let l=[],i=(e,a,o)=>{let n={...e};if(delete n.children,o&&(n.parentNode=o),l.push(n),e.children&&e.children.length){let l=t.find(t=>t.source==e.children[0].id);if(l){let i=JSON.parse(JSON.stringify(l));i.source=e.id,i.sourceHandle=e.id+"-output",t.push(i)}e.children.forEach(t=>i(t,a,e.id))}};return e.forEach(e=>i(e,a,null)),l})(e);t.filter(e=>o.find(t=>t&&t.id==e.source)&&o.find(t=>t&&t.id==e.target)).sort((e,t)=>{let l=e.targetHandle.split("_"),i=t.targetHandle.split("_"),a=l[l.length-1],o=i[i.length-1];if(a.startsWith("block")&&o.startsWith("block")&&e.target==t.target){let e=parseInt(a.substr(5),10),t=parseInt(o.substr(5),10);return e-t}return 0}).forEach((e,t)=>{a.edges.push({id:e.id,sources:[e.source],targets:[e.target]})}),await i.layout(a),a.children[0];var n={};let r=e=>e.forEach(e=>{let t=o.find(t=>t.id==e.id);if(t){n[t.id]={layouted:!0};let l=e.x,i=e.y;t.position={x:l,y:i},e.children&&e.children.length&&(t.data.height=e.height,t.data.width=e.width)}e&&e.children&&r(e.children)});return r(a.children),{nodes:o,edges:t,metadata:n}},l8=(e,t,l)=>{let i=e.filter(e=>t.find(t=>t.source==e.id&&t.target==l.id)).map(e=>({node:e,edge:t.find(t=>t.source==e.id&&t.target==l.id)}));return i},l9=function(e,t,l){var i,a,o;let n,r,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{x:0},u=l8(e,t,l),c=lh[l.type];if(l.position={x:d.x,y:d.y},l.data={...l.data,layouted:!0},c){let e=null!==(i=c.type)&&void 0!==i?i:c;e&&e.getPosition&&(d=e.getPosition(d,l.type))}let g=d.y,f=d.x,h=l.width;if(c){let e=null!==(a=c.type)&&void 0!==a?a:c;e&&e.getWidth&&(h=e.getWidth(l))}let y=1,m=1;if(c){let e=null!==(o=c.type)&&void 0!==o?o:c;if(e&&e.getSpacingFactor){let{factorX:t,factorY:i}=e.getSpacingFactor(l);y=t,m=i}}let v=h+120*y;d.x+=v;let x=[],b=0;u.forEach(async i=>{if(c){var a;let e=null!==(a=c.type)&&void 0!==a?a:c;e&&e.getChildPosition&&(d=e.getChildPosition(l,d,{x:f,y:g},i,l.type))}n={...d},r={x:0},l9(e,t,i.node,d,s,r),x.push({pos:{...n},delta:{x:n.x-l.position.x,y:n.y-g},width:r.x-p.x,height:d.y-g,node:i}),r.x>b&&(b=r.x)}),p.x+=v+b,s[l.id]={layouted:!0,childWidth:p.x,childHeight:d.y-g,childHeights:x},d.x-=h+120*y;let j="Block"==l.type||"CaseClause"==l.type||"DefaultClause"==l.type?s[l.id].childHeight?s[l.id].childHeight+100:0:l.height;return d.y+=d.y-g>j+100*m?0:j+100*m-(d.y-g),s},ie=async(e,t,l)=>{let i=e.map(e=>({...e})),a=l9(i,t,l);return await new Promise(e=>setTimeout(e,1)),{nodes:i,edges:t,metadata:a}},it=(e,t,l)=>{let i=e.filter(e=>t.find(t=>t.source==e.id&&t.target==l.id)).map(e=>({node:e,edge:t.find(t=>t.source==e.id&&t.target==l.id)}));return i},il=[],ii=function(e,t,l,i){let a,o,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{x:0};console.log("----- ENTER ON computeLayout -----"),console.log("Nodes: ",e),console.log("Edges: ",t),console.log("Node: ",l);let s=it(e,t,l),p=lh[l.type];var u,c,g,f,h="n";let y=(Object.keys(i).forEach(e=>{i[e]._devicePositioning&&(u={id:e,...i[e]})}),u);if(l.id!=(null==y?void 0:y.id)){let e=function(e,t){let l=e.filter(e=>e.source==t);return l[0]}(t,l.id);console.log("nodePositionReference: ",h=y._devicePositioning.filter(t=>{if(t)return t.includes(e.targetHandle.split("element-")[1])})[0].split("-")[1])}if(l.position={x:"r"==h?-1500+n.x:n.x,y:n.y},l.data={...l.data,layouted:!0},il.push({node:l}),console.log("Metas: ",il),p){let e=null!==(c=p.type)&&void 0!==c?c:p;e&&e.getPosition&&(n=e.getPosition(n,l.type))}let m=n.y,v=n.x,x=l.width;if(p){let e=null!==(g=p.type)&&void 0!==g?g:p;e&&e.getWidth&&(x=e.getWidth(l))}let b=1,j=1;if(p){let e=null!==(f=p.type)&&void 0!==f?f:p;if(e&&e.getSpacingFactor){let{factorX:t,factorY:i}=e.getSpacingFactor(l);b=t,j=i}}let C=x+120*b;n.x+=C;let w=[],k=0;s.forEach(async s=>{if(p){var u;let e=null!==(u=p.type)&&void 0!==u?u:p;e&&e.getChildPosition&&(n=e.getChildPosition(l,n,{x:v,y:m},s,l.type))}a={...n},o={x:0},ii(e,t,s.node,i,n,r,o),w.push({pos:{...a},delta:{x:a.x-l.position.x,y:a.y-m},width:o.x-d.x,height:n.y-m,node:s}),o.x>k&&(k=o.x)}),d.x+=C+k,r[l.id]={layouted:!0,childWidth:d.x,childHeight:n.y-m,childHeights:w},n.x-=x+120*b;let T="Block"==l.type||"CaseClause"==l.type||"DefaultClause"==l.type?r[l.id].childHeight?r[l.id].childHeight+100:0:l.height;return n.y+=n.y-m>T+100*j?0:T+100*j-(n.y-m),r},ia=async(e,t,l,i)=>{let a=e.map(e=>({...e}));console.log("Enter computeLayout: ",a,t,l);let o=ii(a,t,l,i);return console.log("Returning from computeLayout: ",o),await new Promise(e=>setTimeout(e,1)),{nodes:a,edges:t,metadata:o}};var io={elk:l3,code:ie,device:ia};let ir=async function(e,t,l,i,a,o){let n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=t.map(e=>({...e})),{nodes:s,edges:p,metadata:u}="device"!=e?await io[null!=e?e:"code"](d,l,o(d)):await io[e](d,l,o(d),r);return await n(u),await i(s),await a(l),{layoutedNodes:s,layoutedEdges:p,metadata:u}};var id=e=>{let{layout:t,hasChanges:l,onReload:i,onSave:a,onShowCode:d,getFirstNode:s}=e,p=(0,n.useContext)(u),c=p(e=>e.saveStatus),{fitView:g,setNodes:f,setEdges:h,getEdges:y,getNodes:m}=(0,r._K)();return(0,n.useCallback)(()=>{g({zoom:1,duration:800,padding:.5})},[g]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",margin:"auto",right:0,left:0,justifyContent:"center",marginTop:"20px"},children:[a?(0,o.jsx)("div",{onClick:()=>a(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"error"==c?"#EF4444":l?"#373737":"#BFBFBF",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:"loading"==c?(0,o.jsxs)("div",{id:"spinner",className:"lds-ring",children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{})]}):"error"==c?(0,o.jsx)(l0.Z,{color:"white",size:25}):(0,o.jsx)(l1.Z,{color:"white",size:25})}):null,d?(0,o.jsx)("div",{onClick:()=>d(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:(0,o.jsx)(tu.Z,{color:"white",size:25})}):null,i?(0,o.jsx)("div",{onClick:()=>i(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:(0,o.jsx)(l5.Z,{color:"white",size:25})}):null]})})},is=l(70283),ip=l(17736);let iu={maxHistorySize:100,enableShortcuts:!1};var ic=function(){let{maxHistorySize:e=iu.maxHistorySize,enableShortcuts:t=iu.enableShortcuts}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu,l=(0,n.useContext)(u),i=l(e=>e.nodeData),a=l(e=>e.setNodesData),[o,d]=(0,n.useState)([]),[s,p]=(0,n.useState)([]),{setNodes:c,setEdges:g,getNodes:f,getEdges:h,deleteElements:y}=(0,r._K)(),m=(0,n.useCallback)(t=>{d(l=>[...l.slice(l.length-e+1,l.length),{nodes:f(),edges:h(),nodeData:t||i}]),p([])},[f,h,e]),v=async e=>{var t,l,i,a,n=null!==(i=null===(t=o[o.length-1])||void 0===t?void 0:t.nodeData)&&void 0!==i?i:{},r=null!==(a=null===(l=s[s.length-1])||void 0===l?void 0:l.nodeData)&&void 0!==a?a:{};if((Object.keys(n).length||"undo"!=e)&&(Object.keys(r).length||"redo"!=e))return await c([])},x=(0,n.useCallback)(()=>{let e=o[o.length-1];e&&(d(e=>e.slice(0,e.length-1)),p(e=>[...e,{nodes:f(),edges:h(),nodeData:i}]),c(e.nodes),g(e.edges),Object.keys(e.nodeData).length&&a(e.nodeData))},[c,g,f,h,o,a]),b=(0,n.useCallback)(()=>{let e=s[s.length-1];e&&(p(e=>e.slice(0,e.length-1)),d(e=>[...e,{nodes:f(),edges:h(),nodeData:i}]),c(e.nodes),g(e.edges),Object.keys(e.nodeData).length&&a(e.nodeData))},[c,g,f,h,s,a]);return{undo:x,redo:b,takeSnapshot:m,canUndo:!o.length,canRedo:!s.length,clearNodes:v}},ig=l(45054),ih=e=>{let{onSelectionChange:t}=e;return(0,r.AQ)({onChange:e=>{let{nodes:l,edges:i}=e;return t(l,i)}}),(0,o.jsx)(o.Fragment,{})};let iy=(0,d.Z)(e=>({zoom:0,setZoom:t=>e((0,s.ZP)(e=>{e.zoom=t}))}));var im=e=>{let{zoom:t}=e;try{iy(e=>e.setZoom),(0,r.oR)(e=>e.transform[2])}catch(e){console.error(e)}return(0,o.jsx)(o.Fragment,{})};let iv=n.forwardRef((e,t)=>{var l,i;let{componentsMenu:a=(0,o.jsx)(o.Fragment,{}),disableMiniMap:d=!1,disableDots:s=!1,zoomOnDoubleClick:p=!0,edgeTypes:c=[],nodeTypes:g=[],edges:f=[],nodes:h=[],onInit:y=e=>{},onNodesChange:m=()=>{},onEdgesChange:v=()=>{},onConnect:x=()=>{},style:b={},onSelectionChange:j=()=>{},onNodeClick:C=()=>{},onNodesDelete:w,children:k=null,topics:T,themeMode:E="light",theme:D={},defaultViewPort:S={x:100,y:window.innerHeight/4,zoom:.8},onViewPortChange:L=()=>{},nodePreview:N="flow"}=e,P=(0,n.useRef)(null),O=(null===(i=P.current)||void 0===i?void 0:null===(l=i.getBoundingClientRect())||void 0===l?void 0:l.height)>0,F=(0,n.useContext)(u),W=F(e=>e.nodeData),I=F(e=>e.setTemeMode),[B,H]=(0,n.useState)([]),{project:z,setViewport:A,getNodes:R,getViewport:Z,setCenter:J,setNodes:M,setEdges:_,getEdges:K}=(0,r._K)(),{undo:V,redo:G,takeSnapshot:U,clearNodes:q}=ic(),X=(0,n.useRef)(null),Y=F(e=>e.setMenu),$=F(e=>e.setNodeData),[Q,ee]=(0,n.useState)([]),{data:et,publish:el}=T,ei="preview"===N,ea=ei?"node":"default",eo=(0,n.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},[]),en=(0,n.useCallback)(()=>{U()},[U]),er=(0,n.useCallback)(()=>{U()},[U]),ed=(0,n.useCallback)(e=>{w(e),U()},[U,el]),es=e=>{e.forEach(e=>{let t=e.target,l=W[t],i=e.targetHandle.replace(t,"").slice(1),a=g[t.split("_")[0]];a.type&&(a=a.type),i&&(a.onDeleteConnection?$(t,a.onDeleteConnection(l,i)):$(t,{...l,[i]:""}))})},ep=(0,n.useCallback)(e=>{es(e),U()},[U,W]),eu=(0,n.useCallback)((e,t)=>{X.current=t},[]),ec=(0,n.useCallback)(e=>{var t;let l=e.target.classList.contains("react-flow__pane");l&&(null===(t=X.current)||void 0===t?void 0:t.handleType)=="target"&&Y("open",[e.clientX,e.clientY],{target:X.current.nodeId,targetHandle:X.current.handleId})},[z]),eg=()=>{_(K().map(e=>({...e,hidden:!1,data:{...e.data,preview:ea}}))),M(R().map(e=>({...e,hidden:!1,data:{...e.data,preview:ea}})))},ef=e=>{let t=[e],l=K().filter(t=>t.target==e);return l.length&&l.forEach(e=>{t=t.concat(...ef(e.source))}),t},eh=e=>{let t=ef(e),l=R().map(e=>({...e,hidden:!t.includes(e.id),data:{...e.data,preview:ea}}));_(K().map(e=>({...e,hidden:!t.includes(e.target),data:{...e.data,preview:ea}}))),M(l)},ey=e=>{e&&(_(K().map(e=>({...e,hidden:!0,data:{...e.data,preview:ea}}))),M(R().map(t=>({...t,hidden:t.id!=e,data:{...t.data,preview:ea}}))))},em=(0,n.useCallback)(e=>{var t,l,i;let a=R().find((t,l)=>(i=l,t.id==e));if(!a)return;let o=null===(t=P.current)||void 0===t?void 0:t.offsetWidth;if(!o)return;let n=null===(l=P.current)||void 0===l?void 0:l.offsetHeight,r=a.position.x+a.width/2,d=a.position.y+n/2-(ei?10:50);M(e=>(e[i]={...e[i],data:{...e[i].data,flowsHeight:n}},e)),J(r,d,{zoom:1,duration:ei?1:500})},[J,N,h]);return(0,ig.Z)(["z","Z"],async e=>{if(O){if(("z"==e.key||"Z"==e.key)&&(e.ctrlKey||e.metaKey)&&e.shiftKey)return e.preventDefault(),await q("redo"),G();if(("z"==e.key||"Z"==e.key)&&(e.ctrlKey||e.metaKey))return e.preventDefault(),await q("undo"),V()}}),(0,n.useEffect)(()=>{I(E,D)},[E,D]),(0,n.useEffect)(()=>{B.push(W),H(B)},[W]),(0,n.useEffect)(()=>{var e,t,l;if(!document.activeElement)return;let i=null===(e=document.activeElement.id)||void 0===e?void 0:e.includes("input"),a=null===(t=document.activeElement.id)||void 0===t?void 0:t.includes("select"),o=null===(l=document.activeElement.id)||void 0===l?void 0:l.includes("delete-button"),n=B[B.length-2];n&&(a||i||o)&&Object.keys(n).length&&U(n)},[document.activeElement]),(0,n.useEffect)(()=>{var e;let t=null===(e=et.zoomToNode)||void 0===e?void 0:e.id;if(t){if(Q[0]==t)return;Q[0]=t,ee([...Q]),setTimeout(()=>em(t),80),ei&&ey(t)}},[et.zoomToNode]),(0,n.useEffect)(()=>{switch(N){case"preview":ey(Q[0]);break;case"flow-preview":eh(Q[0]);break;case"flow":eg();break;default:console.error("Unauthorized value for nodePreview: ",N)}setTimeout(()=>em(Q[0]),80)},[N,Q[0]]),(0,o.jsxs)("div",{style:{width:"100%",height:"100%"},children:[(0,o.jsx)(ih,{onSelectionChange:j}),(0,o.jsx)("div",{style:{height:"100%"},ref:P,children:(0,o.jsxs)(r.x$,{onMoveEnd:e=>L(Z()),defaultViewport:S,proOptions:{hideAttribution:!0},nodeTypes:g,nodes:h,edges:f,zoomOnDoubleClick:p,onNodesChange:m,onEdgesChange:v,onConnectStart:eu,onConnectEnd:ec,onConnect:e=>{U(),x(e)},onNodeDragStart:en,onSelectionDragStart:er,onNodesDelete:ed,onEdgesDelete:ep,onNodeClick:C,style:{cursor:"pointer",...b},onDragOver:eo,edgeTypes:c,zoomOnScroll:"preview"!==N,panOnDrag:"preview"!==N,minZoom:.3,maxZoom:2,onInit:e=>{y(e)},children:[d?null:(0,o.jsx)(is.a,{zoomable:!0,pannable:!0}),s?null:(0,o.jsx)(ip.A,{}),(0,n.cloneElement)(a,{takeSnapshot:U,reactFlowWrapper:P}),k,(0,o.jsx)(im,{zoom:S.zoom})]})})]})});var ix=n.memo((0,lO.Ic)(e=>(0,o.jsx)(r.tV,{children:(0,o.jsx)(iv,{...e})}),{topics:["zoomToNode","flow/editor"]}));let ib=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0,i=Object.keys(t).reduce((i,a)=>{if(!a.startsWith("child-"))return{...i,[a]:t[a]};{let o=Number(a.split("child-")[1]);return o===l?(e=t[a],i):o>l?{...i,["child-"+(o-1)]:t[a]}:{...i,[a]:t[a]}}},{});return{data:i,deletedElementData:e}},ij=(e,t,l)=>{var i,a=null===(i=Object.keys(e))||void 0===i?void 0:i.filter(e=>e.startsWith("child-")).length;return[...Object.keys(e),"child-"+(a+1)].reduce((i,a)=>{if(a.startsWith("child-")){let o=Number(a.split("child-")[1]);if(o===t)return{...i,["child-"+t]:l};if(o>t)return{...i,["child-"+o]:e["child-"+(o-1)]}}return{...i,[a]:e[a]}},{})},iC=function(e,t,l,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,n=[];if(e.forEach(e=>{let t={...e},r=Number(t.targetHandle.split(l+"-child-")[1]),d=Number(t.targetHandle.split(a+"-child-")[1]);r?r>i?(t.targetHandle=l+"-child-"+(r-1),n.push(t)):r<i&&n.push(t):(d&&d>o-1&&(t.targetHandle=a+"-child-"+(d+1)),n.push(t))}),a&&o){let e={id:x(),targetHandle:a+"-child-"+o,target:a,source:t,sourceHandle:t+"-output",animated:!1,type:"custom"};n.push(e)}return n},iw=(e,t,l,i)=>{let a=[];e.forEach(e=>{let t={...e};if(t.targetHandle.startsWith(l+"-child-")&&!(t.targetHandle.split(l+"-child-")[1]<i)){let e=t.targetHandle.split(l+"-child-")[1];e>=i&&(t.targetHandle=l+"-child-"+(Number(e)+1),a.push(t))}else a.push(t)});let o={id:x(),targetHandle:l+"-child-"+i,target:l,source:t,sourceHandle:t+"-output",animated:!1,type:"custom"};return a.push(o),a},ik=(e,t,l,i)=>{let a=[];return e.forEach(e=>{let o={...e},n=o.targetHandle.split(t+"-child-")[1];o.targetHandle.startsWith(t+"-child-")&&-1!=i.findIndex(e=>e+1===Number(n))&&(o.targetHandle=t+"-child-"+(l+(i.findIndex(e=>e+1===Number(n))+1))),a.push(o)}),a},iT=(e,t,l)=>{let i={...e};return t.forEach((t,a)=>{i["child-"+(l+a+1)]=e["child-"+(t+1)]}),i},iE=(e,t,l,i,a)=>{let o;i.forEach(t=>{e.includes(t.target)&&e.push(t.source)});var n=i.filter(l=>e.includes(l.source)&&l.target==t);let r={...a};return o=i,n.forEach(e=>{let i=e?Number(e.targetHandle.split("child-")[1]):null;o=iC(o,l,t,i);let{data:n}=ib(a[t],i);r[t]=n}),{updatedEdges:o,newNodeData:r}},iD=e=>Object.keys(e).reduce((t,l)=>{let i=e[l],a=Object.keys(i).reduce((e,t)=>(t.startsWith("_")||"connections"==t||"SourceFile_0_0"==t||(e={...e,[t]:i[t]}),e),{});return t={...t,[l]:a}},{}),iS=(e,t,l,i,a)=>{var o=lh[a].type;let n=null==o?void 0:o.dump({id:i,type:a},e,t,l);return n},iL=(e,t)=>{let l=t.find(t=>t.source==e);if(!l)return;let i=l.targetHandle,a="JsxElement"===i.split("_")[0];return a?i:iL(l.target,t)},iN=(e,t,l,i,a,o)=>{var n,r,d,s;let p=iS(e,t,l,i,a),u=iP(p),c=null===(d=u.getFirstDescendantByKind(X.lGB.JsxElement))||void 0===d?void 0:null===(r=d.getOpeningElement())||void 0===r?void 0:null===(n=r.getAttributes())||void 0===n?void 0:n.find(e=>(null==e?void 0:e.getName)&&e.getName()==o),g=null==c?void 0:null===(s=c.getInitializer())||void 0===s?void 0:s.getText();return g},iP=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customCode.tsx",l=new X.IKL({useInMemoryFileSystem:!0,manipulationSettings:{indentationText:X.xI4.Tab},compilerOptions:{target:X.H7j.Latest,scriptKind:X.hVH.TSX,languageVariant:X.C$L.JSX}}),i=l.createSourceFile(t,e,{overwrite:!0});return i},iO=()=>(e,t,l)=>{var i,a,o,n=[],r=[],d=null===(i=l.find(t=>t.target==L(e)))||void 0===i?void 0:i.source;n.push(d);var s=null===(a=l.find(e=>e.target==d))||void 0===a?void 0:a.source;n.push(s);var p=null===(o=l.find(e=>e.target==s))||void 0===o?void 0:o.source;return p&&r.push(p),null==r||r.forEach(t=>l.push(b(t,t+"-output",L(e),L(e)+"_request"))),t.filter(e=>!(null==n?void 0:n.includes(null==e?void 0:e.id)))},iF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2";return(t,l,i)=>{var a;let o=null===(a=i.find(l=>l.targetHandle==L(t)+"-param"+e))||void 0===a?void 0:a.source,n=i.find(e=>e.targetHandle==o+"_call");return n&&(console.log("new edge: ",b(L(t),L(t)+"_request",n.target,n.targetHandle)),i.push(b(n.source,n.sourceHandle,L(t),L(t)+"_request"))),l.filter(e=>(null==e?void 0:e.id)!=o)}},iW=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2";return(t,l,i,a,o)=>{let n=o.find(l=>l.targetHandle==t.id+"-param"+e),r=[],d=[];if(n){let e=null==i?void 0:i.find(e=>e.id==n.source);e&&d.push(e),r=o.filter(t=>t.source==(null==e?void 0:e.id)||t.target==(null==e?void 0:e.id))}return{nodes:[...d,...l],edges:[...r,...a]}}},iI=()=>(e,t,l,i,a)=>{let o=[],n=[];if(a&&l){let t=a.find(t=>t.target==e.id),r=i.find(e=>e.target==(null==t?void 0:t.source)),d=i.find(e=>e.target==(null==r?void 0:r.source));if(t&&r&&d){let e=l.find(e=>e.id==(null==t?void 0:t.source)),i=l.find(e=>e.id==(null==r?void 0:r.source)),s=l.find(e=>e.id==(null==d?void 0:d.source));n.push(e),n.push(i),n.push(s),o=a.filter(t=>t.source==(null==e?void 0:e.id)||t.target==(null==e?void 0:e.id)||t.source==(null==i?void 0:i.id)||t.target==(null==i?void 0:i.id)||t.source==(null==s?void 0:s.id)||t.target==(null==s?void 0:s.id))}}return{nodes:[...n,...t],edges:[...o,...i]}};var iB=e=>{let{node:t,port:l,type:i,fallbackPort:a,portType:r,preText:d,postText:s,fallbackText:p=""}=e,c=(0,n.useContext)(u),g=c(e=>e.setNodeData),f=c(e=>e.nodeData[null==t?void 0:t.id]);return(0,n.useEffect)(()=>{t&&t.id&&!(null==f?void 0:f.hasOwnProperty("_fallBack"))&&g(t.id,{...f,_fallBack:[{port:l,type:i,fallbackPort:a,portType:r,fallbackText:p,preText:d,postText:s}]})},[null==t?void 0:t.id,f]),(0,o.jsx)(o.Fragment,{})},iH=e=>{let{href:t,...l}=e;return(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,o.jsx)("a",{target:"_blank",href:t,style:{color:h("interactiveColor"),padding:"10px 15px",cursor:"pointer",display:"flex",flexDirection:"column",fontFamily:"Jost-Regular",fontSize:h("nodeFontSize")},onMouseEnter:e=>{e.currentTarget.style.textDecorationLine="underline"},onMouseLeave:e=>{e.currentTarget.style.textDecorationLine=""},children:l.children})})},iz=l(64346);let iA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=(arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0),[i,a]=n.useState(""),[r,d]=n.useState(),s=(0,n.useContext)(u),p=s(e=>e.setNodeData),c=l.data.body.find(e=>"api"==e.type);return c&&(0,n.useEffect)(()=>{let e=c.data.apiUrl;fetch(e).then(e=>e.json()).then(e=>{d(e)})},[]),(0,o.jsx)(lM,{icon:iz.Z,node:e,isPreview:!e.id,title:l.data.title,id:e.id,color:"#BCAAA4",skipCustom:!0,children:l.data.body.map(l=>{var n,d;switch(l.type){case"params":return(0,o.jsx)(lZ,{id:e.id,params:l.params});case"spacer":return(0,o.jsx)("div",{style:{marginBottom:l.params.height}});case"output":return(0,o.jsx)(lJ,{id:e.id,type:"output",label:l.params.label,style:null!==(n=l.params.style)&&void 0!==n?n:{},handleId:l.params.handleId});case"redirect":return(0,o.jsx)(iB,{node:e,port:l.params.port,type:"target",fallbackPort:l.params.fallbackPort,portType:"_",preText:l.params.preText,postText:l.params.postText});case"api":{let i=null!==(d=null==r?void 0:r.map(e=>({label:e.path,value:'"'+e.path+'"'})))&&void 0!==d?d:[],a=l.data.field,n=t[a];return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(t3,{label:l.data.label,input:i.length&&n?(0,o.jsx)(t5,{onChange:l=>{p(e.id,{...t,[a]:l.value})},defaultValue:{value:n,label:n},options:i}):(0,o.jsx)(o.Fragment,{})})})}case"link":return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(iH,{target:"_blank",href:l.data.url,children:l.data.text})});case"button":return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(B,{onPress:async()=>{let e=Function("data","\n                                    return (async () => {\n                                        ".concat(l.params.onPress,"\n                                    })();\n                                ")),i=await e(t);a(i),console.log("result: ",i)},label:l.params.label}),i&&l.params.displayResult?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("textarea",{style:{width:"100%",height:"150px",fontSize:"20px"},children:JSON.stringify(i)})}):null]})}})})};iA.check=(e,t,l)=>{let i=e.type==l.type&&new RegExp(l.filter.to).test(t.to);for(let e=0;l.filter.params&&i&&e<l.filter.params.length;e++)i=new RegExp(l.filter.params[e]).test(t["param"+(e+1)]);return i};let iR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=(arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0),i=Object.keys(t).filter(e=>e.startsWith("prop-")).map((e,t)=>({label:e.substr(5),field:e,fieldType:"prop",deleteable:!0}));return(0,o.jsx)(lM,{icon:tu.Z,node:e,isPreview:!e.id,title:l.data.title,id:e.id,color:"#C5E1A5",skipCustom:!0,children:l.data.body.map(a=>{switch(a.type){case"child":{let l=Object.keys(t).filter(e=>e.startsWith("child-")).map((e,t)=>{var l;let i=null===(l=a.data)||void 0===l?void 0:l.find(t=>t.field===e);return{label:i?i.label:"Child"+(t+1),field:e,fieldType:"child",deleteable:!i}});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lZ,{id:e.id,params:l}),a.disableAdd?null:(0,o.jsx)(H,{id:e.id,type:"Child",nodeData:t})]})}case"prop":{let r=l.data.body.find(e=>"redirect"==e.type),d=null==r?void 0:null===(n=r.params)||void 0===n?void 0:n.port,s=l.data.body.find(e=>"custom-field"==e.type),p=t6(l.data.body);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lZ,{id:e.id,params:a.data}),(0,o.jsx)(lZ,{id:e.id,params:i.filter(e=>!p.includes(e.field)||!s).filter(e=>!a.data.find(t=>t.field==e.field)&&e.field!=d)}),a.disableAdd?null:(0,o.jsx)(H,{id:e.id,type:"Prop",nodeData:t})]})}case"spacer":return(0,o.jsx)("div",{style:{marginBottom:a.params.height}});case"output":return(0,o.jsx)(lJ,{id:e.id,type:"output",label:a.params.label,style:null!==(r=a.params.style)&&void 0!==r?r:{},handleId:a.params.handleId});case"redirect":return(0,o.jsx)(iB,{node:e,port:a.params.port,type:"target",fallbackPort:a.params.fallbackPort,portType:"_",preText:a.params.preText,postText:a.params.postText});case"custom-field":{let l="Props",i=a.data.reduce((e,t)=>{var i,a,o=null!==(i=t.section)&&void 0!==i?i:l;return e[o]=[...null!==(a=e[o])&&void 0!==a?a:[],t],e},{});var n,r,d=Object.keys(i);let s=d.indexOf(l);return -1!==s&&(d.splice(s,1),d.push(l)),(0,o.jsx)(o.Fragment,{children:d.map((a,n)=>{let r=a==l?"":a;return(0,o.jsxs)("div",{children:[i[a].map((l,i)=>(0,o.jsx)(t7,{item:l,node:e,nodeData:t},i)),r?(0,o.jsx)("div",{style:{borderBottom:"1px solid "+h("inputBackgroundColor"),margin:"20px 22px"}}):null]},n)})})}}})})};iR.check=(e,t,l)=>{var i=!1;if(l.initialData){var a,o,n,r=null===(n=l.body)||void 0===n?void 0:null===(o=n.find(e=>"prop"==e.type))||void 0===o?void 0:null===(a=o.props)||void 0===a?void 0:a.map(e=>null==e?void 0:e.field),d=Object.keys(t);i=(null==r?void 0:r.filter(e=>!d.includes(e)).length)==0}else i=!0;return(e.type==l.type||"JsxSelfClosingElement"==e.type)&&t.name==l.id&&i};var iZ={CallExpression:iA,JsxElement:iR};let iJ={filterCallback:iF,restoreCallback:iW,filterCallbackProp:iO,restoreCallbackProp:iI},iM=e=>{var t;let l=void 0===(t=Function(e))?void 0:t.call(iJ);return l};var i_=e=>{var t,l;let i={data:e,id:e.id,type:e.type,check:(l,i)=>(null!==(t=iZ[e.type])&&void 0!==t?t:iA).check(l,i,e),getComponent:null!==(l=iZ[e.type])&&void 0!==l?l:iA,getInitialData:()=>e.initialData};return e.filterChildren&&(i.filterChildren=iM(e.filterChildren)),e.restoreChildren&&(i.restoreChildren=iM(e.restoreChildren)),i};let iK=e=>{var t,l;let{dataNotify:i=()=>{},disableDots:a=!1,bgColor:d="transparent",onShowCode:s=null,sourceCode:p,onSave:c,onPlay:g,onReload:f,disableStart:h=!1,getFirstNode:y=e=>e.find(e=>e.id&&e.id.startsWith("SourceFile")),customComponents:m=[],hideBaseComponents:v=!1,positions:b,topics:j,flowId:C,display:w=!0,enableCommunicationInterface:k=!1,children:T,showActionsBar:E=!1,zoomOnDoubleClick:P=!0,onSelectionChange:O=()=>{},onEdit:F=()=>{},config:W={},themeMode:I="light",theme:B={},disableMiniMap:H=!0,bridgeNode:z=!1,onViewPortChange:A=()=>{},defaultViewPort:R={x:100,y:window.innerHeight/4,zoom:.8},path:Z="Start",mode:J="js",nodePreview:M="flow",metadata:_={}}=e,{data:K,publish:V}=j,G=(0,n.useContext)(u),U=(0,n.useRef)(null),q=G(e=>e.setError),Y=G(e=>e.clearError),$=G(e=>e.setDataNotify),Q=G(e=>e.initialEdges),ee=G(e=>e.setInitialEdges),et=G(e=>e.initialNodes),el=G(e=>e.setInitialNodes),ei=G(e=>e.setSaveStatus),ea=G(e=>e.setNodeData),eo=G(e=>e.setNodesData),en=G(e=>e.setMetadata),er=G(e=>e.setCurrentPath),ed=G(e=>e.setNodesMetaData),es=G(e=>e.clearNodesData),ep=G(e=>e.appendCustomComponents),eu=G(e=>e.customComponents),ec=G(e=>e.nodeData),eg=G(e=>e.menuState),ef=[...m,...null!==(l=null==W?void 0:null===(t=W.masks)||void 0===t?void 0:t.map(e=>i_(e)))&&void 0!==l?l:[]].filter(e=>e),eh=(0,n.useMemo)(()=>lh,[]),ey=(0,n.useMemo)(()=>({custom:e=>lQ(e,z)}),[]),[em,ev,ex]=(0,r.Rr)(et),[eb,ej,eC]=(0,r.ll)(Q),[ew,ek]=(0,n.useState)(!1),[eT,eE]=(0,n.useState)(iD(ec)),eD=(0,n.useCallback)(e=>ej(t=>(0,r.Z_)({...e,type:"custom",animated:!1},t)),[ej]),eS=async()=>{es();let{nodes:e,edges:t,nodeDataTable:l}=await eO();eo(l),eE(iD(l)),ev(e),ej(t),ee(t),el(e)},eL=e=>"json"==J?"("+e+")":e,eN="json"==J?"elk":"device"==J?"device":"code",eP="json"==J?e=>e.find(e=>e.id&&e.id.startsWith("ObjectLiteralExpression")):y,eO=async()=>{let e;let t=new X.IKL({useInMemoryFileSystem:!0,manipulationSettings:{indentationText:X.xI4.Tab},compilerOptions:{target:X.H7j.Latest,scriptKind:X.hVH.TSX,languageVariant:X.C$L.JSX}}),l=t.createSourceFile("_temp1.tsx",eL(p),{overwrite:!0});if("json"==J){var i,a;let e=null===(a=l.getStatements()[0])||void 0===a?void 0:null===(i=a.getExpression())||void 0===i?void 0:i.getExpression();e&&(l=e)}let o=(e,t,l,i)=>{if(!t(e))return l(e,i,[]);let a=[];return e.forEachChild(e=>{a=a.concat(o(e,t,l,[]))}),l(e,i,a)},n={},r=[],d={},s=o(l,t=>{let l=eh[t.getKindName()];if(l){var i;let a=null!==(i=l.type)&&void 0!==i?i:l;if(a.isShadow&&a.isShadow(t,n,J,r)||e||(e=L(t)),a.skipTraversal)return!1}return!0},(e,t,l)=>{let i=eh[e.getKindName()];if((null===(s=e.getParent())||void 0===s?void 0:s.getKindName())=="CatchClause"&&"VariableDeclaration"==e.getKindName())return;var a,o=!0;if(i){let l=null!==(u=i.type)&&void 0!==u?u:i;if(l.getData){d[L(e)]={};var s,p,u,c,g=l.getData(e,n,d,r,J);g={...d[L(e)],...g,_astNode:e},d[L(e)]=g,n[L(e)]=g;let t=lx({type:e.getKindName()},null!==(c=d[L(e)])&&void 0!==c?c:{},ef);ea(L(e),g),(null==t?void 0:t.nonDeletable)&&(o=!1)}if((!l.isShadow||!l.isShadow(e,n,J,r))&&(!l.checkCreate||l.checkCreate(e,n))&&("SourceFile"!=e.getKindName()||!h)){let l=D([0,0],e.getKindName(),L(e),null,"SourceFile"!=e.getKindName()&&o,r,d[L(e)]);t=t.concat(l),n[L(e)]={type:"node",value:l[0]}}}n[L(e)]||(0==e.getChildren().length?n[L(e)]={type:"data",value:e.getText(),_astNode:e}:n[L(e)]=e.forEachDescendant(e=>n[L(e)]));let f=lx(null===(p=n[L(e)])||void 0===p?void 0:p.value,null!==(a=d[L(e)])&&void 0!==a?a:{},ef),y=(e,t)=>{d[e]=t};f&&f.filterChildren&&y(L(e),{...d[L(e)],_initialNodes:l,_initialEdges:JSON.parse(JSON.stringify(r))});let m=i&&i.type?i.type:i,v=[...t,...f&&f.filterChildren?f.filterChildren(e,l,r,d,y):l];return m&&m.filterChildren?m.filterChildren(e,v,r,d,y):v},[]).filter(e=>e),u=s;return W&&W.layers&&W.layers.length&&(u=[...u,...W.layers.map(e=>{var t;let l="Layer_"+x();return d[l]=e,D(null!==(t=e.position)&&void 0!==t?t:[0,0],"Layer",l,{},!1,[],{})[0]})]),{nodes:u,edges:r,nodeDataTable:d}},eF=e=>em.reduce((t,l)=>{var i;let a=lx(l,null!==(i=e[l.id])&&void 0!==i?i:{},ef);if(a&&a.restoreChildren){let i=a.restoreChildren(l,t.nodes,e[l.id]._initialNodes,t.edges,Q,e);return i.nodeData||(i.nodeData=t.nodeData),i}return t},{nodes:em,edges:eb,nodeData:e}),eW=async e=>{var t;let l=eF(Object.assign({},ec));Y();try{t=function(e,t,l,i,a){let o=i(e,l);if(!o)return"";let n=lh[o.type];n.type&&(n=n.type);let r=n.dump(o,e,t,l,null,"json"!=a,"full");if("json"==a){let e=JSON.stringify(JSON.parse(r),null,4);return e}let d=S(r,a);if(d){let i=n.dump(o,e,t,l,null,!1,"full");return S(i,a)}return""}(l.nodes,l.edges,l.nodeData,eP,J),ee(l.edges),el(l.nodes);let i=em.map(e=>({id:e.id,position:e.position}));!e&&c&&(null==em?void 0:em.length)&&c(t,i,{nodesData:ec,nodes:em})}catch(o){let e=o.codeFrame.split("\n").find(e=>e.startsWith("> ")).split("|");e.shift();let t=o.loc.start.column,l=e.join("|").substr(1,t),i=l.lastIndexOf("/* JSFLOWID("),a=l.substring(i+12).split(")")[0];ei("error"),q(a)}return t},eI=async()=>{try{let e=await eW();g&&g(e)}catch(e){console.error(e)}},eB=e=>e.map(e=>{let{draggable:t,height:l,width:i,position:a,selected:o,positionAbsolute:n,dragging:r,data:d,...s}=e,{layouted:p,...u}=d||{layouted:1};return{...s,data:u}}),eH=async()=>{await ej([]),await ev([]),f?f():eS()},ez=(e,t)=>{if(k){var l=t.nodeId,i=t.param,a=t.value;try{a=JSON.parse(a)}catch(e){}switch(e){case"delete-node":let c=t.map(e=>e.id),g=eb.find(e=>c.includes(e.source));o=null==g?void 0:g.target;let f=g?null===(r=em.find(e=>e.id==g.source))||void 0===r?void 0:r.type:null===(d=t.find(e=>e.id==c[0]))||void 0===d?void 0:d.type;if(n={action:"delete-node",nodesToDelete:c,deletedNodeType:f},"JsxElement"==f){let e=g?Number(g.targetHandle.split("child-")[1]):null;if(ec[o]){let{data:t}=ib(ec[o],e);eo({...ec,[o]:t})}}V("flow/editor",n);break;case"delete-data":V("flow/editor",n={action:"delete-data",nodeId:l,param:i});break;case"add-node":let h=t.newEdge,y=t.initialData,m=null==y?void 0:y.name,v=null===(s=t.node)||void 0===s?void 0:s.type;l=t.node.id,o=h.target,i=h.targetHandle.split(o+"-")[1];let x={...ec,[l]:{...y}};n={...n,action:"add-node",nodeId:l,type:v,nodeName:m,parent:o};let b=iS(em,eb.concat(h),x,l,v);if("JsxElement"==v){let e=(null==i?void 0:i.startsWith("child"))?Number(i.split("child-")[1]):void 0;n={...n,childrenPos:e-1},eo(x={...x,[o]:{...x[o],["child-"+e]:b}})}else{let e,t,l=h.targetHandle.split(o)[1],i=l.slice(0,1),a=l.slice(1),c=x[o];if(i==N.flow){let l=null===(p=c._fallBack)||void 0===p?void 0:p.find(e=>e.fallbackPort==a&&e.portType==i),g=(null==l?void 0:l.preText)+b+(null==l?void 0:l.postText);var o,n,r,d,s,p,u=g.indexOf("=");if(-1===u)return;e=g.substring(0,u).trim(),t=g.substring(u+1).trim()}else if(i==N.data){let l=c[a];e=null==l?void 0:l.key,t=b}n={...n,data:{isAncestorJsxElement:!0,key:e,value:t}}}V("flow/editor",n);break;case"add-data":V("flow/editor",n={action:"add-data",nodeId:l,param:i,value:a,isProp:!!t.isProp});break;case"edit-data":V("flow/editor",n={action:"edit-data",nodeId:l,param:i,value:a,deleteKey:t.deleteKey});break;default:console.error("Communication sender error. Invalid action ".concat(e))}}},eA=e=>{if(e)return e.startsWith("prop-")?e.split("prop-")[1]:e.startsWith("child-")?"children":e},eR=e=>{let t=eb.find(t=>t.targetHandle==e);return t},eZ=()=>{if(!k)return;let e=iD(ec);if(!Object.keys(eT).length)return;let t=lU().diff(eT,e);if(t&&!(t.length>1)){if(t.find(e=>"E"==e.kind)){var l,i,a,o;let e,n;let r=t.find(e=>"E"==e.kind),d=r.path[0];if(!eT[d])return;let s=d+N.data+r.path[1];if(eR(s))return;let p=null===(l=em.find(e=>e.id==d))||void 0===l?void 0:l.type,u={nodeId:d};if("JsxElement"==p||"JsxSelfClosingElement"==p){let t;if("key"==r.path[2]){n=r.rhs;let l=r.lhs,a=r.path[1];e=null===(i=ec[d][a])||void 0===i?void 0:i.value,t=!0,u={...u,deleteKey:l}}else{if(n=eA(r.path[1]),void 0==(e=r.rhs)||!n||"object"==typeof e||"kind"==r.path[2])return;(t=!n.includes("child"))&&(n=null!==(o=null===(a=ec[d]["prop-"+n])||void 0===a?void 0:a.key)&&void 0!==o?o:n)}u={...u,param:n,value:e,isProp:t}}else{let e=iL(d,eb);if(e){n=e.split("-")[2],d=e.split("-")[0];let t=e.split("_")[0],l=iN(em,eb,ec,d,t,n);u={...u,nodeId:d,param:n,value:l,isProp:!0}}}ez("edit-data",u)}else if(t.find(e=>"N"==e.kind)){let e;let l=t.find(e=>"N"==e.kind),i=l.path[0];if(!eT[i])return;let a=null===(n=em.find(e=>e.id==i))||void 0===n?void 0:n.type,o=l.path[1];if("JsxElement"==a||"JsxSelfClosingElement"==a){let t=l.rhs;"object"==typeof t&&(o=o.split("-")[0]+"-"+t.key,t=t.value),o=eA(o);let a=i+N.data+l.path[1];if(eR(a)||void 0==t||!o)return;let n=!o.includes("child");e={nodeId:i,param:o,value:t,isProp:n}}else{let t=iL(i,eb);var n,r=null==t?void 0:t.indexOf("-");if(-1===r||!t)return;let l=t.slice(r+1),a=t.split("-")[0],o=t.split("_")[0],d=ec[a],s=d[l].key,p=iN(em,eb,ec,a,o,s);e={nodeId:a,param:s,value:p,isProp:!0}}ez("add-data",e)}else if(t.find(e=>"D"==e.kind)){let e=t.find(e=>"D"==e.kind),l=e.path[0],i=e.lhs.key;ez("delete-data",{nodeId:l,param:i})}}},eJ=e=>{var t;let l=null===(t=e[0])||void 0===t?void 0:t.type,i=["ObjectLiteralExpression","ArrowFunction","CallExpression"].includes(l)||e.length<=1;if(!e||!e.length||i)return p;let a=e[0];if(!a)return p;let o=lh[a.type];o.type&&(o=o.type);let n=o.dump(a,em,eb,ec);return S(n,J)},eM=async()=>{try{let e=await eW(!0);void 0!==e?F(e):console.error("There was an error in the code, not emitting")}catch(e){}};return(0,n.useEffect)(()=>{let e=lq(eB(Q),eB(eb)),t=lq(eB(et),eB(em)),l=em.filter(e=>{var t;return e.id!=(null===(t=y(em))||void 0===t?void 0:t.id)&&!eb.find(t=>t.source==e.id)&&!e.draggable});l.length&&ev(em.map(e=>l.find(t=>t.id==e.id)?{...e,draggable:!0}:e));let i=em.filter(e=>{var t;return e.id!=(null===(t=y(em))||void 0===t?void 0:t.id)&&eb.find(t=>t.source==e.id)&&e.draggable});i.length&&ev(em.map(e=>i.find(t=>t.id==e.id)?{...e,draggable:!1}:e)),t&&t.length||e&&e.length?(e&&!t&&(ir(eN,em,eb,ev,ej,eP,ed,ec),ee(eb)),E||eM(),ek(!0)):ek(!1),ei(null)},[em,eb]),(0,n.useEffect)(()=>{$(i)},[i]),(0,n.useEffect)(()=>{var e;(null===(e=K[C+"/play"])||void 0===e?void 0:e.ts)&&eI()},[K[C+"/play"]]),(0,n.useEffect)(()=>{er(Z)},[Z]),k&&((0,n.useEffect)(()=>{let e=K[C+"/ui"];if(e){var t=e.nodeId;switch(e.action){case"delete-node":var l,i=null!==(l=e.deletedNodes)&&void 0!==l?l:[],a=e.parent;let{updatedEdges:h,newNodeData:y}=iE(i,a,t,eb,ec);ej(h),eo(y),ev(e=>e.filter(e=>!i.includes(e.id)));break;case"add-node":var o,n,r=e.nodeName,d=e.parent,s=null!==(n=null==e?void 0:e.data)&&void 0!==n?n:{},p=null===(o=em.find(t=>t.id==e.parent))||void 0===o?void 0:o.position;if(!p)return;var u=e.childrenPos+1,c=e.nodeProps;let m=Object.keys(c).reduce((e,t)=>{var l=c[t],i="prop-".concat(t);let a=function(e){switch(typeof e){case"number":return"NumericLiteral";case"string":return"StringLiteral";case"boolean":return"TrueKeyword";case"object":return Array.isArray(e)?"ArrayLiteralExpression":"ObjectLiteralExpression"}}(l);var o={key:t,value:l,kind:a};return"children"==t&&(i="child-1",o=l),{...e,[i]:o}},{name:r});var g={...ec,[t]:m};if(ef.find(e=>e.id==r)){var f={};g={...g,[t]:{...g[t]}}}let v=D([p.x+500,p.y],"JsxElement",e.nodeId,s,!0,{},f);ev(e=>e.concat(v));let x=iS(em,eb,g,t,"JsxElement");eo(g={...g,[d]:{...ij(g[d],u,null!=x?x:'"children"')}}),ej(iw(eb,t,d,u));break;case"edit-node":var g={...ec,[t]:{...ec[t],"child-1":e.newChildValue}};eo(g);break;case"move-node":let b=e.isSameParent;if(b){let t=e.parent,l=e.childrenIndexes,i=Math.min(...l),a={...ec[t]},o=iT(a,l,i);ea(t,o);let n=ik(eb,t,i,l);ej(n);return}{let l=e.oldParentId,i=e.oldPos+1,a=ec[l],{data:o,deletedElementData:n}=ib(a,i),r=e.newParentId,d=ec[r];if(!d)return;let s=Object.keys(d).filter(e=>e.startsWith("child-")).length,p=-1==e.newPos?s+1:e.newPos+1,u=ij(d,p,n);eo({...ec,[l]:o,[r]:u});let c=iC(eb,t,l,i,r,p);ej(c)}}}},[K[C+"/ui"]]),(0,n.useEffect)(()=>{var e;(null===(e=K.savenodes)||void 0===e?void 0:e.value)&&eW()},[K.savenodes])),(0,n.useEffect)(()=>{ef.length!=eu.length&&ep(ef),en(_)},[ef.length]),(0,n.useEffect)(()=>{p&&eS()},[p]),(0,n.useEffect)(()=>{let e=iD(ec),t=lq(eT,e);(null==t?void 0:t.length)&&(ek(!0),eZ(),eE(e),em.length&&!E&&eM())},[ec]),(0,n.useEffect)(()=>{em&&em.length&&em.filter(e=>e.width&&e.height).length==em.length&&ir(eN,em,eb,ev,ej,eP,ed,ec)},[em.reduce((e,t)=>e+=t.id+" "+(t.width&&t.height?"1":"0")+",","")]),(0,o.jsx)("div",{ref:U,style:{height:"100%",width:"100%"},children:w?(0,o.jsxs)(ix,{onViewPortChange:A,defaultViewPort:R,themeMode:I,onSelectionChange:e=>O(eJ(e),e),nodeTypes:eh,nodes:em,edges:eb,zoomOnDoubleClick:P,onNodesChange:ex,onEdgesChange:eC,onNodesDelete:e=>ez("delete-node",e),onConnect:eD,edgeTypes:ey,onInit:()=>{},style:{backgroundColor:d},nodePreview:M,componentsMenu:"closed"!=eg?(0,o.jsx)(lY,{enabledNodes:"json"==J?["ObjectLiteralExpression","ArrayLiteralExpression"]:["*"],onEditDiagram:async(e,t,l)=>{ev(e),ej(t)},edges:eb,diagramNodes:em,setNodes:ev,setEdges:ej,setNodeData:ea,nodeData:ec,style:{position:"absolute",top:"0px",left:"0px"},hideBaseComponents:v,customComponents:ef,onAddNode:(e,t,l)=>ez("add-node",{node:e,newEdge:t,initialData:l})}):(0,o.jsx)(o.Fragment,{}),disableDots:a,disableMiniMap:H,theme:B,children:[T,E?(0,o.jsx)(r.s_,{position:"top-center",children:(0,o.jsx)(id,{getFirstNode:eP,layout:eN,onSave:eW,onReload:f?eH:null,onShowCode:s||null,hasChanges:ew})}):null]}):(0,o.jsx)(o.Fragment,{})})},iV=e=>{let t=(0,n.useMemo)(p,[]);return(0,o.jsx)(u.Provider,{value:t,children:(0,o.jsx)(iG,{children:(0,o.jsx)(iK,{...e})})})},iG=e=>{let{children:t}=e,[l,i]=(0,l_.U)();return(0,o.jsx)(lK.G,{onChangeTheme:e=>{i(e)},children:(0,o.jsx)(lV.z,{disableRootThemeClass:!0,defaultTheme:l,children:t})})};var iU=e=>{let t=(0,lO.Ic)(iV,{topics:[e.flowId+"/play",e.flowId+"/ui","savenodes"]});return e.path&&(e.path.endsWith(".json")?e.mode="json":(e.path.endsWith("yml")||e.path.endsWith("yaml"))&&(e.mode="yaml")),(0,o.jsx)(lO.US,{children:(0,o.jsx)(t,{...e})})};let iq=e=>(0,lO.Ic)(iV,{topics:[e+"/play",e+"/ui","savenodes"]})},56699:function(){},68379:function(){},68382:function(){},78867:function(){},21212:function(){},89854:function(){},25800:function(){},93037:function(){},26996:function(){}}]);