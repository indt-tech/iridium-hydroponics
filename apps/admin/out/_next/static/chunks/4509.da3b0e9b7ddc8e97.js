"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4509],{64509:function(t,e,r){e.Ic=e.US=void 0;var n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var i=n?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=t[u]}return r.default=t,e&&e.set(t,r),r}(r(2784));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function u(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}let a=(0,n.createContext)({}),c=()=>{},s=()=>Math.random().toString(36).substr(2,9),l=(t,e,r={})=>e?t[e]:t||r,p=(t,e=c,r={})=>t.reduce((t,r)=>i({},t,{[r]:e(t,r)}),r),f=({data:t,topics:e,subs:r,callback:n=c})=>p(e,(t,e)=>i({},l(t,e),{[r[e]]:t=>n(e,t)}),l(t)),b=({data:t,topics:e,subs:r})=>p(e,(t,e)=>(function(t,e){if(null==t)return{};var r,n,o={},u=Object.keys(t);for(n=0;n<u.length;n++)r=u[n],e.indexOf(r)>=0||(o[r]=t[r]);return o})(l(t,e),[r[e]].map(u)),l(t)),d=({data:t,topic:e})=>{let r=l(t,e);return r?Object.values(r):(console.error(`[TOPICS] The "${e}" topic does not exist.`),[])},v=(0,n.memo)(t=>{let{componentProps:e,component:r,options:{topics:o=[]},topics:{_subscribe:u,_unsubscribe:a,publish:c}}=t,[s,l]=(0,n.useState)(p(o,()=>({})));return(0,n.useEffect)(()=>{if(0===o.length)return;let t=u(o,(t,e)=>l(r=>i({},r,{[t]:i({},r[t],e)})));return()=>a(t,o)},[]),r(i({},e,{topics:{data:s,publish:c}}))});e.US=t=>{let[e,r]=(0,n.useState)({});return n.default.createElement(a.Provider,{value:{topics:{_subscribe:(t,e)=>{let n=p(t,()=>s());return r(r=>f({data:r,topics:t,subs:n,callback:e})),n},_unsubscribe:(t,e)=>{r(r=>b({data:r,topics:e,subs:t}))},publish:(t,r={})=>{d({data:e,topic:t}).forEach(t=>t(r))}}}},t.children)},e.Ic=(t,e={})=>r=>n.default.createElement(a.Consumer,null,o=>n.default.createElement(v,i({options:e,component:t,componentProps:r},o)))}}]);