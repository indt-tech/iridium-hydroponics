(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2029],{48313:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=48313,e.exports=t},39288:function(e,t,i){"use strict";i.d(t,{W:function(){return eC},B:function(){return ej}});var l=i(52322),a=i(25237),n=i.n(a),r=i(72405);let o=n()(()=>i.e(9831).then(i.bind(i,99831)),{loadableGenerated:{webpack:()=>[99831]}}),d=n()(()=>i.e(2522).then(i.bind(i,22522)),{loadableGenerated:{webpack:()=>[22522]}}),s=n()(()=>i.e(4110).then(i.bind(i,54110)),{loadableGenerated:{webpack:()=>[54110]}});n()(()=>i.e(9786).then(i.bind(i,49786)),{loadableGenerated:{webpack:()=>[49786]}});let u=n()(()=>i.e(3179).then(i.bind(i,43179)),{loadableGenerated:{webpack:()=>[43179]}}),c=n()(()=>i.e(7256).then(i.bind(i,47256)),{loadableGenerated:{webpack:()=>[47256]}}),p=n()(()=>i.e(3393).then(i.bind(i,73393)),{loadableGenerated:{webpack:()=>[73393]}}),h=n()(()=>i.e(6687).then(i.bind(i,96687)),{loadableGenerated:{webpack:()=>[96687]}}),g=n()(()=>i.e(4838).then(i.bind(i,24838)),{loadableGenerated:{webpack:()=>[24838]}}),f=n()(()=>i.e(1342).then(i.bind(i,81342)),{loadableGenerated:{webpack:()=>[81342]}}),m=n()(()=>i.e(612).then(i.bind(i,90612)),{loadableGenerated:{webpack:()=>[90612]}}),v=n()(()=>i.e(5385).then(i.bind(i,65385)),{loadableGenerated:{webpack:()=>[65385]}});n()(()=>i.e(2973).then(i.bind(i,42973)),{loadableGenerated:{webpack:()=>[42973]}}),n()(()=>i.e(2633).then(i.bind(i,92633)),{loadableGenerated:{webpack:()=>[92633]}});let x=n()(()=>i.e(3699).then(i.bind(i,13699)),{loadableGenerated:{webpack:()=>[13699]}}),y=n()(()=>i.e(3737).then(i.bind(i,53737)),{loadableGenerated:{webpack:()=>[53737]}}),b=n()(()=>i.e(3681).then(i.bind(i,43681)),{loadableGenerated:{webpack:()=>[43681]}}),j=n()(()=>i.e(8491).then(i.bind(i,28491)),{loadableGenerated:{webpack:()=>[28491]}}),C=n()(()=>i.e(7334).then(i.bind(i,47334)),{loadableGenerated:{webpack:()=>[47334]}}),w=n()(()=>i.e(1587).then(i.bind(i,21587)),{loadableGenerated:{webpack:()=>[21587]}}),k=n()(()=>i.e(7763).then(i.bind(i,37763)),{loadableGenerated:{webpack:()=>[37763]}}),L=n()(()=>i.e(8546).then(i.bind(i,58546)),{loadableGenerated:{webpack:()=>[58546]}}),S=[{id:"esp32dev",type:"ArrayLiteralExpression",check:(e,t)=>"ArrayLiteralExpression"==e.type&&'"esp32dev"'==t["element-1"],getComponent:(e,t,i)=>(0,l.jsx)(d,{color:_("esp32dev"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:'"esp32dev"'}),hidden:!0,nonDeletable:!0},{id:"Wifi",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("wifi"))},getComponent:(e,t,i)=>(0,l.jsx)(o,{color:_("Wifi"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"wifi","param-1":{value:"SSID",kind:"StringLiteral"},"param-2":{value:"PASSWORD",kind:"StringLiteral"},"param-3":{value:"none",kind:"StringLiteral"}})},{id:"Mqtt",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("mqtt"))},getComponent:(e,t,i)=>(0,l.jsx)(s,{color:_("Mqtt"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"mqtt","param-1":{value:"BROKERADDRESS",kind:"StringLiteral"},"param-2":{value:"1883",kind:"StringLiteral"}})},{id:"Relay",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("relay"))},getComponent:(e,t,i)=>(0,l.jsx)(p,{color:_("Relay"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"relay","param-1":{value:"",kind:"StringLiteral"},"param-2":'"ALWAYS_OFF"'})},{id:"GPIOSwitch",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("GPIOSwitch"))},getComponent:(e,t,i)=>(0,l.jsx)(h,{color:_("GPIOSwitch"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"GPIOSwitch","param-1":{value:"",kind:"StringLiteral"},"param-2":{value:"ALWAYS_OFF",kind:"StringLiteral"}})},{id:"BinarySensor",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("binarySensor"))},getComponent:(e,t,i)=>(0,l.jsx)(u,{color:_("BinarySensor"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"binarySensor","param-1":{value:"",kind:"StringLiteral"}})},{id:"NeopixelsBus",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("neopixelsBus"))},getComponent:(e,t,i)=>(0,l.jsx)(c,{color:_("NeopixelsBus"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"neopixelsBus","param-1":{value:"",kind:"StringLiteral"},"param-2":{value:"16",kind:"StringLiteral"},"param-3":{value:"GRB",kind:"StringLiteral"},"param-4":{value:"WS2811",kind:"StringLiteral"},"param-5":{value:"ALWAYS_ON",kind:"StringLiteral"},"param-6":{value:"1s",kind:"StringLiteral"},"param-7":{value:"0",kind:"StringLiteral"},"param-8":{value:!1,kind:"FalseKeyword"},"param-9":{value:!1,kind:"FalseKeyword"},"param-10":{value:!1,kind:"FalseKeyword"},"param-11":{value:!1,kind:"FalseKeyword"},"param-12":{value:!1,kind:"FalseKeyword"},"param-13":{value:!1,kind:"FalseKeyword"},"param-14":{value:!1,kind:"FalseKeyword"},"param-15":{value:!1,kind:"FalseKeyword"},"param-16":{value:!1,kind:"FalseKeyword"},"param-17":{value:!1,kind:"FalseKeyword"},"param-18":{value:!1,kind:"FalseKeyword"}})},{id:"ADCSensor",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("adcSensor"))},getComponent:(e,t,i)=>(0,l.jsx)(g,{color:_("ADCSensor"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"adcSensor","param-1":{value:"analogic",kind:"StringLiteral"},"param-2":{value:"30s",kind:"StringLiteral"},"param-3":{value:"auto",kind:"StringLiteral"}})},{id:"I2cBus",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("i2cBus"))},getComponent:(e,t,i)=>(0,l.jsx)(f,{color:_("I2cBus"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"i2cBus","param-1":{value:"",kind:"StringLiteral"},"param-2":{value:"22",kind:"StringLiteral"},"param-3":{value:!0,kind:"FalseKeyword"}})},{id:"UARTBus",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("uartBus"))},getComponent:(e,t,i)=>(0,l.jsx)(C,{color:_("UARTBus"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"uartBus","param-1":{value:"",kind:"StringLiteral"},"param-2":{value:"17",kind:"StringLiteral"},"param-3":{value:"9600",kind:"StringLiteral"}})},{id:"PCA9685",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("pca9685"))},getComponent:(e,t,i)=>(0,l.jsx)(m,{color:_("PCA9685"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"pca9685","param-1":{value:"",kind:"StringLiteral"},"param-2":{value:"1000",kind:"StringLiteral"},"param-3":{value:!1,kind:"FalseKeyword"},"param-4":{value:"0x40",kind:"StringLiteral"},"param-5":{value:"",kind:"StringLiteral"}})},{id:"Ethernet",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("ethernet"))},getComponent:(e,t,i)=>(0,l.jsx)(v,{color:_("Ethernet"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"ethernet","param-1":{value:"LAN8720",kind:"StringLiteral"},"param-2":{value:23,kind:"NumericLiteral"},"param-3":{value:18,kind:"NumericLiteral"},"param-4":{value:"GPIO17_OUT",kind:"StringLiteral"},"param-5":{value:0,kind:"NumericLiteral"},"param-6":{value:12,kind:"NumericLiteral"}})},{id:"TempHumidity",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("tempHumidity"))},getComponent:(e,t,i)=>(0,l.jsx)(x,{color:_("TempHumidity"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"tempHumidity","param-1":{value:"temperaturehumidity",kind:"StringLiteral"},"param-2":{value:"DHT22",kind:"StringLiteral"},"param-3":{value:"60s",kind:"StringLiteral"}})},{id:"MicrofirePhEcTemp",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("microfirePhEcTemp"))},getComponent:(e,t,i)=>(0,l.jsx)(y,{color:_("MicrofirePhEcTemp"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"microfirePhEcTemp","param-1":{value:"phectemp",kind:"StringLiteral"},"param-2":{value:22,kind:"NumericLiteral"},"param-3":{value:"60s",kind:"StringLiteral"}})},{id:"HX711",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("hx711"))},getComponent:(e,t,i)=>(0,l.jsx)(k,{color:_("HX711"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"hx711","param-1":{value:"",kind:"StringLiteral"},"param-2":{value:"",kind:"StringLiteral"},"param-3":{value:"128",kind:"StringLiteral"},"param-4":{value:"60s",kind:"StringLiteral"}})},{id:"A4988",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("a4988"))},getComponent:(e,t,i)=>(0,l.jsx)(L,{color:_("A4988"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"a4988","param-1":"","param-2":"","param-3":"250 steps/s","param-4":"none","param-5":"inf","param-6":"inf"})},{id:"MPU6050",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("mpu6050"))},getComponent:(e,t,i)=>(0,l.jsx)(w,{color:_("MPU6050"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"mpu6050","param-1":{value:"",kind:"StringLiteral"},"param-2":{value:"",kind:"StringLiteral"},"param-3":{value:"0x68",kind:"StringLiteral"},"param-4":{value:"30s",kind:"StringLiteral"}})},{id:"SEN55",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("sen55"))},getComponent:(e,t,i)=>(0,l.jsx)(b,{color:_("SEN55"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"sen55","param-1":{value:"",kind:"StringLiteral"},"param-2":{value:"",kind:"StringLiteral"},"param-3":{value:"0x69",kind:"StringLiteral"},"param-4":{value:"30s",kind:"StringLiteral"}})},{id:"MHZ19",type:"CallExpression",check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("mhz19"))},getComponent:(e,t,i)=>(0,l.jsx)(j,{color:_("MHZ19"),node:e,nodeData:t,children:i}),getInitialData:()=>({to:"mhz19","param-1":{value:"",kind:"StringLiteral"},"param-2":{value:"",kind:"StringLiteral"},"param-3":{value:"30s",kind:"StringLiteral"}})}],P=S.length,_=e=>{let t=S.findIndex(t=>t.id==e),i=(0,r.o9)(t,P);return i};var D=S.map(e=>({...e,capabilities:["esphome"]})),E=JSON.parse('[{"id":"BigTitle","title":"BigTitle","path":"*","type":"JsxElement","filter":{"name":"BigTitle"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]}]},{"id":"ButtonSimple","title":"ButtonSimple","path":"*","type":"JsxElement","filter":{"name":"ButtonSimple"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"theme","field":"prop-theme","staticLabel":true,"type":"color-theme","section":"layout"},{"label":"textColor","field":"prop-textColor","staticLabel":true,"type":"color","section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"size","field":"prop-size","staticLabel":true,"type":"range-theme","section":"dimensions"},{"label":"circular","field":"prop-circular","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"chromeless","field":"prop-chromeless","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"prop","data":[{"label":"onPress","field":"prop-onPress","staticLabel":true}]}]},{"id":"Container","title":"Container","path":"*","type":"JsxElement","filter":{"name":"Container"},"body":[{"type":"custom-field","data":[{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"flexDirection","field":"prop-flexDirection","type":"alignment-flex","staticLabel":true,"section":"layout"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"custom-field","data":[]},{"type":"child","data":[]}]},{"id":"Center","title":"Center","path":"*","type":"JsxElement","filter":{"name":"Center"},"body":[{"type":"custom-field","data":[{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"flexDirection","field":"prop-flexDirection","type":"alignment-flex","staticLabel":true,"section":"layout"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"custom-field","data":[]},{"type":"child","data":[]}]},{"id":"Image","title":"Image","path":"*","type":"JsxElement","filter":{"name":"Image"},"body":[{"type":"api","data":{"label":"url","field":"prop-url","apiUrl":"adminapi/v1/files//apps/next/public","list":"return res.isDir ? undefined : res.name"}},{"type":"link","data":{"text":"Need to upload a file?","url":"admin/files?path=/apps/next/public"}},{"type":"custom-field","data":[{"label":"resizeMode","field":"prop-resizeMode","staticLabel":true,"type":"select","data":["center","contain","cover","repeat","stretch"],"section":"dimensions"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"opacity","field":"prop-opacity","staticLabel":true,"type":"range","data":{"max":1,"step":0.1},"section":"decoration"}]}]},{"id":"VStack","title":"VStack","path":"*","type":"JsxElement","filter":{"name":"VStack"},"body":[{"type":"custom-field","data":[{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"VCenterStack","title":"VCenterStack","path":"*","type":"JsxElement","filter":{"name":"VCenterStack"},"body":[{"type":"custom-field","data":[{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"HCenterStack","title":"HCenterStack","path":"*","type":"JsxElement","filter":{"name":"HCenterStack"},"body":[{"type":"custom-field","data":[{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"HStack","title":"HStack","path":"*","type":"JsxElement","filter":{"name":"HStack"},"body":[{"type":"custom-field","data":[{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"Spacer","title":"Spacer","path":"*","type":"JsxElement","filter":{"name":"Spacer"},"body":[{"type":"custom-field","data":[{"label":"size","field":"prop-size","staticLabel":true,"type":"range-theme","section":"layout"}]},{"type":"child","data":[],"disableAdd":true}]},{"id":"Page","title":"Page","path":"*","type":"JsxElement","filter":{"name":"Page"},"body":[{"type":"custom-field","data":[{"label":"title","field":"prop-title","staticLabel":true,"type":"input","section":"basic"},{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"basic"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"Head1","title":"Head1","path":"*","type":"JsxElement","filter":{"name":"Head1"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"Head2","title":"Head2","path":"*","type":"JsxElement","filter":{"name":"Head2"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"Head3","title":"Head3","path":"*","type":"JsxElement","filter":{"name":"Head3"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"Text","title":"Text","path":"*","type":"JsxElement","filter":{"name":"Text"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontSize","field":"prop-fontSize","staticLabel":true,"type":"range-theme","section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"RainbowText","title":"RainbowText","path":"*","type":"JsxElement","filter":{"name":"RainbowText"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"BlockTitle","title":"BlockTitle","path":"*","type":"JsxElement","filter":{"name":"BlockTitle"},"body":[{"type":"custom-field","data":[{"label":"title","field":"prop-title","staticLabel":true,"type":"input","section":"basic"},{"label":"subtitle","field":"prop-subtitle","staticLabel":true,"type":"input","section":"basic"},{"label":"titleColor","field":"prop-titleColor","type":"color","staticLabel":true,"section":"basic"},{"label":"subtitleColor","field":"prop-subtitleColor","type":"color","staticLabel":true,"section":"basic"},{"label":"space","field":"prop-space","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"flexDirection","field":"prop-flexDirection","type":"alignment-flex","staticLabel":true,"section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"DefaultLayout","title":"DefaultLayout","path":"*","type":"JsxElement","filter":{"name":"DefaultLayout"},"body":[{"type":"custom-field","data":[{"label":"headerTitle","field":"prop-headerTitle","staticLabel":true,"type":"input","section":"basic"},{"label":"title","field":"prop-title","staticLabel":true,"type":"input","section":"basic"},{"label":"description","field":"prop-description","staticLabel":true,"type":"input","section":"basic"},{"label":"tintSwitcher","field":"prop-tintSwitcher","staticLabel":true,"type":"toggle-boolean","section":"conf"},{"label":"themeSwitcher","field":"prop-themeSwitcher","staticLabel":true,"type":"toggle-boolean","section":"conf"}]},{"type":"child","data":[]}]},{"id":"MainButton","title":"MainButton","path":"*","type":"JsxElement","filter":{"name":"MainButton"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"margin","field":"prop-margin"},{"label":"padding","field":"prop-padding"}]},{"type":"prop","data":[{"label":"color","field":"prop-color","static":true,"type":"colorPicker"},{"label":"textColor","field":"prop-textColor","static":true,"type":"colorPicker"}]}]},{"id":"GithubIcon","title":"GithubIcon","path":"*","type":"JsxElement","filter":{"name":"GithubIcon"},"body":[{"type":"custom-field","data":[{"label":"color","field":"prop-color","staticLabel":true,"type":"color"},{"label":"height","field":"prop-height","type":"range-px","staticLabel":true},{"label":"width","field":"prop-width","type":"range-px","staticLabel":true}]},{"type":"child","data":[]}]},{"id":"DiscordIcon","title":"DiscordIcon","path":"*","type":"JsxElement","filter":{"name":"DiscordIcon"},"body":[{"type":"custom-field","data":[{"label":"color","field":"prop-color","staticLabel":true,"type":"color"},{"label":"height","field":"prop-height","type":"range-px","staticLabel":true},{"label":"width","field":"prop-width","type":"range-px","staticLabel":true}]},{"type":"child","data":[]}]},{"id":"TwitterIcon","title":"TwitterIcon","path":"*","type":"JsxElement","filter":{"name":"TwitterIcon"},"body":[{"type":"custom-field","data":[{"label":"color","field":"prop-color","staticLabel":true,"type":"color"},{"label":"height","field":"prop-height","type":"range-px","staticLabel":true},{"label":"width","field":"prop-width","type":"range-px","staticLabel":true}]},{"type":"child","data":[]}]}]'),N=[],Z=i(90530),T=i(27145);let I=e=>{let{node:t={},nodeData:i={},children:a}=e;return(0,l.jsx)(Z.Node,{icon:T.Z,node:t,isPreview:!t.id,title:"Api Response",color:"#FFDF82",id:t.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:(0,l.jsx)(Z.NodeParams,{id:t.id,params:[{label:"Response text",field:"param-1",type:"input",static:!0}]})})};var z=i(48115),O=i(29114),F={id:"CloudApi",type:"CallExpression",category:"api",keywords:["api","rest","http","trigger","automation"],check:(e,t)=>{var i=(0,Z.getFieldValue)("param-2",t);return"CallExpression"==e.type&&t["param-2"]&&((null==i?void 0:i.startsWith("async (req,res) =>"))||(null==i?void 0:i.startsWith("(req,res) =>")))&&("app.get"==t.to||"app.post"==t.to)},getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.jsxs)(Z.Node,{icon:O.Z,node:e,isPreview:!(null==e?void 0:e.id),title:"Api Endpoint",id:e.id,color:"#A5D6A7",skipCustom:!0,children:[(0,l.jsx)(Z.NodeParams,{id:e.id,params:[{label:"Type",field:"to",type:"select",data:["app.get","app.post"],static:!0}]}),(0,l.jsx)(Z.NodeParams,{id:e.id,params:[{label:"Path",field:"param-1",type:"input"}]}),(0,l.jsxs)("div",{style:{paddingBottom:"30px"},children:[(0,l.jsx)(Z.FlowPort,{id:e.id,type:"input",label:"On Request (req, res)",style:{top:"170px"},handleId:"request"}),(0,l.jsx)(Z.FallbackPort,{node:e,port:"param-2",type:"target",fallbackPort:"request",portType:"_",preText:"async (req, res) => ",postText:""})]}),t&&"app.get"==t.to&&(0,l.jsx)(Z.Button,{label:"Make request",onPress:()=>{var e;z.bl.get(null===(e=t["param-1"])||void 0===e?void 0:e.value)}})]})},filterChildren:(0,Z.filterCallback)("-2"),restoreChildren:(0,Z.restoreCallback)("-2"),getInitialData:()=>({to:"app.get","param-1":{value:"/api/v1/",kind:"StringLiteral"},"param-2":{value:"async (req,res) =>",kind:"Identifier"}})},W=i(64346);let H=e=>{let{node:t={},nodeData:i={},children:a}=e;return(0,l.jsx)(Z.Node,{icon:W.Z,node:t,isPreview:!t.id,title:"Logger",color:"#82d0ff",id:t.id,skipCustom:!0,children:(0,l.jsx)(Z.NodeParams,{id:t.id,params:[{label:"Level",static:!0,field:"to",type:"select",data:["logger.trace","logger.debug","logger.info","logger.warn","logger.error","logger.fatal"]},{label:"Message",field:"param-2"},{label:"Data",field:"param-1"}]})})};var B={id:"Automation",type:"CallExpression",check:(e,t)=>{var i=(0,Z.getFieldValue)("param-2",t);return"CallExpression"==e.type&&"context.automation"==t.to&&t["param-2"]&&((null==i?void 0:i.startsWith("async (params) =>"))||(null==i?void 0:i.startsWith("(params) =>")))},category:"automation",keywords:["automation","trigger"],getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,r.we)(9);return(0,l.jsxs)(Z.Node,{icon:O.Z,node:e,isPreview:!(null==e?void 0:e.id),title:"Automation",id:e.id,color:i,skipCustom:!0,children:[(0,l.jsx)(Z.NodeParams,{id:e.id,params:[{label:"Name",static:!0,field:"param-3",type:"input"}]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(Z.FlowPort,{id:e.id,type:"input",label:"On run (params)",style:{top:"130px"},handleId:"request"}),(0,l.jsx)(Z.FallbackPort,{node:e,port:"param-2",type:"target",fallbackPort:"request",portType:"_",preText:"async (params) => ",postText:""})]}),(0,l.jsx)(Z.Button,{style:{marginTop:"60px"},label:"Run",onPress:()=>{z.bl.get("/api/v1/automations/"+(0,Z.getFieldValue)("param-3",t))}})]})},filterChildren:(0,Z.filterCallback)("-2"),restoreChildren:(0,Z.restoreCallback)("-2"),getInitialData:()=>({to:"context.automation","param-1":{value:"app",kind:"StringLiteral"},"param-2":{value:"async (params) =>"},"param-3":{value:"",kind:"StringLiteral"}})},A=i(2784),R=i(14093);class M{async list(){return await z.bl.get("/adminapi/v1/devices")}}var J=i(54283),K=i(30195);let V=K.z.object({name:K.z.string(),label:K.z.string(),description:K.z.string(),endpoint:K.z.string(),connectionType:K.z.string()}),$=K.z.object({name:K.z.string(),label:K.z.string(),description:K.z.string(),endpoint:K.z.string(),connectionType:K.z.string()}),q=K.z.object({name:K.z.string(),type:K.z.string(),config:K.z.object({brokerUrl:K.z.string().optional(),frontendEndpoint:K.z.string().optional(),prefix:K.z.string().optional(),restoreMode:K.z.string().optional()}),actions:K.z.array(V).optional(),monitors:K.z.array($).optional()});class G extends J.J{getName(e){var t,i;return e?null===(t=this.data)||void 0===t?void 0:t.name:null===(i=this.data)||void 0===i?void 0:i.name}getActionByName(e){var t;return null===(t=this.getActions())||void 0===t?void 0:t.find(t=>t.name===e)}getMonitorByName(e){var t;return null===(t=this.getMonitors())||void 0===t?void 0:t.find(t=>t.name===e)}getActions(){var e,t;return null!==(t=null===(e=this.data)||void 0===e?void 0:e.actions)&&void 0!==t?t:[]}getMonitors(){var e,t;return null!==(t=null===(e=this.data)||void 0===e?void 0:e.monitors)&&void 0!==t?t:[]}getActionsNames(e){var t,i;return null!==(i=null===(t=this.getActions())||void 0===t?void 0:t.map(t=>e?t.name:null==t?void 0:t.name))&&void 0!==i?i:[]}getMonitorsNames(e){var t,i;return null!==(i=null===(t=this.getMonitors())||void 0===t?void 0:t.map(t=>e?t.name:null==t?void 0:t.name))&&void 0!==i?i:[]}constructor(e,t){super(e,q,t)}}class U{findByName(e,t){var i;return null===(i=this.items)||void 0===i?void 0:i.find(t=>t.name===e)}getNames(e,t){var i;let l=null===(i=this.items)||void 0===i?void 0:i.reduce((t,i)=>{var l,a;switch(e){case"action":if((null==i?void 0:i.actions)&&(null===(l=i.actions)||void 0===l?void 0:l.length))return t.concat(i.name);return t;case"monitor":if((null==i?void 0:i.monitors)&&(null===(a=i.monitors)||void 0===a?void 0:a.length))return t.concat(i.name);return t;default:return t.concat(i.name)}},[]);return t?null==l?void 0:l.map(e=>e):l}constructor(e,t){this.items=e,this.session=t}}let Y=K.z.object({name:K.z.string(),deviceDefinition:K.z.string(),currentSdk:K.z.string(),subsystem:K.z.array(q)});class X extends J.J{getName(e){var t,i;return e?null===(t=this.data)||void 0===t?void 0:t.name:null===(i=this.data)||void 0===i?void 0:i.name}getSubsystems(){var e;return null===(e=this.data)||void 0===e?void 0:e.subsystem}getSubsystemNames(e,t){var i;let l=new U(this.getSubsystems());return null!==(i=null==l?void 0:l.getNames(e,t))&&void 0!==i?i:[]}constructor(e,t){super(e,Y,t)}}class Q{findByName(e,t){return null===this||void 0===this?void 0:this.items.find(t=>t.name===e)}getNames(e){var t,i;return null!==(i=null===this||void 0===this?void 0:null===(t=this.items)||void 0===t?void 0:t.map(e=>null==e?void 0:e.name))&&void 0!==i?i:[]}getIndexByName(e){var t;return null===this||void 0===this?void 0:null===(t=this.items)||void 0===t?void 0:t.findIndex(t=>t.name===e)}getSubsystemsByDeviceName(e){var t;return null===(t=this.items)||void 0===t?void 0:t.reduce((t,i)=>{let l=new X(i),a=l.getName(e),n=l.getSubsystemNames(null,e);return t[a]=n,t},{})}constructor(e,t){this.items=e,this.session=t}}let ee=new M;var et=i(71338);let ei=new M,el=e=>{var t,i,a;let{node:n={},nodeData:o={},children:d}=e,s=(0,Z.getFieldValue)("param-1",o),u=s?(0,Z.getFieldValue)("param-2",o):"";s&&(0,Z.getFieldValue)("param-3",o);let c=(0,r.we)(7),[p,h]=(0,A.useState)([]),g=async()=>{let{data:e}=await ei.list(),{items:t}=e;h([...t])},f=new Q(p),m=null!==(t=null==f?void 0:f.getNames(!0))&&void 0!==t?t:[],v=f.findByName(s,!0),x=new X(v),y=x.getSubsystems(),b=new U(y),j=null!==(i=x.getSubsystemNames("monitor",!0))&&void 0!==i?i:[],C=b.findByName(u,!0),w=new G(C),k=null!==(a=w.getMonitorsNames(!0))&&void 0!==a?a:[];return(0,A.useEffect)(()=>{g()},[]),(0,l.jsxs)(Z.Node,{icon:et.Z,node:n,isPreview:!n.id,title:"Device Monitor",color:c,id:n.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,l.jsx)(Z.NodeParams,{id:n.id,params:[{label:"Device name",field:"param1",type:"select",static:!0,data:m}]}),(null==j?void 0:j.length)?(0,l.jsx)(Z.NodeParams,{id:n.id,params:[{label:"Component",field:"param2",type:"select",static:!0,data:j}]}):null,(null==k?void 0:k.length)?(0,l.jsx)(Z.NodeParams,{id:n.id,params:[{label:"Monitor",field:"param3",type:"select",static:!0,data:k}]}):null]})},ea=[B,F,{id:"Fetch",type:"CallExpression",check:(e,t)=>"CallExpression"==e.type&&"context.fetch"==t.to,getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.jsxs)(Z.Node,{icon:O.Z,node:e,isPreview:!(null==e?void 0:e.id),title:"Fetch",id:e.id,color:"#A5D6A7",skipCustom:!0,children:[(0,l.jsx)(Z.NodeParams,{id:e.id,params:[{label:"Method",field:"param-1",type:"select",data:["get","post"],static:!0}]}),(0,l.jsx)(Z.NodeParams,{id:e.id,params:[{label:"Path",field:"param-2",type:"input"}]}),'"post"'==t["param-1"]&&(0,l.jsx)(Z.NodeParams,{id:e.id,params:[{label:"Body",field:"param-5",type:"input"}]}),(0,l.jsx)(Z.NodeParams,{id:e.id,params:[{label:"Data Key",field:"param-3",type:"input"}]}),(0,l.jsx)(Z.NodeParams,{id:e.id,params:[{label:"Use admin token",field:"param-4",type:"boolean"}]})]})},category:"api",keywords:["api","rest","http","automation","fetch","get","post"],getInitialData:()=>({to:"context.fetch","param-1":{value:"get",kind:"StringLiteral"},"param-2":{value:"/api/v1/",kind:"StringLiteral"},"param-3":{value:"",kind:"StringLiteral"},"param-4":{value:!1,kind:"FalseKeyword","param-5":{value:"",kind:"StringLiteral"},await:!0}})},{id:"logger",type:"CallExpression",category:"common",keywords:["logger","log","console","debug"],check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("logger."))},getComponent:(e,t,i)=>(0,l.jsx)(H,{node:e,nodeData:t,children:i}),getInitialData:()=>({to:"logger.info","param-1":{value:"{}",kind:"Identifier"},"param-2":{value:"message",kind:"StringLiteral"}})},{id:"res.send",type:"CallExpression",category:"api",keywords:["api","rest","http","trigger","automation","response"],check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("res.send"))},getComponent:(e,t,i)=>(0,l.jsx)(I,{node:e,nodeData:t,children:i}),getInitialData:()=>({to:"res.send","param-1":{value:"Response",kind:"StringLiteral"}})},{id:"DeviceAction",type:"CallExpression",check:(e,t)=>"CallExpression"==e.type&&"context.deviceAction"==t.to,category:"ioT",keywords:["action","automation","esp32","device","iot"],getComponent:function(){var e,t,i,a;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=(0,Z.getFieldValue)("param-1",o),s=d?(0,Z.getFieldValue)("param-2",o):"",u=d?(0,Z.getFieldValue)("param-3",o):"",[c,p]=(0,A.useState)([]),h=(0,r.we)(6),g=async()=>{let{data:e}=await ee.list(),{items:t}=e;p([...t])},f=new Q(c),m=null!==(t=null==f?void 0:f.getNames(!0))&&void 0!==t?t:[],v=f.findByName(d,!0),x=new X(v),y=x.getSubsystems(),b=new U(y),j=null!==(i=x.getSubsystemNames("action",!0))&&void 0!==i?i:[],C=b.findByName(s,!0),w=new G(C),k=null!==(a=w.getActionsNames(!0))&&void 0!==a?a:[],L=w.getActionByName(u),S=null==L?void 0:null===(e=L.payload)||void 0===e?void 0:e.value;return(0,A.useEffect)(()=>{g()},[]),(0,l.jsxs)(Z.Node,{icon:R.Z,node:n,isPreview:!n.id,title:"Device Action",color:h,id:n.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,l.jsx)(Z.NodeParams,{id:n.id,params:[{label:"Device name",field:"param-1",type:"select",static:!0,data:m}]}),(null==j?void 0:j.length)?(0,l.jsx)(Z.NodeParams,{id:n.id,params:[{label:"Component",field:"param-2",type:"select",static:!0,data:j}]}):null,(null==k?void 0:k.length)?(0,l.jsx)(Z.NodeParams,{id:n.id,params:[{label:"Action",field:"param-3",type:"select",static:!0,data:k}]}):null,!S&&u?(0,l.jsx)(Z.NodeParams,{id:n.id,params:[{label:"Action payload",field:"param-4",type:"input",static:!0}]}):null]})},getInitialData:()=>({to:"context.deviceAction","param-1":{value:"",kind:"StringLiteral"},"param-2":{value:"",kind:"StringLiteral"},"param-3":{value:"",kind:"StringLiteral"},"param-4":void 0,await:{value:!0,kind:"FalseKeyword"}})},{id:"DeviceMonitor",type:"CallExpression",category:"ioT",keywords:["automation","esp32","device","iot","trigger"],check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("context.deviceMonitor"))},getComponent:(e,t,i)=>(0,l.jsx)(el,{node:e,nodeData:t,children:i}),getInitialData:()=>({to:"context.deviceMonitor",param1:"",param2:"",param3:"",await:!0})}],en=new M,er=e=>{var t,i,a;let{node:n={},nodeData:o={},children:d}=e,s=(0,r.we)(7),[u,c]=(0,A.useState)([]),p=o["param-1"],h=o["param-2"],g=o["param-3"],f=async()=>{let{data:e}=await en.list(),{items:t}=e;c([...t])},m=new Q(u),v=null!==(t=null==m?void 0:m.getNames(!0))&&void 0!==t?t:[],x=m.findByName(p,!0),y=new X(x),b=y.getSubsystems(),j=new U(b),C=null!==(i=y.getSubsystemNames("monitor",!0))&&void 0!==i?i:[],w=j.findByName(h,!0),k=new G(w),L=null!==(a=k.getMonitorsNames(!0))&&void 0!==a?a:[];return(0,A.useEffect)(()=>{f()},[]),(0,l.jsxs)(Z.Node,{icon:et.Z,node:n,isPreview:!n.id,title:"Device Subscribe",color:s,id:n.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,l.jsx)(Z.NodeParams,{id:n.id,params:[{label:"Device name",field:"param1",type:"select",static:!0,data:v}]}),(null==C?void 0:C.length)?(0,l.jsx)(Z.NodeParams,{id:n.id,params:[{label:"Component",field:"param2",type:"select",static:!0,data:C}]}):null,(null==L?void 0:L.length)?(0,l.jsx)(Z.NodeParams,{id:n.id,params:[{label:"Monitor",field:"param3",type:"select",static:!0,data:L}]}):null,p&&h&&g?(0,l.jsxs)("div",{style:{marginTop:"35px"},children:[(0,l.jsx)(Z.FlowPort,{id:n.id,type:"output",label:"On (message, topic)",style:{top:"225px"},handleId:"request"}),(0,l.jsx)(Z.FallbackPort,{node:n,port:"param4",type:"target",fallbackPort:"request",portType:"_",preText:"(message,topic) => ",postText:""})]}):null]})};var eo={api:[{id:"deviceSub",type:"CallExpression",category:"ioT",keywords:["automation","esp32","device","iot","trigger"],check:(e,t)=>{var i;return"CallExpression"==e.type&&(null===(i=t.to)||void 0===i?void 0:i.startsWith("context.deviceSub"))},getComponent:(e,t,i)=>(0,l.jsx)(er,{node:e,nodeData:t,children:i}),filterChildren:(0,Z.filterCallback)("4"),restoreChildren:(0,Z.restoreCallback)("4"),getInitialData:()=>({to:"context.deviceSub","param-1":"","param-2":"","param-3":"","param-4":"(message,topic) =>"})}]},ed=i(69786);let es=e=>{let{node:t={},nodeData:i={},children:a}=e,n=(0,r.we)(55);return(0,l.jsxs)(Z.Node,{icon:ed.Z,node:t,isPreview:!t.id,title:"Timer",color:n,id:t.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,l.jsx)(Z.NodeParams,{id:t.id,params:[{label:"Wait time (ms)",field:"param-2",type:"input"}]}),(0,l.jsxs)("div",{style:{paddingBottom:"80px"},children:[(0,l.jsx)(Z.FlowPort,{id:t.id,type:"input",label:"On Timer",style:{top:"140px"},handleId:"request"}),(0,l.jsx)(Z.FallbackPort,{node:t,port:"param-1",type:"target",fallbackPort:"request",portType:"_",preText:"() => ",postText:""})]})]})};var eu={id:"setTimeoutMask",type:"CallExpression",category:"timers",keywords:["timers","event","trigger","setTimeout","timer","wait","sleep"],check:(e,t)=>{var i,l;return"CallExpression"==e.type&&"setTimeout"==t.to&&((null===(i=t["param-1"])||void 0===i?void 0:i.startsWith("async () =>"))||(null===(l=t["param-1"])||void 0===l?void 0:l.startsWith("() =>")))},getComponent:(e,t,i)=>(0,l.jsx)(es,{node:e,nodeData:t,children:i}),getInitialData:()=>({to:"setTimeout","param-1":{value:"() =>",kind:"Identifier"},"param-2":{value:1e3,kind:"NumericLiteral"}}),filterChildren:(0,Z.filterCallback)("1"),restoreChildren:(0,Z.restoreCallback)("1")};let ec=e=>{let{node:t={},nodeData:i={},children:a}=e,n=(0,r.we)(55);return(0,l.jsxs)(Z.Node,{icon:ed.Z,node:t,isPreview:!t.id,title:"Interval timer",color:n,id:t.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,l.jsx)(Z.NodeParams,{id:t.id,params:[{label:"Interval time (ms)",field:"param-2",type:"input"}]}),(0,l.jsxs)("div",{style:{paddingBottom:"80px"},children:[(0,l.jsx)(Z.FlowPort,{id:t.id,type:"input",label:"On Timer",style:{top:"140px"},handleId:"request"}),(0,l.jsx)(Z.FallbackPort,{node:t,port:"param-1",type:"target",fallbackPort:"request",portType:"_",preText:"() => ",postText:""})]})]})};var ep={api:[eu,{id:"setIntervalMask",type:"CallExpression",category:"timers",keywords:["timers","event","trigger","setInterval","timer","wait","sleep"],check:(e,t)=>{var i,l;return"CallExpression"==e.type&&"setInterval"==t.to&&((null===(i=t["param-1"])||void 0===i?void 0:i.startsWith("async () =>"))||(null===(l=t["param-1"])||void 0===l?void 0:l.startsWith("() =>")))},getComponent:(e,t,i)=>(0,l.jsx)(ec,{node:e,nodeData:t,children:i}),getInitialData:()=>({to:"setInterval","param-1":{value:"() =>",kind:"Identifier"},"param-2":{value:1e3,kind:"NumericLiteral"}}),filterChildren:(0,Z.filterCallback)("1"),restoreChildren:(0,Z.restoreCallback)("1")}]};let eh=e=>{let{node:t={},nodeData:i={},children:a}=e,n=(0,r.we)(55);return(0,l.jsxs)(Z.Node,{icon:et.Z,node:t,isPreview:!t.id,title:"On Event",color:n,id:t.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,l.jsx)(Z.NodeParams,{id:t.id,params:[{label:"Event Path",field:"param-3",type:"input"}]}),(0,l.jsx)(Z.NodeParams,{id:t.id,params:[{label:"From",field:"param-4",type:"input"}]}),(0,l.jsxs)("div",{style:{paddingBottom:"30px"},children:[(0,l.jsx)(Z.FlowPort,{id:t.id,type:"input",label:"On Event (event)",style:{top:"170px"},handleId:"request"}),(0,l.jsx)(Z.FallbackPort,{node:t,port:"param-2",type:"target",fallbackPort:"request",portType:"_",preText:"async (event) => ",postText:""})]})]})};var eg={id:"onEventMask",type:"CallExpression",category:"automation",keywords:["automation","event","trigger"],check:(e,t)=>{var i,l;return"CallExpression"==e.type&&"context.onEvent"==t.to&&((null===(i=(0,Z.getFieldValue)("param-2",t))||void 0===i?void 0:i.startsWith("(event) =>"))||(null===(l=(0,Z.getFieldValue)("param-2",t))||void 0===l?void 0:l.startsWith("async (event) =>")))&&"device"!=(0,Z.getFieldValue)("param-4",t)},getComponent:(e,t,i)=>(0,l.jsx)(eh,{node:e,nodeData:t,children:i}),getInitialData:()=>({to:"context.onEvent","param-1":{value:"context",kind:"Identifier"},"param-2":{value:"async (event) =>",kind:"Identifier"},"param-3":{value:"",kind:"StringLiteral"},"param-4":{value:"",kind:"StringLiteral"}}),filterChildren:(0,Z.filterCallback)("-2"),restoreChildren:(0,Z.restoreCallback)("-2")};let ef=e=>{let{node:t={},nodeData:i={},children:a}=e,n=(0,r.we)(45);return(0,l.jsxs)(Z.Node,{icon:et.Z,node:t,isPreview:!t.id,title:"On Device Event",color:n,id:t.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,l.jsx)(Z.NodeParams,{id:t.id,params:[{label:"Event Path",field:"param-3",type:"input"}]}),(0,l.jsx)("div",{style:{height:"20px"}}),(0,l.jsxs)("div",{style:{paddingBottom:"30px"},children:[(0,l.jsx)(Z.FlowPort,{id:t.id,type:"input",label:"On Event (event)",style:{top:"170px"},handleId:"request"}),(0,l.jsx)(Z.FallbackPort,{node:t,port:"param-2",type:"target",fallbackPort:"request",portType:"_",preText:"async (event) => ",postText:""})]}),(0,l.jsx)("div",{style:{height:"50px"}})]})};var em={api:[eg,{id:"onDeviceEventMask",type:"CallExpression",category:"ioT",keywords:["automation","esp32","device","iot","trigger"],check:(e,t)=>{var i,l;return"CallExpression"==e.type&&"context.onEvent"==t.to&&((null===(i=(0,Z.getFieldValue)("param-2",t))||void 0===i?void 0:i.startsWith("(event) =>"))||(null===(l=(0,Z.getFieldValue)("param-2",t))||void 0===l?void 0:l.startsWith("async (event) =>")))&&t["param-4"]&&"device"==(0,Z.getFieldValue)("param-4",t)},getComponent:(e,t,i)=>(0,l.jsx)(ef,{node:e,nodeData:t,children:i}),getInitialData:()=>({to:"context.onEvent","param-1":{value:"context",kind:"Identifier"},"param-2":{value:"async (event) =>",kind:"Identifier"},"param-3":{value:"",kind:"StringLiteral"},"param-4":{value:"device",kind:"StringLiteral"}}),filterChildren:(0,Z.filterCallback)("-2"),restoreChildren:(0,Z.restoreCallback)("-2")},{id:"emitEvent",type:"CallExpression",check:(e,t)=>"CallExpression"==e.type&&"context.emitEvent"==t.to,getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1],(0,l.jsxs)(Z.Node,{icon:O.Z,node:e,isPreview:!(null==e?void 0:e.id),title:"Emit Event",id:e.id,color:"#A5D6A7",skipCustom:!0,children:[(0,l.jsx)(Z.NodeParams,{id:e.id,params:[{label:"Path",field:"param-1",type:"input"}]}),(0,l.jsx)(Z.NodeParams,{id:e.id,params:[{label:"From",field:"param-2",type:"input"}]}),(0,l.jsx)(Z.NodeParams,{id:e.id,params:[{label:"User",field:"param-3",type:"input"}]}),(0,l.jsx)(Z.NodeParams,{id:e.id,params:[{label:"Payload",field:"param-4",type:"input"}]})]})},category:"events",keywords:["generateEvent","emit","emitEvent","event"],getInitialData:()=>({to:"context.emitEvent","param-1":{value:"",kind:"StringLiteral"},"param-2":{value:"api",kind:"StringLiteral"},"param-3":{value:"system",kind:"StringLiteral"},"param-4":{value:"{}",kind:"ObjectLiteralExpression",await:!0}})}]},ev={api:[]};let ex=e=>{let{node:t={},nodeData:i={},children:a}=e,n=(0,r.we)(55);return(0,l.jsxs)(Z.Node,{icon:ed.Z,node:t,isPreview:!t.id,title:"Schedule",color:n,id:t.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,l.jsx)(Z.NodeParams,{id:t.id,params:[{label:"Time",field:"param-1",type:"input"}]}),(0,l.jsx)(Z.NodeParams,{id:t.id,params:[{label:"Day",field:"param-3",type:"input"}]}),(0,l.jsx)(Z.NodeParams,{id:t.id,params:[{label:"Month",field:"param-4",type:"input"}]}),(0,l.jsx)(Z.NodeParams,{id:t.id,params:[{label:"Year",field:"param-5",type:"input"}]}),(0,l.jsxs)("div",{style:{paddingBottom:"80px"},children:[(0,l.jsx)(Z.FlowPort,{id:t.id,type:"input",label:"Execute",style:{top:"300px"},handleId:"request"}),(0,l.jsx)(Z.FallbackPort,{node:t,port:"param-2",type:"target",fallbackPort:"request",portType:"_",preText:"async () =>",postText:""})]})]})};var ey=[{id:"scheduleMask",type:"CallExpression",category:"timers",keywords:["timers","event","trigger","setInterval","schedule","timer","wait","sleep"],check:(e,t)=>{var i,l;return"CallExpression"==e.type&&"context.createSchedule"==t.to&&t["param-1"]&&t["param-5"]&&t["param-3"]&&t["param-4"]&&t["param-2"]&&((null===(i=(0,Z.getFieldValue)("param-2",t))||void 0===i?void 0:i.startsWith("async () =>"))||(null===(l=(0,Z.getFieldValue)("param-2",t))||void 0===l?void 0:l.startsWith("() =>")))},getComponent:(e,t,i)=>(0,l.jsx)(ex,{node:e,nodeData:t,children:i}),getInitialData:()=>({to:"context.createSchedule","param-1":{value:"12:30",kind:"StringLiteral"},"param-2":{value:"async () =>",kind:"Identifier"},"param-3":{value:"5",kind:"StringLiteral"},"param-4":{value:"april",kind:"StringLiteral"},"param-5":{value:"2024",kind:"StringLiteral"}}),filterChildren:(0,Z.filterCallback)("-2"),restoreChildren:(0,Z.restoreCallback)("-2")}];let eb={devices:["devices","deviceDefinitions","deviceBoards","deviceCores","deviceSdks"],visualui:["visualui"],apis:["apis"]},ej=(e,t)=>{let i=e.split("/"),l=i[i.length-1],a=JSON.stringify(t);return eb.devices.includes(l)?D:eb.visualui.includes(l)||a&&eb.visualui.find(e=>a.includes(e))?[]:eb.apis.includes(l)?[...ev.api,...em.api,...ea,...eo.api,...ep.api,...ey]:[]},eC=(e,t)=>{let i=e.split("/"),l=i[i.length-1],a=JSON.stringify(t);return eb.visualui.includes(l)||a&&eb.visualui.find(e=>a.includes(e))?[...E,...N,...Z.BaseJSMasks]:[...N]}},89711:function(e,t,i){"use strict";i.d(t,{l:function(){return ea}});var l,a,n=i(52322),r=i(30195);let o=r.z.object({action:r.z.string(),domain:r.z.string(),data:r.z.any()}),d=(e,t,i)=>(o.parse({action:e,domain:t,data:i}),{action:e,domain:t,data:i});var s=i(10836),u=i(8939),c=i(2784),p=i(74634),h=i(56359),g=i(64129),f=i(60545),m=i(52026),v=i(5632),x=i(43260),y=i(96666),b=i(6289),j=i(57643),C=i(48115),w=i(26887);let k=(e,t)=>{let[i,l]=(0,c.useState)((0,b.E)("pending"));return(0,j.rf)(()=>{l((0,b.E)("pending"))},[e]),(0,w.a)(t=>C.bl.get("/adminapi/v1/files/"+e.replace(/\/+/g,"/"),t,!0),l,i,!t),[i,l]};var L=i(95753),S=i(60892),P=i(50042),_=i(32878),D=i(16399),E=i(27911),N=i(45054),Z=i(94484),T=i(91838);let I=e=>{let{path:t="",sourceCode:i,onChange:l=()=>{},onSave:a=()=>{},onEscape:r=()=>{},...o}=e,{resolvedTheme:d}=(0,D.P)(),s=(0,E.Ik)(),u="myCustomTheme",c=(0,m.useTheme)(),{tint:p}=(0,Z.d5)(),h=c[p+"10"].val;return h=h.startsWith("hsl")?function(e){let t=e.match(/^hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)$/i);if(!t)return null;let[i,l,a]=[t[1]/360,t[2]/100,t[3]/100],[n,r,o]=function(e,t,i){let l,a,n;if(0===t)l=a=n=i;else{let r=(e,t,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e,o=i<.5?i*(1+t):i+t-i*t,d=2*i-o;l=r(d,o,e+1/3),a=r(d,o,e),n=r(d,o,e-1/3)}return[Math.round(255*l),Math.round(255*a),Math.round(255*n)]}(i,l,a);return"#".concat((16777216+(n<<16)+(r<<8)+o).toString(16).slice(1).toUpperCase())}(h):h,s&&s.editor.defineTheme(u,{base:"dark"===d?"vs-dark":"vs",inherit:!0,rules:[{token:"keyword",foreground:h},{token:"punctuation",foreground:h}],colors:{"editor.background":"dark"===d?"#151515":"#FFFFFF"}}),a&&(0,N.Z)(["s","S"],e=>{("s"===e.key||"S"===e.key)&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),a())}),r&&(0,N.Z)(["Escape"],e=>{"Escape"===e.key&&(e.preventDefault(),r())}),(0,n.jsx)(T.I,{children:(0,n.jsx)(E.ZP,{onMount:(e,t)=>{t.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0}),t.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0})},path:t,theme:s?u:void 0,value:i,onChange:l,...o})})};var z=i(25237),O=i.n(z),F=i(1201),W=i(28554),H=i(39288),B=i(20477);i(15153),(0,i(53596).j)();let A=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=e.getDescendantsOfKind(B.lGB.CallExpression),a=l.find(e=>{let i=e.getArguments(),l=e.getExpression();return l.getKind()===B.lGB.Identifier&&"Protofy"===l.getText()&&i.length&&i[0].getText()==t});return a?a.getArguments()[i]:void 0},R=e=>{let t=new B.IKL({useInMemoryFileSystem:!0});return t.createSourceFile("_temp1.tsx",e,{overwrite:!0})};(l=a||(a={}))[l.DEFAULT=0]="DEFAULT",l[l.NAMED=1]="NAMED";var M=i(28261),J=i.n(M),K=i(29691),V=i.n(K),$=i(39684);let q=e=>{let{message:t}=(0,$.mU)("notifications/event/create/#");if(t&&t.message&&e)try{let i=JSON.parse(t.message);if(e.path&&i.path!=e.path||e.from&&i.from!=e.from)return}catch(e){console.error("Error parsing message from mqtt: ",e)}return t},G=(e,t)=>{let i=q(t);(0,c.useEffect)(()=>{i&&e(i)},[i])},U="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _mt-30px _fg-1 _w-10037 ",Y=O()(()=>Promise.all([i.e(4546),i.e(9610),i.e(7175)]).then(i.bind(i,57175)),{loadableGenerated:{webpack:()=>[57175]},loading:()=>(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(f.$,{size:"large",scale:3,top:-50}),"Loading"]}),ssr:!1}),X=e=>{let{extraIcons:t,name:i,path:l}=e,[a,r]=k(l);console.log("file content: ",a);let o=a.isLoaded?JSON.parse(a.data):"";return(0,n.jsx)(y.Z,{waitForLoading:1e3,atom:a,children:(0,n.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 _w-10037 ",children:(0,n.jsx)(x.I,{extraIcons:t,hideDeleteIcon:!0,itemCardProps:{topBarProps:{top:-10,backgroundColor:"transparent"}},minimal:!0,f:1,backgroundColor:"transprent",onDelete:()=>{},onSave:e=>{},json:o,name:i})})},l)},Q=e=>{let{checkStatus:t=()=>!0,defaultState:i="available",path:l,getContent:a,positionStyle:r,onSave:o=()=>{}}=e,[d,s]=(0,c.useState)(i);G(e=>{s(i),o()},{path:"services/api/start"}),(0,j.Yz)(()=>{t()&&"unavailable"==d&&s("available")},250);let p=async()=>{s("loading");let e=a();await C.bl.post("/adminapi/v1/files/"+l.replace(/\/+/g,"/"),{content:e}),l.startsWith("/packages/app/bundles/custom/apis/")||(s(i),o())};return(0,n.jsxs)(u.sL,{position:"absolute",...r,children:["loading"!=d&&(0,n.jsx)(L.q,{disabled:"unavailable"==d,onPress:p,children:(0,n.jsx)(S.v,{color:"var(--color)",size:"$1"})}),"loading"==d&&(0,n.jsx)(f.$,{color:"$color",opacity:.5,size:17})]})},ee=e=>{let{extraIcons:t,path:i,isModified:l,setIsModified:a}=e,[r,o]=k(i),[d,s]=(0,c.useState)(""),[u,p]=(0,c.useState)(!1),h=(0,c.useRef)(!1),g=(0,c.useRef)(""),f=(0,c.useRef)(""),x=(0,v.useRouter)(),b=(0,m.useTheme)(),C=(0,Z.d5)().tint,[w,S]=(0,F.G)((e,t,l)=>{let a=e.startsWith("/code"),n="The user is viewing a sourceCode file named: ".concat(i,". The content of the sourceFile is: ").concat(g.current);return(a?"\nThe user has generated a request to change the sourceCode content. You need to fulfill the request. Reply only with source code with prefix: [code] and nothing else. Your response will be used directly to replace the content of the sourceFile, but adaptaed to what the user requested.\nFor example, if the final code you decide to generate is \"console.log('test');\" then your anser should be [code]console.log('test');\nKeep the original sourcecode comments when generating new code;\nIf you are unable to generate the source code (too ambiguous/unespecific/whaterver reason), explain why in natural language, but do not include [code] at the beginning.\nRemember to generate a response for the request that is only sourceCode and prefixed with [code]. Your response will be used to feed another program, that expects just [code] and sourceCode.\nIf you include anything else in your message (like reasonings or natural language) it will be considered that you are rejecting the request, and the reasons will be shown to the user.\n            ":"")+n},()=>(0,F.MT)({cmd:"/code",format:"sourceCode",action:"generates a source code solution in source code format of the current file."}));(0,j.rf)(()=>{if(console.log("Response prompt: ",w),w.startsWith("[code]")){console.log("Replacing code with updated code");let e=w.substring(6);s(e),g.current=e}},[w]),(0,c.useEffect)(()=>{if(r.isLoaded){let e=R(r.data),t=A(e,'"code"');t&&B.is9.isArrowFunction(t)?(g.current=t.getBodyText(),h.current=!0):(h.current=!1,g.current=r.data),f.current=g.current,p(!0)}},[r]);let{resolvedTheme:E}=(0,D.P)(),[N,T]=(0,c.useState)("flow");return(0,n.jsx)(y.Z,{atom:r,children:(0,n.jsxs)("div",{className:U,children:[(0,n.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _mih-0px _miw-0px _fs-0 _pos-absolute _r-20px _t--32px ",children:["code"==N?(0,n.jsx)(L.q,{onPress:()=>T("flow"),children:(0,n.jsx)(P.h,{color:"var(--color)",size:"$1"})}):(0,n.jsx)(L.q,{onPress:()=>T("code"),children:(0,n.jsx)(_.E,{color:"var(--color)",size:"$1"})}),(0,n.jsx)(Q,{onSave:()=>f.current=g.current,checkStatus:()=>g.current!=f.current,defaultState:"unavailable",path:i,getContent:()=>{if(h.current){let e=R(r.data),t=A(e,'"code"').getBody();t.replaceWithText("{\n"+g.current+"\n}");let i=V().format(e.getFullText(),{quoteProps:"consistent",parser:"typescript",plugins:[J()]});if(i)return i}return g.current},positionStyle:{position:"relative"}}),t]}),"code"==N?(0,n.jsx)(I,{path:i,darkMode:"dark"==E,sourceCode:d||g.current,onChange:e=>{g.current=e}}):(0,n.jsx)(W.Z,{isModified:l,customComponents:(0,H.B)(x.pathname,x.query),onEdit:e=>{g.current=e},setIsModified:a,setSourceCode:e=>{e.current=e},sourceCode:d||g.current,path:i,themeMode:E,primaryColor:"dark"==E?b[C+"8"].val:b[C+"7"].val}),(0,n.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _mih-0px _miw-0px _fs-0 _o-0 _t--200000px _pos-absolute ",children:(0,n.jsx)(W.Z,{preload:!0,primary:"#f00"})})]})})},et=e=>{let{path:t}=e,[i]=k(t),l=(0,c.useRef)(""),{resolvedTheme:a}=(0,D.P)();return(0,c.useEffect)(()=>{i.isLoaded&&(l.current=i.data)},[i]),(0,n.jsx)(y.Z,{waitForLoading:1e3,atom:i,children:(0,n.jsxs)("div",{className:U,children:[(0,n.jsx)(Q,{path:t,getContent:()=>l.current,positionStyle:{right:55,top:-33}}),(0,n.jsx)(I,{path:t,darkMode:"dark"==a,sourceCode:i.data,onChange:e=>{l.current=e}})]})},t)},ei=e=>{let{action:t,domain:i,data:l}=e,{mime:a}=l,r=a?a.split("/")[0]:"text",o=("/adminapi/v1/files/"+l.path).replace(/\/+/g,"/");return"application/json"==a?{component:(0,n.jsx)(X,{...l}),supportIcons:!0}:"application/javascript"==a||"video/mp2t"==a||l.path.endsWith(".tsx")?{component:(0,n.jsx)(ee,{...l}),supportIcons:!0}:"model/gltf-binary"==a?{component:(0,n.jsx)(Y,{path:o}),widget:"text"}:"text"==r||"application"==r?{component:(0,n.jsx)(et,{path:l.path}),widget:"text"}:"image"==r?{component:(0,n.jsx)("img",{src:o}),widget:"image"}:void 0};i(78260);let el=e=>ei(e);(0,h._5)({iconComponent:g.K}),h.p$.ToggleHiddenFiles.option.defaultValue=!1;let ea=e=>{let{hideCloseIcon:t,isModified:i=!1,setIsModified:l=()=>{},icons:a=[],currentFile:r,currentFileName:o,...c}=e,h=(0,p.P)(r),g=el(d("open","files",{isModified:i,extraIcons:a,name:o,path:r,mime:h}));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _h-20px "}),(0,n.jsx)(u.FA,{flex:1,alignItems:"center",justifyContent:"center",...c,children:g?g.component:(0,n.jsx)(s.Z,{children:"No viewer exists for this file type"})}),(0,n.jsx)("h4",{className:"  is_H4 _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _tt-230632953 _ff-299667014 _fow-233016233 _ls-167744152 _fos-229441313 _lh-222976666 _ussel-auto _pos-absolute _l-15px _t-10px font_heading ",children:o}),g&&g.supportIcons||t?null:(0,n.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _mih-0px _miw-0px _fs-0 _pos-absolute _r-15px _t-17px ",children:a})]})};i(62321)},28554:function(e,t,i){"use strict";var l=i(52322),a=i(25237),n=i.n(a);i(2784);let r=n()(()=>Promise.resolve().then(i.bind(i,90530)).then(e=>e.FlowFactory),{loadableGenerated:{webpack:()=>[90530]},loading:()=>(0,l.jsx)("div",{children:"Loading..."}),ssr:!1});t.Z=e=>(0,l.jsx)(r,{...e})},54283:function(e,t,i){"use strict";i.d(t,{$:function(){return d},J:function(){return o}});var l=i(94801),a=i(55858),n=i(53596);let r=(0,n.j)();class o{get(e,t){var i;return null!==(i=this.data[e])&&void 0!==i?i:t}static getObjectSchema(){return this._newInstance({}).getObjectSchema()}getObjectSchema(){return this.objectSchema}static getModelName(){return this._newInstance({}).getModelName()}getModelName(){return this.modelName}getLocation(){let e=this.objectSchema.is("location").getFields();if(!e.length)throw"Model error: "+this.getModelName()+" doesn't have location information";let t=e[0],i=this.objectSchema.getFieldKeyDefinition(t,"latKey"),l=this.objectSchema.getFieldKeyDefinition(t,"lonKey");if(this.data[t])return{lat:this.data[t][i],lon:this.data[t][l]}}getId(){return this.data[this.idField]}getNotificationsTopic(e){return"notifications/".concat(this.getModelName(),"/").concat(e,"/").concat(this.getId())}getNotificationsPayload(){return this.serialize()}setId(e,t){return new this.constructor({...t||this.data,[this.idField]:e},this.session,this.modelName)}isVisible(){return!this.isDeleted()}isDeleted(){return!!this.data._deleted}list(e,t,i,l){if(!e)return this.read();{let{parsed:t,searchWithoutTags:i}=function(e){let t;let i=/(\w+):("[^"]+"|\S+)/g,l={},a=e;for(;null!==(t=i.exec(e));){let e=t[1].toLowerCase(),i=t[2].replace(/"/g,"").toLowerCase();l[e]=i,a=a.replace(t[0],"")}return{parsed:l,searchWithoutTags:a=a.trim()}}(e);for(let[e,i]of Object.entries(t))if(!this.data.hasOwnProperty(e)||this.data[e]!=i)return;let l=this.objectSchema.is("search").getFields();for(var a=0;a<l.length;a++)if((this.data[l[a]]+"").toLowerCase().includes(i.toLowerCase()))return this.read()}}async listTransformed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,n=this.list(e,i,l,a);if(n)return await this.getObjectSchema().apply("list",n,t)}create(e){let t=this.getData(e);return r.debug({transformed:t},"Creating object: ".concat(JSON.stringify(t))),new this.constructor(t,this.session,this.modelName).validate()}async createTransformed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await this.getObjectSchema().apply("create",{...this.data},e);return this.create(t)}read(e){return{...this.data}}async readTransformed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=await this.getObjectSchema().apply("read",this.read(t),e);return i}update(e,t){return e.setId(this.getId(),{...t||e.data})}async updateTransformed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=await this.getObjectSchema().apply("update",{...e.data},t,{...this.data});return this.update(e,i)}delete(e){return new this.constructor({_deleted:!0,...e||this.data},this.session,this.modelName)}async deleteTransformed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await this.getObjectSchema().apply("delete",{...this.data},e);return this.delete(t)}validate(){return this.schema.parse(this.data),this}serialize(){return JSON.stringify(this.data)}static getApiOptions(){throw Error("Derived class must implement getApiOptions")}static _newInstance(e,t){throw Error("Derived class must implement _newInstance.")}static unserialize(e,t){return this._newInstance(JSON.parse(e),t)}static load(e,t){return this._newInstance(e,t)}getData(e){return{...this.getObjectSchema().applyGenerators(null!=e?e:this.data)}}constructor(e,t,i,n){var r,o;this.data=e,this.session=null!=i?i:(0,l.ed)(),this.schema=t,this.objectSchema=a.U.load(this.schema),this.modelName=null!==(r=null==n?void 0:n.toLowerCase())&&void 0!==r?r:"unknown";let d=this.objectSchema.is("id");d.getFields().length>1&&(d=d.isNot("fallbackId")),this.idField=null!==(o=d.getFirst("id"))&&void 0!==o?o:"id"}}class d extends o{static _newInstance(e,t){throw Error("Derived class must implement _newInstance.")}static createDerived(e,t,i,l){class a extends d{static _newInstance(e,t){return new a(e,t)}static getApiOptions(){return{name:i,prefix:l}}constructor(i,l){super(i,t,l,e.substring(0,e.length-5).toLowerCase())}}return a.schemaInstance=t,Object.defineProperty(a,"name",{value:e,writable:!1}),a}constructor(e,t,i,l){super(e,t,i,l)}}},55858:function(e,t,i){"use strict";i.d(t,{U:function(){return a}});var l=i(34406);class a{getFields(){return Object.keys(this.shape)}getFieldKeyDefinition(e,t){return this.shape[e]?this.shape[e]._def[t]:void 0}applyGenerators(e){let t={...e};return Object.keys(this.shape).forEach(i=>{if(this.shape[i]._def.generate){let l=this.shape[i]._def.generate;(!e[i]||l.force)&&(t[i]="function"==typeof l.generator?l.generator(e):l.generator)}}),t}async apply(e,t,i,a){let n={...t},r=this.is("events"),o=Object.keys(r.shape);for(var d=0;d<o.length;d++){let t=o[d],u=r.shape[t],c=void 0!==l&&l.versions&&l.versions.node,p=u._def.events.filter(t=>t.eventName==e&&(!t.eventContext||"client"==t.eventContext&&!c||"server"==t.eventContext&&c));for(var s=0;s<p.length;s++){let e=p[s];i[e.eventHandler]&&(n=await i[e.eventHandler](t,e,n,a))}}return n}getLayout(e){let t=[[]],i=0;return Object.keys(this.shape).forEach(l=>{let a=this.shape[l];t[i].length==e&&(t.push([]),i++),t[i].push({...a,name:l})}),t}getFirst(e){return Object.keys(this.shape).find(t=>{if(this.shape[t]._def[e])return t})}isDisplay(e){let t={};return Object.keys(this.shape).forEach(i=>{(!this.shape[i]._def.display||this.shape[i]._def.display.includes("*")||this.shape[i]._def.display.includes(e))&&(t[i]=this.shape[i])}),new a(t)}is(e){let t={};return Object.keys(this.shape).forEach(i=>{this.shape[i]._def[e]&&(t[i]=this.shape[i])}),new a(t)}isNot(e){let t={};return Object.keys(this.shape).forEach(i=>{this.shape[i]._def[e]||(t[i]=this.shape[i])}),new a(t)}isAfter(e){let t={};return Object.keys(this.shape).forEach(i=>{var l;(null===(l=this.shape[i]._def)||void 0===l?void 0:l.after)&&this.shape[i]._def.after==e&&(t[i]=this.shape[i])}),new a(t)}isBefore(e){let t={};return Object.keys(this.shape).forEach(i=>{var l;(null===(l=this.shape[i]._def)||void 0===l?void 0:l.before)&&this.shape[i]._def.before==e&&(t[i]=this.shape[i])}),new a(t)}merge(e){let t={};return Object.keys(this.shape).forEach(i=>{let l=e.isBefore(i);(t={...t,...l.shape})[i]=this.shape[i];let a=e.isAfter(i);t={...t,...a.shape}}),new a(t)}static load(e){return new a(e.shape)}constructor(e){this.shape=e}}},96666:function(e,t,i){"use strict";var l=i(52322),a=i(52026),n=i(60545),r=i(29897),o=i(2784),d=i(91838),s=i(57643);let u=o.forwardRef((e,t)=>{let{forceLoad:i,waitForLoading:u=250,spinnerSize:c,atom:p,error:h=null,loading:g=null,children:f,loadingText:m,...v}=e,[x,y]=(0,o.useState)(!u);if((0,s.KS)(()=>y(!0),u),i)return f;if(null==p?void 0:p.isError){var b,j;return h||(0,l.jsx)(r.Z,{details:null!==(j=null===(b=p.error)||void 0===b?void 0:b.result)&&void 0!==j?j:p.error})}return(null==p?void 0:p.isLoaded)?f:x?g||(0,l.jsxs)(a.Stack,{ref:t,mt:"$10",ai:"center",jc:"center",f:1,...v,children:[(0,l.jsx)(d.I,{children:(0,l.jsx)(n.$,{color:"$color6",size:null!=c?c:"large"})}),(0,l.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",children:m&&(0,l.jsx)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-1316330238 _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto _o-0d0t646 font_body ",children:m})})]}):(0,l.jsx)(l.Fragment,{})});t.Z=u,i(91092)},43260:function(e,t,i){"use strict";i.d(t,{I:function(){return b}});var l=i(52322),a=i(52026),n=i(86838),r=i(66306),o=i(8939),d=i(60545),s=i(94484),u=i(61773),c=i(47343),p=i(57441),h=i(13742),g=i(2784),f=i(40914),m=i(13043),v=i(6289),x=i(95753);let y="  _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px ",b=g.forwardRef((e,t)=>{var i;let{compact:b=!1,innerContainerProps:j={},extraIcons:C=[],iconProps:w={},itemCardProps:k={},minimal:L,json:S,name:P,onSave:_=e=>{},onDelete:D=()=>{},hideDeleteIcon:E,isTemplate:N=!1,...Z}=e,{tint:T}=(0,s.d5)(),[I,z]=(0,g.useState)(N),[O,F]=(0,g.useState)(S),[W,H]=(0,g.useState)(0),[B,A]=(0,g.useState)((0,v.E)("pending")),[R,M]=(0,g.useState)(S),[J,K]=(0,g.useState)(!1),V=()=>{H(e=>e+1),F(R),z(!I)},$=async()=>{H(e=>e+1),z(!I),M(O),A(await _(O))},q=e=>{F(e)},G=(0,g.useMemo)(()=>(0,l.jsx)(m.Z,{compact:b,onChange:q,editable:I,data:O,collapsible:!0},W),[b,W,q,I,O]);return(0,l.jsx)(a.Stack,{ref:t,...Z,children:(0,l.jsx)(f.q,{topBarOutSideScrollArea:L,backgroundColor:null!==(i=Z.backgroundColor)&&void 0!==i?i:"$color1",...k,elevation:L?0:1,borderWidth:L?0:1,pointerEvents:"none",pointerEventsControls:"none",topBar:(0,l.jsx)(a.Theme,{name:T,children:(0,l.jsxs)("div",{className:"  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _jc-flex-start _ai-center _pr-1481558152 _pl-1481558152 _w-10037 ",children:[(0,l.jsx)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr--536 _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto _fg-1 _fs-1 _fb-auto _o-0d0t846 font_body ",children:L?"":P}),(0,l.jsx)(a.Theme,{reset:!0,children:(0,l.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _l--1036 ",children:[E?null:(0,l.jsxs)(n.J2,{onOpenChange:K,open:J,placement:"bottom-end",children:[N?null:(0,l.jsx)(n.J2.Trigger,{children:(0,l.jsx)("div",{onClick:()=>K(!0),className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _cur-pointer ",children:(0,l.jsx)("div",{className:"  _o-0hover-0d0t846 _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _mr-1481558152 _o-0d0t546 _cur-pointer ",children:(0,l.jsx)(h.V,{size:"$1"})})})}),(0,l.jsx)(n.J2.Content,{padding:0,space:0,top:"$2",children:(0,l.jsxs)("div",{className:"  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center _jc-center _pt-1316330238 _pr-1316330238 _pb-1316330238 _pl-1316330238 ",children:[(0,l.jsx)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-1481558152 _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body ",children:(0,l.jsx)("span",{className:y,children:"Are you sure?"})}),(0,l.jsxs)(r.zx,{onPress:()=>{D(P)&&K(!1)},children:[(0,l.jsx)(h.V,{size:"$1",color:"var(--red10)"})," Delete"]})]})})]}),(0,l.jsxs)(o.sL,{...w,children:[I?(0,l.jsx)(x.q,{paddingHorizontal:"$3",onPress:()=>{N?D(P,N):V()},children:(0,l.jsx)(p.X,{color:"var(--red9)",size:"$1"})}):null,I?(0,l.jsx)(x.q,{onPress:$,children:(0,l.jsx)(u.J,{color:"var(--color9)",size:"$1"})}):(0,l.jsx)(x.q,{onPress:()=>z(!I),children:(0,l.jsx)(c.H,{size:"$1"})}),C]})]})})]})}),children:(0,l.jsx)(a.Stack,{f:1,...j,children:(0,l.jsx)(a.Theme,{name:T,children:(0,l.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _pt-1481558400 _pr-1481558400 _pb-1481558400 _pl-1481558400 _mah--1px _ox-hidden _oy-hidden _transform-1529299154 ",children:(null==B?void 0:B.isLoading)?(0,l.jsx)(d.$,{}):(null==B?void 0:B.isError)?(0,l.jsx)("span",{className:y,children:"ERROR"}):G})})})})})});i(97752)},29897:function(e,t,i){"use strict";var l=i(52322),a=i(41473),n=i(8939),r=i(52026),o=i(2784);let d=o.forwardRef((e,t)=>{let{msg:i="Error loading content from server",details:o="",icon:d=a.u,detailsColor:s="$red10",containerProps:u={},iconProps:c={},children:p,...h}=e;return(0,l.jsxs)(n.FA,{flex:1,alignItems:"center",justifyContent:"center",space:"$4",ref:t,...h,children:[(0,l.jsxs)(n.FA,{ai:"center",space:"$4",...u,children:[(0,l.jsx)(d,{size:"$7",...c}),(0,l.jsx)("h2",{className:"  is_H2 _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _tt-230633015 _ff-299667014 _fow-500 _ls-167744214 _fos-229441375 _lh-222976728 _ussel-auto font_heading ",children:i}),(0,l.jsx)(r.Text,{color:s,children:o})]}),p]})});t.Z=d,i(84520)},95753:function(e,t,i){"use strict";i.d(t,{q:function(){return n}});var l=i(52322),a=i(8939);let n=e=>(0,l.jsx)(a.sL,{paddingHorizontal:"$3",opacity:e.disabled?.2:.5,cursor:e.disabled?"default":"pointer",hoverStyle:{opacity:e.disabled?.2:.8},...e,...e.disabled?{onPress:()=>{}}:{},children:e.children})},40914:function(e,t,i){"use strict";i.d(t,{q:function(){return u}});var l=i(52322),a=i(2784),n=i(8939),r=i(22287),o=i(10836),d=i(6712);let s="  is_Separator _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _btc-2122800589 _brc-2122800589 _bbc-2122800589 _blc-2122800589 _btw-0px _brw-0px _bbw-1px _blw-0px _fg-1 _h-0px _mah-0px _mb--1px _bbs-solid _bts-solid _bls-solid _brs-solid _transform-d0t1394298074 ",u=(0,a.memo)(a.forwardRef((e,t)=>{let{containerElement:i=n.FA,topBarOutSideScrollArea:u=!1,bottomBarProps:c={},bottomBar:p,topBarProps:h={},topBar:g,children:f,imageProps:m={},image:v=null,hasPicture:x,theme:y,alt:b,onHoverSection:j,pointerEvents:C,pointerEventsControls:w,...k}=e,[L,S]=(0,a.useState)(!1);return(0,l.jsxs)("div",{ref:t,className:"  _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1  _dsp-flex _ai-stretch ",children:[u&&g?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.sL,{zi:1e3,w:"100%",bc:"$backgroundHover",btrr:18,btlr:18,jc:"center",...h,children:g}),(0,l.jsx)("div",{className:s})]}):null,a.createElement(i,{borderWidth:1,borderColor:"$borderColor",backgroundColor:"$color1",br:"$7",p:0,ai:"stretch",elevation:"$2",overflow:"hidden",...k},!u&&g?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.sL,{zi:1e3,w:"100%",px:"$2",py:"$2",bc:"$backgroundHover",btrr:18,btlr:18,space:"$5",jc:"center",...h,children:g}),(0,l.jsx)("div",{className:s})]}):null,(0,l.jsx)("div",{className:"  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center ",children:x?(0,l.jsx)(o.Z,{children:v&&v.src&&!L?(0,l.jsx)(r.E,{onError:()=>S(!0),btrr:20,btlr:20,top:-20,source:{uri:v.src,width:v.width,height:v.height}}):(0,l.jsxs)(n.FA,{o:.2,btrr:20,btlr:20,width:null==v?void 0:v.width,height:null==v?void 0:v.height,jc:"center",ai:"center",children:[(0,l.jsx)(d.L,{}),(0,l.jsx)("span",{className:"  is_SizableText _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 font_body ",children:"No photo"})]})}):(0,l.jsx)(l.Fragment,{})}),f,p?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:s}),(0,l.jsx)(n.sL,{zi:1e3,w:"100%",px:"$2",py:"$2",bc:"$backgroundHover",bbrr:17,bblr:17,ai:"center",space:"$5",jc:"center",pointerEvents:C,...c,children:p})]}):null)]})}));i(34719)},90530:function(e,t,i){"use strict";i.r(t),i.d(t,{AddPropButton:function(){return n.Z},BaseJSMasks:function(){return h.U},Button:function(){return y.Z},CustomEdge:function(){return o.Z},Diagram:function(){return s.Z},FallbackPort:function(){return f.Z},FlowConstructor:function(){return a.e},FlowFactory:function(){return a.Z},FlowPort:function(){return l._t},FlowStoreContext:function(){return p.p},HandleOutput:function(){return l.IS},Node:function(){return l.ZP},NodeParams:function(){return l.kz},NodeTypes:function(){return r.$},PORT_TYPES:function(){return d.LL},Panel:function(){return x.s_},connectNodes:function(){return v.Nl},createNode:function(){return d.dS},filterCallback:function(){return g.HO},filterCallbackProp:function(){return g.J6},generateId:function(){return m.O},getDataFromField:function(){return b.Jf},getFieldType:function(){return b.Ql},getFieldValue:function(){return b.oe},getId:function(){return d.zv},isHandleConnected:function(){return c.SY},layouts:function(){return u.Z},restoreCallback:function(){return g.Qq},restoreCallbackProp:function(){return g.Ey},useFlowsStore:function(){return p.g}});var l=i(30690),a=i(73073),n=i(96169),r=i(2003),o=i(47544),d=i(43134),s=i(12041),u=i(74904),c=i(53600),p=i(45823),h=i(64920),g=i(50317),f=i(84571),m=i(18292),v=i(45927),x=i(10729),y=i(43055),b=i(69685)},96169:function(e,t,i){"use strict";var l=i(52322),a=i(2784),n=i(18292),r=i(45823),o=i(43055);t.Z=e=>{let{nodeData:t,id:i,type:d="Param",style:s={},keyId:u=null,label:c=null}=e,p=(0,a.useContext)(r.p),h=p(e=>e.setNodeData),g={Attribute:"attr",Method:"meth",Case:"case",Element:"element",Component:"element",Import:"import",param:"param",Prop:"prop",Child:"child",Union:"union"}[d]||"param";return u=null!==u?u:g+"-"+(0,n.O)(),(0,l.jsx)(o.Z,{onPress:()=>{if(["child","case","element","union"].includes(g)){var e,l;u=g+"-"+(null!==(l=(null===(e=Object.keys(t))||void 0===e?void 0:e.filter(e=>e.startsWith("".concat(g,"-"))).length)+1)&&void 0!==l?l:1)}h(i,{...t,[u]:""})},label:null!=c?c:"Add ".concat(d),style:s})}},43055:function(e,t,i){"use strict";var l=i(52322),a=i(2784),n=i(72405);t.Z=e=>{let{onPress:t,label:i,style:r={}}=e,o={width:"50%",margin:"15px",border:"0px solid transparent",borderRadius:"8px",color:(0,n.ZP)("interactiveColor"),padding:"10px 15px",cursor:"pointer",transition:"background-color 0.3s ease",display:"flex",position:"relative",alignSelf:"center",textAlign:"center",alignItems:"stretch",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",textDecoration:"none",zIndex:"0",fontFamily:"Jost-Regular",fontSize:(0,n.ZP)("nodeFontSize"),...r},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[l,n]=a.useState(t);return{style:{...l,customStyle:i},onMouseEnter:()=>n(e),onMouseLeave:()=>n(t)}}({...o,backgroundColor:(0,n.ZP)("interactiveHoverColor")},{...o,backgroundColor:"transparent"},r);return(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,l.jsx)("button",{onClick:t,...d,children:i})})}},47544:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var l=i(52322),a=i(2784),n=i(10729),r=i(72405);function o(e){let{id:t,sourceX:i,sourceY:a,targetX:o,targetY:d,sourcePosition:s,targetPosition:u,style:c={},markerEnd:p,targetHandleId:h,sourceHandleId:g,selected:f,color:m,children:v}=e,x=i===o,y=a===d,[b]=(0,n.OQ)({sourceX:x?i+1e-4:i,sourceY:y?a+1e-4:a,sourcePosition:s,targetX:o,targetY:d,targetPosition:u});(0,r.ZP)("nodeBorderWidth");let j=(0,r.ZP)("nodeEdgeWidth"),C=(0,r.ZP)("nodeEdgeStyle");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{id:t,strokeWidth:f?2*j:j,stroke:m,className:"react-flow__edge",d:b,fill:"none",strokeDasharray:C}),(0,l.jsx)("path",{id:t,className:"react-flow__edge-interaction",d:b,strokeOpacity:"0",strokeWidth:"20",fill:"none"}),v]})}var d=i(45823);function s(e){var t,i;let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=(0,a.useContext)(d.p),c=u(e=>e.setMenu),p=u(t=>null!==(i=t.nodeData[e.source])&&void 0!==i?i:{}),[h,g,f]=(0,n.OQ)({sourceX:e.sourceX,sourceY:e.sourceY,sourcePosition:e.sourcePosition,targetX:e.targetX,targetY:e.targetY,targetPosition:e.targetPosition}),m=null!=p&&null!==(t=p._metadata)&&void 0!==t&&!!t.layouted,v={...e,color:(0,r.ZP)("edgeColor")},x=(0,r.ZP)("edgeColor"),y=(0,r.ZP)("plusColor"),b=(0,r.ZP)("portSize"),j=(0,r.ZP)("flowOutputColor");return m?(0,l.jsx)(o,{...v,children:s?(0,l.jsxs)("g",{transform:"translate(".concat(g,", ").concat(f,")"),children:[(0,l.jsx)("rect",{style:{cursor:"pointer",pointerEvents:"all",strokeWidth:"1px",stroke:x,fill:j},onClick:t=>{c("open",[t.clientX,t.clientY],{edgeId:e.id,type:"edge",sourceHandle:e.sourceHandleId,source:e.source,targetHandle:e.targetHandleId,target:e.target})},x:-10,y:-10,width:b,ry:b,rx:b,height:b}),(0,l.jsx)("text",{style:{fontWeight:600,pointerEvents:"none",userSelect:"none",fill:y,fontSize:"17px"},y:5,x:-6,children:"+"})]}):null}):null}},84571:function(e,t,i){"use strict";var l=i(52322),a=i(2784),n=i(45823);t.Z=e=>{let{node:t,port:i,type:r,fallbackPort:o,portType:d,preText:s,postText:u,fallbackText:c=""}=e,p=(0,a.useContext)(n.p),h=p(e=>e.setNodeData),g=p(e=>e.nodeData[null==t?void 0:t.id]);return(0,a.useEffect)(()=>{t&&t.id&&!(null==g?void 0:g.hasOwnProperty("_fallBack"))&&h(t.id,{...g,_fallBack:[{port:i,type:r,fallbackPort:o,portType:d,fallbackText:c,preText:s,postText:u}]})},[null==t?void 0:t.id,g]),(0,l.jsx)(l.Fragment,{})}},73073:function(e,t,i){"use strict";i.d(t,{e:function(){return ei},Z:function(){return et}});var l=i(52322);i(18803),i(43579),i(95280);var a=i(56334),n=i(52998),r=i(50558),o=i(2784),d=i(10729),s=i(43134),u=i(85067),c=i.n(u);function p(e,t){var i=c().diff(e,t);return null==i?void 0:i.filter(e=>!(["E","N"].includes(e.kind)&&"hidden"===e.path[1]))}var h=i(2003),g=i(45823),f=i(18292),m=i(64509),v=i(94533),x=i(72405),y=i(45927),b=i(38880),j=i(33361);let C=e=>{let t=(0,x.ZP)("borderWidthSelected"),i=(0,x.ZP)("borderColorSelected"),a=(0,x.ZP)("borderRadiusSelected"),n=(0,x.ZP)("boxShadowSelected");return(0,l.jsx)("div",{style:{display:"flex",border:e.isSelected?"".concat(t,"px solid ").concat(i):"0px solid transparent",borderRadius:a+"px",alignItems:"stretch",backgroundColor:"rgba(0, 0, 0, 0)",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",margin:"0px",minHeight:"0px",minWidth:"0px",padding:"0px",position:"relative",textDecoration:"none",boxShadow:e.isSelected?n:"none",zIndex:"0"},children:e.children})},w=e=>{let{index:t,node:i,addElement:a,isSelected:n,realIndex:r}=e;return(0,l.jsx)("div",{onClick:()=>a(i.type,i),style:{display:-1==r?"none":void 0,marginBottom:"10px",borderRadius:"12px"},children:(0,l.jsx)(C,{isSelected:n,children:i.getComponent({type:i.type},{},null,i)})},t)},k=(0,m.Ic)(e=>{var t,i,a;let{enabledNodes:n=["*"],hideBaseComponents:r,customComponents:u=[],diagramNodes:c,setNodeData:p,nodeData:m,edges:k,takeSnapshot:L=()=>null,reactFlowWrapper:S=null,topics:P,onAddNode:_=(e,t,i)=>null,onEditDiagram:D=(e,t,i)=>{}}=e,E=(0,o.useRef)(),N=(0,o.useRef)(),Z=(0,o.useRef)(),[T,I]=(0,o.useState)(""),[z,O]=(0,o.useState)(0),F=(0,o.useContext)(g.p),W=F(e=>e.menuState),H=F(e=>e.menuPosition),B=F(e=>e.menuOpener),A=F(e=>e.setMenu),{project:R,setViewport:M,getViewport:J}=(0,j.vM)(),{publish:K}=P,V=()=>{var e=H[0]-110;return(null==S?void 0:S.current)?e<100||(null==S?void 0:S.current.offsetWidth)-259-100<100?100:e+259+100<(null==S?void 0:S.current.offsetWidth)?e:(null==S?void 0:S.current.offsetWidth)-259-100:100},$=Object.fromEntries(Object.entries(h.Z).filter(e=>{let[t,i]=e;return n.includes(t)||n.includes("*")})),q=u.filter(e=>n.includes(e.type)||n.includes("*")),G=B.targetHandle?B.targetHandle.replace(B.target,"").slice(1):null,U=Object.keys($).map(e=>{var t;return{node:null!==(t=$[e].type)&&void 0!==t?t:$[e],key:e}});T&&(U=U.filter(e=>{let t=[...e.node.keyWords,e.node.name];return null==t?void 0:t.map(e=>e.toLowerCase()).join().includes(T.toLowerCase())}));let Y=q;T&&(Y=q.filter(e=>e.id.toLowerCase().includes(T.toLowerCase().trim())||e.keywords&&e.keywords.join().toLowerCase().includes(T.toLowerCase().trim())));let X=[...Y.map((e,t)=>{var i;return{type:e.type,category:null!==(i=e.category)&&void 0!==i?i:"custom",addElement:()=>et(e.type,e),render:()=>{let i=Y.findIndex(t=>t.id.toLowerCase().trim()==e.id.toLowerCase().trim()),a=i==z;return e.hidden?null:(0,l.jsx)(w,{index:t,addElement:et,isSelected:a,node:e,realIndex:i},t+e.id)}}}),...r?[]:U.map((e,t)=>{var i;return{type:e.node,category:null!==(i=e.node.category)&&void 0!==i?i:"javascript",addElement:()=>et(e.key),render:()=>(0,l.jsx)("div",{onClick:()=>et(e.key),style:{marginBottom:"10px"},children:(0,l.jsx)(C,{isSelected:Y.length+t==z,children:o.createElement(e.node,{type:e.key})})},t)}})],Q=X.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{}),ee="open"!=W?{top:"-5000px"}:{top:((a=H[1]-30)<70?70:a+500+100<(null==S?void 0:S.current.offsetHeight)?a:(null==S?void 0:S.current.offsetHeight)-500-100)+"px",left:V()+"px"},et=async(e,t)=>{L(),I("");let i=e+s.LL.flow+(0,f.O)(),l=R({x:V(),y:H[1]});var a,n=(0,s.dS)([l.x,l.y-70],e,i,{},!0,{},{}),r=[],o={},d=[];if(t&&p(i,o=t.getInitialData()),"edge"==B.type){let t=null!==(a=$[e].type)&&void 0!==a?a:$[e],l=t.defaultHandle;r.push(...(0,y.Yc)(B,i,l)),d.push(B.edgeId)}else{let e=B.target,t={animated:!1,id:(0,f.O)(),source:i,sourceHandle:i+"-output",target:e,targetHandle:B.targetHandle,type:"custom"};r.push(t),m[e].hasOwnProperty(G)||p(e,{[G]:void 0}),_(n[0],t,o)}let u=k.filter(e=>!d.includes(e.id)).concat(r),h=c.concat(n);A("closed"),D(h,u,(e,t)=>{if(!t)return;let l=J(),a=e.find(e=>e.id==n[0].id),r=document.getElementById(i),o=-a.position.x,d=-a.position.y;if(!r)return;let s=r.querySelector("input:first-of-type");s&&(s.focus(),ei(o,d,l.zoom));let u=r.querySelector("div > [role='button']:first-of-type");u&&(u.focus(),ei(o,d,l.zoom))})},ei=(0,o.useCallback)((e,t,i)=>{},[M]),el=()=>{X[z]&&X[z].addElement()};(0,o.useEffect)(()=>{if("closed"!=W)try{null==N||N.current.focus()}catch(e){console.error("error focusing element. ",e)}K("menuState",{state:W})},[W]);let ea=(0,x.ZP)("textColor"),en=(0,x.ZP)("nodeBackgroundColor"),er=(0,x.ZP)("inputBorder"),eo=(0,x.ZP)("highlightInputBackgroundColor");return(0,l.jsxs)(d.s_,{position:"top-left",children:[(0,l.jsx)("div",{onClick:()=>A("closed"),style:{display:"closed"==W?"none":"flex",height:"100vh",width:"100vw",position:"absolute"}}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",height:500,margin:"0px",position:"absolute",border:"1px solid grey",borderRadius:"10px",...ee},children:(0,l.jsxs)("div",{ref:E,style:{flexGrow:1,width:259,backgroundColor:en,borderRadius:"10px",paddingBottom:"20px",padding:"10px",border:"".concat((0,x.ZP)("borderWidth"),"px solid ").concat((0,x.ZP)("borderColor"))},children:[(0,l.jsxs)("div",{style:{height:50},children:[(0,l.jsx)("input",{ref:N,style:{fontFamily:"Jost-Regular",padding:"8px",border:er,display:"flex",flex:1,width:"100%",boxSizing:"border-box",fontSize:"14px",backgroundColor:eo,borderRadius:"6px",borderWidth:"0px",outline:"none",paddingLeft:"32px",color:ea},value:T,onKeyDown:e=>{"Enter"==e.key?el():"ArrowDown"==e.key&&z<Y.length+U.length-1?(O(z+1),Z.current.scrollBy({top:44,behavior:"smooth"})):"ArrowUp"==e.key&&z>0?(O(z-1),Z.current.scrollBy({top:-44,behavior:"smooth"})):O(0)},onChange:e=>I(e.target.value),placeholder:"search node"}),(0,l.jsx)(b.Z,{color:"#57534e",size:20,style:{marginRight:"-5px",marginLeft:"8px",position:"absolute",top:18}})]}),(0,l.jsx)("div",{ref:Z,className:".list-protoflow",style:{height:"calc(".concat(500,"px - ").concat(50,"px - 22px)"),overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column",paddingRight:(null==Z?void 0:null===(t=Z.current)||void 0===t?void 0:t.scrollHeight)>(null==Z?void 0:null===(i=Z.current)||void 0===i?void 0:i.clientHeight)?"10px":"0px"},children:Object.keys(Q).map((e,t)=>(0,l.jsxs)("div",{children:[(0,l.jsx)(v.Z,{style:{fontSize:"16px",fontFamily:"Jost-Medium",marginLeft:"10px"},children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,l.jsx)("div",{style:{marginTop:"12px"},children:Q[e].map((e,t)=>e.render())})]},t))})]})})]})});var L=i(47544),S=i(41051),P=i(53544),_=i(1674),D=i(39036);let E=async function(e,t,i,l,a,n){let r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=t.map(e=>({...e})),{nodes:s,edges:u,metadata:c}=await e(d,i,n(d),o);return await r(c),await l(s),await a(i),{layoutedNodes:s,layoutedEdges:u,metadata:c}};var N=e=>{let{hasChanges:t,onReload:i,onSave:a,onShowCode:n}=e,r=(0,o.useContext)(g.p),d=r(e=>e.saveStatus);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"row",margin:"auto",right:0,left:0,justifyContent:"center",marginTop:"20px"},children:[a?(0,l.jsx)("div",{onClick:()=>a(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"error"==d?"#EF4444":t?"#373737":"#BFBFBF",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:"loading"==d?(0,l.jsxs)("div",{id:"spinner",className:"lds-ring",children:[(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{})]}):"error"==d?(0,l.jsx)(S.Z,{color:"white",size:25}):(0,l.jsx)(P.Z,{color:"white",size:25})}):null,n?(0,l.jsx)("div",{onClick:()=>n(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:(0,l.jsx)(_.Z,{color:"white",size:25})}):null,i?(0,l.jsx)("div",{onClick:()=>i(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:(0,l.jsx)(D.Z,{color:"white",size:25})}):null]})})},Z=i(64920),T=i(12041),I=i(20477),z=i(29392),O=i(50317),F=i(30690),W=i(84571),H=i(43055),B=e=>{let{href:t,...i}=e;return(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,l.jsx)("a",{target:"_blank",href:t,style:{color:(0,x.ZP)("interactiveColor"),padding:"10px 15px",cursor:"pointer",display:"flex",flexDirection:"column",fontFamily:"Jost-Regular",fontSize:(0,x.ZP)("nodeFontSize")},onMouseEnter:e=>{e.currentTarget.style.textDecorationLine="underline"},onMouseLeave:e=>{e.currentTarget.style.textDecorationLine=""},children:i.children})})},A=i(64346),R=i(38519),M=i(96169),J=i(54398);let K={CallExpression:A.Z,JsxElement:_.Z,JsxSelfClosingElement:_.Z},V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0),[a,n]=o.useState(""),[r,d]=o.useState(),s=(0,x.H)(e.type),u=i.data.body.find(e=>"api"==e.type);return u&&(0,o.useEffect)(()=>{let e=u.data.apiUrl;fetch(e).then(e=>e.json()).then(e=>{d(e)})},[]),(0,l.jsx)(F.ZP,{icon:K[e.type],node:e,isPreview:!e.id,title:i.data.title,id:e.id,color:s,skipCustom:!0,children:i.data.body.map(o=>{switch(o.type){case"params":return(0,l.jsx)(F.kz,{id:e.id,params:o.params});case"spacer":return(0,l.jsx)("div",{style:{marginBottom:o.params.height}});case"output":return(0,l.jsx)(F._t,{id:e.id,type:"output",label:o.params.label,style:null!==(d=o.params.style)&&void 0!==d?d:{},handleId:o.params.handleId});case"redirect":return(0,l.jsx)(W.Z,{node:e,port:o.params.port,type:"target",fallbackPort:o.params.fallbackPort,portType:"_",preText:o.params.preText,postText:o.params.postText});case"api":{let i=Function("res",null===(s=o.data)||void 0===s?void 0:s.list),a=null!==(c=null==r?void 0:null===(u=r.map(i))||void 0===u?void 0:u.filter(e=>e))&&void 0!==c?c:[],n=o.data.field;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(J.Z,{node:e,nodeData:t,item:{field:n,label:o.data.label,type:"input",data:{options:a}}})})}case"link":return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(B,{target:"_blank",href:o.data.url,children:o.data.text})});case"button":return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(H.Z,{onPress:async()=>{let e=Function("data","\n                                    return (async () => {\n                                        ".concat(o.params.onPress,"\n                                    })();\n                                ")),i=await e(t);n(i),console.log("result: ",i)},label:o.params.label}),a&&o.params.displayResult?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("textarea",{style:{width:"100%",height:"150px",fontSize:"20px"},children:JSON.stringify(a)})}):null]});case"child":{let i=Object.keys(t).filter(e=>e.startsWith("child-")).map((e,t)=>{var i;let l=null===(i=o.data)||void 0===i?void 0:i.find(t=>t.field===e);return{label:l?l.label:"Child"+(t+1),field:e,fieldType:"child",deleteable:!l}});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(F.kz,{id:e.id,params:i}),o.disableAdd?null:(0,l.jsx)(M.Z,{id:e.id,type:"Child",nodeData:t})]})}case"prop":{let a=Object.keys(t).filter(e=>e.startsWith("prop-")).map((e,t)=>({label:e.substr(5),field:e,fieldType:"prop",deleteable:!0})),n=i.data.body.find(e=>"redirect"==e.type),r=null==n?void 0:null===(p=n.params)||void 0===p?void 0:p.port,d=i.data.body.find(e=>"custom-field"==e.type),s=(0,R.aP)(i.data.body);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(F.kz,{id:e.id,params:o.data}),(0,l.jsx)(F.kz,{id:e.id,params:a.filter(e=>!s.includes(e.field)||!d).filter(e=>!o.data.find(t=>t.field==e.field)&&e.field!=r)}),o.disableAdd?null:(0,l.jsx)(M.Z,{id:e.id,type:"Prop",nodeData:t})]})}case"custom-field":{let i="Props",a=o.data.reduce((e,t)=>{var l,a,n=null!==(l=t.section)&&void 0!==l?l:i;return e[n]=[...null!==(a=e[n])&&void 0!==a?a:[],t],e},{});var d,s,u,c,p,h=Object.keys(a);let n=h.indexOf(i);return -1!==n&&(h.splice(n,1),h.push(i)),(0,l.jsx)(l.Fragment,{children:h.map((n,r)=>{let o=n==i?"":n;return(0,l.jsxs)("div",{children:[a[n].map((i,a)=>(0,l.jsx)(R.ly,{item:i,node:e,nodeData:t},a)),o?(0,l.jsx)("div",{style:{borderBottom:"1px solid "+(0,x.ZP)("separatorColor"),margin:"20px 22px"}}):null]},r)})})}}})})};V.check=(e,t,i)=>{let l;var a=e.type,n=!1;switch(a){case"JsxElement":case"JsxSelfClosingElement":if(i.initialData){var r,o,d,s=null===(d=i.body)||void 0===d?void 0:null===(o=d.find(e=>"prop"==e.type))||void 0===o?void 0:null===(r=o.props)||void 0===r?void 0:r.map(e=>null==e?void 0:e.field),u=Object.keys(t);n=(null==s?void 0:s.filter(e=>!u.includes(e)).length)==0}else n=!0;l=(e.type==i.type||"JsxSelfClosingElement"==e.type)&&t.name==i.id&&n;break;default:l=e.type==i.type&&new RegExp(i.filter.to).test(t.to);for(let e=0;i.filter.params&&l&&e<i.filter.params.length;e++)l=new RegExp(i.filter.params[e]).test(t["param"+(e+1)])}return l};var $={CallExpression:V,JsxElement:V};let q={filterCallback:O.HO,restoreCallback:O.Qq,filterCallbackProp:O.J6,restoreCallbackProp:O.Ey},G=e=>{var t;let i=void 0===(t=Function(e))?void 0:t.call(q);return i};var U=e=>{var t,i;let l={data:e,id:e.id,type:e.type,check:(i,l)=>(null!==(t=$[e.type])&&void 0!==t?t:V).check(i,l,e),getComponent:null!==(i=$[e.type])&&void 0!==i?i:V,getInitialData:()=>e.initialData};return e.filterChildren&&(l.filterChildren=G(e.filterChildren)),e.restoreChildren&&(l.restoreChildren=G(e.restoreChildren)),l},Y=i(74904);let X=e=>{var t,i,a;let{dataNotify:n=()=>{},disableDots:r=!1,bgColor:u="transparent",onShowCode:m=null,sourceCode:v,onSave:x,onPlay:y,onReload:b,disableStart:C=!1,getFirstNode:w=e=>e.find(e=>e.id&&e.id.startsWith("SourceFile")),customComponents:S=[],hideBaseComponents:P=!1,positions:_,autoFitView:D,layout:O,topics:F,flowId:W,display:H=!0,enableCommunicationInterface:B,children:A,showActionsBar:R=!1,zoomOnDoubleClick:M=!0,onSelectionChange:J=()=>{},onEdit:K=()=>{},config:V={},themeMode:$="light",theme:q={},primaryColor:G="#F7B500",disableMiniMap:X=!0,bridgeNode:Q=!1,onViewPortChange:ee=()=>{},defaultViewPort:et={x:100,y:window.innerHeight/4,zoom:.8},path:ei="Start",mode:el="js",nodePreview:ea="flow",metadata:en={},defaultSelected:er=()=>void 0}=e,{data:eo,publish:ed}=F,es=(0,o.useContext)(g.p),eu=(0,o.useRef)(null),ec=(0,o.useRef)(null),ep=es(e=>e.setError),eh=es(e=>e.clearError),eg=es(e=>e.setDataNotify),ef=es(e=>e.initialEdges),em=es(e=>e.setInitialEdges),ev=es(e=>e.initialNodes),ex=es(e=>e.setInitialNodes),ey=es(e=>e.setSaveStatus),eb=es(e=>e.setNodeData),ej=es(e=>e.setNodesData),eC=es(e=>e.setMetadata),ew=es(e=>e.setCurrentPath),ek=es(e=>e.setNodesMetaData),eL=es(e=>e.clearNodesData),eS=es(e=>e.appendCustomComponents),eP=es(e=>e.customComponents),e_=es(e=>e.nodeData),eD=es(e=>e.menuState),eE=[...S,...null!==(a=null==V?void 0:null===(t=V.masks)||void 0===t?void 0:t.map(e=>U(e)))&&void 0!==a?a:[]].filter(e=>e),eN=(0,o.useMemo)(()=>h.$,[]),eZ=(0,o.useMemo)(()=>({custom:e=>(0,L.Z)(e,Q)}),[]),eT={nodePreview:ea,flowsHeight:null===(i=eu.current)||void 0===i?void 0:i.offsetHeight},[eI,ez,eO]=(0,j.ui)(ev,eT),[eF,eW,eH]=(0,j.XD)(ef,eT),[eB,eA]=(0,o.useState)(!1),[eR,eM]=(0,o.useState)((0,z.Yg)(e_)),eJ=(0,o.useRef)(!1),eK=(0,o.useCallback)(e=>eW(t=>(0,j.Df)(e,t)),[eW]),eV=async()=>{eL();let{nodes:e,edges:t,nodeDataTable:i}=await eU();ej(i),eM((0,z.Yg)(i)),ez(e),eW(t),em(t),ex(e)},e$=e=>"json"==el?"("+e+")":e,eq=O||("json"==el?Y.Z.elk:Y.Z.code),eG="json"==el?e=>e.find(e=>e.id&&e.id.startsWith("ObjectLiteralExpression")):w,eU=async()=>{let e;let t=new I.IKL({useInMemoryFileSystem:!0,manipulationSettings:{indentationText:I.xI4.Tab},compilerOptions:{target:I.H7j.Latest,scriptKind:I.hVH.TSX,languageVariant:I.C$L.JSX}}),i=t.createSourceFile("_temp1.tsx",e$(v),{overwrite:!0});if("json"==el){var l,a;let e=null===(a=i.getStatements()[0])||void 0===a?void 0:null===(l=a.getExpression())||void 0===l?void 0:l.getExpression();e&&(i=e)}let n=(e,t,i,l)=>{if(!t(e))return i(e,l,[]);let a=[];return e.forEachChild(e=>{a=a.concat(n(e,t,i,[]))}),i(e,l,a)},r={},o=[],d={},u=n(i,t=>{let i=eN[t.getKindName()];if(i){var l;let a=null!==(l=i.type)&&void 0!==l?l:i;if(a.isShadow&&a.isShadow(t,r,el,o)||e||(e=(0,s.zv)(t)),a.skipTraversal)return!1}return!0},(e,t,i)=>{let l=eN[e.getKindName()];if((null===(u=e.getParent())||void 0===u?void 0:u.getKindName())=="CatchClause"&&"VariableDeclaration"==e.getKindName())return;var a,n=!0;if(l){let i=null!==(p=l.type)&&void 0!==p?p:l;if(i.getData){d[(0,s.zv)(e)]={};var u,c,p,h,g=i.getData(e,r,d,o,el);g={...d[(0,s.zv)(e)],...g,_astNode:e},d[(0,s.zv)(e)]=g,r[(0,s.zv)(e)]=g;let t=(0,Z.Z)({type:e.getKindName()},null!==(h=d[(0,s.zv)(e)])&&void 0!==h?h:{},eE);eb((0,s.zv)(e),g),(null==t?void 0:t.nonDeletable)&&(n=!1)}if((!i.isShadow||!i.isShadow(e,r,el,o))&&(!i.checkCreate||i.checkCreate(e,r))&&("SourceFile"!=e.getKindName()||!C)){let i=(0,s.dS)([0,0],e.getKindName(),(0,s.zv)(e),null,"SourceFile"!=e.getKindName()&&n,o,d[(0,s.zv)(e)]);t=t.concat(i),r[(0,s.zv)(e)]={type:"node",value:i[0]}}}r[(0,s.zv)(e)]||(0==e.getChildren().length?r[(0,s.zv)(e)]={type:"data",value:e.getText(),_astNode:e}:r[(0,s.zv)(e)]=e.forEachDescendant(e=>r[(0,s.zv)(e)]));let f=(0,Z.Z)(null===(c=r[(0,s.zv)(e)])||void 0===c?void 0:c.value,null!==(a=d[(0,s.zv)(e)])&&void 0!==a?a:{},eE),m=(e,t)=>{d[e]=t};f&&f.filterChildren&&m((0,s.zv)(e),{...d[(0,s.zv)(e)],_initialNodes:i,_initialEdges:JSON.parse(JSON.stringify(o))});let v=l&&l.type?l.type:l,x=[...t,...f&&f.filterChildren?f.filterChildren(e,i,o,d,m):i];return v&&v.filterChildren?v.filterChildren(e,x,o,d,m):x},[]).filter(e=>e),c=u;return V&&V.layers&&V.layers.length&&(c=[...c,...V.layers.map(e=>{var t;let i="Layer_"+(0,f.O)();return d[i]=e,(0,s.dS)(null!==(t=e.position)&&void 0!==t?t:[0,0],"Layer",i,{},!1,[],{})[0]})]),{nodes:c,edges:o,nodeDataTable:d}},eY=e=>eI.reduce((t,i)=>{var l;let a=(0,Z.Z)(i,null!==(l=e[i.id])&&void 0!==l?l:{},eE);if(a&&a.restoreChildren){let l=a.restoreChildren(i,t.nodes,e[i.id]._initialNodes,t.edges,ef,e);return l.nodeData||(l.nodeData=t.nodeData),l}return t},{nodes:eI,edges:eF,nodeData:e}),eX=async e=>{var t;let i=eY(Object.assign({},e_));eh();try{t=(0,s.c8)(i.nodes,i.edges,i.nodeData,eG,el),em(i.edges),ex(i.nodes);let l=eI.map(e=>({id:e.id,position:e.position}));!e&&x&&(null==eI?void 0:eI.length)&&x(t,l,{nodesData:e_,nodes:eI})}catch(n){let e=n.codeFrame.split("\n").find(e=>e.startsWith("> ")).split("|");e.shift();let t=n.loc.start.column,i=e.join("|").substr(1,t),l=i.lastIndexOf("/* JSFLOWID("),a=i.substring(l+12).split(")")[0];ey("error"),ep(a)}return t},eQ=async()=>{try{let e=await eX();y&&y(e)}catch(e){console.error(e)}},e0=e=>e.map(e=>{let{draggable:t,height:i,width:l,position:a,selected:n,positionAbsolute:r,dragging:o,data:d,...s}=e,{layouted:u,...c}=d||{layouted:1};return{...s,data:c}}),e1=async()=>{await eW([]),await ez([]),b?b():eV()},e2=(e,t)=>{if(B){var i=t.nodeId,l=t.param,a=t.value;try{a=JSON.parse(a)}catch(e){}switch(e){case"delete-node":let h=t.map(e=>e.id),g=eF.find(e=>h.includes(e.source));n=null==g?void 0:g.target;let f=g?null===(o=eI.find(e=>e.id==g.source))||void 0===o?void 0:o.type:null===(d=t.find(e=>e.id==h[0]))||void 0===d?void 0:d.type;if(r={action:"delete-node",nodesToDelete:h,deletedNodeType:f},"JsxElement"==f){let e=g?Number(g.targetHandle.split("child-")[1]):null;if(e_[n]){let{data:t}=(0,z.ap)(e_[n],e);ej({...e_,[n]:t})}}ed("flow/editor",r);break;case"delete-data":ed("flow/editor",r={action:"delete-data",nodeId:i,param:l});break;case"add-node":let m=t.newEdge,v=t.initialData,x=null==v?void 0:v.name,y=null===(u=t.node)||void 0===u?void 0:u.type;i=t.node.id,n=m.target,l=m.targetHandle.split(n+"-")[1];let b={...e_,[i]:{...v}};r={...r,action:"add-node",nodeId:i,type:y,nodeName:x,parent:n};let j=(0,z.wo)(eI,eF.concat(m),b,i,y);if("JsxElement"==y){let e=(null==l?void 0:l.startsWith("child"))?Number(l.split("child-")[1]):void 0;r={...r,childrenPos:e-1},ej(b={...b,[n]:{...b[n],["child-"+e]:j}})}else{let e,t,i=m.targetHandle.split(n)[1],l=i.slice(0,1),a=i.slice(1),h=b[n];if(l==s.LL.flow){let i=null===(c=h._fallBack)||void 0===c?void 0:c.find(e=>e.fallbackPort==a&&e.portType==l),s=(null==i?void 0:i.preText)+j+(null==i?void 0:i.postText);var n,r,o,d,u,c,p=s.indexOf("=");if(-1===p)return;e=s.substring(0,p).trim(),t=s.substring(p+1).trim()}else if(l==s.LL.data){let i=h[a];e=null==i?void 0:i.key,t=j}r={...r,data:{isAncestorJsxElement:!0,key:e,value:t}}}ed("flow/editor",r);break;case"add-data":ed("flow/editor",r={action:"add-data",nodeId:i,param:l,value:a,isProp:!!t.isProp});break;case"edit-data":ed("flow/editor",r={action:"edit-data",nodeId:i,param:l,value:a,deleteKey:t.deleteKey});break;default:console.error("Communication sender error. Invalid action ".concat(e))}}},e5=e=>{if(e)return e.startsWith("prop-")?e.split("prop-")[1]:e.startsWith("child-")?"children":e},e4=e=>{let t=eF.find(t=>t.targetHandle==e);return t},e3=()=>{if(!B)return;let e=(0,z.Yg)(e_);if(!Object.keys(eR).length)return;let t=c().diff(eR,e);if(t&&!(t.length>1)){if(t.find(e=>"E"==e.kind)){var i,l,a,n;let e,r;let o=t.find(e=>"E"==e.kind),d=o.path[0];if(!eR[d])return;let u=d+s.LL.data+o.path[1];if(e4(u))return;let c=null===(i=eI.find(e=>e.id==d))||void 0===i?void 0:i.type,p={nodeId:d};if("JsxElement"==c||"JsxSelfClosingElement"==c){let t;if("key"==o.path[2]){r=o.rhs;let i=o.lhs,a=o.path[1];e=null===(l=e_[d][a])||void 0===l?void 0:l.value,t=!0,p={...p,deleteKey:i}}else{if(r=e5(o.path[1]),void 0==(e=o.rhs)||!r||"object"==typeof e||"kind"==o.path[2])return;(t=!r.includes("child"))&&(r=null!==(n=null===(a=e_[d]["prop-"+r])||void 0===a?void 0:a.key)&&void 0!==n?n:r)}p={...p,param:r,value:e,isProp:t}}else{let e=(0,z.U7)(d,eF);if(e){r=e.split("-")[2],d=e.split("-")[0];let t=e.split("_")[0],i=(0,z.Nb)(eI,eF,e_,d,t,r);p={...p,nodeId:d,param:r,value:i,isProp:!0}}}e2("edit-data",p)}else if(t.find(e=>"N"==e.kind)){let e;let i=t.find(e=>"N"==e.kind),l=i.path[0];if(!eR[l])return;let a=null===(r=eI.find(e=>e.id==l))||void 0===r?void 0:r.type,n=i.path[1];if("JsxElement"==a||"JsxSelfClosingElement"==a){let t=i.rhs;"object"==typeof t&&(n=n.split("-")[0]+"-"+t.key,t=t.value),n=e5(n);let a=l+s.LL.data+i.path[1];if(e4(a)||void 0==t||!n)return;let r=!n.includes("child");e={nodeId:l,param:n,value:t,isProp:r}}else{let t=(0,z.U7)(l,eF);var r,o=null==t?void 0:t.indexOf("-");if(-1===o||!t)return;let i=t.slice(o+1),a=t.split("-")[0],n=t.split("_")[0],d=e_[a],s=d[i].key,u=(0,z.Nb)(eI,eF,e_,a,n,s);e={nodeId:a,param:s,value:u,isProp:!0}}e2("add-data",e)}else if(t.find(e=>"D"==e.kind)){let e=t.find(e=>"D"==e.kind),i=e.path[0],l=e.lhs.key;e2("delete-data",{nodeId:i,param:l})}}},e6=e=>{var t;let i=null===(t=e[0])||void 0===t?void 0:t.type,l=["ObjectLiteralExpression","ArrowFunction","CallExpression"].includes(i)||e.length<=1;if(!e||!e.length||l)return v;let a=e[0];if(!a)return v;let n=h.$[a.type];n.type&&(n=n.type);let r=n.dump(a,eI,eF,e_);return(0,s.jE)(r,el)},e7=async()=>{try{let e=await eX(!0);void 0!==e?K(e):console.error("There was an error in the code, not emitting")}catch(e){}};if((0,o.useEffect)(()=>{let e=p(e0(ef),e0(eF)),t=p(e0(ev),e0(eI)),i=eI.filter(e=>{var t;return e.id!=(null===(t=w(eI))||void 0===t?void 0:t.id)&&!eF.find(t=>t.source==e.id)&&!e.draggable});i.length&&ez(eI.map(e=>i.find(t=>t.id==e.id)?{...e,draggable:!0}:e));let l=eI.filter(e=>{var t;return e.id!=(null===(t=w(eI))||void 0===t?void 0:t.id)&&eF.find(t=>t.source==e.id)&&e.draggable});l.length&&ez(eI.map(e=>l.find(t=>t.id==e.id)?{...e,draggable:!1}:e)),t&&t.length||e&&e.length?(e&&!t&&(E(eq,eI,eF,ez,eW,eG,ek,e_),eJ.current=!0,em(eF)),R||e7(),eA(!0)):eA(!1),ey(null)},[eI,eF]),(0,o.useEffect)(()=>{eg(n)},[n]),(0,o.useEffect)(()=>{var e;(null===(e=eo[W+"/play"])||void 0===e?void 0:e.ts)&&eQ()},[eo[W+"/play"]]),(0,o.useEffect)(()=>{ew(ei)},[ei]),B){let e={edges:eF,nodeData:e_,nodes:eI,setEdges:eW,createNode:s.dS,setNodeData:eb,setNodes:ez,setNodesData:ej,deleteNodes:z._l,onSaveNodes:eX,_customComponents:eE,flowId:W,data:eo};B(e)}return(0,o.useEffect)(()=>{eE.length!=eP.length&&eS(eE),eC(en)},[eE.length]),(0,o.useEffect)(()=>{v&&eV()},[v]),(0,o.useEffect)(()=>{let e=(0,z.Yg)(e_),t=p(eR,e);(null==t?void 0:t.length)&&(eA(!0),e3(),eM(e),eI.length&&!R&&e7())},[e_]),(0,o.useEffect)(()=>{eI&&eI.length&&eI.filter(e=>e.width&&e.height).length==eI.length&&(E(eq,eI,eF,ez,eW,eG,ek,e_),eJ.current=!0)},[eI.reduce((e,t)=>e+=t.id+" "+(t.width&&t.height?"1":"0")+",","")]),window.reLayout=()=>{E(eq,eI,eF,ez,eW,eG,ek,e_)},(0,l.jsx)("div",{ref:eu,style:{height:"100%",width:"100%"},children:H?(0,l.jsxs)(T.Z,{autoFitView:D,primaryColor:G,defaultSelected:er,onViewPortChange:ee,defaultViewPort:et,themeMode:$,onSelectionChange:e=>J(e6(e),e),nodeTypes:eN,nodes:eI,edges:eF,zoomOnDoubleClick:M,onNodesChange:eO,onEdgesChange:eH,onNodesDelete:e=>e2("delete-node",e),onConnect:eK,edgeTypes:eZ,onInit:e=>{ec.current=e},style:{backgroundColor:u},nodePreview:ea,onNodeInitializationStatusChange:e=>{e&&eJ.current&&E(eq,eI,eF,ez,eW,eG,ek,e_)},componentsMenu:"closed"!=eD?(0,l.jsx)(k,{enabledNodes:"json"==el?["ObjectLiteralExpression","ArrayLiteralExpression"]:["*"],onEditDiagram:async(e,t,i)=>{ez(e),eW(t)},edges:eF,diagramNodes:eI,setNodes:ez,setEdges:eW,setNodeData:eb,nodeData:e_,style:{position:"absolute",top:"0px",left:"0px"},hideBaseComponents:P,customComponents:eE,onAddNode:(e,t,i)=>e2("add-node",{node:e,newEdge:t,initialData:i})}):(0,l.jsx)(l.Fragment,{}),disableDots:r,disableMiniMap:X,theme:q,children:[A,R?(0,l.jsx)(d.s_,{position:"top-center",children:(0,l.jsx)(N,{onSave:eX,onReload:b?e1:null,onShowCode:m||null,hasChanges:eB})}):null]}):(0,l.jsx)(l.Fragment,{})})},Q=e=>{let t=(0,o.useMemo)(g.g,[]);return(0,l.jsx)(g.p.Provider,{value:t,children:(0,l.jsx)(ee,{children:(0,l.jsx)(X,{...e})})})},ee=e=>{let{children:t}=e,[i,o]=(0,a.U)();return(0,l.jsx)(n.G,{onChangeTheme:e=>{o(e)},children:(0,l.jsx)(r.z,{disableRootThemeClass:!0,defaultTheme:i,children:t})})};var et=e=>{let t=(0,m.Ic)(Q,{topics:[e.flowId+"/play",e.flowId+"/ui","savenodes"]});return e.path&&(e.path.endsWith(".json")?e.mode="json":(e.path.endsWith("yml")||e.path.endsWith("yaml"))&&(e.mode="yaml")),(0,l.jsx)(m.US,{children:(0,l.jsx)(t,{...e})})};let ei=e=>(0,m.Ic)(Q,{topics:[e+"/play",e+"/ui","savenodes"]})},30690:function(e,t,i){"use strict";i.d(t,{FW:function(){return E},IS:function(){return z},_t:function(){return F},kz:function(){return O},sS:function(){return N}});var l=i(52322),a=i(2784),n=i(10729),r=i(41447),o=i(94533);i(2003);var d=i(43134),s=i(64920),u=i(49968),c=i(56826),p=i(53600),h=i(64509),g=i(45823),f=i(77044),m=i(6226),v=i(72405),x=i(57451),y=i(33248),b=i(60884),j=i(88724),C=i(11001),w=i(13153),k=i(63044),L=i(95602),S=i(86486),P=i(43911),_=i(33361),D=i(69685);let E=(e,t,i)=>i.find(i=>i.targetHandle=="".concat(e).concat(d.LL.data).concat(t)),N=55,Z=e=>{let{id:t,left:i=!1,field:n}=e,r=(0,a.useContext)(g.p),o=r(e=>e.deletePropNodeData);return(0,l.jsx)("div",{id:"deleteButton-"+t+n,style:{display:"flex",alignSelf:"center",cursor:"pointer"},onClick:()=>{o(t,n)},children:(0,l.jsx)(j.Z,{size:(0,v.ZP)("nodeFontSize"),color:(0,v.ZP)("colorError"),style:{marginRight:i?"7px":"2px"}})})},T=e=>{let{id:t,disabled:i,post:n=e=>e,pre:o=e=>e,onBlur:d,field:s,children:u,style:c={},editing:p=!1}=e,h=(0,a.useContext)(g.p),f=h(e=>e.setNodeData),{setNodes:m}=(0,_.vM)(),x=h(e=>null!==(b=e.nodeData[t])&&void 0!==b?b:{}),y=h(e=>e.dataNotify);var b,j=o(x[s]);let[C,w]=a.useState(j),k=(0,v.ZP)("nodeFontSize"),L=a.useRef();a.useEffect(()=>{if(L.current&&p){var e;null===(e=L.current)||void 0===e||e.focus()}},[p]);let S=e=>{y({...e,notifyId:x._dataNotifyId})};return(0,a.useEffect)(()=>{w(j)},[x[s]]),(0,l.jsx)("div",{className:"nodrag",style:{flex:1},children:(0,l.jsxs)("div",{style:{flex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,l.jsx)(r.Z,{ref:L,onFocus:()=>{m(e=>{let i=[...e];i=i.map(e=>(e.hasOwnProperty("selected")&&delete e.selected,e));let l=i.findIndex(e=>e.id==t);return i[l]={...i[l],selected:!0},i})},onBlur:()=>{i||(f(t,{...x,[s]:n(C)}),S({id:t,paramField:s,newValue:C})),d&&d(C)},readOnly:i,style:{fontSize:k+"px",fontWeight:"medium",...c},value:C,placeholder:"default",onChange:e=>w(e.target.value)}),u]})})},I=e=>{var t,i,r,s,h,x,y,j,E,N,I;let z;let{id:O,param:W,index:H=0,portId:B=null,editing:A=!1,onRequestEdit:R=e=>{},onCancelEdit:M=()=>{}}=e,J=(0,a.useContext)(g.p),K=J(e=>e.setNodeData),V=J(e=>e.dataNotify);J(e=>e.deletePropNodeData);let $=J(e=>null!==(s=e.nodeData[O])&&void 0!==s?s:{}),q=(0,_.yt)(),G=q.find(e=>e.targetHandle=="".concat(O).concat(d.LL.data).concat(W.field)),U="child"==W.fieldType,Y="parameter"==W.fieldType,X="prop"==W.fieldType,Q=a.useRef(),ee=a.useRef(),et=W.pre?W.pre:e=>e,ei=W.post?W.post:e=>e,el=W.keyPre?W.keyPre:e=>e,ea=W.keyPost?W.keyPost:e=>e,en=(0,v.ZP)("inputBorder"),er=(0,v.ZP)("textColor"),eo=(0,v.ZP)("inputBackgroundColor"),ed=(0,v.ZP)("interactiveColor"),es=(0,v.ZP)("nodeFontSize"),eu=e=>{V({...e,notifyId:$._dataNotifyId})},[ec,ep]=a.useState(!1),[eh,eg]=a.useState("string"==typeof(y=$[W.field])||y instanceof String?"true"==y:y),ef=(null===(t=W.data)||void 0===t?void 0:t.min)!=void 0?W.data.min:0,em=null===(i=W.data)||void 0===i?void 0:i.defaultValue,ev=null!==(x=null!==(h=null===(r=$[W.field])||void 0===r?void 0:r.value)&&void 0!==h?h:$[W.field])&&void 0!==x?x:null!=em?em:ef,[ex,ey]=a.useState(et(ev)),eb="default"==W.field,ej="call"==W.fieldType||"clause"==W.fieldType,eC=(0,v.ZP)("borderColor"),ew=(0,v.ZP)("borderWidth"),ek=(0,v.ZP)("handleBorderColor");(0,v.ZP)("dataOutputColor");let eL=(0,v.ZP)("dataPort"),eS=a.useRef();return(0,l.jsxs)("div",{style:{alignItems:"stretch",flexBasis:"auto",flexShrink:0,listStyle:"none",position:"relative",display:"flex",zIndex:"select"==W.type||"colorPicker"==W.type?1100:0,flexDirection:"column"},children:[eb?null:(0,l.jsxs)("div",{ref:eS,style:{flex:1,fontSize:es+"px",padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row",alignItems:"stretch"},children:[(0,l.jsxs)("div",{className:"handleKey",ref:ee,style:{display:"flex",flexDirection:"row",alignItems:"center",flex:2},children:[(null==W?void 0:W.deleteable)&&U?(0,l.jsx)(Z,{id:O,left:!0,field:W.field}):null,(z=null!==(j=null==W?void 0:W.label)&&void 0!==j?j:W.field,(Y||X)&&!W.static&&!W.staticLabel&&(z=el(null!==(N=null===(E=$[W.field])||void 0===E?void 0:E.key)&&void 0!==N?N:""),A)?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(T,{editing:A,id:O,post:e=>{var t,i;return{key:ea(e),value:null!==(i=null===(t=$[W.field])||void 0===t?void 0:t.value)&&void 0!==i?i:""}},pre:()=>{var e;return el(null!==(I=null===(e=$[W.field])||void 0===e?void 0:e.key)&&void 0!==I?I:"")},field:W.field,onBlur:e=>{e&&M()},style:{marginRight:"16px"}})}):(0,l.jsx)(o.Z,{adaptiveSize:!0,onClick:()=>{(Y||X)&&R(W)},style:{marginRight:"12px",textAlign:"left",whiteSpace:"nowrap",cursor:"pointer"},children:null!=z?z:" "}))]}),(0,l.jsxs)("div",{className:"handleValue",title:W.description,style:{minWidth:"180px",marginRight:"10px",display:"flex",flexDirection:"row",justifyContent:"boolean"==W.type?"flex-end":"",alignItems:"center",flex:3},children:[(e=>{var t,i,n,r,d,s,p,h,g;switch(W.type){case"select":let f=null===(t=W.data)||void 0===t?void 0:t.map((e,t)=>{var i=(null==e?void 0:e.color)?{color:e.color}:{};return{label:null!=e?e:"default",value:e,...i}});return(0,l.jsx)("div",{style:{flex:1,zIndex:1e3},children:(0,l.jsx)(b.Z,{value:(0,D.oe)(W.field,$),onChange:e=>{K(O,{...$,[W.field]:(0,D.Jf)(null==e?void 0:e.value,W.field,$)}),eu({id:O,paramField:W.field,newValue:null==e?void 0:e.value})},defaultValue:{value:(0,D.oe)(W.field,$),label:(0,D.oe)(W.field,$)},options:f})});case"select-multi":let v=null===(i=W.data)||void 0===i?void 0:i.map((e,t)=>{var i=e.color?{color:e.color}:{};return{label:e,value:e,...i}});return(0,l.jsx)("div",{style:{zIndex:1e3},children:(0,l.jsx)(c.ZP,{components:{DropdownIndicatorMulti:e=>u.c.DropdownIndicator&&(0,l.jsxs)(u.c.DropdownIndicator,{...e,children:[" ",(0,l.jsx)(C.Z,{size:"15px"})," "]})},menuPlacement:"top",onChange:e=>{let t=e.map(e=>e.value.replace(/"/g,""));K(O,{...$,dataValues:t}),eu({id:O,paramField:W.field,newValue:t})},className:"nodrag",options:v,styles:{control:(e,t)=>({...e,backgroundColor:eo,borderColor:t.isSelected?en:"transparent",textColor:er,width:"fit-content"}),singleValue:(e,t)=>{let{data:i}=t;return{...e,fontSize:"12px",minWidth:"95px",textAlign:"left",color:er}},menu:e=>({...e,color:er,backgroundColor:eo})},isMulti:!0})});case"colorPicker":let x=$[W.field]?et($[W.field]):"#404040";return(0,l.jsxs)("div",{style:{cursor:"pointer"},children:[(0,l.jsx)("div",{style:{width:"36px",height:"36px",backgroundColor:x,border:ec?ew+" solid "+eC:"1px #cccccc solid",borderRadius:5},onClick:()=>{ep(!ec)}}),(0,l.jsx)("div",{style:{cursor:"pointer",position:"absolute",zIndex:1100},children:ec?(0,l.jsx)(m.xS,{className:"nodrag",color:x,onChangeComplete:e=>{eu({id:O,paramField:W.field,newValue:{r:e.rgb.r,g:e.rgb.g,b:e.rgb.b,a:e.rgb.a}}),K(O,{...$,[W.field]:(0,D.Jf)(e.hex,W.field,$)})}}):null})]});case"range":let y=(null===(n=W.data)||void 0===n?void 0:n.max)!=void 0?W.data.max:100,j=(null===(r=W.data)||void 0===r?void 0:r.step)!=void 0?null===(d=W.data)||void 0===d?void 0:d.step:1;return(0,l.jsxs)(l.Fragment,{children:[W.hideLabel?null:(0,l.jsx)("div",{style:{fontSize:"14px",position:"relative",top:"3px",width:18*y.toString().length,textAlign:"left"},children:ei(ex)}),(0,l.jsx)("input",{type:"range",style:{width:"100%",marginTop:"6px",accentColor:ed,height:"5px",borderWidth:"4px solid blue",backgroundColor:eo,borderRadius:"10px"},step:j,onChange:e=>ey(e.target.value),onMouseUp:()=>{eu({id:O,paramField:W.field,newValue:ex}),K(O,{...$,[W.field]:(0,D.Jf)(ei(ex),W.field,$)})},value:ex,min:ef,max:y})]});case"boolean":return(0,l.jsx)("span",{ref:Q,children:(0,l.jsx)("input",{type:"checkbox",onChange:()=>{eu({id:O,paramField:W.field,newValue:!eh}),K(O,{...$,[W.field]:(0,D.Jf)(!eh,W.field,$)}),eg(!eh)},checked:!!eh,style:{all:"revert",width:es,margin:"2px 0px 2px 0px",accentColor:ed,transform:"scale(".concat(es/15,")"),marginRight:"5px"}})});default:let _=null===(s=$[W.field])||void 0===s?void 0:s.kind,E={StringLiteral:w.Z,NumericLiteral:k.Z,TrueKeyword:L.Z,ObjectLiteralExpression:S.Z,FalseKeyword:L.Z};return(0,l.jsxs)(l.Fragment,{children:[_&&E[_]?(0,l.jsx)("div",{style:{padding:"8px",justifyContent:"center",position:"absolute",zIndex:100,cursor:"pointer"},onClick:()=>{K(O,{...$,[W.field]:{...$[W.field],kind:Object.keys(E)[(Object.keys(E).indexOf(_)+1)%(Object.keys(E).length-1)]}})},children:a.createElement(E[_],{size:16,color:ed})}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)(T,{id:O,post:e=>(0,D.Jf)(ei(e),W.field,$),pre:e=>et(null!==(g=null!==(h=null==e?void 0:e.value)&&void 0!==h?h:e)&&void 0!==g?g:""),options:null===(p=W.data)||void 0===p?void 0:p.options,field:W.field,onBlur:W.onBlur,disabled:e||W.isDisabled,style:{marginRight:["case","child"].includes(W.fieldType)?"20px":"0px",paddingLeft:_&&E[_]?"30px":void 0},children:W.error?(0,l.jsxs)("div",{style:{alignItems:"center",marginTop:"5px",display:"flex"},children:[(0,l.jsx)(P.Z,{size:"14px",color:"red",style:{alignSelf:"center",marginRight:"5px"}}),(0,l.jsx)(o.Z,{style:{color:"red",fontSize:"12px"},children:W.error})," "]}):null})]})}})(G),(null==W?void 0:W.deleteable)&&!U?(0,l.jsx)(Z,{id:O,field:W.field}):null]})]}),W.additionalHandlePort?(0,l.jsx)(p.iU,{type:"target",style:{top:"16px"},position:"RIGHT"==f.Hd?n.Ly.Left:n.Ly.Right,id:"".concat(null!=B?B:O).concat(d.LL.data).concat(W.field).concat(d.LL.data).concat(W.additionalHandlePort),allowedTypes:["data"]}):null,W.static||ej?null:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(p.iU,{position:"RIGHT"==f.Hd?n.Ly.Left:n.Ly.Right,id:"".concat(null!=B?B:O).concat(d.LL.data).concat(W.field),label:"",nodeId:O,type:"target",style:{marginTop:W.additionalHandlePort?"14px":""},allowedTypes:["data"]})}),"error"==W.type?(0,l.jsx)(n.HH,{type:"source",title:f.te?"".concat(null!=B?B:O).concat(d.LL.data).concat(W.field):void 0,style:{width:"15px",height:"15px",backgroundColor:eL,marginRight:"-4px",border:ew+"solid "+ek},position:"RIGHT"==f.Hd?n.Ly.Left:n.Ly.Right,id:"".concat(null!=B?B:O).concat(d.LL.data).concat(W.field)}):null,"clause"==W.fieldType?(0,l.jsx)(F,{id:"".concat(null!=B?B:O).concat(d.LL.flow).concat(W.field),type:"output",style:{top:"26px"},label:eb?"Default":void 0,isConnected:!!G}):null,"call"==W.fieldType?(0,l.jsx)(F,{id:O,handleId:"call",type:"input",style:{top:"26px"},isConnected:!!q.find(e=>e.targetHandle=="".concat(O).concat(d.LL.flow).concat(W.field))}):null]})},z=e=>{let{id:t,param:i,position:r=null,style:s={},isConnected:u=!1,dataOutput:c=x.f.data}=e,{getEdges:h}=(0,_.vM)(),m=(0,p.SY)(h(),"".concat(t).concat(d.LL.data,"output")),b=c==x.f.data?(0,v.ZP)("dataPort"):c==x.f.block?(0,v.ZP)("blockPort"):(0,v.ZP)("flowPort"),j=(0,a.useContext)(g.p),C=j(e=>e.flowInstance),w=(0,v.ZP)("portSize"),k=(0,v.ZP)("nodeBorderColor"),L=(0,v.ZP)("nodeBorderWidth");return(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",zIndex:222},children:[i.label?(0,l.jsx)("div",{style:{padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row"},children:(0,l.jsx)(o.Z,{style:{marginRight:"12px"},children:i.label})}):null,(0,l.jsx)(n.HH,{type:"source",style:{marginLeft:-w/4,width:w+"px",height:w+"px",backgroundColor:b,top:w/2+10,border:L+" solid "+k,...s},position:null!=r?r:"LEFT"==f.Hd?n.Ly.Left:n.Ly.Right,title:f.te?"".concat(t).concat(d.LL.data,"output"):void 0,id:"".concat(t).concat(d.LL.data,"output"),isConnectable:!m,isValidConnection:e=>{let t=(0,y.i)(C,e.targetHandle,[]);if(-1==t.indexOf(c))return!1;let i=(0,p.SY)(h(),e.targetHandle);return!i}})]})},O=e=>{let{mode:t="column",id:i,params:n,boxStyle:r={},children:o=null,portId:d=null}=e,[s,u]=a.useState(""),[c,p]=a.useState(null);return(0,a.useEffect)(()=>{if((!s||n)&&n.length&&n.find(e=>e.field==s)||u(""),null!==c){let e=n.find(e=>!c.includes(e.field));e&&u(e.field)}p(n.map(e=>e.field))},[n]),(0,l.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:t,...r},children:[n.map((e,t)=>(0,l.jsx)(I,{onCancelEdit:()=>u(""),editing:e.field==s,onRequestEdit:e=>s?null:u(e.field),id:i,param:e,index:t,portId:d},t)),o]})},F=e=>{let{id:t,type:i,style:a,handleId:r,label:o,isConnected:s=!1,position:u=null,allowedTypes:c=["block","data","flow"]}=e,h=null!=u?u:"RIGHT"==f.Hd?n.Ly.Left:n.Ly.Right;return(0,l.jsx)(p.iU,{position:h,id:"".concat(t).concat(d.LL.flow).concat(null!=r?r:i),type:i,style:{...a,marginLeft:h==n.Ly.Left?-4:0},label:o,isConnected:s,nodeId:t,allowedTypes:c})};t.ZP=(0,h.Ic)(e=>{var t,i,r,o,d;let{adaptiveTitleSize:u=!0,modeParams:c="column",mode:h="column",draggable:m=!0,icon:v=null,container:y=!1,title:b="",children:j,isPreview:C=!1,id:w,params:k=[],output:L={label:"",field:"value",type:"output"},color:S,node:P,skipCustom:D=!1,topics:E,style:N={},dataOutput:Z=x.f.data,contentStyle:T={}}=e,I=(0,a.useContext)(g.p),F=I(e=>null!==(r=e.nodeData[w])&&void 0!==r?r:{}),W=I(e=>e.customComponents),H=(0,_.yt)();(0,p.S5)(H,w);let B=a.useRef(),A=()=>{if(B.current){let e=B.current.querySelectorAll(".handleKey"),t=0;e.forEach(e=>{var i;let l=null===(i=e.firstElementChild)||void 0===i?void 0:i.offsetWidth;l>t&&(t=l)}),e.forEach(e=>{e.style.width=t+15+"px"})}};if((0,a.useEffect)(()=>A(),[]),!D){let e=(0,s.Z)(P,F,W),t=null==e?void 0:e.getComponent(P,F,E,e);if(t)return t}let R=!1;for(let e in j)(null===(d=j[e])||void 0===d?void 0:null===(o=d.type)||void 0===o?void 0:o.name)=="HandleOutput"&&(R=!0);let M={};w||(M.minWidth="200px"),P&&P.data&&P.data.width&&(M.minWidth=P.data.width+"px"),P&&P.data&&P.data.height&&(M.minHeight=P.data.height+"px");let J=null==F?void 0:null===(t=F._metadata)||void 0===t?void 0:t.layouted;return P.id&&!J&&(M.opacity="0"),console.log("meta data: ",null==F?void 0:F._metadata),(0,l.jsx)(p.ZP,{adaptiveTitleSize:u,mode:h,contentStyle:T,draggable:m,icon:v,container:y,title:b,isPreview:C,id:w,color:S,node:P,style:{...N,...M},headerContent:(0,l.jsx)(l.Fragment,{children:R||C||!L?null:(0,l.jsx)(z,{position:(null==F?void 0:null===(i=F._metadata)||void 0===i?void 0:i.outputPos)=="right"?n.Ly.Right:void 0,id:w,param:L,dataOutput:Z})}),children:(0,l.jsxs)("div",{ref:B,children:[f.te?(0,l.jsx)("div",{children:w}):null,!C&&k?(0,l.jsx)(O,{mode:c,id:w,params:k}):null,C?null:j]})},J?"rendered":"loading")})},12041:function(e,t,i){"use strict";i.d(t,{Z:function(){return b}});var l=i(52322),a=i(2784),n=i(10729),r=i(70283),o=i(17736),d=i(45823),s=i(33361);let u={maxHistorySize:100,enableShortcuts:!1};var c=function(){let{maxHistorySize:e=u.maxHistorySize,enableShortcuts:t=u.enableShortcuts}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,i=(0,a.useContext)(d.p),l=i(e=>e.nodeData),n=i(e=>e.setNodesData),[r,o]=(0,a.useState)([]),[c,p]=(0,a.useState)([]),{setNodes:h,setEdges:g,getNodes:f,getEdges:m,deleteElements:v}=(0,s.vM)(),x=(0,a.useCallback)(t=>{o(i=>[...i.slice(i.length-e+1,i.length),{nodes:f(),edges:m(),nodeData:t||l}]),p([])},[f,m,e]),y=async e=>{var t,i,l,a,n=null!==(l=null===(t=r[r.length-1])||void 0===t?void 0:t.nodeData)&&void 0!==l?l:{},o=null!==(a=null===(i=c[c.length-1])||void 0===i?void 0:i.nodeData)&&void 0!==a?a:{};if((Object.keys(n).length||"undo"!=e)&&(Object.keys(o).length||"redo"!=e))return await h([])},b=(0,a.useCallback)(()=>{let e=r[r.length-1];e&&(o(e=>e.slice(0,e.length-1)),p(e=>[...e,{nodes:f(),edges:m(),nodeData:l}]),h(e.nodes),g(e.edges),Object.keys(e.nodeData).length&&n(e.nodeData))},[h,g,f,m,r,n]),j=(0,a.useCallback)(()=>{let e=c[c.length-1];e&&(p(e=>e.slice(0,e.length-1)),o(e=>[...e,{nodes:f(),edges:m(),nodeData:l}]),h(e.nodes),g(e.edges),Object.keys(e.nodeData).length&&n(e.nodeData))},[h,g,f,m,c,n]);return{undo:b,redo:j,takeSnapshot:x,canUndo:!r.length,canRedo:!c.length,clearNodes:y}},p=i(45054),h=e=>{let{onSelectionChange:t}=e;return(0,n.AQ)({onChange:e=>{let{nodes:i,edges:l}=e;return t(i,l)}}),(0,l.jsx)(l.Fragment,{})},g=i(92467),f=i(15729);let m=(0,g.Z)(e=>({zoom:0,setZoom:t=>e((0,f.ZP)(e=>{e.zoom=t}))}));var v=e=>{let{zoom:t}=e;try{m(e=>e.setZoom),(0,n.oR)(e=>e.transform[2])}catch(e){console.error(e)}return(0,l.jsx)(l.Fragment,{})},x=i(64509);let y=a.forwardRef((e,t)=>{var i,u;let{componentsMenu:g=(0,l.jsx)(l.Fragment,{}),disableMiniMap:f=!1,disableDots:m=!1,zoomOnDoubleClick:x=!0,edgeTypes:y=[],nodeTypes:b=[],edges:j=[],nodes:C=[],onInit:w=e=>{},autoFitView:k=!1,onNodesChange:L=()=>{},onEdgesChange:S=()=>{},onConnect:P=()=>{},style:_={},onSelectionChange:D=()=>{},onNodeClick:E=()=>{},onNodesDelete:N,children:Z=null,topics:T,themeMode:I="light",theme:z={},primaryColor:O="#ccc",defaultViewPort:F={x:100,y:window.innerHeight/4,zoom:.8},onViewPortChange:W=()=>{},nodePreview:H="flow",defaultSelected:B=()=>void 0,onNodeInitializationStatusChange:A=e=>void 0}=e,R=(0,a.useRef)(null),M=(null===(u=R.current)||void 0===u?void 0:null===(i=u.getBoundingClientRect())||void 0===i?void 0:i.height)>0,J=(0,a.useContext)(d.p),K=J(e=>e.nodeData),V=J(e=>e.setThemeMode),[$,q]=(0,a.useState)([]),{project:G,setViewport:U,getNodes:Y,getViewport:X,setCenter:Q,setEdges:ee,getEdges:et,setNodes:ei}=(0,s.vM)(),el=(0,n.B)();(0,a.useEffect)(()=>A(el),[el]);let{undo:ea,redo:en,takeSnapshot:er,clearNodes:eo}=c(),ed=(0,a.useRef)(null),es=J(e=>e.setMenu),eu=J(e=>e.setNodeData),[ec,ep]=(0,a.useState)([]),{data:eh,publish:eg}=T,ef="preview"===H,em=(0,a.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},[]),ev=(0,a.useCallback)(()=>{er()},[er]),ex=(0,a.useCallback)(()=>{er()},[er]),ey=(0,a.useCallback)(e=>{N(e),er()},[er,eg]),eb=e=>{e.forEach(e=>{let t=e.target,i=K[t],l=e.targetHandle.replace(t,"").slice(1),a=b[t.split("_")[0]];a.type&&(a=a.type),l&&(a.onDeleteConnection?eu(t,a.onDeleteConnection(i,l)):eu(t,{...i,[l]:""}))})},ej=(0,a.useCallback)(e=>{eb(e),er()},[er,K]),eC=(0,a.useCallback)((e,t)=>{ed.current=t},[]),ew=(0,a.useCallback)(e=>{var t;let i=e.target.classList.contains("react-flow__pane");i&&(null===(t=ed.current)||void 0===t?void 0:t.handleType)=="target"&&es("open",[e.clientX,e.clientY],{target:ed.current.nodeId,targetHandle:ed.current.handleId})},[G]),ek=()=>{ee(e=>e.map(e=>({...e,hidden:!1}))),ei(e=>e.map(e=>({...e,hidden:!1})))},eL=e=>{let t=[e],i=et().filter(t=>t.target==e);return i.length&&i.forEach(e=>{t=t.concat(...eL(e.source))}),t},eS=e=>{let t=eL(e);ee(e=>e.map(e=>({...e,hidden:!t.includes(e.target)}))),ei(e=>e.map(e=>({...e,hidden:!t.includes(e.id)})))},eP=e=>{e&&(ee(e=>e.map(e=>({...e,hidden:!0}))),ei(t=>t.map(t=>({...t,hidden:t.id!=e}))))},e_=(0,a.useCallback)(e=>{setTimeout(()=>{var t,i;let l=Y().find((t,i)=>t.id==e);if(!l)return;let a=null===(t=R.current)||void 0===t?void 0:t.offsetWidth;if(!a)return;let n=null===(i=R.current)||void 0===i?void 0:i.offsetHeight,r=l.position.x+l.width/2,o=l.position.y+n/2-(ef?10:50);Q(r,o,{zoom:1,duration:ef?1:500})},80)},[Q,H,C]),eD=()=>{switch(H){case"preview":eP(ec[0]);break;case"flow-preview":eS(ec[0]);break;case"flow":ek();break;default:console.error("Unauthorized value for nodePreview: ",H)}};return(0,p.Z)(["z","Z"],async e=>{if(M){if(("z"==e.key||"Z"==e.key)&&(e.ctrlKey||e.metaKey)&&e.shiftKey)return e.preventDefault(),await eo("redo"),en();if(("z"==e.key||"Z"==e.key)&&(e.ctrlKey||e.metaKey))return e.preventDefault(),await eo("undo"),ea()}}),(0,a.useEffect)(()=>{V(I,z,O)},[I,z,O]),(0,a.useEffect)(()=>{$.push(K),q($),R.current&&(R.current.nodeData=K)},[K]),(0,a.useEffect)(()=>{var e,t,i;if(!document.activeElement)return;let l=null===(e=document.activeElement.id)||void 0===e?void 0:e.includes("input"),a=null===(t=document.activeElement.id)||void 0===t?void 0:t.includes("select"),n=null===(i=document.activeElement.id)||void 0===i?void 0:i.includes("delete-button"),r=$[$.length-2];r&&(a||l||n)&&Object.keys(r).length&&er(r)},[document.activeElement]),(0,a.useEffect)(()=>{var e;let t=null===(e=eh.zoomToNode)||void 0===e?void 0:e.id;if(t){if(ec[0]==t)return;ec[0]=t,ep([...ec])}},[eh.zoomToNode]),(0,a.useEffect)(()=>{let e=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting&&!1==R.current.open&&!ec[0]&&(ec[0]=B(R.current.nodeData),ep([...ec])),R.current&&(R.current.open=t.isIntersecting)},{threshold:.5});return R.current&&e.observe(R.current),()=>{e.disconnect()}},[]),(0,a.useEffect)(()=>{eD(),e_(ec[0])},[H,ec[0]]),(0,l.jsxs)("div",{style:{width:"100%",height:"100%"},ref:t,children:[(0,l.jsx)(h,{onSelectionChange:D}),(0,l.jsx)("div",{style:{height:"100%"},ref:R,children:(0,l.jsxs)(n.x$,{onMoveEnd:e=>W(X()),defaultViewport:F,proOptions:{hideAttribution:!0},nodeTypes:b,nodes:C,edges:j,fitView:k,fitViewOptions:{maxZoom:.5},zoomOnDoubleClick:x,onNodesChange:L,onEdgesChange:S,onConnectStart:eC,onConnectEnd:ew,onConnect:e=>{er(),P(e)},onNodeDragStart:ev,onSelectionDragStart:ex,onNodesDelete:ey,onEdgesDelete:ej,onNodeClick:E,style:{cursor:"pointer",..._},onDragOver:em,edgeTypes:y,zoomOnScroll:"preview"!==H,panOnDrag:"preview"!==H,minZoom:.05,maxZoom:2,onInit:e=>{w(e)},children:[f?null:(0,l.jsx)(r.a,{zoomable:!0,pannable:!0}),m?null:(0,l.jsx)(o.A,{}),(0,a.cloneElement)(g,{takeSnapshot:er,reactFlowWrapper:R}),Z,(0,l.jsx)(v,{zoom:F.zoom})]})})]})});var b=a.memo((0,x.Ic)(e=>{var t;let i=(0,a.useRef)(null);return(0,l.jsx)(s.NH.Provider,{value:{nodePreview:e.nodePreview,flowsHeight:null===(t=i.current)||void 0===t?void 0:t.offsetHeight},children:(0,l.jsx)(n.tV,{children:(0,l.jsx)(y,{ref:i,...e})})})},{topics:["zoomToNode","flow/editor"]}))},53600:function(e,t,i){"use strict";i.d(t,{S5:function(){return b},SY:function(){return y},iU:function(){return x}});var l=i(52322),a=i(2784),n=i(94533),r=i(10729),o=i(5392),d=i.n(o),s=i(45823),u=i(77044),c=i(33361),p=i(72405),h=i(2003),g=i(33248),f=i(34389),m=i(86130),v=i(57643);let x=e=>{var t,i;let{id:o,type:d,style:m,label:v,isConnected:x=!1,nodeId:b,position:j=r.Ly.Right,allowedTypes:C}=e,w=(0,a.useRef)(),k=(0,a.useRef)(),L=(0,a.useContext)(s.p),S=L(e=>e.setMenu),P=L(e=>e.flowInstance),_=j==r.Ly.Right?"-".concat(160,"px"):"25px",D=(0,c.yt)(),E=y(D,o),N=(0,p.ZP)("portSize"),Z=(0,p.ZP)("plusColor"),T=(0,p.ZP)("nodeBorderColor"),I=(0,p.ZP)("nodeBorderWidth"),z=(null===(t=D[0])||void 0===t?void 0:t.data)&&(null===(i=D[0])||void 0===i?void 0:i.data.preview)=="node",O=()=>{S("open",[(null==k?void 0:k.current.getBoundingClientRect().right)+200,(null==k?void 0:k.current.getBoundingClientRect().top)-30],{targetHandle:o,target:b})},F=C?C.includes("block")?(0,p.ZP)("blockPort"):(0,p.ZP)("flowPort"):null;return 1==C.length&&C.includes("data")&&(F=(0,p.ZP)("dataPort")),a.useEffect(()=>{(0,g.c)(P,o,C)},[C]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(r.HH,{ref:k,tabIndex:E?-1:0,title:u.te?o:void 0,onClick:()=>O(),onKeyDown:e=>"Enter"==e.code?O():null,type:"target",position:j,style:{backgroundColor:F,display:z?"none":"flex",flexDirection:"row",alignItems:"center",border:I+" solid "+T,width:N+"px",height:N+"px",marginLeft:"",marginRight:Math.floor(-(N/3.5*1))+"px",cursor:"pointer",...m},id:o,isConnectable:!E,isValidConnection:e=>{let t=e.source.split("_")[0],i=h.$[t];if(i){var l;let e=null!==(l=i.type)&&void 0!==l?l:i,t=e&&e.dataOutput?e.dataOutput:"data";if(-1==C.indexOf(t))return!1}let a=y(D,e.sourceHandle);return!a},children:[v?(0,l.jsx)("div",{style:{display:"flex",width:"".concat(160,"px"),marginLeft:_,zIndex:-1,justifyContent:"flex-end"},children:(0,l.jsx)(n.Z,{ref:w,style:{marginRight:"5px",textAlign:j==r.Ly.Right?"right":"left"},children:v})}):null,E?null:(0,l.jsx)("div",{style:{pointerEvents:"none",width:N+"px",height:N+"px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(f.Z,{color:Z,size:10,strokeWidth:5})})]})})},y=(e,t)=>e.find(e=>e.targetHandle==t||e.sourceHandle==t),b=(e,t)=>e.find(e=>e.target==t||e.source==t);t.ZP=(0,a.memo)(e=>{var t;let{adaptiveTitleSize:i=!0,mode:r="column",draggable:o=!0,icon:c=null,container:h=!1,title:g="",children:f,isPreview:x=!1,id:y,color:b="white",node:j,headerContent:C=null,style:w={},contentStyle:k={}}=e,L=(0,a.useContext)(s.p),S=L(e=>e.errorData),P=(0,a.useRef)(),_=(0,a.useRef)(),D=(null==j?void 0:null===(t=j.data)||void 0===t?void 0:t.preview)=="node",E=y&&y==S.id,N=!y||-1==y.indexOf("_"),Z=(0,p.ZP)("colorError");b=E?Z:!x&&N?d().scale([b,"white"])(.5).hex():b;let T=d().scale([b,"black"])(.6).hex(),I=(0,p.ZP)("titleColor"),z=(0,p.ZP)("borderColor"),O=E?Z:z,F=(0,p.ZP)("borderWidth"),W=(0,p.ZP)("nodeBackgroundColor"),H=(0,v.XI)(P),B=(0,p.ZP)("nodeFontSize")/100*100,A=(0,p.ZP)("selectedColor"),R="12px ";if(j&&j.data&&j.data.flowsHeight&&D){let e=j.data.flowsHeight-20;k.height=e+"px",k.maxHeight=e+"px",k.overflow="scroll",k.overflowX="hidden"}return(0,l.jsxs)("div",{id:y,ref:P,style:{display:"flex",minHeight:x?"30px":"80px",flexDirection:r,borderRadius:13,textAlign:"center",fontSize:(0,p.ZP)("nodeFontSize"),boxShadow:D||h?"none":!x&&(null==j?void 0:j.selected)?"0px 0px 0px 2px "+A:(0,m.p)(H?10:3),cursor:D?"default":void 0,...w},className:o?"":"nodrag",children:[(g||C)&&!D?(0,l.jsxs)("div",{ref:_,style:{display:"flex",backgroundColor:b,borderRadius:x?"8px":"column"==r?R+R+" 0px 0px":R+"0px 0px "+R,borderBottom:"column"!=r||x?"0px":F+" solid "+O,paddingBottom:"10px",justifyContent:"center"},children:[c&&"LEFT"==u.Hd?(0,l.jsx)("div",{style:{display:"flex",right:"15px",position:"absolute",top:"8px"},children:a.createElement(c,{size:y?B:"18px",color:T})}):null,g?(0,l.jsx)(n.Z,{style:{fontSize:y?B:"18px",padding:"0px 10px 0px 10px",color:I,flex:1,textAlign:"center",alignSelf:"center",position:"relative",top:"4px",fontFamily:"Jost-Medium",maxWidth:"15ch",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:g}):null,c&&"RIGHT"==u.Hd?(0,l.jsx)("div",{style:{display:"flex",left:"10px",position:"absolute",top:"8px"},children:a.createElement(c,{size:y?B:"18px",color:T})}):null,C]}):null,x?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)("div",{className:D?"nowheel":"",style:{borderRadius:"0px 0px "+R+R,backgroundColor:h?"transparent":W,flex:1,paddingTop:"0.5ch",paddingBottom:"0.5ch",...k},children:f})]})})},41447:function(e,t,i){"use strict";i.d(t,{Z:function(){return y}});var l=i(52322),a=i(2784),n=i(72405),r=i(84291),o=i(52026),d=i(6364),s=i(56701),u=i(66754),c=i(59240);let p=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$true",i=arguments.length>1?arguments[1]:void 0,{props:l}=i,a=(0,s.f)(t,i),n=(0,u.H)(t,i),r=null!==(e=l.rows)&&void 0!==e?e:l.numberOfLines,d="number"==typeof r?r*(0,o.getVariableValue)(n.lineHeight):"auto",p=(0,c.Pj)(t,{shift:-2,bounds:[2]}),h=(0,c.Pj)(t,{shift:-1,bounds:[2]});return{...a,...n,paddingVertical:p,paddingHorizontal:h,height:d}};i(79711);let h=e=>{let{value:t}=e;return(0,l.jsx)("option",{value:t})},g={size:"$true",fontFamily:"$body",borderWidth:1,outlineWidth:0,color:"$color",...o.isWeb?{tabIndex:0}:{focusable:!0},borderColor:"$borderColor",backgroundColor:"$background",minWidth:0,hoverStyle:{borderColor:"$borderColorHover"},focusStyle:{outlineColor:"$borderColorFocus",outlineWidth:2,outlineStyle:"solid",borderColor:"$borderColorFocus"}},f=(0,o.styled)(e=>{let{children:t,listProps:i={},options:a=[],...n}=e,r="input-select-"+(0,d.Z)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{list:r,...n,style:{fontSize:n.fontSize,...n.style}}),(0,l.jsx)("div",{...i,style:{maxHeight:"40px"},children:(0,l.jsxs)("datalist",{className:"datalist",id:r,children:[t,a.map((e,t)=>(0,l.jsx)(h,{value:e},t))]})})]})},{name:"Input",acceptsClassName:!0,variants:{unstyled:{false:g},size:{"...size":function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$true",i=arguments.length>1?arguments[1]:void 0;if(i.props.multiline||i.props.numberOfLines>1)return p(t,i);let l=(0,s.f)(t,i),a=(0,c.Pj)(t,{shift:-1,bounds:[2]}),n=(0,u.H)(t,i);return!o.isWeb&&n&&delete n.lineHeight,{...n,fontSize:null!==(e=n.fontSize.val)&&void 0!==e?e:n.fontSize,...l,paddingHorizontal:a}}}},defaultVariants:{unstyled:!1}},{isInput:!0}),m=f.styleable((e,t)=>{let i=(0,r.kp)(e,t);return(0,l.jsx)(f,{...i})}),v=(0,o.withStaticProperties)(m,{Option:h}),x=a.forwardRef((e,t)=>{let i=(0,n.ZP)("nodeBorderColor");return(0,l.jsx)(v,{unstyled:!0,...e,ref:t,style:{fontSize:(0,n.ZP)("nodeFontSize"),fontFamily:"Jost-Regular",border:(0,n.ZP)("inputBorder"),color:e.readOnly?(0,n.ZP)("disableTextColor"):(0,n.ZP)("textColor"),backgroundColor:(0,n.ZP)("inputBackgroundColor"),padding:"0.35ch",paddingLeft:"1ch",borderRadius:"0.5ch",display:"flex",flex:1,width:"100%",boxSizing:"border-box",cursor:e.readOnly?"grab":"text",...e.style},onFocus:t=>{t.currentTarget.style.boxShadow="inset 0px 0px 0px 2px "+i,e.onFocus&&e.onFocus(t)},onBlur:t=>{t.currentTarget.style.boxShadow="",e.onBlur&&e.onBlur(t)},children:e.children})});var y=x},60884:function(e,t,i){"use strict";var l=i(52322);i(2784);var a=i(72405),n=i(81395);t.Z=e=>{var t;let i=t=>{let i=t.target.value;e.onChange({label:i,value:i})};return(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsxs)("select",{value:e.defaultValue.value,onClick:i,onChange:i,style:{width:"100%",boxSizing:"border-box",backgroundColor:(0,a.ZP)("inputBackgroundColor"),color:(0,a.ZP)("textColor"),fontFamily:"Jost-Regular",fontSize:(0,a.ZP)("nodeFontSize"),border:(0,a.ZP)("inputBorder"),padding:"0.35ch",paddingLeft:"1ch",paddingRight:"1ch",flex:1,display:"flex",borderRadius:"0.5ch",appearance:"none"},children:[(0,l.jsx)("option",{value:"",disabled:!0,selected:(null==e?void 0:e.value)===void 0,children:"Select an option"}),null===(t=e.options)||void 0===t?void 0:t.map((e,t)=>(0,l.jsx)("option",{value:e.value,children:e.label},t))]}),(0,l.jsx)(n.Z,{style:{position:"absolute",right:"10px",top:(0,a.ZP)("nodeFontSize")/2,pointerEvents:"none"}})]})}},94533:function(e,t,i){"use strict";var l=i(52322);i(2784);var a=i(72405);t.Z=e=>{let t=(0,a.ZP)("nodeFontSize");return(0,l.jsx)("span",{...e,style:{whiteSpace:"nowrap",textOverflow:"ellipsis",fontFamily:"Jost-Regular",paddingLeft:"0.4em",paddingRight:"0.4em",fontSize:t+"px",color:(0,a.ZP)("textColor"),...e.style},title:e.children,children:e.children})}},72405:function(e,t,i){"use strict";i.d(t,{H:function(){return v},o9:function(){return m},v8:function(){return y},we:function(){return x}});var l=i(2784),a=i(45823),n=i(2003),r=i(50841),o=i.n(r),d=i(55230);let s={nodeBorderWidth:"1px",nodeFontSize:20,nodeEdgeWidth:3,nodeEdgeStyle:"7 5"};s.portSize=20,s.borderWidth=0,s.borderWidthSelected=0,s.borderRadiusSelected=13;let u="#888",c={light:{...s,nodePalette:{gamut:{hue:20,saturation:30,value:90},custom:{}},plusColor:"#999",edgeColor:"#888",nodeBackgroundColor:"#fdfdfd",inputBackgroundColor:"white",inputBorder:"1px solid #ccc",textColor:"#666",selectedColor:"#2680EB",disableTextColor:"#ccc",interactiveColor:"#4fc2f7",interactiveHoverColor:"rgba(79, 194, 247, 0.1)",borderColor:"#888",colorError:"#EF4444",handleBorderColor:"white",flowOutputColor:"white",dataOutputColor:"black",highlightInputBackgroundColor:"#F1F1F1",blockPort:"#fefefe",flowPort:"#fefefe",dataPort:"#fefefe",nodeBorderColor:"#aaa",titleColor:"#333",containerColor:"#00000005",separatorColor:"#D4D4D4",borderColorSelected:"#222",boxShadowSelected:""},dark:{...s,nodePalette:{gamut:{hue:20,saturation:60,value:90},custom:{}},plusColor:"white",handleBorderColor:"black",edgeColor:u,nodeBackgroundColor:"#303030",inputBackgroundColor:"#404040",inputBorder:"0",textColor:"#e5e5e5",selectedColor:"#2680EB",disableTextColor:"grey",interactiveColor:"#4772b3",interactiveHoverColor:"#252525",borderColor:u,colorError:"#EF4444",flowOutputColor:"grey",dataOutputColor:"black",highlightInputBackgroundColor:"#222222",blockPort:"black",flowPort:"grey",dataPort:"grey",nodeBorderColor:u,titleColor:"black",containerColor:"#FFFFFF05",separatorColor:"#424242",borderColorSelected:"white",boxShadowSelected:""}},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=(0,l.useContext)(a.p),n=i(e=>e.themeMode),r=i(e=>e.themeOverride),o={...c[n],...r};try{let t=o[e];return t}catch(e){return t}},h=Object.keys(n.Z),g=h.length,f=(e,t,i)=>{let l=Math.max(void 0!==e?h.indexOf(e):i,0),a=100*(g/(l+1))+t.hue%100;return"#"+o().hsv.hex(a,t.saturation,t.value)},m=(e,t)=>{let i=p("nodePalette",{}),l=i.gamut,a=100*(t/((e<0?0:e)+1))+l.hue%100;return"#"+o().hsv.hex(a,l.saturation,l.value)},v=e=>{let t=p("nodePalette",{});return e&&t.custom[e]?t.custom[e]:f(e,t.gamut)},x=e=>{let t=p("nodePalette",{});return f(void 0,t.gamut,e)},y=()=>{let e=p("nodePalette",{}),t=(0,l.useContext)(a.p),i=t(e=>e.primaryColor),n=t(e=>e.themeMode);return"dark"==n?"#"+o().hsv.hex((0,d.Vi)(i).hue(),e.gamut.saturation-10,e.gamut.value+5):"#"+o().hsv.hex((0,d.Vi)(i).hue(),e.gamut.saturation,e.gamut.value)};t.ZP=p},74904:function(e,t,i){"use strict";i.d(t,{Z:function(){return g}});var l=i(96325),a=i.n(l),n=i(77044);let r={"elk.algorithm":"layered","elk.direction":n.Hd,"elk.layered.considerModelOrder.strategy":"NODES_AND_EDGES","elk.hierarchyHandling":"SEPARATE_CHILDREN","elk.layered.crossingMinimization.forceNodeModelOrder":!0,"elk.layered.crossingMinimization.strategy":"LAYER_SWEEP","elk.layered.spacing.nodeNodeBetweenLayers":"350","elk.spacing.nodeNode":"160"},o=function(e){var t;arguments.length>1&&void 0!==arguments[1]&&arguments[1];let i=arguments.length>2?arguments[2]:void 0,l=i.filter(t=>t.target==e.id).length;return{layoutOptions:(null===(t=e.children)||void 0===t?void 0:t.length)?r:{},id:e.id,width:e.width+40*Math.max(0,l-1),height:e.height,children:e.children?e.children.map((e,t)=>o(e,t,i)):[]}},d=async(e,t,i)=>{let l=new(a()),n={id:"root",layoutOptions:{...r,"elk.hierarchyHandling":"INCLUDE_CHILDREN"},children:e.map(e=>o(e,0,t)),edges:[]},d=(e=>{let i=[],l=(e,a,n)=>{let r={...e};if(delete r.children,n&&(r.parentNode=n),i.push(r),e.children&&e.children.length){let i=t.find(t=>t.source==e.children[0].id);if(i){let l=JSON.parse(JSON.stringify(i));l.source=e.id,l.sourceHandle=e.id+"-output",t.push(l)}e.children.forEach(t=>l(t,a,e.id))}};return e.forEach(e=>l(e,n,null)),i})(e);t.filter(e=>d.find(t=>t&&t.id==e.source)&&d.find(t=>t&&t.id==e.target)).sort((e,t)=>{let i=e.targetHandle.split("_"),l=t.targetHandle.split("_"),a=i[i.length-1],n=l[l.length-1];if(a.startsWith("block")&&n.startsWith("block")&&e.target==t.target){let e=parseInt(a.substr(5),10),t=parseInt(n.substr(5),10);return e-t}return 0}).forEach((e,t)=>{n.edges.push({id:e.id,sources:[e.source],targets:[e.target]})}),await l.layout(n),n.children[0];var s={};let u=e=>e.forEach(e=>{let t=d.find(t=>t.id==e.id);if(t){s[t.id]={layouted:!0};let i=e.x,l=e.y;t.position={x:i,y:l},e.children&&e.children.length&&(t.data.height=e.height,t.data.width=e.width)}e&&e.children&&u(e.children)});return u(n.children),{nodes:d,edges:t,metadata:s}};var s=i(2003);let u=(e,t,i)=>{let l=e.filter(e=>t.find(t=>t.source==e.id&&t.target==i.id)).map(e=>({node:e,edge:t.find(t=>t.source==e.id&&t.target==i.id)}));return l};function c(e){return new Promise(t=>setTimeout(t,e))}let p=function(e,t,i){var l,a,n;let r,o,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{x:0},g=u(e,t,i),f=s.$[i.type];if(i.position={x:d.x,y:d.y},i.data={...i.data,layouted:!0},f){let e=null!==(l=f.type)&&void 0!==l?l:f;e&&e.getPosition&&(d=e.getPosition(d,i.type))}let m=d.y,v=d.x,x=i.width;if(f){let e=null!==(a=f.type)&&void 0!==a?a:f;e&&e.getWidth&&(x=e.getWidth(i))}let y=1,b=1;if(f){let e=null!==(n=f.type)&&void 0!==n?n:f;if(e&&e.getSpacingFactor){let{factorX:t,factorY:l}=e.getSpacingFactor(i);y=t,b=l}}let j=x+120*y;d.x+=j;let C=[],w=0;g.forEach(async l=>{if(f){var a;let e=null!==(a=f.type)&&void 0!==a?a:f;e&&e.getChildPosition&&(d=e.getChildPosition(i,d,{x:v,y:m},l,i.type))}r={...d},o={x:0},p(e,t,l.node,d,c,o),C.push({pos:{...r},delta:{x:r.x-i.position.x,y:r.y-m},width:o.x-h.x,height:d.y-m,node:l}),o.x>w&&(w=o.x)}),h.x+=j+w,c[i.id]={layouted:!0,childWidth:h.x,childHeight:d.y-m,childHeights:C},d.x-=x+120*y;let k="Block"==i.type||"CaseClause"==i.type||"DefaultClause"==i.type?c[i.id].childHeight?c[i.id].childHeight+100:0:i.height;return d.y+=d.y-m>k+100*b?0:k+100*b-(d.y-m),c},h=async(e,t,i)=>{let l=e.map(e=>({...e}));await c(1);let a=p(l,t,i);return await c(1),{nodes:l,edges:t,metadata:a}};var g={elk:d,code:h}},54398:function(e,t,i){"use strict";i.d(t,{D:function(){return f}});var l=i(52322),a=i(2784),n=i(72405),r=i(45823),o=i(38519),d=i(13153),s=i(63044),u=i(95602),c=i(86486),p=i(73429),h=i(41447),g=i(69685);let f=()=>["input"];t.Z=e=>{var t;let{nodeData:i={},item:f,node:m}=e,v=(0,a.useContext)(r.p),x=v(e=>e.setNodeData),{field:y,label:b,type:j,menuActions:C}=f,w=i[y],k=(0,g.oe)(y,i),[L,S]=(0,a.useState)(k),P={StringLiteral:d.Z,NumericLiteral:s.Z,TrueKeyword:u.Z,ObjectLiteralExpression:c.Z,FalseKeyword:u.Z,Identifier:p.Z},_=Object.keys(P).filter(e=>"Identifier"!=e),D=_[0],E=null!==(t=null==w?void 0:w.kind)&&void 0!==t?t:D,N=e=>{x(m.id,{...i,[y]:(0,g.Jf)(e,y,i)})},Z=()=>{x(m.id,{...i,[y]:{...w,kind:_[(_.indexOf(E)+1)%(_.length-1)]}})};return(0,l.jsx)(o.Jf,{label:b,input:(()=>{{var e;let t=_.includes(E),i="detailed"==(0,g.Ql)(y);return(0,l.jsxs)(l.Fragment,{children:[P[E]&&i?(0,l.jsx)("div",{style:{padding:"8px",justifyContent:"center",position:"absolute",zIndex:100,cursor:t?"pointer":""},onClick:t?Z:null,children:a.createElement(P[E],{size:16,color:t?(0,n.ZP)("interactiveColor"):(0,n.ZP)("disableTextColor")})}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)(h.Z,{onBlur:()=>N(L),style:{fontSize:(0,n.ZP)("nodeFontSize"),fontWeight:"medium",paddingLeft:i?"38px":void 0},options:null===(e=f.data)||void 0===e?void 0:e.options,value:L,placeholder:"default",onChange:e=>S(e.target.value)})]})}})(),menuActions:C})}},38519:function(e,t,i){"use strict";i.d(t,{Jf:function(){return Q},ly:function(){return X},Ep:function(){return Y},aP:function(){return U}});var l=i(52322),a=i(2784),n=i(72405),r=i(94533),o=i(45823),d=i(34854),s=i(47416),u=i(76588),c=i(51619),p=i(62200),h=i(34550),g=i(27995),f=i(34498),m=i(40971),v=i(11059),x=i(51801),y=i(35034),b=i(3368),j=i(76515),C=i(12966),w=i(33511),k=i(97894),L=i(69685);let S=()=>["alignment-text","alignment-items","alignment-flex","alignment-content"];var P=e=>{let{nodeData:t={},item:i,node:r}=e,S=(0,a.useContext)(o.p),P=S(e=>e.setNodeData),_=S(e=>e.deletePropNodeData),D=(0,n.ZP)("interactiveColor"),E=(0,n.ZP)("disableTextColor"),{field:N,label:Z,type:T,fieldType:I,menuActions:z}=i,O=N.replace(I+"-",""),F=(0,L.oe)(N,t),W=function(){var e,i;let l="0deg",a=!!(null===(i=t["prop-flexDirection"])||void 0===i?void 0:null===(e=i.value)||void 0===e?void 0:e.startsWith("row"));return a&&(l="alignItems"==O?"90deg":"-90deg"),l}(),H=e=>F==e?D:E,B=e=>{F==e?_(r.id,N):P(r.id,{...t,[N]:(0,L.Jf)(e,N,t)})},A=e=>{let{icon:t,name:i,rotate:n="0deg"}=e;return(0,l.jsx)("div",{title:i,style:{cursor:"pointer",rotate:n},onClick:()=>B(i),children:a.createElement(t,{color:H(i)})})};return(0,l.jsx)(Q,{label:Z,input:(()=>{switch(T){case"alignment-text":return(0,l.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,l.jsx)(A,{icon:d.Z,name:"left"}),(0,l.jsx)(A,{icon:s.Z,name:"center"}),(0,l.jsx)(A,{icon:u.Z,name:"right"}),(0,l.jsx)(A,{icon:c.Z,name:"justify"})]});case"alignment-items":return(0,l.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,l.jsx)(A,{rotate:W,icon:p.Z,name:"start"}),(0,l.jsx)(A,{rotate:W,icon:h.Z,name:"center"}),(0,l.jsx)(A,{rotate:W,icon:g.Z,name:"end"}),(0,l.jsx)(A,{rotate:W,icon:f.Z,name:"stretch"})]});case"alignment-flex":return(0,l.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,l.jsx)(A,{icon:m.Z,name:"row"}),(0,l.jsx)(A,{icon:v.Z,name:"row-reverse"}),(0,l.jsx)(A,{icon:x.Z,name:"column"}),(0,l.jsx)(A,{icon:y.Z,name:"column-reverse"})]});case"alignment-content":return(0,l.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,l.jsx)(A,{rotate:W,icon:b.Z,name:"start"}),(0,l.jsx)(A,{rotate:W,icon:j.Z,name:"center"}),(0,l.jsx)(A,{rotate:W,icon:C.Z,name:"end"}),(0,l.jsx)(A,{rotate:W,icon:w.Z,name:"space-between"}),(0,l.jsx)(A,{rotate:W,icon:k.Z,name:"space-around"})]})}})(),menuActions:z})},_=i(6226),D=i(41447),E=i(86838),N=i(2350),Z=i(25228),T=i(16399);let I=e=>{let{onPress:t=e=>{},selected:i=!1,...a}=e;return(0,l.jsx)("div",{onClick:t,style:{padding:"5px",backgroundColor:i?(0,n.ZP)("interactiveColor"):(0,n.ZP)("inputBackgroundColor"),display:"flex",alignContent:"center",alignItems:"center"},...a})},z=()=>["color","color-theme"];var O=e=>{var t,i,d,s;let{nodeData:u={},node:c,item:p}=e,{resolvedTheme:h}=(0,T.P)(),g=null!=h?h:"light",f=g.charAt(0).toUpperCase()+g.slice(1),m="10"+f,v=(0,a.useContext)(o.p),x=v(e=>e.setNodeData),y=v(e=>e.metadata),b=null==y?void 0:null===(t=y.tamagui)||void 0===t?void 0:t.color,j=(0,n.ZP)("nodeFontSize"),C=(0,n.ZP)("textColor"),w=["blue","gray","green","orange","pink","purple","red","yellow"],{field:k,label:S,type:P,menuActions:z}=p,O=(0,L.oe)(k,u),[W,H]=(0,a.useState)(O),[B,A]=a.useState(!1),R={default:{card:{background:"transparent",border:"0px",boxShadow:"none"}}},M=e=>{e&&(x(c.id,{...u,[k]:(0,L.Jf)(e,k,u)}),H(e))};return(0,l.jsx)(Q,{label:S,menuActions:z,input:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(E.J2,{onOpenChange:A,open:B,placement:"left-start",children:[(0,l.jsx)(E.J2.Trigger,{children:(0,l.jsx)("div",{style:{width:"28px",height:"28px",cursor:"pointer",backgroundColor:O?"color-theme"==P?null===(i=b[O+m])||void 0===i?void 0:i.val:null!==(s=null===(d=b[O+f])||void 0===d?void 0:d.val)&&void 0!==s?s:O:"",borderRadius:4,zIndex:10,position:"absolute",marginLeft:"5px",border:O?"":"1px solid "+C,top:"13px"}})}),(0,l.jsx)(E.J2.Content,{marginRight:"20px",space:0,width:"250px",shadowRadius:"$4",shadowColor:"black",shadowOpacity:.6,bc:(0,n.ZP)("nodeBackgroundColor"),children:(()=>{if("color-theme"===P){let e=w.map(e=>{var t;return null===(t=b[e+m])||void 0===t?void 0:t.val});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{width:"100%",padding:"6px"},children:(0,l.jsx)(r.Z,{style:{fontFamily:"Jost-Medium",fontSize:"16px",paddingLeft:0,alignSelf:"flex-start"},children:"Choose a Theme"})}),(0,l.jsx)(_.Lf,{styles:R,triangle:"hide",onChangeComplete:e=>{let t=F(e.hsl),i=Object.keys(b).find(e=>b[e].val==t&&e.endsWith(m)&&!e.startsWith("$")),l=null==i?void 0:i.replace(m,"");M(null!=l?l:e.hex)},width:"220px",colors:e})]})}{let[e,t]=a.useState("theme"),i=w.map(e=>Object.keys(b).filter(t=>t.startsWith(e)&&t.endsWith(f)).map(e=>b[e].val)).flat(1);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{style:{height:"380px"},children:[(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",padding:"6px"},children:[(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,l.jsx)(r.Z,{style:{fontFamily:"Jost-Medium",fontSize:"16px",paddingLeft:0},children:"Choose a Color"}),(0,l.jsx)(r.Z,{style:{color:"gray",fontSize:"14px",paddingLeft:0,textAlign:"left"},children:"theme"==e?"Theme Color":"Custom Color"})]}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"row",borderRadius:"6px",overflow:"hidden",height:"28px"},children:[(0,l.jsx)(I,{selected:"theme"==e,onPress:()=>t("theme"),children:(0,l.jsx)(N.Z,{size:"16px",color:(0,n.ZP)("textColor"),fillOpacity:0})}),(0,l.jsx)(I,{selected:"custom"==e,onPress:()=>t("custom"),children:(0,l.jsx)(Z.Z,{size:"16px",color:(0,n.ZP)("textColor"),fillOpacity:0})})]})]}),"theme"==e?(0,l.jsx)("div",{style:{height:"280px",marginTop:"5px",overflowY:"scroll"},children:(0,l.jsx)(_.Lf,{styles:R,triangle:"hide",onChangeComplete:e=>{let t=F(e.hsl),i=Object.keys(b).find(e=>b[e].val==t&&e.endsWith(f)),l=null==i?void 0:i.replace(f,"");M(null!=l?l:e.hex)},width:"220px",colors:i})}):(0,l.jsx)(_.xS,{color:W,onChangeComplete:e=>{M(e.hex)},styles:{default:{picker:{background:"transparent",border:"0px",boxShadow:"none",width:"210px"}}}})]})})}})()})]}),(0,l.jsx)(D.Z,{onBlur:()=>M(W),style:{fontSize:j+"px",fontWeight:"medium",paddingLeft:"38px"},value:W,placeholder:"default",onChange:e=>H(e.target.value)})]})})};function F(e){let{h:t,s:i,l,a}=e,n=1==i?100:(100*i).toFixed(1),r=(100*l).toFixed(1),o="hsl(".concat(Math.round(t),", ").concat(n,"%, ").concat(r,"%)");return o}let W=()=>["range-theme","range-px","range"];var H=e=>{var t,i,r,d,s,u,c,p,h,g,f,m;let{nodeData:v={},item:x,node:y}=e,b=(0,a.useContext)(o.p),j=b(e=>e.setNodeData),C={"range-theme":{pre:e=>"$"==e[0]?e.split("$")[1]:e,post:e=>"$"+e,max:20,min:0,kind:"StringLiteral"},"range-px":{pre:e=>"p"==e[e.length-2]&&"x"==e[e.length-1]?e.slice(0,-2):e,post:e=>e+"px",max:100,min:0,kind:"StringLiteral"},default:{pre:e=>e,post:e=>e,max:100,min:0,step:1,kind:"NumericLiteral"}},{field:w,label:k,type:S,data:P,menuActions:_}=x,D=(0,L.oe)(w,v),E={...C[S],...P},N=null!==(c=null==E?void 0:E.pre)&&void 0!==c?c:null===(t=C.default)||void 0===t?void 0:t.pre,Z=null!==(p=null==E?void 0:E.post)&&void 0!==p?p:null===(i=C.default)||void 0===i?void 0:i.post,T=null!==(h=null==E?void 0:E.max)&&void 0!==h?h:null===(r=C.default)||void 0===r?void 0:r.max,I=null!==(g=null==E?void 0:E.min)&&void 0!==g?g:null===(d=C.default)||void 0===d?void 0:d.min,z=null!==(f=null==E?void 0:E.step)&&void 0!==f?f:null===(s=C.default)||void 0===s?void 0:s.step,O=null!==(m=null==E?void 0:E.kind)&&void 0!==m?m:null===(u=C.default)||void 0===u?void 0:u.kind,F=e=>{j(y.id,{...v,[w]:(0,L.Jf)(e,w,v,{kind:O})})};return(0,l.jsx)(Q,{label:k,input:(()=>{let[e,t]=a.useState(N(null!=D?D:"D.")),i=D?e:"D.";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{fontSize:"14px",position:"relative",top:"3px",width:18*T.toString().length,textAlign:"left",color:(0,n.ZP)("textColor")},children:Z(i)}),(0,l.jsx)("input",{type:"range",style:{width:"100%",marginTop:"6px",accentColor:D?(0,n.ZP)("interactiveColor"):(0,n.ZP)("disableTextColor"),height:"5px",borderWidth:"4px solid blue",backgroundColor:(0,n.ZP)("separatorColor"),borderRadius:"10px"},step:z,onChange:e=>t(e.target.value),onMouseUp:()=>F(Z(e)),value:i,min:I,max:T})]})})(),menuActions:_})},B=i(8939),A=i(66306);let R=()=>["toggle-boolean"];var M=e=>{let{nodeData:t={},item:i,node:d}=e,s=(0,a.useContext)(o.p),u=s(e=>e.setNodeData),{resolvedTheme:c}=(0,T.P)(),{field:p,label:h,type:g,menuActions:f}=i,m=(0,L.oe)(p,t),v=e=>{u(d.id,{...t,[p]:(0,L.Jf)(e,p,t,{kind:"FalseKeyword"})})},x=(0,n.ZP)("inputBorder").split(" ")[0],y=(0,n.ZP)("inputBorder").split(" ")[2],b=e=>{let{itemValue:t,onPress:i,defaultValue:a=!1}=e,o=m==t,d="light"==c;return(0,l.jsx)(A.zx,{onPress:()=>i(t),f:1,chromeless:!o,backgroundColor:o&&d?y:void 0,size:"$3",height:"34px",borderRadius:"$1",fontSize:"$4",children:(0,l.jsx)(r.Z,{style:{color:o?o&&d?(0,n.ZP)("textColor"):"":(0,n.ZP)("disableTextColor")},children:t?"true":"false"})})};return(0,l.jsx)(Q,{label:h,input:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e=>{let{defaultValue:t=!1,values:i}=e;return(0,l.jsx)(B.sL,{width:"100%",height:"38px",space:"4px",paddingHorizontal:"2px",backgroundColor:(0,n.ZP)("inputBackgroundColor"),borderWidth:x,borderColor:y,alignItems:"center",justifyContent:"space-around",borderRadius:"$2",children:i.map(e=>(0,l.jsx)(b,{defaultValue:t,itemValue:e,onPress:v}))})},{values:[!1,!0]})}),menuActions:f})},J=i(54398),K=i(60884);let V=()=>["select"];var $=e=>{let{nodeData:t={},item:i,node:n}=e,r=(0,a.useContext)(o.p),d=r(e=>e.setNodeData),{field:s,label:u,type:c,data:p,menuActions:h}=i,g=(0,L.oe)(s,t),f=(null!=p?p:[]).map(e=>({label:e,value:e})),m=e=>{d(n.id,{...t,[s]:(0,L.Jf)(e,s,t)})};return(0,l.jsx)(Q,{label:u,input:(0,l.jsx)("div",{style:{width:"100%"},children:(0,l.jsx)(K.Z,{onChange:e=>m(e.value),defaultValue:{value:g,label:g},options:f})}),menuActions:h})},q=i(11006),G=i(9944);let U=e=>{var t,i;let l=null!==(i=null===(t=e.find(e=>"custom-field"==e.type))||void 0===t?void 0:t.data)&&void 0!==i?i:[],a=l.map(e=>e.field);return[...a]},Y=()=>{let e=S(),t=z(),i=W(),l=R(),a=(0,J.D)(),n=V();return[...e,...t,...i,...l,...a,...n]},X=e=>{let{item:t,node:i,nodeData:n}=e,r=(0,a.useContext)(o.p),d=r(e=>e.deletePropNodeData);var s,u,c={...t,menuActions:[{text:"Default Value",icon:q.Z,action:()=>{d(i.id,t.field)}}]};switch((null===(s=n[t.field])||void 0===s?void 0:s.kind)=="Identifier"&&(c.type="input"),(null!==(u=c.type)&&void 0!==u?u:"").split("-")[0]){case"alignment":return(0,l.jsx)(P,{node:i,item:c,nodeData:n});case"color":return(0,l.jsx)(O,{node:i,item:c,nodeData:n});case"range":return(0,l.jsx)(H,{node:i,item:c,nodeData:n});case"toggle":return(0,l.jsx)(M,{node:i,item:c,nodeData:n});case"select":return(0,l.jsx)($,{node:i,item:c,nodeData:n});case"input":return(0,l.jsx)(J.Z,{node:i,item:c,nodeData:n});default:return(0,l.jsx)(l.Fragment,{})}},Q=e=>{let{label:t,input:i,menuActions:o}=e,d=(0,n.ZP)("nodeFontSize"),[s,u]=a.useState(!1);return(0,l.jsx)("div",{style:{alignItems:"stretch",flexBasis:"auto",flexShrink:0,listStyle:"none",position:"relative",display:"flex",flexDirection:"column"},children:(0,l.jsxs)("div",{style:{fontSize:d+"px",padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row",alignItems:"stretch"},children:[(0,l.jsx)("div",{className:"handleKey",style:{display:"flex",flexDirection:"row",alignItems:"center",flex:2,overflow:"hidden"},children:(0,l.jsx)(r.Z,{title:t,style:{textOverflow:"ellipsis",overflow:"hidden"},children:t})}),(0,l.jsx)("div",{className:"handleValue",style:{minWidth:"180px",marginRight:"10px",display:"flex",flexDirection:"row",alignItems:"center",flex:3},children:i}),o?(0,l.jsxs)(E.J2,{onOpenChange:u,open:s,placement:"left",children:[(0,l.jsx)(E.J2.Trigger,{children:(0,l.jsx)("div",{onClick:()=>u(!0),style:{padding:"4px",justifyContent:"center",cursor:"pointer",position:"absolute",right:0,alignSelf:"center",zIndex:10},children:(0,l.jsx)(G.Z,{size:16,color:(0,n.ZP)("textColor")})})}),(0,l.jsx)(E.J2.Content,{padding:0,space:0,shadowRadius:"$4",shadowColor:"black",shadowOpacity:.6,bc:(0,n.ZP)("nodeBackgroundColor"),children:o.map((e,t)=>(0,l.jsxs)(B.sL,{gap:"$2",ml:"$1",o:1,br:"$5",ai:"center",p:"$3",als:"flex-start",cursor:"pointer",onPress:t=>{e.action(),u(!1)},hoverStyle:{backgroundColor:(0,n.ZP)("interactiveColor")},children:[a.createElement(e.icon,{size:"16px",strokeWidth:2}),(0,l.jsx)(r.Z,{style:{fontSize:"16px",fontFamily:"Jost-Medium"},children:e.text})]},t))})]}):(0,l.jsx)(l.Fragment,{})]})})}},45927:function(e,t,i){"use strict";i.d(t,{Nl:function(){return r},Yc:function(){return d},m1:function(){return o}});var l=i(6364),a=i(43134),n=i(18292);let r=(e,t,i,a)=>({id:(0,l.Z)(),source:e,sourceHandle:t,target:i,targetHandle:a,animated:!1,type:"custom"}),o=(e,t,i,l)=>!!l.find(l=>{let n=l.sourceHandle==(0,a.zv)(e)+i+t||l.targetHandle==(0,a.zv)(e)+i+t;return n}),d=(e,t,i)=>{var l=[];let a={id:(0,n.O)(),source:t,sourceHandle:t+"-output",target:e.target,targetHandle:e.targetHandle,type:"custom"};if(l.push(a),i){let a={id:(0,n.O)(),source:e.source,sourceHandle:e.sourceHandle,target:t,targetHandle:t+i,type:"custom"};l.push(a)}return l}},29392:function(e,t,i){"use strict";i.d(t,{MR:function(){return o},Nb:function(){return m},U7:function(){return f},Yg:function(){return h},_l:function(){return p},ap:function(){return r},cV:function(){return d},lh:function(){return u},lm:function(){return s},ro:function(){return c},wo:function(){return g}});var l=i(2003),a=i(18292),n=i(20477);let r=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,l=Object.keys(t).reduce((l,a)=>{if(!a.startsWith("child-"))return{...l,[a]:t[a]};{let n=Number(a.split("child-")[1]);return n===i?(e=t[a],l):n>i?{...l,["child-"+(n-1)]:t[a]}:{...l,[a]:t[a]}}},{});return{data:l,deletedElementData:e}},o=(e,t,i)=>{var l,a=null===(l=Object.keys(e))||void 0===l?void 0:l.filter(e=>e.startsWith("child-")).length;return[...Object.keys(e),"child-"+(a+1)].reduce((l,a)=>{if(a.startsWith("child-")){let n=Number(a.split("child-")[1]);if(n===t)return{...l,["child-"+t]:i};if(n>t)return{...l,["child-"+n]:e["child-"+(n-1)]}}return{...l,[a]:e[a]}},{})},d=function(e,t,i,l){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=[];if(e.forEach(e=>{let t={...e},a=Number(t.targetHandle.split(i+"-child-")[1]),d=Number(t.targetHandle.split(n+"-child-")[1]);a?a>l?(t.targetHandle=i+"-child-"+(a-1),o.push(t)):a<l&&o.push(t):(d&&d>r-1&&(t.targetHandle=n+"-child-"+(d+1)),o.push(t))}),n&&r){let e={id:(0,a.O)(),targetHandle:n+"-child-"+r,target:n,source:t,sourceHandle:t+"-output",animated:!1,type:"custom"};o.push(e)}return o},s=(e,t,i,l)=>{let n=[];e.forEach(e=>{let t={...e};if(t.targetHandle.startsWith(i+"-child-")&&!(t.targetHandle.split(i+"-child-")[1]<l)){let e=t.targetHandle.split(i+"-child-")[1];e>=l&&(t.targetHandle=i+"-child-"+(Number(e)+1),n.push(t))}else n.push(t)});let r={id:(0,a.O)(),targetHandle:i+"-child-"+l,target:i,source:t,sourceHandle:t+"-output",animated:!1,type:"custom"};return n.push(r),n},u=(e,t,i,l)=>{let a=[];return e.forEach(e=>{let n={...e},r=n.targetHandle.split(t+"-child-")[1];n.targetHandle.startsWith(t+"-child-")&&-1!=l.findIndex(e=>e+1===Number(r))&&(n.targetHandle=t+"-child-"+(i+(l.findIndex(e=>e+1===Number(r))+1))),a.push(n)}),a},c=(e,t,i)=>{let l={...e};return t.forEach((t,a)=>{l["child-"+(i+a+1)]=e["child-"+(t+1)]}),l},p=(e,t,i,l,a)=>{let n;l.forEach(t=>{e.includes(t.target)&&e.push(t.source)});var o=l.filter(i=>e.includes(i.source)&&i.target==t);let s={...a};return n=l,o.forEach(e=>{let l=e?Number(e.targetHandle.split("child-")[1]):null;n=d(n,i,t,l);let{data:o}=r(a[t],l);s[t]=o}),{updatedEdges:n,newNodeData:s}},h=e=>Object.keys(e).reduce((t,i)=>{let l=e[i],a=Object.keys(l).reduce((e,t)=>(t.startsWith("_")||"connections"==t||"SourceFile_0_0"==t||(e={...e,[t]:l[t]}),e),{});return t={...t,[i]:a}},{}),g=(e,t,i,a,n)=>{var r=l.$[n].type;let o=null==r?void 0:r.dump({id:a,type:n},e,t,i);return o},f=(e,t)=>{let i=t.find(t=>t.source==e);if(!i)return;let l=i.targetHandle,a="JsxElement"===l.split("_")[0];return a?l:f(i.target,t)},m=(e,t,i,l,a,r)=>{var o,d,s,u;let c=g(e,t,i,l,a),p=v(c),h=null===(s=p.getFirstDescendantByKind(n.lGB.JsxElement))||void 0===s?void 0:null===(d=s.getOpeningElement())||void 0===d?void 0:null===(o=d.getAttributes())||void 0===o?void 0:o.find(e=>(null==e?void 0:e.getName)&&e.getName()==r),f=null==h?void 0:null===(u=h.getInitializer())||void 0===u?void 0:u.getText();return f},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customCode.tsx",i=new n.IKL({useInMemoryFileSystem:!0,manipulationSettings:{indentationText:n.xI4.Tab},compilerOptions:{target:n.H7j.Latest,scriptKind:n.hVH.TSX,languageVariant:n.C$L.JSX}}),l=i.createSourceFile(t,e,{overwrite:!0});return l}},18292:function(e,t,i){"use strict";i.d(t,{O:function(){return a}});var l=i(6364);let a=()=>(0,l.Z)().replace(/-/g,"")},50317:function(e,t,i){"use strict";i.d(t,{Ey:function(){return d},HO:function(){return r},J6:function(){return n},Qq:function(){return o}});var l=i(43134),a=i(45927);let n=()=>(e,t,i)=>{var n,r,o,d=[],s=[],u=null===(n=i.find(t=>t.target==(0,l.zv)(e)))||void 0===n?void 0:n.source;d.push(u);var c=null===(r=i.find(e=>e.target==u))||void 0===r?void 0:r.source;d.push(c);var p=null===(o=i.find(e=>e.target==c))||void 0===o?void 0:o.source;return p&&s.push(p),null==s||s.forEach(t=>i.push((0,a.Nl)(t,t+"-output",(0,l.zv)(e),(0,l.zv)(e)+"_request"))),t.filter(e=>!(null==d?void 0:d.includes(null==e?void 0:e.id)))},r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"request";return(i,n,r)=>{var o;let d=null===(o=r.find(t=>t.targetHandle==(0,l.zv)(i)+"-param"+e))||void 0===o?void 0:o.source,s=r.find(e=>e.targetHandle==d+"_call");return s&&r.push((0,a.Nl)(s.source,s.sourceHandle,(0,l.zv)(i),(0,l.zv)(i)+"_"+t)),n.filter(e=>(null==e?void 0:e.id)!=d)}},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2";return(t,i,l,a,n)=>{let r=n.find(i=>i.targetHandle==t.id+"-param"+e),o=[],d=[];if(r){let e=null==l?void 0:l.find(e=>e.id==r.source);e&&d.push(e),o=n.filter(t=>t.source==(null==e?void 0:e.id)||t.target==(null==e?void 0:e.id))}return{nodes:[...d,...i],edges:[...o,...a]}}},d=()=>(e,t,i,l,a)=>{let n=[],r=[];if(a&&i){let t=a.find(t=>t.target==e.id),o=l.find(e=>e.target==(null==t?void 0:t.source)),d=l.find(e=>e.target==(null==o?void 0:o.source));if(t&&o&&d){let e=i.find(e=>e.id==(null==t?void 0:t.source)),l=i.find(e=>e.id==(null==o?void 0:o.source)),s=i.find(e=>e.id==(null==d?void 0:d.source));r.push(e),r.push(l),r.push(s),n=a.filter(t=>t.source==(null==e?void 0:e.id)||t.target==(null==e?void 0:e.id)||t.source==(null==l?void 0:l.id)||t.target==(null==l?void 0:l.id)||t.source==(null==s?void 0:s.id)||t.target==(null==s?void 0:s.id))}}return{nodes:[...r,...t],edges:[...n,...l]}}},43134:function(e,t,i){"use strict";i.d(t,{LL:function(){return g},Su:function(){return f},Tz:function(){return m},ah:function(){return v},c8:function(){return c},dS:function(){return u},jE:function(){return p},uC:function(){return x},zv:function(){return h}});var l=i(45927),a=i(2003),n=i(18292),r=i(28261),o=i.n(r),d=i(29691),s=i.n(d);let u=(e,t,i,l,r,o,d)=>{let s={id:null!=i?i:(0,n.O)(),position:{x:e[0],y:e[1]},data:null!=l?l:{},type:t,deletable:r,selectable:r,draggable:!1};return a.$[t]&&a.$[t].onCreate?a.$[t].onCreate(s,o,d):[s]};function c(e,t,i,l,n){let r=l(e,i);if(!r)return"";let o=a.$[r.type];o.type&&(o=o.type);let d=o.dump(r,e,t,i,null,"json"!=n,"full");if("json"==n){let e=JSON.stringify(JSON.parse(d),null,4);return e}let s=p(d,n);if(s){let l=o.dump(r,e,t,i,null,!1,"full");return p(l,n)}return""}function p(e,t){let i=s().format(e,{quoteProps:"consistent",parser:"typescript",plugins:[o()]});return i}function h(e){try{return e.getKindName()+"_"+e._compilerNode.pos+"_"+e._compilerNode.end}catch(t){return e}}let g={flow:"_",data:"-"};function f(e,t,i,n,r,o,d){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[g.data,g.data];if(!e||!i)return"";try{let p=h(e),g=h(i),f=r[p],v=r[g];if(f||(f={type:"node",value:{id:p}}),v||(v={type:"node",value:{id:g}}),"node"==f.type){d.push((0,l.Nl)(f.value.id,"".concat(f.value.id).concat(u[0]).concat(t),v.value.id,"".concat(v.value.id).concat(u[1]).concat(n)));var c=a.$[p.split("_")[0]];if(!c)return"";c=c.type?c.type:c;let e=Object.keys(r).filter(e=>r[e]&&"node"==r[e].type).map(e=>r[e].value),i=c.dump({id:p,type:p.split("_")[0]},e,d,o);return i.replace(/(\r\n|\n|\r)/gm,"")}if(s&&f._astNode)try{o[g]["trivia-"+s]=m(f._astNode)}catch(e){}return f?f.value:""}catch(l){return console.error("Error connecting nodes: ",l,e,t,i,n),""}}function m(e){let t=e.getFullText();return e.getLeadingTriviaWidth()?t.substring(0,e.getLeadingTriviaWidth()):""}function v(e,t){var i,l;return(null!==(i=e["trivia-"+t])&&void 0!==i?i:" ")+(null!==(l=e[t])&&void 0!==l?l:"")}function x(e,t,i,l,n,r,o,d){let s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"partial",p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,h=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{},g=arguments.length>13&&void 0!==arguments[13]&&arguments[13],f="source"==t?"sourceHandle":"targetHandle",v=r.find(t=>t[f]==e.id+l+i&&t.source);if(v){let e=o.find(e=>e.id==("target"==t?v.source:v.target));if(!e)return n;let i=a.$[e.type];i.type&&(i=i.type);let l=u?"/* JSFLOWID("+(e&&e.id?e.id:"")+") */":"",f="";if(h.fromFile=!1,i){if(!g&&d[e.id]&&d[e.id]._astNode){let t=d[e.id]._astNode;h.fromFile=!0,f=m(t),h.content=f}let t=i.dump(e,o,r,d,s,u,c,p,f);return l+("full"==c?f:"")+t}}return n}},33248:function(e,t,i){"use strict";i.d(t,{c:function(){return a},i:function(){return l}}),window.flowMemory={};let l=(e,t,i)=>window.flowMemory[e]?window.flowMemory[e][t]:i,a=(e,t,i)=>{window.flowMemory[e]||(window.flowMemory[e]={}),window.flowMemory[e][t]=i}},86130:function(e,t,i){"use strict";function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e<0&&(e=0);let a=e/10;return"0px 3px 5px -1px rgba(".concat(t,",").concat(i,",").concat(l,",").concat(.2*a,"), \n            0px 6px 10px 0px rgba(").concat(t,",").concat(i,",").concat(l,",").concat(.14*a,"), \n            0px 1px 18px 0px rgba(").concat(t,",").concat(i,",").concat(l,",").concat(.12*a,")")}i.d(t,{p:function(){return l}})},57451:function(e,t,i){"use strict";var l,a;i.d(t,{f:function(){return l}}),(a=l||(l={})).block="block",a.flow="flow",a.data="data",a.spread="spread",a.method="method",a.jsx="jsx",a.binding="binding"},1594:function(e,t,i){"use strict";i.d(t,{$N:function(){return S},GT:function(){return P}});var l=i(52322),a=i(2784),n=i(43134),r=i(30690),o=i(45823),d=i(96169),s=i(20477),u=i(1674),c=i(77044),p=i(99272),h=i(8939),g=i(66306),f=i(84291),m=i(97732),v=i(72405),x=i(10956),y=i(88724),b=i(81395),j=i(83030),C=i(38519),w=e=>{let{nodeData:t,maskType:i}=e,n=Object.keys(t).filter(e=>e.startsWith("prop")).map(e=>({label:t[e].key,field:t[e].key,fieldType:"prop",staticLabel:!0})),[r,o]=(0,a.useState)(n),[d,s]=(0,a.useState)(void 0),[u,c]=(0,a.useState)(""),m=[void 0,...(0,C.Ep)()],y=()=>{s(""),c("")},b=(e,t,i)=>{var l=[...r];"field"==t&&(l[e].label=i),"type"==t&&"default"==i?delete l[e][t]:l[e][t]=i,o(l)},j=e=>{let t=r.filter(t=>t.field!=e);o(t)};return(0,l.jsxs)(p.Vq,{modal:!0,onOpenChange:e=>{e||(o(n),y())},children:[(0,l.jsx)(p.Vq.Trigger,{asChild:!0,children:(0,l.jsx)(h.FA,{justifyContent:"center",children:(0,l.jsx)(g.zx,{chromeless:!0,alignSelf:"center",theme:"blue",mb:"$3",children:(0,l.jsx)(x.Z,{fillOpacity:0,color:(0,v.ZP)("interactiveColor")})})})}),(0,l.jsxs)(p.Vq.Portal,{zIndex:999999999,overflow:"hidden",children:[(0,l.jsx)(p.Vq.Overlay,{}),(0,l.jsxs)(p.Vq.Content,{bordered:!0,elevate:!0,animateOnly:["transform","opacity"],enterStyle:{x:0,y:-20,opacity:0,scale:.9},exitStyle:{x:0,y:10,opacity:0,scale:.95},gap:"$4",maxWidth:600,children:[(0,l.jsx)(p.Vq.Title,{children:"Create a mask"}),(0,l.jsx)(p.Vq.Description,{children:'When you click on create, a mask will be generated for the "'+t.name+'" component. Any unsaved changes will be lost.'}),(0,l.jsx)(p.Vq.Description,{children:"Properties: "}),(0,l.jsxs)(h.FA,{children:[(0,l.jsx)(h.FA,{overflow:"scroll",maxHeight:"$18",overflowX:"hidden",children:r.map((e,t)=>(0,l.jsx)(k,{onChange:b,index:t,item:e,selectItems:m,onDelete:j}))}),(0,l.jsxs)(h.sL,{gap:"$3",alignItems:"center",children:[(0,l.jsx)(f.II,{value:u,onChangeText:c,placeholder:"prop name..."}),(0,l.jsx)(L,{value:d,onValueChange:s,items:m}),(0,l.jsx)(g.zx,{size:"$4",onPress:()=>{if(u){var e={label:u,field:u,fieldType:"prop",staticLabel:!0};d&&(e.type=d),r.push(e),o([...r]),y()}},theme:"blue",children:"Add"})]})]}),(0,l.jsx)(p.Vq.Close,{displayWhenAdapted:!0,asChild:!0,children:(0,l.jsx)(g.zx,{theme:"blue",onPress:()=>{let e=r.map(e=>({...e,field:"prop-"+e.field})),l=e.filter(e=>e.type),a=e.filter(e=>!e.type);fetch("/adminapi/v1/mask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.name,title:t.name,path:"*",type:i,filter:{name:t.name},body:[{type:"custom-field",data:l},{type:"prop",data:a},{type:"child",data:[]}]})}).then(e=>e.json()).then(e=>console.log(e))},children:"Create"})})]})]})]})};let k=e=>{let{item:t,selectItems:i,onChange:n,index:r,onDelete:o}=e,[d,s]=(0,a.useState)(t.field);return(0,l.jsxs)(h.sL,{gap:"$3",marginBottom:"$3",children:[(0,l.jsx)(f.II,{value:d,onBlur:()=>n(r,"field",d),onChangeText:s,placeholder:"prop name..."}),(0,l.jsx)(L,{value:null==t?void 0:t.type,onValueChange:e=>n(r,"type",e),items:i}),(0,l.jsx)(g.zx,{size:"$4",onPress:()=>o(t.field),icon:y.Z})]},t.field)},L=e=>{let{value:t,onValueChange:i,items:n}=e;return(0,l.jsxs)(m.Ph,{value:null!=t?t:"default",onValueChange:i,disablePreventBodyScroll:!0,children:[(0,l.jsx)(m.Ph.Trigger,{width:220,iconAfter:b.Z,children:(0,l.jsx)(m.Ph.Value,{placeholder:"default"})}),(0,l.jsx)(m.Ph.Content,{zIndex:9999999999,children:(0,l.jsx)(m.Ph.Viewport,{children:(0,l.jsxs)(m.Ph.Group,{children:[(0,l.jsx)(m.Ph.Label,{children:"Types"}),(0,a.useMemo)(()=>n.map((e,t)=>{var i;let a=null!=e?e:"default";return(0,l.jsxs)(m.Ph.Item,{index:t,value:null!==(i=null==e?void 0:e.toLowerCase())&&void 0!==i?i:"default",children:[(0,l.jsx)(m.Ph.ItemText,{children:a}),(0,l.jsx)(m.Ph.ItemIndicator,{marginLeft:"auto",children:(0,l.jsx)(j.Z,{size:16})})]},e)}),[n])]})})})]})},S=e=>{let t="JsxSelfClosingElement"==e,i=e=>{var t;let{id:i,type:n}=e,s=(0,a.useContext)(o.p),p=s(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),h=(0,v.H)(n),g=Object.keys(p).filter(e=>e.startsWith("prop-")).map((e,t)=>({label:e.substr(5),field:e,fieldType:"prop",deleteable:!0})),f=Object.keys(p).filter(e=>e.startsWith("child-")).map((e,t)=>({label:"Child"+(t+1),field:e,fieldType:"child",deleteable:!0})),m=[{label:"TagName",static:!0,field:"name",type:"input",description:"JsxElement name"}].concat(g);return(0,l.jsxs)(r.ZP,{headerContent:(0,l.jsx)("div",{children:"hello"}),icon:u.Z,node:e,isPreview:!i,title:"<x ...></x>",id:i,color:h,children:[c.r0&&(0,l.jsx)(w,{nodeData:p,maskType:"JsxElement"}),(0,l.jsx)(r.kz,{id:i,params:m}),(0,l.jsx)(d.Z,{id:i,nodeData:p,type:"Prop"}),(0,l.jsx)(r.kz,{id:i,params:f}),(0,l.jsx)(d.Z,{id:i,nodeData:p,type:"Child"})]})};return i.category="react",i.keyWords=["jsx","jsxelement","react","tsx","fragment","selfclosed"],i.getData=(e,i,l,a)=>{var r,o,d,u;let c={name:t?null==e?void 0:null===(r=e.getTagNameNode())||void 0===r?void 0:r.getText():null==e?void 0:null===(d=e.getOpeningElement())||void 0===d?void 0:null===(o=d.getTagNameNode())||void 0===o?void 0:o.getText()},p=t?null==e?void 0:e.getAttributes():null==e?void 0:null===(u=e.getOpeningElement())||void 0===u?void 0:u.getAttributes(),h=null==p?void 0:p.reduce((t,r,o)=>{let d,s,u;if("JsxSpreadAttribute"==r.getKindName())s="prop-spreaded-"+o,d="",u={value:r.getText()};else{var c,p=null==r?void 0:r.getInitializer();u=function(e){let t;var i,l=null==e?void 0:e.getKindName();if("StringLiteral"===l)t=null==e?void 0:e.getLiteralValue(),i=l;else{let l=null==e?void 0:e.getExpression();switch(i=null==l?void 0:l.getKindName()){case"StringLiteral":case"NumericLiteral":case"TrueKeyword":case"FalseKeyword":t=l.getLiteralValue();break;case"Identifier":t=l.getText();break;default:return}}return{value:t,kind:i}}(p),s="prop-"+(d=r.getNameNode().getText()),u||(u={value:null!==(c=(0,n.Su)(null==p?void 0:p.getExpression(),"output",e,s,i,l,a,s))&&void 0!==c?c:""})}return{...t,[s]:{key:null!=d?d:"",...u}}},{}),g=e.getChildrenOfKind(s.lGB.SyntaxList)[0],f=t?[]:g.getChildren(),m=f.filter(e=>["JsxElement","JsxSelfClosingElement","JsxExpression","JsxFragment","JsxText"].includes(e.getKindName())&&e.getText()),v=null==m?void 0:m.reduce((t,r,o)=>{let d="child-".concat(o+1);return{...t,[d]:(0,n.Su)(r,"output",e,d,i,l,a,d)}},{});return{...c,...h,...v}},i.dump=function(e,i,l,a){var r,o,d,s,u;let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,p=arguments.length>5&&void 0!==arguments[5]&&arguments[5],h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",g=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,f=null!==(d=a[e.id])&&void 0!==d?d:{},m=null==f?void 0:f.name,v=null!==(s=null===(r=f._fallBack)||void 0===r?void 0:r.reduce((t,r)=>{let o=(0,n.uC)(e,r.type,r.fallbackPort,r.portType,null,l,i,a,c,!1,"full");return t=o?t+(r.preText+o+r.postText)+" ":t+r.fallbackText+" "},""))&&void 0!==s?s:"",x=null!==(u=null===(o=f._fallBack)||void 0===o?void 0:o.map(e=>e.port))&&void 0!==u?u:[],y=Object.keys(f).filter(e=>e.startsWith("prop-")&&!x.includes(e)).reduce((t,r)=>{var o,d,s,u,m,v;let x;if(r.startsWith("prop-spreaded"))x=(0,n.uC)(e,"target",r,n.LL.data,null!==(d=null===(o=f[r])||void 0===o?void 0:o.value)&&void 0!==d?d:"",l,i,a,c,p,h,g);else{let o;let d=null!==(u=null===(s=f[r])||void 0===s?void 0:s.key)&&void 0!==u?u:r.replace("prop-",""),y=function(e){if(!e)return;let t=e.kind;var i=e.value;switch(t){case"StringLiteral":return'"'+i+'"';case"NumericLiteral":case"TrueKeyword":case"FalseKeyword":case"Identifier":break;default:return}return"{"+i+"}"}(f[r]);if(y)o=y;else{let t=(0,n.uC)(e,"target",r,n.LL.data,null!==(v=null===(m=f[r])||void 0===m?void 0:m.value)&&void 0!==v?v:"",l,i,a,c,p,h,g);o=t?"{"+t+"}":void 0}if(x=o?"".concat(d,"=").concat(o," "):"".concat(d),!d)return t}return t+x},""),b=Object.keys(f).filter(e=>e.startsWith("child-")).reduce((t,r)=>{var o;return t+"	"+(0,n.uC)(e,"target",r,n.LL.data,null!==(o=f[r])&&void 0!==o?o:"",l,i,a,c,p,h,g)+"\n"},""),j=t?"/>":">\n".concat(b,"</").concat(m,">");return"<".concat(m," ")+v+y+j+(0,n.uC)(e,"source","output",n.LL.flow,"",l,i,a,c,p,h,g)},i};function P(e){switch(typeof e){case"number":return"NumericLiteral";case"string":return"StringLiteral";case"boolean":return"TrueKeyword";case"object":return Array.isArray(e)?"ArrayLiteralExpression":"ObjectLiteralExpression"}}S("JsxElement")},64920:function(e,t,i){"use strict";i.d(t,{U:function(){return l}});let l=[{id:"ActionFetch",title:"ActionFetch",path:"*",type:"CallExpression",filter:{to:"actionFetch"},body:[{type:"api",data:{label:"url",field:"param-1",apiUrl:"api/v1/endpoints",list:"return res.path"}},{type:"link",data:{text:"Need to create an API?",url:"/admin/apis"}}],initialData:{to:"actionFetch","param-1":{value:"",kind:"StringLiteral"}}}];t.Z=(e,t,i)=>{if(!e)return null;let l=null==i?void 0:i.find(i=>i.check(e,t));return l||null}},2003:function(e,t,i){"use strict";i.d(t,{$:function(){return tr},Z:function(){return to}});var l=i(52322),a=i(2784),n=i(43134),r=i(30690),o=i(96169),d=i(45823),s=i(76066),u=i(72405),c=i(20477);let p=e=>{var t;let{id:i,type:n}=e,c=(0,u.H)(n),p=(0,a.useContext)(d.p),h=p(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),f=Object.keys(h).filter(e=>e.startsWith("param")),m=f.reduce((e,t)=>{let i=parseInt(t.replace(/\D/g,""),10)>e?parseInt(t.replace(/\D/g,""),10):e;return i},1)+1,v=[{label:"To",field:"to",type:"input",description:"Identifier name. Leave empty to access current scope"}].concat(f.map((e,t)=>({label:"Params[".concat(t+1,"]"),field:e,type:"input",deleteable:!0})));return(0,l.jsxs)(r.ZP,{icon:s.Z,node:e,isPreview:!i,title:(h.to?h.to:"x")+"("+f.map(e=>h[e]?g(h[e]):"...").join(",")+")",id:i,color:c,children:[(0,l.jsx)(r.kz,{id:i,params:v}),(0,l.jsx)(r.kz,{id:i,params:[{label:"Await",field:"await",type:"boolean",static:!0}]}),(0,l.jsx)(o.Z,{keyId:"param"+m,id:i,nodeData:h})]})};p.keyWords=["call","function","execute"],p.category="common",p.defaultHandle=n.LL.data+"to",p.getData=(e,t,i,l)=>{let a=e.getParent();return{to:(0,n.Su)(e.getExpression(),"output",e,"to",t,i,l,"to"),await:a&&a.getKind()===c.lGB.AwaitExpression,...e.getArguments().reduce((a,r,o)=>{var d="param-"+(o+1),s=function(e){let t;var i=null==e?void 0:e.getKindName();switch(i){case"StringLiteral":case"NumericLiteral":case"TrueKeyword":case"FalseKeyword":t=null==e?void 0:e.getLiteralValue();break;case"Identifier":t=e.getText();break;default:return}return{value:t,kind:i}}(r);return s||(s={value:(0,n.Su)(r,"output",e,d,t,i,l,d)}),{...a,[d]:s}},{})}},p.dump=function(e,t,i,l){var a,r;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=null!==(a=l[e.id])&&void 0!==a?a:{},p=Object.keys(c).sort(),h=p.filter(e=>e.startsWith("param")).sort((e,t)=>e.localeCompare(t,"en",{numeric:!0})).map(a=>{let r;let p=c._fallBack?c._fallBack.find(e=>e.port==a):null;if(p){let a=(0,n.uC)(e,p.type,p.fallbackPort,p.portType,null,i,t,l,o,d,s,u);r=a?p.preText+a+p.postText:p.fallbackText}else r=g(c[a])||(0,n.uC)(e,"target",a,n.LL.data,(0,n.ah)(c,a),i,t,l,o,d,s,u);return r}),f=(0,n.uC)(e,"target","to",n.LL.data,null!==(r=null==c?void 0:c.to)&&void 0!==r?r:"",i,t,l,o,d,s,u);return f?(c.await?"await ":"")+f+"("+h.join(",")+function(e){if(!e)return"";let t=e.getSourceFile().getFullText(),i=e.getLastChild();if(i&&"CloseParenToken"===i.getKindName()){let e=i.getLeadingTriviaWidth(),l=t.substring(i.getPos(),i.getPos()+e);return l}return""}(c._astNode)+")":""+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,o,d,s,u)};var h=(0,a.memo)(p);function g(e){if(!e)return;let t=e.kind;var i=e.value;return"StringLiteral"===t?'"'+i+'"':String(i)}var f=i(10729),m=i(51442),v=i(38757);let x=e=>{let t=e=>"="==e?"setLeft":"left",i=i=>{var n,o,s;let{id:c,type:p}=i,h=(0,u.H)(p),g=(0,a.useContext)(d.p),x=g(e=>null!==(n=e.nodeData[c])&&void 0!==n?n:{}),y=(0,f.Mi)(),b={"+":"operator","-":"operator","*":"operator","/":"operator","%":"operator","<=":"operator","==":"operator","===":"operator","!=":"operator","!==":"operator",">=":"operator","||":"operator","&&":"operator","|":"operator","&":"operator",">":"operator","<":"operator","**":"operator","**=":"operator","-=":"operator","+=":"operator","/=":"operator","*=":"operator","=":"set",".":"property",instanceof:"operator","??":"operator"}[null!==(o=x.operator)&&void 0!==o?o:e],j=null!==(s=x.operator)&&void 0!==s?s:e,C=[{label:"operator"==b?"Value":"Variable",field:t(j),type:"input",fieldType:x.leftType}];return"operator"==b&&C.push({field:"operator",type:"select",data:["+","-","*","/",">","<","<=","==","!=","===","!==",">=","||","&&","|","&","instanceof",""],static:!0}),C.push({label:{operator:"Value",set:"Value",property:"Property"}[b],field:"right",type:"input",fieldType:x.rightType}),(0,l.jsx)(r.ZP,{icon:"operator"==b?m.Z:v.Z,node:i,isPreview:!c,title:"operator"==b?(!(0,r.FW)(c,t(j),y)&&x[t(j)]?x[t(j)]:"...")+(x.operator?" "+x.operator+" ":" + ")+(!(0,r.FW)(c,"right",y)&&x.right?x.right:"..."):b,id:c,params:C,color:h})};return i.keyWords=["+","-","*","/",">","<","<=","==","!=","===","!==",">=","||","&&","|","&","set","operator","set","property","instanceof"],i.category="operators",i.defaultHandle=n.LL.data+t(e),i.getData=(e,i,l,a)=>{let r=e.getOperatorToken().getText();return{operator:r,[t(r)]:(0,n.Su)(e.getLeft(),"output",e,t(r),i,l,a,t(r)),right:(0,n.Su)(e.getRight(),"output",e,"right",i,l,a,"right"),leftType:e.getLeft().getKindName(),rightType:e.getRight().getKindName(),operatorTrivia:(0,n.Tz)(e.getOperatorToken())}},i.dump=function(i,l,a,r){var o;let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=r[i.id],h=null!==(o=p.operator)&&void 0!==o?o:e,g=(0,n.uC)(i,"target",t(h),n.LL.data,p[t(h)],a,l,r,d,s,u,c,{},!0),f=(0,n.uC)(i,"target","right",n.LL.data,(0,n.ah)(p,"right"),a,l,r,d,s,u,c);return g+(void 0!==p.operatorTrivia&&"full"==u?p.operatorTrivia:"")+h+f+(0,n.uC)(i,"source","output",n.LL.flow,"",a,l,r,d,s,u,c)},i};x("+");let y=e=>{let t=t=>{var i,n;let{id:o,type:s}=t,c=(0,u.H)(s),p=(0,a.useContext)(d.p),h=p(e=>null!==(i=e.nodeData[o])&&void 0!==i?i:{}),g=null!==(n=h.type)&&void 0!==n?n:e;(0,f.Mi)();let m=Object.keys(h).filter(e=>e.startsWith("declarationName")),x=m.length?m:["declarationName1"];console.log("mobx: ",h);let y=[{label:"Type",field:"type",type:"select",data:["let","const","var"],static:!0}].concat(x.reduce((e,t,i)=>e=(e=e.concat({label:"Variable "+(i>0?"(".concat(i+1,")"):""),field:t,type:"input",static:"const"!=g})).concat({label:"Value "+(i>0?"(".concat(i+1,")"):""),field:"value".concat(i+1),fieldType:"input"}),[]),{label:"Export",field:"export",type:"boolean",static:!0});return(0,l.jsx)(r.ZP,{icon:v.Z,node:t,isPreview:!o,title:((null==h?void 0:h.export)?"export ":"")+g+" "+x.map(e=>h[e]).join(","),id:o,params:y,color:c})};t.category="identifiers",t.keyWords=["const","let","var"],t.getData=(e,t,i,l)=>{let a=e.getChildren()[0].getText(),r=e.getDeclarations().reduce((a,r,o)=>{let d=r.getInitializer(),s=r.getName(),u=r.getTypeNode(),c=r.getChildren(),p=c.length>2?(0,n.Tz)(c[1]):" ",h="value".concat(o+1),g={["declarationName".concat(o+1)]:s,["opTrivia".concat(o+1)]:p};return d&&(g={...g,[h]:(0,n.Su)(d,"output",e,h,t,i,l,h)}),u&&(g={...g,["type".concat(o+1)]:u.getText()}),{...a,...g}},{});return{type:a,...r,export:!!e.getParent().getModifiers&&!!e.getParent().getModifiers().find(e=>"export"==e.getText())}};let i=e=>e?":"+e.trim():"";return t.dump=function(t,l,a,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=r[t.id];var p,h=Object.keys(c).filter(e=>e.startsWith("declarationName"));if(!h.length)return"";let g=h.reduce((e,p,g)=>{let f="value".concat(g+1),m="opTrivia".concat(g+1),v=(0,n.uC)(t,"target",f,n.LL.data,(0,n.ah)(c,f),a,l,r,o,d,s,u);return console.log("value in vardec: ["+v+"]"),e+c[p]+i(c["type".concat(g+1)])+(""===v||void 0===v||" "==v?"":(void 0!==c[m]?c[m]:" ")+"="+v)+(h.length==g+1?"":", ")},"");return(c.export?"export ":"")+(null!==(p=c.type)&&void 0!==p?p:e)+" "+g},t},b=y("const");var j=(0,a.memo)(b),C=i(56881);let w=e=>{let{id:t,type:i}=e,a=(0,u.H)(i);return(0,l.jsx)(r.ZP,{icon:C.Z,node:e,isPreview:!t,title:"property",color:a,id:t,params:[{label:"Name",field:"name",type:"input"},{label:"Property",field:"prop",type:"input"}]})};w.category="operators",w.keyWords=["property"],w.getData=(e,t,i,l)=>{let a=e.getNameNode(),r=e.getExpression();return"data"==t[(0,n.zv)(r)].type&&"data"==t[(0,n.zv)(a)].type?{type:"data",value:t[(0,n.zv)(r)].value+"."+t[(0,n.zv)(a)].value}:{name:(0,n.Su)(a,"output",e,"name",t,i,l,"name"),prop:(0,n.Su)(r,"output",e,"prop",t,i,l,"prop")}},w.checkCreate=(e,t)=>"data"!=t[(0,n.zv)(e)].type,w.dump=function(e,t,i,l){var a,r,o,d;let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=l[e.id],g=null!==(r=(0,n.uC)(e,"target","name",n.LL.data,null!==(a=null==h?void 0:h.name)&&void 0!==a?a:"",i,t,l,s,u,c,p))&&void 0!==r?r:"";return(null!==(d=(0,n.uC)(e,"target","prop",n.LL.data,null!==(o=null==h?void 0:h.prop)&&void 0!==o?o:"",i,t,l,s,u,c,p))&&void 0!==d?d:"")+"."+g+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,s,u,c,p)};var k=(0,a.memo)(w),L=i(18292),S=i(69498);let P=e=>{var t;let{id:i,type:n}=e,s=(0,u.H)(n),c="ArrowFunction"==n,p=(0,a.useContext)(d.p),h=p(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),g=(c?[]:[{label:"Name",static:!0,field:"name",type:"input",description:"Function name"}]).concat(Object.keys(h).filter(e=>e.startsWith("param-")).map((e,t)=>({label:h[e].isBindingPattern?"".concat("Params["+(t+1)+"]"):e.substr(6),field:e,fieldType:"parameter",deleteable:!0})));return(0,l.jsxs)(r.ZP,{icon:S.Z,node:e,isPreview:!i,title:c?"=>":h.name?h.name:"function",id:i,color:s,children:[(0,l.jsx)(r.kz,{id:i,params:[{label:"Call",field:"call",fieldType:"call",type:"input"}]}),(0,l.jsx)(r.kz,{id:i,params:g}),"FunctionExpression"!=n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.kz,{id:i,params:[{label:"Async",field:"async",type:"boolean",static:!0}],boxStyle:{marginTop:"40px"}}),(0,l.jsx)(r.kz,{id:i,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),h.export?(0,l.jsx)(r.kz,{id:i,params:[{label:"isDefault",field:"isDefault",type:"boolean",static:!0}]}):null]}):(0,l.jsx)("div",{style:{marginTop:"26px"}}),(0,l.jsx)(o.Z,{id:i,nodeData:h})]})};P.category="program structure",P.keyWords=["function","=>","arrow"],P.getData=(e,t,i,l)=>{let a=(0,n.zv)(e.getBody()),r=(0,n.Su)(a,"output",e,"call",t,i,l,null,[n.LL.data,n.LL.flow]);return{...e.getParameters().reduce((a,r,o)=>{let d=(0,L.O)(),s=r.getInitializer(),u=r.getName(),p=r.getTypeNode(),h=p?p.getText():null,g=!!r.getDescendantsOfKind(c.lGB.ObjectBindingPattern).length;return g&&(u=r.getDescendantsOfKind(c.lGB.ObjectBindingPattern)[0]),{...a,["param-"+d]:{key:g?(0,n.Su)(u,"output",e,"param-"+d,t,i,l,"key"):r.getName(),value:s?(0,n.Su)(s,"output",e,"param-"+d,t,i,l,"value"):"",isBindingPattern:g,type:h}}},{name:e.getName&&void 0!=e.getName()?e.getName():"",export:!!e.getModifiers&&!!e.getModifiers().find(e=>"export"==e.getText()),isDefault:!!e.getModifiers&&!!e.getModifiers().find(e=>"default"==e.getText()),async:!!e.getModifiers().find(e=>"AsyncKeyword"==e.getKindName()),call:r,type:e.getReturnTypeNode()?e.getReturnTypeNode().getText():null})}},P.dump=function(e,t,i,l){var a,r;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=null!==(a=l[e.id])&&void 0!==a?a:{},p=Object.keys(c).filter(e=>e.startsWith("param")).map(a=>{let r;if(c[a].isBindingPattern){let p=(0,n.uC)(e,"target",a,n.LL.data,c[a].value,i,t,l,o,d,s,u);r=p+(c[a].type?":".concat(c[a].type):"")}else{let p=(0,n.uC)(e,"target",a+"-key",n.LL.data,c[a].key,i,t,l,o,d,s,u),h=(0,n.uC)(e,"target",a,n.LL.data,c[a].value,i,t,l,o,d,s,u);r=p+(c[a].type?":".concat(c[a].type):"")+(h?"="+h:"")}return r}),h=(0,n.uC)(e,"target","call",n.LL.flow,null!==(r=c.call)&&void 0!==r?r:"{}",i,t,l,o,d,s,u,{},!0),g=(c.export?"export ":"")+(c.export&&c.isDefault?"default ":"")+(c.async?"async ":"");return"ArrowFunction"==e.type?g+="("+p.join(",")+") => "+h:g+="function "+c.name+"("+p.join(",")+") "+(c.type?":"+c.type+" ":"")+h,g+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,o,d,s,u)};var _=(0,a.memo)(P);let D=e=>{let{id:t,type:i}=e;return(0,l.jsx)(l.Fragment,{})};D.getData=(e,t,i)=>{let l=e.getInitializer();return l?t[(0,n.zv)(l)]:{type:"data",value:""}},D.isShadow=(e,t,i,l)=>!0;var E=(0,a.memo)(D),N=i(18010),Z=i(57451);let T=e=>{var t;let{id:i,type:o}=e,s=(0,u.H)(o),c=(0,u.ZP)("nodeFontSize"),p=(0,a.useContext)(d.p),h=p(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),g=p(e=>e.nodeData[i]&&e.nodeData[i]._metadata?e.nodeData[i]._metadata:{childHeight:0,childHeights:[]}),f=(e,t)=>g.childHeights.find(l=>{var a,n;return(null===(n=l.node)||void 0===n?void 0:null===(a=n.edge)||void 0===a?void 0:a.targetHandle)==i+t+e}),m=(()=>{if(!i)return;if(!g.childHeight)return 260;let e=f("condition",n.LL.data),t=f("then",n.LL.flow);return Math.max(260,(e?e.height:0)+(t?Math.min(10*c,t.height):0))})();return(0,l.jsxs)(r.ZP,{style:{minHeight:m+"px"},icon:N.Z,node:e,isPreview:!i,title:i?"if ( "+h.condition+" )":"if",id:i,color:s,dataOutput:Z.f.flow,children:[(0,l.jsx)(r.kz,{id:i,params:[{label:"Condition",field:"condition",type:"input"}],boxStyle:{marginTop:"0px",marginBottom:"20px"}}),(0,l.jsx)(r._t,{id:i,type:"input",label:"Then",style:{top:((e,t)=>{let i=f(e,n.LL.flow);return i?i.delta.y+2*c:t})("then",8*c)+"px"},handleId:"then"}),(0,l.jsx)(r._t,{id:i,type:"input",label:"Else",style:{top:Math.max(0,m-c)+"px"},handleId:"else"})]})};T.keyWords=["if","conditional","condition"],T.category="conditionals",T.getData=(e,t,i,l)=>{var a,r,o,d;(0,n.zv)(e);let s=null===(r=t[(0,n.zv)(e.getThenStatement())])||void 0===r?void 0:null===(a=r.value)||void 0===a?void 0:a.id,u=null===(d=t[(0,n.zv)(e.getElseStatement())])||void 0===d?void 0:null===(o=d.value)||void 0===o?void 0:o.id;return s&&(0,n.Su)(s,"output",e,"then",t,i,l,null,[n.LL.data,n.LL.flow]),u&&(0,n.Su)(u,"output",e,"else",t,i,l,null,[n.LL.data,n.LL.flow]),{condition:(0,n.Su)(e.getExpression(),"output",e,"condition",t,i,l,"condition")}},T.dataOutput=Z.f.flow,T.dump=function(e,t,i,l){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=l[e.id],c=(0,n.uC)(e,"target","condition",n.LL.data,null!==(a=null==u?void 0:u.condition)&&void 0!==a?a:"",i,t,l,r,o,d,s),p=(0,n.uC)(e,"target","then",n.LL.flow,"",i,t,l,r,o,d,s),h=(0,n.uC)(e,"target","else",n.LL.flow,"",i,t,l,r,o,d,s),g="";return h&&(g=" else \n"+h),"if("+c+")\n"+p+"\n"+g+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,r,o,d,s)},T.getChildPosition=(e,t,i,l,a)=>(l.edge.targetHandle==e.id+n.LL.flow+"then"&&e.position.y==t.y&&(t.y+=120),t);var I=(0,a.memo)(T),z=i(19753);let O=e=>{let{id:t,type:i}=e,a=(0,u.H)(i);return(0,l.jsxs)(r.ZP,{icon:z.Z,node:e,isPreview:!t,title:"try",id:t,color:a,dataOutput:Z.f.flow,children:[(0,l.jsx)(r.kz,{id:t,params:[{label:"Error",field:"error",type:"input",static:!0}],boxStyle:{marginTop:"70px",marginBottom:"30px"}}),(0,l.jsx)(r._t,{id:t,type:"input",label:"Try",style:{top:"60px"},handleId:"try"}),(0,l.jsx)(r._t,{id:t,type:"input",label:"Catch",style:{top:"90px"},handleId:"catch"})]})};O.category="error control",O.keyWords=["try","catch","error","exception"],O.getData=(e,t,i,l)=>{var a,r,o,d,s;let u=null===(r=t[(0,n.zv)(e.getTryBlock())])||void 0===r?void 0:null===(a=r.value)||void 0===a?void 0:a.id,c=null===(d=t[(0,n.zv)(e.getCatchClause().getBlock())])||void 0===d?void 0:null===(o=d.value)||void 0===o?void 0:o.id;return{try:(0,n.Su)(u,"output",e,"try",t,i,l,"try",[n.LL.data,n.LL.flow]),catch:(0,n.Su)(c,"output",e,"catch",t,i,l,"catch",[n.LL.data,n.LL.flow]),error:null===(s=e.getCatchClause())||void 0===s?void 0:s.getVariableDeclaration().getFullText()}},O.dataOutput=Z.f.flow,O.dump=function(e,t,i,l){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=l[e.id],u=(0,n.uC)(e,"target","try",n.LL.flow,"",i,t,l,a,r,o,d),c=(0,n.uC)(e,"target","catch",n.LL.flow,"",i,t,l,a,r,o,d);var p,h=(0,n.uC)(e,"source","error",n.LL.data,null!==(p=null==s?void 0:s.error)&&void 0!==p?p:"",i,t,l,a,r,o,d);return h||(h="e"),"try "+u+"catch("+h+") "+c+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,a,r,o,d)};var F=(0,a.memo)(O);let W=e=>{var t;let{id:i,type:n}=e,s=(0,u.H)(n),c=(0,a.useContext)(d.p),p=c(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),h=[{label:"Expression",field:"expression",type:"input"}].concat(Object.keys(p).filter(e=>e.startsWith("case-")).reduce((e,t,i)=>e=(e=e.concat({label:"case",field:t,type:"input",deleteable:!0})).concat({label:":",field:"block".concat(i),fieldType:"clause"}),[]));return(0,l.jsxs)(r.ZP,{icon:N.Z,node:e,isPreview:!i,title:"switch",id:i,color:s,dataOutput:Z.f.flow,children:[(0,l.jsx)(r.kz,{id:i,params:h,boxStyle:{marginTop:"10px"}}),(0,l.jsx)(o.Z,{id:i,nodeData:p,type:"Case",style:{marginBottom:"20px"}}),(0,l.jsx)(r.kz,{id:i,params:[{label:"default :",field:"defaultBlock",fieldType:"clause"}],boxStyle:{marginBottom:"10px"}})]})};W.category="conditionals",W.keyWords=["switch","conditional","case","if"],W.getData=(e,t,i,l)=>{let a=e.getCaseBlock().getClauses(),r={};return a&&(r=a.reduce((a,r,o)=>{if("CaseClause"!=r.getKindName())return{...a,defaultBlock:(0,n.Su)(r,"output",e,"defaultBlock"+n.LL.flow+"output",t,i,l,"defaultBlock",[n.LL.data,n.LL.flow])};{let d="case-".concat(o+1),s="block".concat(o),u=r.getExpression();return{...a,[d]:(0,n.Su)(u,"output",e,d,t,i,l,d),[s]:(0,n.Su)(r,"output",e,s+n.LL.flow+"output",t,i,l,s,[n.LL.data,n.LL.flow])}}},{})),{expression:(0,n.Su)(e.getExpression(),"output",e,"expression",t,i,l,"expression"),...r}},W.dataOutput=Z.f.flow,W.dump=function(e,t,i,l){var a,r,o;let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=null!==(a=l[e.id])&&void 0!==a?a:{},h=(0,n.uC)(e,"target","expression",n.LL.data,null!==(r=null==p?void 0:p.expression)&&void 0!==r?r:"",i,t,l,d,s,u,c,{}),g="defaultBlock"+n.LL.flow+"output",f=(0,n.uC)(e,"target",g,n.LL.flow,null!==(o=p.defaultBlock)&&void 0!==o?o:"",i,t,l,d,s,u,c,{}),m=Object.keys(p).filter(e=>e.startsWith("case")).map((a,r)=>{var o,h;let g=(0,n.uC)(e,"target",a,n.LL.data,null!==(o=p[a])&&void 0!==o?o:"",i,t,l,d,s,u,c,{},!1),f="block".concat(r),m=f+n.LL.flow+"output",v=(0,n.uC)(e,"target",m,n.LL.flow,null!==(h=p[f])&&void 0!==h?h:"",i,t,l,d,s,u,c,{});return"\n"+"	".repeat(c)+"case "+g+":\n"+v.replace(/^[\n\r\t]+/,"")});return"switch("+h+") {"+m.join("")+(f?"default: \n"+f+"\n":"")+"\n}"+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,d,s,u,c)};var H=(0,a.memo)(W);let B=e=>{let{id:t,type:i}=e,a=(0,u.H)(i);return(0,l.jsx)(r.ZP,{icon:N.Z,node:e,isPreview:!t,title:"ternary",params:[{label:"Condition",field:"condition",type:"input"},{label:"When true",field:"whenTrue",type:"input"},{label:"When false",field:"whenFalse",type:"input"}],id:t,color:a})};B.keyWords=["ternary"],B.category="conditionals",B.getData=(e,t,i,l)=>({condition:(0,n.Su)(null==e?void 0:e.getCondition(),"output",e,"condition",t,i,l,"condition"),whenTrue:(0,n.Su)(null==e?void 0:e.getWhenTrue(),"output",e,"whenTrue",t,i,l,"whenTrue"),whenFalse:(0,n.Su)(null==e?void 0:e.getWhenFalse(),"output",e,"whenFalse",t,i,l,"whenFalse")}),B.dump=function(e,t,i,l){var a,r,o;let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=l[e.id];return(0,n.uC)(e,"target","condition",n.LL.data,null!==(a=null==p?void 0:p.condition)&&void 0!==a?a:"",i,t,l,d,s,u,c)+"?"+(0,n.uC)(e,"target","whenTrue",n.LL.data,null!==(r=null==p?void 0:p.whenTrue)&&void 0!==r?r:"",i,t,l,d,s,u,c)+":"+(0,n.uC)(e,"target","whenFalse",n.LL.data,null!==(o=null==p?void 0:p.whenFalse)&&void 0!==o?o:"",i,t,l,d,s,u,c)+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,d,s,u,c)};var A=(0,a.memo)(B),R=i(13410);let M=e=>{var t,i,n;let{id:o,type:s}=e,c=(0,u.H)(s),p=(0,a.useContext)(d.p),h=p(e=>null!==(t=e.nodeData[o])&&void 0!==t?t:{}),g=[{label:"Variable",field:"accessName",type:"input"},{label:"Key",field:"key",type:"input",fieldType:h.fieldType}];return(0,l.jsx)(r.ZP,{icon:R.Z,node:e,isPreview:!o,title:(null!==(i=null==h?void 0:h.accessName)&&void 0!==i?i:"x")+"["+(null!==(n=null==h?void 0:h.key)&&void 0!==n?n:"y")+"]",id:o,params:g,color:c})};M.keyWords=["[]"],M.category="operators",M.getData=(e,t,i,l)=>({accessName:(0,n.Su)(e.getExpression(),"output",e,"accessName",t,i,l,"accessName"),key:(0,n.Su)(e.getArgumentExpression(),"output",e,"key",t,i,l,"key")}),M.dump=function(e,t,i,l){var a,r;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=l[e.id];return(0,n.uC)(e,"target","accessName",n.LL.data,null!==(a=null==c?void 0:c.accessName)&&void 0!==a?a:"",i,t,l,o,d,s,u)+"["+(0,n.uC)(e,"target","key",n.LL.data,null!==(r=null==c?void 0:c.key)&&void 0!==r?r:"",i,t,l,o,d,s,u)+"]"+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,o,d,s,u)};var J=a.memo(M),K=i(16290);let V=e=>{var t;let i=(0,a.useContext)(d.p),{id:n,type:s}=e,c=i(e=>null!==(t=e.nodeData[n])&&void 0!==t?t:{}),p=i(e=>e.setNodeData),h=Object.keys(c).filter(e=>e.startsWith("element-")),g=h.length,f=(0,u.H)(s),m=h.map((e,t)=>({label:"["+t+"]",field:e,type:"input",deleteable:!0}));return n&&a.useEffect(()=>{let e=Object.keys(c).filter(e=>e.startsWith("element"));e.length||c.error||p(n,{...c,"element-1":""})},[]),(0,l.jsxs)(r.ZP,{icon:K.Z,node:{...e,data:{...e.data,width:1}},isPreview:!n,title:"array"+(g?" ["+g+"]":""),id:n,color:f,children:[(0,l.jsx)(r.kz,{id:n,params:m}),(0,l.jsx)(o.Z,{id:n,nodeData:c,type:"Element"})]})};V.keyWords=["Array","data","structure","list","collection","vector","dictionary"],V.category="data structures",V.defaultHandle=n.LL.data+"element-1",V.getData=(e,t,i,l)=>{let a=e.getElements(),r=e.getFlags();return a.reduce((a,r,o)=>{let d="element-".concat(o),s="trivia-element-".concat(o);return{...a,[d]:(0,n.Su)(r,"output",e,d,t,i,l,d),[s]:(0,n.Tz)(r)}},{error:r})},V.dump=function(e,t,i,l){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=null!==(a=l[e.id])&&void 0!==a?a:{},c=Object.keys(u).filter(e=>e.startsWith("element-")).map(a=>{var c;return(void 0!==u["trivia-"+a]&&"full"==d?u["trivia-"+a]:"")+(0,n.uC)(e,"target",a,n.LL.data,null!==(c=u[a])&&void 0!==c?c:"",i,t,l,r,o,d,s)});return"["+c.join(",")+function(e,t){if(!e||"partial"==t)return"";let i=e.getSourceFile().getFullText(),l=e.getLastChild();if(l&&"CloseBracketToken"===l.getKindName()){let e=l.getLeadingTriviaWidth(),t=i.substring(l.getPos(),l.getPos()+e);return t}return""}(u._astNode,d)+"]"+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,r,o,d,s)},V.getSize=(e,t,i)=>{let l=Object.keys(i).filter(e=>e.startsWith("element-")).length;return e[0].height=140+49*l,e};var $=(0,a.memo)(V),q=i(13505);let G=e=>{let{id:t,type:i}=e,a=(0,u.H)(i);return(0,l.jsx)(r.ZP,{icon:q.Z,node:e,isPreview:!t,title:"()",id:t,params:[{label:"Value",field:"value",type:"input"}],color:a})};G.category="operators",G.keyWords=["()"],G.getData=(e,t,i,l,a)=>({value:(0,n.Su)(e.getExpression(),"output",e,"value",t,i,l,"value")}),G.dump=function(e,t,i,l){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=l[e.id];return"("+(0,n.uC)(e,"target","value",n.LL.data,null!==(a=null==u?void 0:u.value)&&void 0!==a?a:"",i,t,l,r,o,d,s)+")"+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,r,o,d,s)};var U=(0,a.memo)(G),Y=i(92243);let X=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=i=>{let a=(0,u.ZP)("nodeFontSize"),{id:n,type:o}=i,d=(0,u.H)(o),s=[];return"for"==e&&s.push({label:"Initializer",field:"initializer",type:"input"}),s.push({label:"Condition",field:"condition",type:"input"}),"for"==e&&s.push({label:"Incrementor",field:"incrementor",type:"input"}),(0,l.jsxs)(r.ZP,{icon:Y.Z,node:i,isPreview:!n,title:t||e,id:n,color:d,dataOutput:Z.f.flow,children:[(0,l.jsx)(r.kz,{id:n,params:s,boxStyle:{marginTop:"0px",marginBottom:3*a+"px"}}),(0,l.jsx)(r._t,{id:n,type:"input",label:"Loop",style:{top:"for"==e?11*a:6.5*a+"px"},handleId:"loop"})]})};return i.keyWords=["for","while","do-while","loop","iterator","iterate","for each","repeat"],i.category="loops",i.getData=(i,l,a,r)=>{i.getStatement()&&(0,n.Su)(i.getStatement(),"output",i,"loop",l,a,r,null,[n.LL.data,n.LL.flow]);let o={};return"for"==e&&(o={initializer:(0,n.Su)(i.getInitializer(),"output",i,"initializer",l,a,r,"initializer"),incrementor:(0,n.Su)(i.getIncrementor(),"output",i,"incrementor",l,a,r,"incrementor")}),{...o,condition:(0,n.Su)("while"==e?i.getExpression():i.getCondition(),"output",i,"condition",l,a,r,"condition"),mode:e,submode:t}},i.dataOutput=Z.f.flow,i.dump=function(e,t,i,l){let a,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=l[e.id],c=(0,n.uC)(e,"target","condition",n.LL.data,null==u?void 0:u.condition,i,t,l,r,o,d,s),p=(0,n.uC)(e,"target","loop",n.LL.flow,"",i,t,l,r,o,d,s);if("WhileStatement"==e.type)a="while("+c+") "+p;else if("DoStatement"==e.type)a="do "+p+" while ("+c+")";else if("ForStatement"==e.type){let h=(0,n.uC)(e,"target","initializer",n.LL.data,null==u?void 0:u.initializer,i,t,l,r,o,d,s),g=(0,n.uC)(e,"target","incrementor",n.LL.data,null==u?void 0:u.incrementor,i,t,l,r,o,d,s);a="for("+h.replace(/;$/,"")+";"+c.replace(/;$/,"")+";"+g.replace(/;$/,"")+") "+p}return a+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,r,o,d,s)},i};X("while");let Q=e=>{let t=t=>{var i,n,o;let{id:s,type:c}=t,p=(0,u.H)(c),h=(0,a.useContext)(d.p),g=h(e=>null!==(i=e.nodeData[s])&&void 0!==i?i:{}),f=[{label:"Value",field:"value",type:"input"}];f.push({field:"operator",type:"select",data:["++","--","!","-"],static:!0}),"pre"==e&&f.reverse();let v=null!==(n=g.operator)&&void 0!==n?n:"++",x=null!==(o=g.value)&&void 0!==o?o:"x";return(0,l.jsx)(r.ZP,{icon:m.Z,node:t,isPreview:!s,title:"pre"==e?v+x:x+v,id:s,params:f,color:p})};return t.category="operators",t.keyWords=["increment","--","++","decrement"],t.getData=(e,t,i,l)=>({operator:({40:"-",45:"++",46:"--",53:"!"})[e.getOperatorToken()],value:(0,n.Su)(e.getOperand(),"output",e,"value",t,i,l,"value")}),t.dump=function(t,i,l,a){var r;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=a[t.id],p=(0,n.uC)(t,"target","value",n.LL.data,null!==(r=null==c?void 0:c.value)&&void 0!==r?r:"",l,i,a,o,d,s,u),h=[c.operator,p];return"post"==e&&h.reverse(),h.join("")+(0,n.uC)(t,"source","output",n.LL.flow,"",l,i,a,o,d,s,u)},a.memo(t)};var ee=i(66753);let et=e=>{var t;let{id:i,type:n}=e,s=(0,u.H)(n),c=(0,a.useContext)(d.p),p=c(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),h=Object.keys(p).filter(e=>e.startsWith("import-")).map((e,t)=>({label:t+1+"",field:e,type:"input",static:!0,deleteable:!0})),g=[{label:"Module",field:"module",type:"input",static:!0},{label:"Default",field:"default",type:"input",static:!0}].concat(h);return(0,l.jsxs)(r.ZP,{icon:ee.Z,node:e,isPreview:!i,title:"import",id:i,color:s,dataOutput:Z.f.flow,children:[(0,l.jsx)(r.kz,{id:i,params:g,boxStyle:{marginTop:"10px"}}),(0,l.jsx)(o.Z,{id:i,nodeData:p,type:"Import",style:{marginBottom:"20px"}})]})};et.category="module system",et.keyWords=["import"],et.getData=(e,t,i)=>{var l,a,n;let r=null!==(n=e.getNamedImports())&&void 0!==n?n:[];return r.reduce((e,t,i)=>({...e,["import-"+i]:t.getName()}),{default:null===(l=e.getDefaultImport())||void 0===l?void 0:l.getText(),module:null===(a=e.getModuleSpecifier())||void 0===a?void 0:a.getText().slice(1,-1)})},et.dataOutput=Z.f.flow,et.dump=function(e,t,i,l){var a,r,o,d;let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=null!==(a=l[e.id])&&void 0!==a?a:{},g=Object.keys(h).filter(e=>e.startsWith("import")).reduce((a,r)=>{var o;return h[r]?a+=(0,n.uC)(e,"target",r,n.LL.data,null!==(o=h[r])&&void 0!==o?o:"",i,t,l,s,u,c,p)+", ":a},""),f=null!==(o=(0,n.uC)(e,"target","default",n.LL.data,null!==(r=null==h?void 0:h.default)&&void 0!==r?r:"",i,t,l,s,u,c,p))&&void 0!==o?o:"",m=(0,n.uC)(e,"target","module",n.LL.data,null!==(d=null==h?void 0:h.module)&&void 0!==d?d:"",i,t,l,s,u,c,p);return"import "+f+(f&&g?", ":"")+(g?"{ "+g+"}":"")+' from "'.concat(m,'"')+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,s,u,c,p)};var ei=(0,a.memo)(et),el=i(22951);let ea=e=>{let{id:t,type:i}=e,a=(0,u.H)(i);return(0,l.jsx)(r.ZP,{icon:el.Z,node:e,isPreview:!t,title:"export default",id:t,params:[{label:"Value",field:"value",type:"input"}],color:a,dataOutput:Z.f.flow})};ea.category="module system",ea.keyWords=["export default"],ea.getData=(e,t,i,l)=>({value:(0,n.Su)(null==e?void 0:e.getExpression(),"output",e,"value",t,i,l,"value")}),ea.dataOutput=Z.f.flow,ea.dump=function(e,t,i,l){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=l[e.id];return"export default "+(0,n.uC)(e,"target","value",n.LL.data,null!==(a=null==u?void 0:u.value)&&void 0!==a?a:"",i,t,l,r,o,d,s)};var en=a.memo(ea);let er=e=>{var t;let{id:i,type:n}=e,o=(0,u.H)(n),s=(0,a.useContext)(d.p),c=s(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),p=Object.keys(c).filter(e=>e.startsWith("export-")).map((e,t)=>({label:t+1+"",field:e,type:"input",static:!0}));return(0,l.jsx)(r.ZP,{icon:el.Z,node:e,isPreview:!i,title:"export",id:i,params:p,color:o,dataOutput:Z.f.flow})};er.category="module system",er.keyWords=["export"],er.getData=(e,t,i)=>{var l;let a=null!==(l=e.getNamedExports())&&void 0!==l?l:[];return a.reduce((e,t,i)=>({...e,["export-"+i]:t.getName()}),{})},er.dataOutput=Z.f.flow,er.dump=function(e,t,i,l){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=null!==(a=l[e.id])&&void 0!==a?a:{},c=Object.keys(u).filter(e=>e.startsWith("export")).reduce((a,c)=>{var p;return a+((0,n.uC)(e,"target",c,n.LL.data,null!==(p=u[c])&&void 0!==p?p:"",i,t,l,r,o,d,s)+", ")},"");return"export {"+c+"}"};var eo=a.memo(er),ed=i(27145);let es=e=>{var t;let{id:i,type:n}=e,o=(0,u.H)(n),s=(0,a.useContext)(d.p),c=s(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{});return(0,l.jsx)(r.ZP,{icon:ed.Z,node:e,isPreview:!i,title:"return"+(e.id?" "+c.value:""),id:i,params:[{label:"Value",field:"value",type:"input"}],color:o,dataOutput:Z.f.flow})};es.category="common",es.keyWords=["return"],es.getData=(e,t,i,l)=>({value:(0,n.Su)(null==e?void 0:e.getExpression(),"output",e,"value",t,i,l,"value")}),es.dataOutput=Z.f.flow,es.dump=function(e,t,i,l){var a,r;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=l[e.id];return"return "+(null!==(r=(0,n.uC)(e,"target","value",n.LL.data,null!==(a=null==c?void 0:c.value)&&void 0!==a?a:"",i,t,l,o,d,s,u))&&void 0!==r?r:"")+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,o,d,s,u)};var eu=a.memo(es),ec=i(5521);let ep=e=>{let{id:t,type:i}=e,a=(0,u.H)(i),n=(0,u.ZP)("nodeFontSize");return(0,l.jsx)(r.ZP,{icon:ec.Z,style:{minHeight:t?4*n+"px":n,minWidth:10*n+"px"},node:e,isPreview:!t,title:"break",id:t,params:[],color:a})};ep.keyWords=["break"],ep.category="conditionals",ep.getData=(e,t,i)=>({}),ep.dump=function(e,t,i,l){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return"break"+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,a,r,o,d)};var eh=a.memo(ep);let eg=e=>{let{id:t,type:i}=e;return(0,l.jsx)(l.Fragment,{})};eg.getData=(e,t,i)=>{let l=e.getDeclarationList();return l?t[(0,n.zv)(l)]:{type:"data",value:""}},eg.isShadow=(e,t,i,l)=>!0;var ef=(0,a.memo)(eg),em=i(45927),ev=i(19837),ex=i(43055);let ey=e=>{let t=t=>{var i,n;let{id:o,type:s}=t,c=(0,u.H)(s),p=(0,a.useContext)(d.p),h=p(e=>null!==(n=e.nodeData[o])&&void 0!==n?n:{}),g=p(e=>e.setNodeData),f=null===(i=Object.keys(h))||void 0===i?void 0:i.filter(e=>e.startsWith("member-")),m=null==f?void 0:f.map((e,t)=>e.startsWith("param-")?{field:e,type:"input",fieldType:"parameter",separator:"=",deleteable:!1}:{label:"Member [".concat(t,"]"),field:e,type:"input",deleteable:!0}),v=[{label:"Extends",field:"extends",type:"input"},{label:"Implements",field:"implements",type:"input"}].concat(m),x=e=>{"attribute"==e?g(o,{...h,["param-".concat(f.length)]:{type:"attribute",key:"",value:""}}):g(o,{...h,["member-".concat(f.length)]:""})};return(0,l.jsxs)(r.ZP,{icon:ev.Z,node:t,isPreview:!o,title:"class ".concat(e),id:o,color:c,dataOutput:Z.f.flow,children:["declaration"==e?(0,l.jsx)(r.kz,{id:o,params:[{label:"Name",field:"name",type:"input",static:!0}]}):null,(0,l.jsx)(r.kz,{id:o,params:v}),(0,l.jsxs)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"space-around",marginTop:"20px"},children:[(0,l.jsx)(ex.Z,{onPress:()=>x("attribute"),label:"Add attribute",style:{width:"110px",margin:"0px"}}),(0,l.jsx)(ex.Z,{onPress:()=>x("member"),label:"Add member",style:{width:"110px",margin:"0px"}})]}),(0,l.jsx)(r.kz,{id:o,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),h.export?(0,l.jsx)(r.kz,{id:o,params:[{label:"isDefault",field:"isDefault",type:"boolean",static:!0}]}):null]})};return t.keyWords=["class","structure","object oriented"],t.category="program structure",t.getData=(e,t,i,l)=>{let a=e.getMembers().reduce((a,r,o)=>{var d="member-"+o,s={};if("PropertyDeclaration"==r.getKindName()){var u,c,d="param-"+o;let e=r.getName(),t=r.getTypeNode(),i=null!==(c=null===(u=r.getInitializer())||void 0===u?void 0:u.getText())&&void 0!==c?c:"",l=(0,n.Tz)(r);s[d]={key:e,value:i},s["type-".concat(d)]=t?t.getText():null,s["attrTrivia".concat(o)]=l}else s[d]=(0,n.Su)(r,"output",e,d,t,i,l,null,[n.LL.data,n.LL.data]);return{...a,...s}},{}),r={...a,export:e.getModifiers().find(e=>"ExportKeyword"==e.getKindName()),isDefault:!!e.getModifiers&&!!e.getModifiers().find(e=>"default"==e.getText()),name:e.getName()},o=e.getHeritageClauses();return o.length&&o.forEach((a,d)=>{let s=117==a.getToken()?"implements":"extends";r[s]=(0,n.Su)(o[0],"output",e,s,t,i,l,s)}),r},t.dataOutput=Z.f.flow,t.dump=function(t,i,l,a){var r,o;let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=null!==(o=a[t.id])&&void 0!==o?o:{},h=null===(r=Object.keys(p))||void 0===r?void 0:r.filter(e=>e.startsWith("member-")).reduce((e,r,o)=>{if(r.startsWith("param-")){var d;let t=null!==(d=p[r].key)&&void 0!==d?d:"",i=p[r].value,l=p["type-"+r]&&i?":":"=";return e+p["attrTrivia".concat(o)]+t+(i?l+i:"")}return(0,em.m1)(t.id,r,n.LL.data,l)?e+(0,n.uC)(t,"target",r,n.LL.data,"",l,i,a,p[r],s,u,c):e},"");return(p.export?"export ":"")+(p.export&&p.isDefault?"default ":"")+"class "+("declaration"==e?p.name:"")+(p.extends?" extends "+p.extends:"")+(p.implements?" implements "+p.implements:"")+"{"+h+"}"+(0,n.uC)(t,"source","output",n.LL.flow,"",l,i,a,d,s,u,c)},t};ey("declaration");var eb=i(89285);let ej=e=>{let t=t=>{var i;let{id:n,type:s}=t,c=(0,u.H)(s),p=(0,a.useContext)(d.p),h=p(e=>null!==(i=e.nodeData[n])&&void 0!==i?i:{}),g=Object.keys(h).filter(e=>e.startsWith("param-")).map((e,t)=>({label:e.substr(6),field:e,fieldType:"parameter"}));return(0,l.jsxs)(r.ZP,{icon:eb.Z,node:t,isPreview:!n,title:e,id:n,color:c,dataOutput:Z.f.method,children:[(0,l.jsx)("div",{style:{height:"40px"}}),"method"==e?(0,l.jsx)(r.kz,{id:n,params:[{label:"Name",field:"name",type:"input"}]}):null,(0,l.jsx)(r.kz,{id:n,params:g}),(0,l.jsx)(o.Z,{id:n,nodeData:h,type:"param"}),(0,l.jsx)(r._t,{id:n,type:"input",label:"Body",style:{top:"60px"},handleId:"body"}),(0,l.jsx)(r.kz,{id:n,params:[{label:"Static",field:"static",type:"boolean",static:!0},{label:"Async",field:"async",type:"boolean",static:!0}]}),(0,l.jsx)(r.kz,{id:n,params:[{field:"level",type:"select",data:["public","private","protected"],static:!0}]})]})};return t.category="program structure",t.keyWords=["method","constructor","class"],t.getData=(e,t,i,l)=>{(0,n.Su)(e.getBody(),"output",e,"body",t,i,l,null,[n.LL.data,n.LL.flow]);let a="public";return e.getModifiers().find(e=>"PublicKeyword"==e.getKindName())?a="public":e.getModifiers().find(e=>"PrivateKeyword"==e.getKindName())?a="private":e.getModifiers().find(e=>"ProtectedKeyword"==e.getKindName())&&(a="protected"),{...e.getParameters().reduce((a,r,o)=>{let d=(0,L.O)(),s=r.getInitializer(),u=r.getTypeNode(),c=u?u.getText():null;return e.getName&&(a.name=e.getName()),{...a,["param-"+d]:{key:r.getName(),value:s?(0,n.Su)(s,"output",e,"param-"+d,t,i,l,"param-"+d):"",type:c}}},{static:!!e.getModifiers().find(e=>"StaticKeyword"==e.getKindName()),async:!!e.getModifiers().find(e=>"AsyncKeyword"==e.getKindName()),level:a,type:e.getReturnTypeNode()?e.getReturnTypeNode().getText():null})}},t.dataOutput=Z.f.method,t.dump=function(t,i,l,a,r,o,d){var s;let u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=null!==(s=a[t.id])&&void 0!==s?s:{},p="constructor"==e?"constructor":c.name,h=Object.keys(c).filter(e=>e.startsWith("param")).map(e=>{var r,s,p,h;let g=(0,n.uC)(t,"target",e+"-key",n.LL.data,null!==(p=null===(r=c[e])||void 0===r?void 0:r.key)&&void 0!==p?p:"",l,i,a,null,o,d,u),f=(0,n.uC)(t,"target",e,n.LL.data,null!==(h=null===(s=c[e])||void 0===s?void 0:s.value)&&void 0!==h?h:"",l,i,a,null,o,d,u),m=g+(c[e].type?":"+c[e].type+" ":"")+(f?"="+f:"");return m}),g=(0,n.uC)(t,"target","body",n.LL.flow,"",l,i,a,null,o,d,u);return(c.static?"static ":"")+(c.async?"async ":"")+p+"("+h.join(",")+") "+(c.type?":"+c.type+" ":"")+g+(0,n.uC)(t,"source","output",n.LL.flow,"",l,i,a,null,o,d,u)},t};ej("method");var eC=i(22253);let ew=e=>{var t;let{id:i,type:n}=e,s=(0,u.H)(n),c=(0,a.useContext)(d.p),p=c(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),h=Object.keys(p).filter(e=>e.startsWith("param")).map((e,t)=>({label:"Params[".concat(t+1,"]"),field:e,type:"input",deleteable:!0})),g=[{label:"Name",field:"name",type:"input"}].concat(h);return(0,l.jsxs)(r.ZP,{icon:eC.Z,output:{label:"Output",field:"value",type:"output"},node:e,isPreview:!i,title:"new",id:i,color:s,children:[(0,l.jsx)(r.kz,{id:i,params:g,boxStyle:{marginTop:"10px"}}),(0,l.jsx)(o.Z,{id:i,nodeData:p,type:"param"}),(0,l.jsx)(r.IS,{id:i,param:{label:"Output",field:"value",type:"output"}})]})};ew.category="operators",ew.keyWords=["new"],ew.getData=(e,t,i,l)=>({...e.getArguments().reduce((a,r,o)=>({...a,["param"+(o+1)]:(0,n.Su)(r,"output",e,"param"+(o+1),t,i,l,"param"+(o+1))}),{}),name:(0,n.Su)(e.getExpression(),"output",e,"name",t,i,l,"name")}),ew.dump=function(e,t,i,l){var a,r;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=null!==(a=l[e.id])&&void 0!==a?a:{},p=Object.keys(c).filter(e=>e.startsWith("param")).map(a=>(0,n.uC)(e,"target",a,n.LL.data,null!==(r=c[a])&&void 0!==r?r:"",i,t,l,o,d,s,u)),h=(0,n.uC)(e,"target","name",n.LL.data,c.name,i,t,l,o,d,s,u);return"new "+h+"("+p.join(",")+")"+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,o,d,s,u)};var ek=a.memo(ew),eL=i(81267);let eS=e=>{let{id:t,type:i}=e,a=(0,u.H)(i);return(0,l.jsx)(r.ZP,{icon:eL.Z,node:e,isPreview:!t,title:"continue",id:t,params:[],color:a,dataOutput:Z.f.flow})};eS.keyWords=["continue","case","switch"],eS.category="conditionals",eS.getData=(e,t,i)=>({}),eS.dataOutput=Z.f.flow,eS.dump=function(e,t,i,l){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return"continue"+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,a,r,o,d)};var eP=a.memo(eS),e_=i(15038);let eD=e=>{let t=t=>{var i;let{id:n,type:s}=t,c=(0,u.H)(s),p=(0,a.useContext)(d.p),h=p(e=>null!==(i=e.nodeData[n])&&void 0!==i?i:{}),g="json"==h.mode?{keyPre:e=>e.replace(/^(["'])|(["'])$/g,""),keyPost:e=>'"'+e+'"'}:{},f=Object.keys(h).filter(e=>e.startsWith("param-")).map((e,t)=>{let i="json"==h.mode?{}:{additionalHandlePort:"key"};return{label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0,...i,...g}});return(0,l.jsxs)(r.ZP,{icon:e_.Z,node:t,isPreview:!n,title:"typeLiteral"==e?"type literal":"Object",id:n,color:c,children:[(0,l.jsx)("div",{style:{height:"5px"}}),(0,l.jsx)(r.kz,{id:n,params:f}),(0,l.jsx)(o.Z,{label:"Add Property",id:n,nodeData:h})]})};return t.category="data structures",t.keyWords=["object","data"],t.getData=(t,i,l,a,r)=>({...t["typeLiteral"==e?"getMembers":"getProperties"]().reduce((o,d,s)=>{let u,c;let p=(0,L.O)();return"SpreadAssignment"==d.getKindName()?u=(0,n.Su)(d,"output",t,"param-"+p+"-key",i,l,a):(u=d.getName(),c="typeLiteral"==e?d.getType().getText():d.getInitializer()?(0,n.Su)(d.getInitializer(),"output",t,"param-"+p,i,l,a,"param-"+p):""),{...o,["param-"+p]:{key:null!=u?u:"",value:null!=c?c:""},["trivia-param-"+p]:(0,n.Tz)(d),mode:r}},{})}),t.onDeleteConnection=(e,t)=>({...e,[t]:{...e[t],value:""}}),t.dump=function(e,t,i,l){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;arguments.length>8&&arguments[8];let u=null!==(a=l[e.id])&&void 0!==a?a:{},c=u._astNode?"":" ",p=!!u._astNode,h=Object.keys(u).filter(e=>e.startsWith("param")).map(a=>{var p,h,g,f;let m=null!==(g=null===(p=u[a])||void 0===p?void 0:p.key)&&void 0!==g?g:"",v={},x=(0,n.uC)(e,"target",a,n.LL.data,null!==(f=null===(h=u[a])||void 0===h?void 0:h.value)&&void 0!==f?f:"",i,t,l,r,o,d,s+1,v);return{code:m+(x?":"+c+x:""),trivia:v.content,paramTrivia:u["trivia-"+a]}}),g="partial"==d?"":p?function(e){let t=e.getSourceFile().getFullText(),i=e.getLastChild();if(i&&"CloseBraceToken"===i.getKindName()){let e=i.getLeadingTriviaWidth(),l=t.substring(i.getPos(),i.getPos()+e);return l}return""}(u._astNode):"\n"+"	".repeat(s-1);return"{"+h.reduce((e,t,i)=>{let l="partial"==d?"":void 0!==t.paramTrivia?t.paramTrivia:"\n"+"	".repeat(s);return e+l+t.code+(i<h.length-1?",":"")},"")+g+"}"+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,r,o,d,s)},t},eE=eD("objectLiteral");var eN=a.memo(eE);let eZ=e=>(0,l.jsx)(l.Fragment,{});eZ.skipTraversal=!0;var eT=(0,a.memo)(eZ),eI=i(22e3);let ez=e=>{let{id:t,type:i}=e,a=(0,u.H)(i);return(0,l.jsx)(r.ZP,{icon:eI.Z,node:e,isPreview:!t,title:"template",id:t,params:[{label:"Template",field:"value",type:"input"}],color:a})};ez.category="operators",ez.keyWords=["Template"],ez.getData=(e,t,i)=>({value:e.getText().slice(1,-1)}),ez.skipTraversal=!0;var eO=a.memo(ez),eF=i(77044),eW=i(38588),eH=i(66810),eB=i(86130),eA=i(16399);let eR=e=>{var t,i,n,o,s;let{id:c,type:p}=e,h=(0,a.useContext)(d.p),g=(0,u.v8)(),m=h(e=>null!==(i=e.nodeData[c])&&void 0!==i?i:{}),v=h(e=>e.nodeData[c]&&e.nodeData[c]._metadata?e.nodeData[c]._metadata:{childWidth:0,childHeight:0,childHeights:[]}),x=h(e=>e.setNodeData),y=h(e=>e.currentPath),b=(0,u.ZP)("nodeFontSize");(0,u.ZP)("blockPort");let{resolvedTheme:j}=(0,eA.P)(),C=!v.childHeight,w=222+(0,u.ZP)("nodeFontSize")/2,k=c?v.childHeight?v.childHeight+1.5*w+1*Math.max(0,(null===(s=m.connections)||void 0===s?void 0:s.length)-1):120:0,L=(0,f.Mi)(),S=()=>{x(c,{...m,connections:m.connections?m.connections.concat([1]):[1]})},P={};P.minHeight=k+"px",P.border=0,P.minWidth="CaseClause"==p||"DefaultClause"==p?"400px":"200px";let _=(0,u.ZP)("containerColor"),D={SourceFile:{output:!1,color:g,title:y.split(/[/\\]/).pop()},Block:{icon:eW.Z,color:"dark"==j?g:"#cccccc88",title:"Block"},CaseClause:{icon:eH.Z,color:"#cccccc88",title:"Case Clause"},DefaultClause:{icon:eH.Z,color:"#cccccc88",title:"Case Clause"}},E=c?L.filter(e=>e.target==c):[];return c&&a.useEffect(()=>{var e,t;if("json"==m.mode||E.length!=(null==m?void 0:null===(e=m.connections)||void 0===e?void 0:e.length)&&(null==m?void 0:null===(t=m.connections)||void 0===t?void 0:t.length)){let e=E.reduce((e,t)=>{let i=parseInt(t.targetHandle.slice(c.length+6),10);return i>e?i:e},-1);x(c,{...m,connections:m.connections.slice(0,e+2)})}else S()},[L,null==m?void 0:null===(n=m.connections)||void 0===n?void 0:n.length]),(0,l.jsxs)(r.ZP,{draggable:"SourceFile"!=p,container:!C,style:P,icon:null!==(o=D[p].icon)&&void 0!==o?o:null,node:e,output:!1==D[p].output?null:{field:"value",type:"output"},isPreview:!c,title:D[p].title,id:c,params:[],color:D[p].color,dataOutput:Z.f.block,children:[C?(0,l.jsx)("div",{style:{height:2*b+"px"}}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{style:{top:1.9*b,opacity:1,pointerEvents:"none",borderRadius:"0px "+b/1.3+"px "+b/1.3+"px "+b/1.3+"px",position:"absolute",width:v.childWidth+(v.childWidth>700?100:0)+"px",height:k-r.sS-2*b+"px",backgroundColor:_,borderLeft:b/2+"px solid "+D[p].color,boxShadow:(0,eB.p)(1.5)}})}),(0,l.jsx)("div",{children:null===(t=m.connections)||void 0===t?void 0:t.map((e,t)=>{let i=t&&v&&v&&v.childHeight&&v.childHeights&&v.childHeights[t-1]?v.childHeights[t-1].height:0;return i=i+(1==m.connections.length?100:w)-10,(0,l.jsxs)(l.Fragment,{children:[E.length>0&&(0,l.jsx)("div",{style:{left:b/2-1+"px",position:"absolute",top:i-b/4+"px",width:b+"px",height:b/2+"px",backgroundColor:D[p].color}}),(0,l.jsx)(r._t,{id:c,type:"input",label:"",style:{left:C?"":b+"px",top:i+"px"},handleId:"block"+t,allowedTypes:["data","flow"]},t)]})})})]})};eR.keyWords=["block","{}","CaseClause","group"],eR.category="common",eR.defaultHandle=n.LL.flow+"block0",eR.getData=(e,t,i,l,a)=>{let r=e.getStatements?e.getStatements():e.getDeclarations();r.forEach((a,r)=>{let o=t[(0,n.zv)(a)];if((null==o?void 0:o.type)||console.error("item has no type: ",o),(null==o?void 0:o.type)=="node"){let a=o.value.id;a&&(0,n.Su)(a,"output",e,"block"+r,t,i,l,null,[n.LL.data,n.LL.flow])}});let o=e.getStatements();return{connections:"json"==a&&o.length?o:o.concat([1]),mode:a}},eR.dataOutput=Z.f.block,eR.dump=function(e,t,i,l){var a,r;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;arguments.length>8&&void 0!==arguments[8]&&arguments[8];let c=null!==(a=l[e.id])&&void 0!==a?a:{connections:[]},p=null!==(r=c.connections)&&void 0!==r?r:[],h=c._astNode;h&&h.getText();let g="Block"==e.type?"	":"",f=p.map((a,r)=>{i.find(t=>t.targetHandle==e.id+n.LL.flow+"block"+r&&t.source);var c,p="";let h={},f=(0,n.uC)(e,"target","block"+r,n.LL.flow,"",i,t,l,o,d,s,u+1,h);return p=h.content&&h.content.includes("\n")||!r?"":"\n"+(f?g.repeat(u>0?u:0):""),{code:f=f?p+f:null,trivia:null!==(c=h.content)&&void 0!==c?c:""}}).filter(e=>e.code),m=f.length&&f[0].trivia.includes("\n")?"":"\n",v=("Block"==e.type?"{"+m:"")+f.map(e=>e.code).join("")+("Block"==e.type?"\n"+g.repeat(Math.max(u-1,0))+"}":"");return v},eR.filterChildren=(e,t,i,l,a)=>{if(!eF.NE)return t;let r=(0,n.dS)([0,0],"VisualGroup","VisualGroup_"+t[0].id,{visible:!1},!1,i);return r[0].children=t,r},eR.getWidth=e=>50,eR.getPosition=(e,t)=>(e.y=e.y+200,e),eR.getSpacingFactor=()=>({factorX:1.2,factorY:1});var eM=i(94533);let eJ=e=>{let{id:t,type:i}=e,n=(0,u.H)(i),o=(0,a.useContext)(d.p),s=o(e=>e.setMenu);return(0,l.jsxs)(r.ZP,{style:{borderColor:"#bbb",borderStyle:"dashed",borderWidth:2},output:!1,node:e,isPreview:!t,id:t,color:n,children:[(0,l.jsx)("div",{onClick:e=>{let{clientX:i,clientY:l}=e;console.log("event: ",e),console.log("locationX: ",i,"locationY: ",l),s("open",[i,l],t)},children:(0,l.jsx)(eM.Z,{style:{color:"#bbb",fontSize:"25px"},children:"+"})}),(0,l.jsx)(r.IS,{id:t,param:{label:"",field:"value",type:"output"},style:{backgroundColor:"#bbb",marginTop:"-25px"}})]})};eJ.keyWords=["phantom"],eJ.dump=(e,t,i,l)=>"";var eK=(0,a.memo)(eJ),eV=i(69335);let e$=e=>{var t,i;let{id:n,type:s}=e,c=(0,u.H)(s),p=(0,a.useContext)(d.p),h=p(e=>null!==(t=e.nodeData[n])&&void 0!==t?t:{}),g=[{label:"Name",static:!0,field:"name",type:"input",description:"Type name"}].concat(Object.keys(h).filter(e=>e.startsWith("union-")).map((e,t)=>({label:"["+t+"]",field:e,type:"input",deleteable:!0})));return(0,l.jsxs)(r.ZP,{icon:eV.Z,node:e,isPreview:!n,title:(h.export?"export ":"")+"type "+(null!==(i=h.name)&&void 0!==i?i:""),id:n,color:c,dataOutput:Z.f.flow,children:[(0,l.jsx)(r.kz,{id:n,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),(0,l.jsx)(r.kz,{id:n,params:g}),(0,l.jsx)(o.Z,{id:n,nodeData:h,type:"Union"})]})};e$.category="type system",e$.keyWords=["type"],e$.getData=(e,t,i,l)=>{var a={name:e.getName?e.getName():"",export:e.getModifiers().find(e=>"ExportKeyword"==e.getKindName())},r=[];return e.forEachChild(e=>{"TypeLiteral"==e.getKindName()?r.push(e):"UnionType"==e.getKindName()&&e.forEachChild((e,t)=>{r.push(e)})}),r.forEach((r,o)=>{let d="union-"+o;a={...a,[d]:(0,n.Su)(r,"output",e,d,t,i,l,null)}}),a},e$.dataOutput=Z.f.flow,e$.dump=function(e,t,i,l){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=null!==(a=l[e.id])&&void 0!==a?a:{},c=Object.keys(u).filter(e=>e.startsWith("union-")),p=c.length,h=c.reduce((a,c,h)=>{var g;let f=(0,n.uC)(e,"target",c,n.LL.data,null!==(g=u[c])&&void 0!==g?g:"",i,t,l,r,o,d,s);return a+f+(h+1<p?" | ":"\n")},"");return(u.export?"export ":"")+"type "+u.name+" = "+h+" "+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,r,o,d,s)};var eq=a.memo(e$);let eG=e=>{var t;let{id:i,type:n}=e,s=(0,u.H)(n),c=(0,a.useContext)(d.p),p=c(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),h=[{label:"Name",static:!0,field:"name",type:"input",description:"Interface name"}].concat(Object.keys(p).filter(e=>e.startsWith("param-")).map((e,t)=>({label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0})));return(0,l.jsxs)(r.ZP,{icon:eV.Z,node:e,isPreview:!i,title:"interface",id:i,color:s,dataOutput:Z.f.flow,children:[(0,l.jsx)(r.kz,{id:i,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),(0,l.jsx)(r.kz,{id:i,params:h}),(0,l.jsx)(o.Z,{id:i,nodeData:p})]})};eG.category="program structure",eG.keyWords=["interface"],eG.getData=(e,t,i)=>({...e.getType().getProperties().reduce((e,t,i)=>{var l;let a=(0,L.O)(),n=t.getValueDeclaration().getType().getText(),r=!!(null===(l=t.getValueDeclaration())||void 0===l?void 0:l.getChildrenOfKind(c.lGB.QuestionToken).length),o=t.getName()+(r?"?":"");return{...e,["param-"+a]:{key:null!=o?o:"",value:null!=n?n:""}}},{name:e.getName?e.getName():"",export:e.getModifiers().find(e=>"ExportKeyword"==e.getKindName())})}),eG.dataOutput=Z.f.flow,eG.dump=function(e,t,i,l){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=null!==(a=l[e.id])&&void 0!==a?a:{},c=Object.keys(u).filter(e=>e.startsWith("param-")).reduce((a,c)=>{var p,h;let g=u[c].key,f=(0,n.uC)(e,"target",c,n.LL.data,null!==(h=null===(p=u[c])||void 0===p?void 0:p.value)&&void 0!==h?h:"",i,t,l,r,o,d,s);return a+("	"+g)+":"+f+";\n"},"");return(u.export?"export ":"")+" interface "+u.name+" {\n"+c+"\n}"+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,r,o,d,s)};var eU=a.memo(eG),eY=i(58942);let eX=e=>{var t;let{id:i,type:n}=e,s=(0,u.H)(n),c=(0,a.useContext)(d.p),p=c(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),h=Object.keys(p).filter(e=>e.startsWith("param-")).map((e,t)=>({label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0}));return(0,l.jsxs)(r.ZP,{icon:eY.Z,node:e,isPreview:!i,title:"object binding",id:i,color:s,dataOutput:Z.f.binding,children:[(0,l.jsx)(r.kz,{id:i,params:h}),(0,l.jsx)(o.Z,{id:i,nodeData:p})]})};eX.category="operators",eX.keyWords=["object","binding","object binding"],eX.getData=(e,t,i,l)=>({...e.getElements().reduce((e,t,i)=>{let l=(0,L.O)(),a=null==t?void 0:t.getPropertyNameNode(),n=null!==(o=null==t?void 0:t.getName())&&void 0!==o?o:"",r=null==t?void 0:t.getInitializer();var o,d={};return d=r?{key:n,value:r.getText(),initializer:!0}:a?{key:a.getText(),value:n}:{key:n},{...e,["param-"+l]:{...d}}},{})}),eX.dataOutput=Z.f.binding,eX.dump=function(e,t,i,l){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=null!==(a=l[e.id])&&void 0!==a?a:{},c=Object.keys(u).filter(e=>e.startsWith("param-")).reduce((a,c)=>{var p,h;let g=u[c].key,f=u[c].initializer?"=":":",m=(0,n.uC)(e,"target",c,n.LL.data,null!==(h=null===(p=u[c])||void 0===p?void 0:p.value)&&void 0!==h?h:"",i,t,l,r,o,d,s);return a+(g+(m?f+m:"")+", ")},"");return"{"+c+"}"+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,r,o,d,s)};var eQ=i(1594),e0=i(1674);let e1=e=>{let{id:t,type:i}=e,a=(0,u.H)(i);return(0,l.jsx)(r.ZP,{icon:e0.Z,node:e,isPreview:!t,title:"{Jsx}",id:t,params:[{label:"{jsx}",field:"expression",type:"input",description:"JsxExpression"}],color:a,dataOutput:Z.f.jsx})};e1.category="react",e1.keyWords=["jsx","jsxexpression","expression","tsx","{}"],e1.defaultHandle=n.LL.data+"expression",e1.getData=(e,t,i,l)=>{var a;return{expression:null!==(a=(0,n.Su)(e.getExpression(),"output",e,"expression",t,i,l,"expression"))&&void 0!==a?a:""}},e1.dataOutput=Z.f.jsx,e1.dump=function(e,t,i,l){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=l[e.id],c=(0,n.uC)(e,"target","expression",n.LL.data,null!==(a=null==u?void 0:u.expression)&&void 0!==a?a:"",i,t,l,r,o,d,s),p="{".concat(c,"}")+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,r,o,d,s);return p},e1.isShadow=(e,t,i,l)=>"JsxAttribute"==e.getParent().getKindName();var e2=a.memo(e1);let e5=e=>{var t;let{id:i,type:n}=e,s=(0,u.H)(n),c=(0,a.useContext)(d.p),p=c(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),h=Object.keys(p).filter(e=>e.startsWith("child-")).map((e,t)=>({label:"Child"+(t+1),field:e,fieldType:"child",deleteable:!0}));return(0,l.jsxs)(r.ZP,{icon:e0.Z,node:e,isPreview:!i,title:"<></>",id:i,color:s,children:[(0,l.jsx)(r.kz,{id:i,params:h}),(0,l.jsx)(o.Z,{id:i,nodeData:p,type:"Child"})]})};e5.category="react",e5.keyWords=["jsx","jsxelement","jsxfragment","react","tsx","fragment","selfclosed"],e5.getData=(e,t,i,l)=>{let a=e.getChildrenOfKind(c.lGB.SyntaxList)[0],r=a.getChildren(),o=r.filter(e=>["JsxElement","JsxSelfClosingElement","JsxExpression","JsxFragment"].includes(e.getKindName())),d=null==o?void 0:o.reduce((a,r,o)=>{let d="child-".concat(o+1);return{...a,[d]:(0,n.Su)(r,"output",e,d,t,i,l,d)}},{});return{...d}},e5.dump=function(e,t,i,l){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=null!==(a=l[e.id])&&void 0!==a?a:{},c=Object.keys(u).filter(e=>e.startsWith("child-")).reduce((a,c)=>{var p;return a+"	"+(0,n.uC)(e,"target",c,n.LL.data,null!==(p=u[c])&&void 0!==p?p:"",i,t,l,r,o,d,s)+"\n"},"");return"<>\n".concat(c,"</>")+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,r,o,d,s)};var e4=a.memo(e5);let e3=e=>{let t=t=>{var i,n,o;let{id:s,type:c}=t,p=(0,u.H)(c),h=(0,a.useContext)(d.p),g=h(e=>null!==(i=e.nodeData[s])&&void 0!==i?i:{});return(0,l.jsxs)(r.ZP,{icon:R.Z,node:t,isPreview:!s,title:"for("+(null!==(n=null==g?void 0:g.element)&&void 0!==n?n:"element")+" ".concat(e," ")+(null!==(o=null==g?void 0:g.iterator)&&void 0!==o?o:"item")+")",id:s,color:p,children:[(0,l.jsx)(r.kz,{id:s,params:[{label:"Element",field:"element",type:"input"},{label:"Iterator",field:"iterator",type:"input"}],boxStyle:{marginTop:"0px",marginBottom:"80px"}}),(0,l.jsx)(r._t,{id:s,type:"input",label:"Loop",style:{top:"180px"},handleId:"loop"})]})};return t.category="loops",t.keyWords=["for","for-in","for-of"],t.getData=(e,t,i,l)=>{e.getStatement()&&(0,n.Su)(e.getStatement(),"output",e,"loop",t,i,l,null,[n.LL.data,n.LL.flow]);let a=e.getInitializer(),r=e.getExpression();return{element:(0,n.Su)(a,"output",e,"element",t,i,l,"element"),iterator:(0,n.Su)(r,"output",e,"iterator",t,i,l,"iterator")}},t.dump=function(t,i,l,a){var r,o;let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=a[t.id],h=(0,n.uC)(t,"target","loop",n.LL.flow,"{}",l,i,a,d,s,u,c),g=(0,n.uC)(t,"target","element",n.LL.data,null!==(r=null==p?void 0:p.element)&&void 0!==r?r:"",l,i,a,d,s,u,c),f=(0,n.uC)(t,"target","iterator",n.LL.data,null!==(o=null==p?void 0:p.iterator)&&void 0!==o?o:"",l,i,a,d,s,u,c),m="for("+g+" ".concat(e," ")+f+" ) "+h+"\n";return m+(0,n.uC)(t,"source","output",n.LL.flow,"",l,i,a,d,s,u,c)},t};e3("in");var e6=i(54373);let e7=e=>{var t;let{id:i,type:n}=e,o=(0,u.H)(n),s=(0,a.useContext)(d.p),c=s(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{});return(0,l.jsx)(r.ZP,{icon:e6.Z,node:e,isPreview:!i,title:"delete "+((null==c?void 0:c.expression)?c.expression:"expression"),params:[{label:"Expression",field:"expression",type:"input"}],id:i,color:o,dataOutput:Z.f.flow})};e7.category="operators",e7.keyWords=["delete"],e7.getData=(e,t,i,l)=>({expression:(0,n.Su)(null==e?void 0:e.getExpression(),"output",e,"expression",t,i,l,"expression")}),e7.dataOutput=Z.f.flow,e7.dump=function(e,t,i,l){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=l[e.id];return"delete "+(0,n.uC)(e,"target","expression",n.LL.data,null!==(a=null==u?void 0:u.expression)&&void 0!==a?a:"",i,t,l,r,o,d,s)+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,r,o,d,s)};var e8=(0,a.memo)(e7);let e9=e=>{let{id:t,type:i}=e,a=(0,u.H)(i);return(0,l.jsx)(r.ZP,{icon:C.Z,node:e,isPreview:!t,title:"...",color:a,id:t,params:[{label:"Expression",field:"expression",type:"input"}],dataOutput:Z.f.spread})};e9.category="operators",e9.keyWords=["spread","..."],e9.getData=(e,t,i,l)=>{let a=e.getExpression();return{expression:(0,n.Su)(a,"output",e,"expression",t,i,l,"expression")}},e9.dataOutput=Z.f.spread,e9.dump=function(e,t,i,l){var a,r;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=l[e.id];return"..."+(null!==(r=(0,n.uC)(e,"target","expression",n.LL.data,null!==(a=null==c?void 0:c.expression)&&void 0!==a?a:"",i,t,l,o,d,s,u))&&void 0!==r?r:"")+(0,n.uC)(e,"source","output",n.LL.flow,"",i,t,l,o,d,s,u)};var te=(0,a.memo)(e9);let tt=e=>{let{id:t,type:i}=e;return(0,l.jsx)(l.Fragment,{})};tt.getData=(e,t,i)=>{let l=e.getExpression();return l?t[(0,n.zv)(l)]:{type:"data",value:""}},tt.isShadow=(e,t,i,l)=>!0;var ti=(0,a.memo)(tt),tl=(0,a.memo)(e=>{var t,i,a;console.log("node in visualgroup: ",e),e.id.startsWith("VisualGroup_SourceFile_");let n=(null===(t=e.data)||void 0===t?void 0:t.width)+"px",r=(null===(i=e.data)||void 0===i?void 0:i.height)+"px",o="white";return(0,l.jsx)("div",{style:{width:"0px",height:"0px"},children:(null===(a=e.data)||void 0===a?void 0:a.visible)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"nodrag",style:{position:"absolute",width:n,height:"3px",backgroundColor:o}}),(0,l.jsx)("div",{className:"nodrag",style:{position:"absolute",top:r,width:n,height:"3px",backgroundColor:o}}),(0,l.jsx)("div",{className:"nodrag",style:{position:"absolute",width:"3px",height:r,backgroundColor:o}}),(0,l.jsx)("div",{className:"nodrag",style:{position:"absolute",left:n,width:"3px",height:r,backgroundColor:o}})]}):null})}),ta=(0,a.memo)(e=>{var t,i,n;let r=(0,a.useContext)(d.p),{id:o,type:s}=e,u=r(e=>null!==(t=e.nodeData[o])&&void 0!==t?t:{});switch(null==u?void 0:u.type){case"text":return(0,l.jsx)("p",{style:null==u?void 0:null===(i=u.data)||void 0===i?void 0:i.style,children:null==u?void 0:null===(n=u.data)||void 0===n?void 0:n.text});case"image":return(0,l.jsx)(l.Fragment,{})}});let tn={Block:eR,CallExpression:h,BinaryExpression:x("+"),ObjectLiteralExpression:eN,ArrayLiteralExpression:$,ArrowFunction:_,FunctionDeclaration:_,ReturnStatement:eu,ElementAccessExpression:J,ParenthesizedExpression:U,IfStatement:I,ConditionalExpression:A,WhileStatement:X("while"),DoStatement:X("while","do-while"),ForStatement:X("for"),ForInStatement:e3("in"),ForOfStatement:e3("of"),SwitchStatement:H,BreakStatement:eh,constNode:y("const"),letNode:y("let"),varNode:y("var"),setNode:x("="),PrefixUnaryExpression:Q("pre"),PostfixUnaryExpression:Q("post"),ClassDeclaration:ey("declaration"),ClassExpression:ey("expression"),MethodDeclaration:ej("method"),Constructor:ej("constructor"),ImportDeclaration:ei,ContinueStatement:eP,TemplateExpression:eO,ExportAssignment:en,ExportDeclaration:eo,NewExpression:ek,TryStatement:F,PropertyAccessExpression:k,TypeLiteral:eD("typeLiteral"),TypeAliasDeclaration:eq,InterfaceDeclaration:eU,ObjectBindingPattern:eX,JsxElement:(0,eQ.$N)("JsxElement"),JsxExpression:e2,JsxFragment:e4,JsxSelfClosingElement:(0,eQ.$N)("JsxSelfClosingElement"),DeleteExpression:e8,SpreadAssignment:te,CaseClause:eR},tr={...tn,PropertyAccessExpression:k,SourceFile:eR,Parameter:E,VariableDeclarationList:j,VariableStatement:ef,ComputedPropertyName:eT,SpreadElement:te,PhantomBox:eK,FunctionExpression:_,ExpressionStatement:ti,VisualGroup:tl,Layer:ta,DefaultClause:eR};var to=tn},33361:function(e,t,i){"use strict";i.d(t,{Df:function(){return p},NH:function(){return n},XD:function(){return u},ui:function(){return s},vM:function(){return d},yt:function(){return c}});var l=i(2784),a=i(10729);let n=(0,l.createContext)({nodePreview:"",flowsHeight:void 0}),r=()=>{let{nodePreview:e,flowsHeight:t}=(0,l.useContext)(n);return{preview:"preview"===e?"node":"default",flowsHeight:t}},o=(e,t)=>"function"==typeof e?i=>e(i.map(e=>({...e,data:{...e.data,...t}}))):e.map(e=>({...e,data:{...e.data,...t}})),d=()=>{let{setNodes:e,setEdges:t,project:i,setViewport:l,getNodes:n,getViewport:d,setCenter:s,getEdges:u,deleteElements:c,fitView:p}=(0,a._K)(),h=r();return{setNodes:t=>{e(o(t,h))},project:i,setViewport:l,getNodes:n,getViewport:d,setCenter:s,setEdges:e=>{t(o(e,h))},getEdges:u,deleteElements:c,fitView:p}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[i,l,n]=(0,a.Rr)(o(e,t));return[i,e=>l(o(e,t)),n]},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[i,l,n]=(0,a.ll)(o(e,t));return[i,e=>l(o(e,t)),n]},c=()=>(0,a.Mi)(),p=(e,t)=>(0,a.Z_)({...e,type:"custom",animated:!1},t)},45823:function(e,t,i){"use strict";i.d(t,{g:function(){return r},p:function(){return o}});var l=i(2784),a=i(92467),n=i(15729);let r=()=>(0,a.Z)((e,t)=>({errorData:{},nodeData:{},customComponents:[],initialEdges:[],initialNodes:[],saveStatus:null,menuState:"closed",menuPosition:[0,0],menuOpener:"",themeMode:"light",primaryColor:"#ccc",themeOverride:{},flowInstance:Math.random(),currentPath:"Start",metadata:{},dataNotify:()=>{},setDataNotify:t=>e((0,n.ZP)(e=>{e.dataNotify=t})),clearError:()=>e((0,n.ZP)(e=>{e.errorData={}})),setError:t=>e((0,n.ZP)(e=>{e.errorData={id:t}})),setCurrentPath:t=>e((0,n.ZP)(e=>{e.currentPath=t})),setMenu:(t,i,l)=>e((0,n.ZP)(e=>{e.menuState=t,e.menuPosition=i||[-5e3,-5e3],e.menuOpener=l||""})),setInitialEdges:t=>e((0,n.ZP)(e=>{e.initialEdges=t})),setInitialNodes:t=>e((0,n.ZP)(e=>{e.initialNodes=t})),setCustomComponents:t=>e((0,n.ZP)(e=>{e.customComponents=t})),appendCustomComponents:t=>e((0,n.ZP)(e=>{let i=(e,t)=>e.some(e=>e.id===t.id);t.forEach(t=>{i(e.customComponents,t)||e.customComponents.push(t)})})),setNodeData:(i,l)=>e((0,n.ZP)(e=>{e.nodeData={...t().nodeData,[i]:{...t().nodeData[i],...l}}})),setNodesMetaData:t=>e((0,n.ZP)(e=>{Object.keys(t).forEach(i=>{e.nodeData[i]||(e.nodeData[i]={}),e.nodeData[i]._metadata=t[i]})})),setNodesData:t=>e((0,n.ZP)(e=>{e.nodeData=t})),deletePropNodeData:(i,l)=>e((0,n.ZP)(e=>{var a={...t().nodeData[i]};Object.keys(a).includes(l)?(delete a[l],e.nodeData={...e.nodeData,[i]:{...a}}):(console.error('Error deleting the following "Property Node Data": '+i),e.nodeData={...e.nodeData})})),clearNodesData:()=>e((0,n.ZP)(e=>{let i={},l=Object.keys(t().nodeData).filter(e=>!(e.startsWith("Object")||e.startsWith("ArrowFunction")||e.startsWith("TypeAliasDeclaration")||e.startsWith("InterfaceDeclaration")||e.startsWith("ObjectBindingPattern")||e.startsWith("JsxElement")||e.startsWith("JsxExpression")||e.startsWith("PropertyAssignment")||e.startsWith("FunctionDeclaration")));l.forEach(e=>{i[e]=t().nodeData[e]}),e.nodeData=i})),setSaveStatus:t=>e((0,n.ZP)(e=>{e.saveStatus=t})),setThemeMode:(t,i,l)=>e((0,n.ZP)(e=>{e.themeMode=t,e.themeOverride=i,e.primaryColor=null!=l?l:"#ccc"})),setMetadata:t=>e((0,n.ZP)(e=>{e.metadata=t}))})),o=(0,l.createContext)(r())},77044:function(e,t,i){"use strict";i.d(t,{Hd:function(){return l},NE:function(){return n},r0:function(){return r},te:function(){return a}});let l="LEFT",a=!1,n=!1,r=!1},69685:function(e,t,i){"use strict";i.d(t,{Jf:function(){return a},Ql:function(){return l},oe:function(){return n}});let l=e=>{var t;let i=e.split("-")[0];switch(i){case"prop":case"param":t="detailed";break;default:t="literal"}return t},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!t)return e;let n=t.split("-")[0],r=l(n);var o,d,s,u=i[t];let c=null!==(d=null!==(o=null==u?void 0:u.kind)&&void 0!==o?o:a.kind)&&void 0!==d?d:"StringLiteral";if("detailed"===r){var p=t.split("-")[1];s={...u,key:p,kind:c,value:e}}else s=e;return s},n=(e,t)=>{var i,a;let n=e.split("-")[0],r=l(n);return"detailed"===r?null===(a=t[e])||void 0===a?void 0:a.value:t[e]}},91092:function(){},62321:function(){},78260:function(){},84520:function(){},97752:function(){},34719:function(){},79711:function(){},56699:function(){},68379:function(){},68382:function(){},78867:function(){},21212:function(){},89854:function(){},25800:function(){},93037:function(){},26996:function(){}}]);