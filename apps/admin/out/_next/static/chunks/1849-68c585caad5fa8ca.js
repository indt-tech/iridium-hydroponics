(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1849],{8293:function(e,t,r){"use strict";r.d(t,{ML:function(){return es},QS:function(){return i.QS},RQ:function(){return A},W_:function(){return T},Zo:function(){return w},_i:function(){return ea},jE:function(){return L},sp:function(){return Q},xd:function(){return m}});var n,o,i=r(8381),s=r(2784),a=r(10362),d=r(61049),l=r.n(d);r(9850);let c=s.createContext(null),u=({id:e,related:t=!1,children:r})=>s.createElement(c.Provider,{value:{id:e,related:t}},r);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}let y=(0,s.createContext)(null),v=(0,s.createContext)(null),m=()=>(0,s.useContext)(v);function b(e){let t=m(),r=(0,s.useContext)(y);(0,a.Z)(r,i.k8);let n=(0,i.rf)(r,e),o=(0,s.useMemo)(()=>t&&t.createConnectorsUsage(),[t]);(0,s.useEffect)(()=>(o.register(),()=>{o.cleanup()}),[o]);let d=(0,s.useMemo)(()=>o&&(0,i.p)(o.connectors),[o]);return h(h({},n),{},{connectors:d,inContext:!!r,store:r})}let E=["actions","query","connectors"];function O(e){let t=(0,s.useContext)(c);(0,a.Z)(t,i.pY);let{id:r,related:n}=t,o=b(t=>r&&t.nodes[r]&&e&&e(t.nodes[r])),{actions:d,connectors:l}=o,u=g(o,E),p=(0,s.useMemo)(()=>(0,i.p)({connect:e=>l.connect(e,r),drag:e=>l.drag(e,r)}),[l,r]),f=(0,s.useMemo)(()=>({setProp:(e,t)=>{t?d.history.throttle(t).setProp(r,e):d.setProp(r,e)},setCustom:(e,t)=>{t?d.history.throttle(t).setCustom(r,e):d.setCustom(r,e)},setHidden:e=>d.setHidden(r,e)}),[d,r]);return h(h({},u),{},{id:r,related:n,inNodeContext:!!t,actions:f,connectors:p})}let N=["id","related","actions","inNodeContext","connectors"];function w(e){let t=O(e),{id:r,related:n,actions:o,inNodeContext:s,connectors:a}=t;return h(h({},g(t,N)),{},{actions:o,id:r,related:n,setProp:(e,t)=>((0,i.d9)("useNode().setProp()",{suggest:"useNode().actions.setProp()"}),o.setProp(e,t)),inNodeContext:s,connectors:a})}let C=({render:e})=>{let{connectors:{connect:t,drag:r}}=w();return"string"==typeof e.type?t(r(s.cloneElement(e))):e},j=()=>{let{type:e,props:t,nodes:r,hydrationTimestamp:n}=O(e=>({type:e.data.type,props:e.data.props,nodes:e.data.nodes,hydrationTimestamp:e._hydrationTimestamp}));return(0,s.useMemo)(()=>{let n=t.children;r&&r.length>0&&(n=s.createElement(s.Fragment,null,r.map(e=>s.createElement(x,{id:e,key:e}))));let o=s.createElement(e,t,n);return"string"==typeof e?s.createElement(C,{render:o}):o},[e,t,n,r])},P=({render:e})=>{let{hidden:t}=O(e=>({hidden:e.data.hidden})),{onRender:r}=b(e=>({onRender:e.options.onRender}));return t?null:s.createElement(r,{render:e||s.createElement(j,null)})},x=({id:e,render:t})=>s.createElement(u,{id:e},s.createElement(P,{render:t})),S={is:"div",canvas:!1,custom:{},hidden:!1},k={is:"type",canvas:"isCanvas"};function T({id:e,children:t,...r}){let{is:n}={...S,...r},{query:o,actions:d}=b(),{node:l,inNodeContext:c}=O(e=>({node:{id:e.id,data:e.data}})),[u,p]=(0,s.useState)(null);return(0,i.qR)(()=>{(0,a.Z)(!!e,i.VW);let{id:u,data:h}=l;if(c){let i;let a=h.linkedNodes&&h.linkedNodes[e]&&o.node(h.linkedNodes[e]).get();if(a&&a.data.type===n)i=a.id;else{let n=s.createElement(T,r,t),a=o.parseReactElement(n).toNodeTree();i=a.rootNodeId,d.history.ignore().addLinkedNodeFromTree(a,u,e)}p(i)}}),u?s.createElement(x,{id:u}):null}let R=()=>(0,i.d9)("<Canvas />",{suggest:"<Element canvas={true} />"});function D({...e}){return(0,s.useEffect)(()=>R(),[]),s.createElement(T,{...e,canvas:!0})}let I=()=>{let{timestamp:e}=b(e=>({timestamp:e.nodes[i.QS]&&e.nodes[i.QS]._hydrationTimestamp}));return e?s.createElement(x,{id:i.QS,key:e}):null},A=({children:e,json:t,data:r})=>{let{actions:n,query:o}=b();t&&(0,i.d9)("<Frame json={...} />",{suggest:"<Frame data={...} />"});let a=(0,s.useRef)({initialChildren:e,initialData:r||t}),d=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{let{initialChildren:e,initialData:t}=a.current;if(t)return void n.history.ignore().deserialize(t);if(!e||d.current)return;let r=s.Children.only(e),l=o.parseReactElement(r).toNodeTree((e,t)=>(t===r&&(e.id=i.QS),e));n.history.ignore().addNodeTree(l),d.current=!0},[n,o]),s.createElement(I,null)};(n=o||(o={}))[n.Any=0]="Any",n[n.Id=1]="Id",n[n.Obj=2]="Obj";let _=e=>{let{addLinkedNodeFromTree:t,setDOM:r,setNodeEvent:n,replaceNodes:o,reset:i,...s}=e;return s};function L(e){let{connectors:t,actions:r,query:n,store:o,...i}=b(e),a=_(r);return{connectors:t,actions:(0,s.useMemo)(()=>({...a,history:{...a.history,ignore:(...e)=>_(a.history.ignore(...e)),throttle:(...e)=>_(a.history.throttle(...e))}}),[a]),query:n,store:o,...i}}let M=e=>Object.fromEntries?Object.fromEntries(e):e.reduce((e,t)=>{let[r,n]=t;return h(h({},e),{},{[r]:n})},{}),z=(e,t,r)=>{let n=Array.isArray(t)?t:[t],o=h({existOnly:!1,idOnly:!1},r||{}),s=n.filter(e=>!!e).map(t=>"string"==typeof t?{node:e[t],exists:!!e[t]}:"object"!=typeof t||o.idOnly?{node:null,exists:!1}:{node:t,exists:!!e[t.id]});return o.existOnly&&(0,a.Z)(0===s.filter(e=>!e.exists).length,i.YN),s},H=["history"],q=(e,t)=>{let r=(t,r,o)=>{let s=(r,n)=>{let o=t.nodes[r];"string"!=typeof o.data.type&&(0,a.Z)(e.options.resolver[o.data.name],i.Wt.replace("%node_type%","".concat(o.data.type.name))),e.nodes[r]=h(h({},o),{},{data:h(h({},o.data),{},{parent:n})}),o.data.nodes.length>0&&(delete e.nodes[r].data.props.children,o.data.nodes.forEach(e=>s(e,o.id))),Object.values(o.data.linkedNodes).forEach(e=>s(e,o.id))};if(s(t.rootNodeId,r),!r)return void(0,a.Z)(t.rootNodeId===i.QS,"Cannot add non-root Node without a parent");let d=n(r);if("child"!==o.type)d.data.linkedNodes[o.id]=t.rootNodeId;else{let e=o.index;null!=e?d.data.nodes.splice(e,0,t.rootNodeId):d.data.nodes.push(t.rootNodeId)}},n=t=>{(0,a.Z)(t,i.ab);let r=e.nodes[t];return(0,a.Z)(r,i.YN),r},o=t=>{let r=e.nodes[t],n=e.nodes[r.data.parent];if(r.data.nodes&&[...r.data.nodes].forEach(e=>o(e)),r.data.linkedNodes&&Object.values(r.data.linkedNodes).map(e=>o(e)),n.data.nodes.includes(t)){let e=n.data.nodes;e.splice(e.indexOf(t),1)}else{let e=Object.keys(n.data.linkedNodes).find(e=>n.data.linkedNodes[e]===e);e&&delete n.data.linkedNodes[e]}((e,t)=>{Object.keys(e.events).forEach(r=>{let n=e.events[r];n&&n.has&&n.has(t)&&(e.events[r]=new Set(Array.from(n).filter(e=>t!==e)))})})(e,t),delete e.nodes[t]};return{addLinkedNodeFromTree(e,t,i){let s=n(t).data.linkedNodes[i];s&&o(s),r(e,t,{type:"linked",id:i})},add(e,t,n){let o=[e];Array.isArray(e)&&((0,i.d9)("actions.add(node: Node[])",{suggest:"actions.add(node: Node)"}),o=e),o.forEach(e=>{r({nodes:{[e.id]:e},rootNodeId:e.id},t,{type:"child",index:n})})},addNodeTree(e,t,n){r(e,t,{type:"child",index:n})},delete(r){z(e.nodes,r,{existOnly:!0,idOnly:!0}).forEach(e=>{let{node:r}=e;(0,a.Z)(!t.node(r.id).isTopLevelNode(),i.JB),o(r.id)})},deserialize(e){let r="string"==typeof e?JSON.parse(e):e,n=Object.keys(r).map(e=>{let n=e;return e===i.CD&&(n=i.QS),[n,t.parseSerializedNode(r[e]).toNode(e=>e.id=n)]});this.replaceNodes(M(n))},move(r,n,o){let i=z(e.nodes,r,{existOnly:!0}),s=e.nodes[n],a=new Set;i.forEach((r,i)=>{let{node:d}=r,l=d.id,c=d.data.parent;t.node(n).isDroppable([l],e=>{throw Error(e)}),e.options.onBeforeMoveEnd(d,s,e.nodes[c]);let u=e.nodes[c].data.nodes;a.add(u);let p=u.indexOf(l);u[p]="$$",s.data.nodes.splice(o+i,0,l),e.nodes[l].data.parent=n}),a.forEach(e=>{let t=e.length;[...e].reverse().forEach((r,n)=>{"$$"===r&&e.splice(t-1-n,1)})})},replaceNodes(t){this.clearEvents(),e.nodes=t},clearEvents(){this.setNodeEvent("selected",null),this.setNodeEvent("hovered",null),this.setNodeEvent("dragged",null),this.setIndicator(null)},reset(){this.clearEvents(),this.replaceNodes({})},setOptions(t){t(e.options)},setNodeEvent(t,r){if(e.events[t].forEach(r=>{e.nodes[r]&&(e.nodes[r].events[t]=!1)}),e.events[t]=new Set,!r)return;let n=z(e.nodes,r,{idOnly:!0,existOnly:!0}),o=new Set(n.map(e=>{let{node:t}=e;return t.id}));o.forEach(r=>{e.nodes[r].events[t]=!0}),e.events[t]=o},setCustom(t,r){z(e.nodes,t,{idOnly:!0,existOnly:!0}).forEach(t=>{let{node:n}=t;return r(e.nodes[n.id].data.custom)})},setDOM(t,r){e.nodes[t]&&(e.nodes[t].dom=r)},setIndicator(t){t&&(!t.placement.parent.dom||t.placement.currentNode&&!t.placement.currentNode.dom)||(e.indicator=t)},setHidden(t,r){e.nodes[t].data.hidden=r},setProp(t,r){z(e.nodes,t,{idOnly:!0,existOnly:!0}).forEach(t=>{let{node:n}=t;return r(e.nodes[n.id].data.props)})},selectNode(t){if(t){let r=z(e.nodes,t,{idOnly:!0,existOnly:!0});this.setNodeEvent("selected",r.map(e=>{let{node:t}=e;return t.id}))}else this.setNodeEvent("selected",null);this.setNodeEvent("hovered",null)}}},F=(e,t)=>{let r=t.name||t.displayName,n=(()=>{if(e[r])return r;for(let r=0;r<Object.keys(e).length;r++){let n=Object.keys(e)[r];if(e[n]===t)return n}return"string"==typeof t?t:void 0})();return(0,a.Z)(n,i.Wt.replace("%node_type%",r)),n},Z=(e,t)=>"string"==typeof e?e:{resolvedName:F(t,e)},B=(e,t)=>{let{type:r,isCanvas:n,props:o}=e;return o=Object.keys(o).reduce((e,r)=>{let n=o[r];return null==n||"function"==typeof n||(e[r]="children"===r&&"string"!=typeof n?s.Children.map(n,e=>"string"==typeof e?e:B(e,t)):"function"==typeof n.type?B(n,t):n),e},{}),{type:Z(r,t),isCanvas:!!n,props:o}},U=(e,t)=>{let{type:r,props:n,isCanvas:o,name:i,...s}=e;return{...B({type:r,isCanvas:o,props:n},t),...s}};function $(e,t,r,n){let o={parent:e,index:0,where:"before"},i=0,s=0,a=0,d=0,l=0,c=0,u=0;for(let e=0,p=t.length;e<p;e++){let p=t[e];if(a=p.left+p.outerWidth,u=p.top+p.outerHeight,l=p.left+p.outerWidth/2,c=p.top+p.outerHeight/2,!(s&&p.left>s||d&&c>=d||i&&a<i)){if(o.index=e,p.inFlow){if(n<c){o.where="before";break}o.where="after"}else n<u&&(d=u),r<l?(s=l,o.where="before"):(i=l,o.where="after")}}return o}let W=e=>"string"==typeof e?e:e.name;function V(e,t){let r=e.data.type,n={id:e.id||(0,i.wm)(),_hydrationTimestamp:Date.now(),data:h({type:r,name:W(r),displayName:W(r),props:{},custom:{},parent:null,isCanvas:!1,hidden:!1,nodes:[],linkedNodes:{}},e.data),related:{},events:{selected:!1,dragged:!1,hovered:!1},rules:{canDrag:()=>!0,canDrop:()=>!0,canMoveIn:()=>!0,canMoveOut:()=>!0},dom:null};if(n.data.type===T||n.data.type===D){let e=h(h({},S),n.data.props);n.data.props=Object.keys(n.data.props).reduce((t,r)=>(Object.keys(S).includes(r)?n.data[k[r]||r]=e[r]:t[r]=n.data.props[r],t),{}),r=n.data.type,n.data.name=W(r),n.data.displayName=W(r),n.data.type===D&&(n.data.isCanvas=!0,R())}t&&t(n);let o=r.craft;if(o&&(n.data.displayName=o.displayName||o.name||n.data.displayName,n.data.props=h(h({},o.props||o.defaultProps||{}),n.data.props),n.data.custom=h(h({},o.custom||{}),n.data.custom),null!=o.isCanvas&&(n.data.isCanvas=o.isCanvas),o.rules&&Object.keys(o.rules).forEach(e=>{["canDrag","canDrop","canMoveIn","canMoveOut"].includes(e)&&(n.rules[e]=o.rules[e])}),o.related)){let e={id:n.id,related:!0};Object.keys(o.related).forEach(t=>{n.related[t]=r=>s.createElement(u,e,s.createElement(o.related[t],r))})}return n}let Y=(e,t,r)=>{let{type:n,props:o}=e,i="object"==typeof n&&n.resolvedName?"Canvas"===n.resolvedName?D:t[n.resolvedName]:"string"==typeof n?n:null;if(!i)return;o=Object.keys(o).reduce((e,r)=>{let n=o[r];return e[r]=null==n?null:"object"==typeof n&&n.resolvedName?Y(n,t):"children"===r&&Array.isArray(n)?n.map(e=>"string"==typeof e?e:Y(e,t)):n,e},{}),r&&(o.key=r);let a={...s.createElement(i,{...o})};return{...a,name:F(t,a.type)}},G=(e,t)=>{if(t.length<1)return{[e.id]:e};let r=t.map(({rootNodeId:e})=>e),n={...e,data:{...e.data,nodes:r}};return t.reduce((t,r)=>{let n=r.nodes[r.rootNodeId];return{...t,...r.nodes,[n.id]:{...n,data:{...n.data,parent:e.id}}}},{[e.id]:n})};class K extends i.o7{handlers(){return{connect:(e,t)=>{},select:(e,t)=>{},hover:(e,t)=>{},drag:(e,t)=>{},drop:(e,t)=>{},create:(e,t,r)=>{}}}}class Q extends i.Oz{}class J{constructor(e,t){f(this,"store",void 0),f(this,"dragTarget",void 0),f(this,"currentDropTargetId",void 0),f(this,"currentDropTargetCanvasAncestorId",void 0),f(this,"currentIndicator",null),f(this,"currentTargetId",void 0),f(this,"currentTargetChildDimensions",void 0),f(this,"dragError",void 0),f(this,"draggedNodes",void 0),f(this,"onScrollListener",void 0),this.store=e,this.dragTarget=t,this.currentDropTargetId=null,this.currentDropTargetCanvasAncestorId=null,this.currentTargetId=null,this.currentTargetChildDimensions=null,this.currentIndicator=null,this.dragError=null,this.draggedNodes=this.getDraggedNodes(),this.validateDraggedNodes(),this.onScrollListener=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollListener,!0)}cleanup(){window.removeEventListener("scroll",this.onScrollListener,!0)}onScroll(e){let t=e.target,r=this.store.query.node(i.QS).get();t instanceof Element&&r&&r.dom&&t.contains(r.dom)&&(this.currentTargetChildDimensions=null)}getDraggedNodes(){return z(this.store.query.getNodes(),"new"===this.dragTarget.type?this.dragTarget.tree.nodes[this.dragTarget.tree.rootNodeId]:this.dragTarget.nodes)}validateDraggedNodes(){"new"!==this.dragTarget.type&&this.draggedNodes.forEach(e=>{let{node:t,exists:r}=e;r&&this.store.query.node(t.id).isDraggable(e=>{this.dragError=e})})}isNearBorders(e,t,r){let{top:n,bottom:o,left:i,right:s}=e;return n+J.BORDER_OFFSET>r||o-J.BORDER_OFFSET<r||i+J.BORDER_OFFSET>t||s-J.BORDER_OFFSET<t}isDiff(e){return!this.currentIndicator||this.currentIndicator.placement.parent.id!==e.parent.id||this.currentIndicator.placement.index!==e.index||this.currentIndicator.placement.where!==e.where}getChildDimensions(e){let t=this.currentTargetChildDimensions;return this.currentTargetId===e.id&&t?t:e.data.nodes.reduce((e,t)=>{let r=this.store.query.node(t).get().dom;return r&&e.push(h({id:t},(0,i.eL)(r))),e},[])}getCanvasAncestor(e){if(e===this.currentDropTargetId&&this.currentDropTargetCanvasAncestorId){let e=this.store.query.node(this.currentDropTargetCanvasAncestorId).get();if(e)return e}let t=e=>{let r=this.store.query.node(e).get();return r&&r.data.isCanvas?r:r.data.parent?t(r.data.parent):null};return t(e)}computeIndicator(e,t,r){let n=this.getCanvasAncestor(e);if(!n||(this.currentDropTargetId=e,this.currentDropTargetCanvasAncestorId=n.id,n.data.parent&&this.isNearBorders((0,i.eL)(n.dom),t,r)&&!this.store.query.node(n.id).isLinkedNode()&&(n=this.store.query.node(n.data.parent).get()),!n))return;this.currentTargetChildDimensions=this.getChildDimensions(n),this.currentTargetId=n.id;let o=$(n,this.currentTargetChildDimensions,t,r);if(!this.isDiff(o))return;let s=this.dragError;s||this.store.query.node(n.id).isDroppable(this.draggedNodes.map(e=>e.node),e=>{s=e});let a=n.data.nodes[o.index],d=a&&this.store.query.node(a).get();return this.currentIndicator={placement:h(h({},o),{},{currentNode:d}),error:s},this.currentIndicator}getIndicator(){return this.currentIndicator}}f(J,"BORDER_OFFSET",10);let X=function(e,t){if(1===t.length||arguments.length>2&&void 0!==arguments[2]&&arguments[2]){let{width:r,height:n}=t[0].getBoundingClientRect(),o=t[0].cloneNode(!0);return o.style.position="absolute",o.style.left="-100%",o.style.top="-100%",o.style.width="".concat(r,"px"),o.style.height="".concat(n,"px"),o.style.pointerEvents="none",o.classList.add("drag-shadow"),document.body.appendChild(o),e.dataTransfer.setDragImage(o,0,0),o}let r=document.createElement("div");return r.style.position="absolute",r.style.left="-100%",r.style.top="-100%",r.style.width="100%",r.style.height="100%",r.style.pointerEvents="none",r.classList.add("drag-shadow-container"),t.forEach(e=>{let{width:t,height:n,top:o,left:i}=e.getBoundingClientRect(),s=e.cloneNode(!0);s.style.position="absolute",s.style.left="".concat(i,"px"),s.style.top="".concat(o,"px"),s.style.width="".concat(t,"px"),s.style.height="".concat(n,"px"),s.classList.add("drag-shadow"),r.appendChild(s)}),document.body.appendChild(r),e.dataTransfer.setDragImage(r,e.clientX,e.clientY),r};class ee extends K{constructor(){super(...arguments),f(this,"draggedElementShadow",void 0),f(this,"dragTarget",void 0),f(this,"positioner",null),f(this,"currentSelectedElementIds",[])}onDisable(){this.options.store.actions.clearEvents()}handlers(){let e=this.options.store;return{connect:(t,r)=>(e.actions.setDOM(r,t),this.reflect(e=>{e.select(t,r),e.hover(t,r),e.drop(t,r)})),select:(t,r)=>{let n=this.addCraftEventListener(t,"mousedown",t=>{t.craft.stopPropagation();let n=[];if(r){let{query:o}=e,i=o.getEvent("selected").all();(this.options.isMultiSelectEnabled(t)||i.includes(r))&&(n=i.filter(e=>{let t=o.node(e).descendants(!0),n=o.node(e).ancestors(!0);return!t.includes(r)&&!n.includes(r)})),n.includes(r)||n.push(r)}e.actions.setNodeEvent("selected",n)}),o=this.addCraftEventListener(t,"click",t=>{t.craft.stopPropagation();let{query:n}=e,o=n.getEvent("selected").all(),i=this.options.isMultiSelectEnabled(t),s=this.currentSelectedElementIds.includes(r),a=[...o];i&&s?(a.splice(a.indexOf(r),1),e.actions.setNodeEvent("selected",a)):!i&&o.length>1&&(a=[r],e.actions.setNodeEvent("selected",a)),this.currentSelectedElementIds=a});return()=>{n(),o()}},hover:(t,r)=>{let n=this.addCraftEventListener(t,"mouseover",t=>{t.craft.stopPropagation(),e.actions.setNodeEvent("hovered",r)});return this.options.removeHoverOnMouseleave&&this.addCraftEventListener(t,"mouseleave",t=>{t.craft.stopPropagation(),e.actions.setNodeEvent("hovered",null)}),()=>{n()}},drop:(t,r)=>{let n=this.addCraftEventListener(t,"dragover",t=>{if(t.craft.stopPropagation(),t.preventDefault(),!this.positioner)return;let n=this.positioner.computeIndicator(r,t.clientX,t.clientY);n&&e.actions.setIndicator(n)}),o=this.addCraftEventListener(t,"dragenter",e=>{e.craft.stopPropagation(),e.preventDefault()});return()=>{o(),n()}},drag:(t,r)=>{if(!e.query.node(r).isDraggable())return()=>{};t.setAttribute("draggable","true");let n=this.addCraftEventListener(t,"dragstart",t=>{t.craft.stopPropagation();let{query:n,actions:o}=e,i=n.getEvent("selected").all(),s=this.options.isMultiSelectEnabled(t);this.currentSelectedElementIds.includes(r)||(i=s?[...i,r]:[r],e.actions.setNodeEvent("selected",i)),o.setNodeEvent("dragged",i);let a=i.map(e=>n.node(e).get().dom);this.draggedElementShadow=X(t,a,ee.forceSingleDragShadow),this.dragTarget={type:"existing",nodes:i},this.positioner=new J(this.options.store,this.dragTarget)}),o=this.addCraftEventListener(t,"dragend",t=>{t.craft.stopPropagation(),this.dropElement((t,r)=>{"new"!==t.type&&e.actions.move(t.nodes,r.placement.parent.id,r.placement.index+("after"===r.placement.where?1:0))})});return()=>{t.setAttribute("draggable","false"),n(),o()}},create:(t,r,n)=>{t.setAttribute("draggable","true");let o=this.addCraftEventListener(t,"dragstart",t=>{let n;if(t.craft.stopPropagation(),"function"==typeof r){let t=r();n=s.isValidElement(t)?e.query.parseReactElement(t).toNodeTree():t}else n=e.query.parseReactElement(r).toNodeTree();this.draggedElementShadow=X(t,[t.currentTarget],ee.forceSingleDragShadow),this.dragTarget={type:"new",tree:n},this.positioner=new J(this.options.store,this.dragTarget)}),i=this.addCraftEventListener(t,"dragend",t=>{t.craft.stopPropagation(),this.dropElement((t,r)=>{"existing"!==t.type&&(e.actions.addNodeTree(t.tree,r.placement.parent.id,r.placement.index+("after"===r.placement.where?1:0)),n&&l()(n.onCreate)&&n.onCreate(t.tree))})});return()=>{t.removeAttribute("draggable"),o(),i()}}}}dropElement(e){let t=this.options.store;if(!this.positioner)return;let r=this.draggedElementShadow,n=this.positioner.getIndicator();this.dragTarget&&n&&!n.error&&e(this.dragTarget,n),r&&(r.parentNode.removeChild(r),this.draggedElementShadow=null),this.dragTarget=null,t.actions.setIndicator(null),t.actions.setNodeEvent("dragged",null),this.positioner.cleanup(),this.positioner=null}}f(ee,"forceSingleDragShadow",(0,i.mJ)()&&(0,i.IJ)());let et=()=>{let{indicator:e,indicatorOptions:t,enabled:r}=b(e=>({indicator:e.indicator,indicatorOptions:e.options.indicator,enabled:e.options.enabled})),n=m();return(0,s.useEffect)(()=>{n&&(r?n.enable():n.disable())},[r,n]),e?s.createElement(i.nV,{style:{...function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=0,i=0,s=0,a=0,d=e.where;return r?r.inFlow?(s=r.outerWidth,a=n,o="before"===d?r.top:r.bottom,i=r.left):(s=n,a=r.outerHeight,o=r.top,i="before"===d?r.left:r.left+r.outerWidth):t&&(o=t.top+t.padding.top,i=t.left+t.padding.left,s=t.outerWidth-t.padding.right-t.padding.left-t.margin.left-t.margin.right,a=n),{top:"".concat(o,"px"),left:"".concat(i,"px"),width:"".concat(s,"px"),height:"".concat(a,"px")}}(e.placement,(0,i.eL)(e.placement.parent.dom),e.placement.currentNode&&(0,i.eL)(e.placement.currentNode.dom),t.thickness),backgroundColor:e.error?t.error:t.success,transition:t.transition||"0.2s ease-in"},parentDom:e.placement.parent.dom}):null},er=({children:e})=>{let t=(0,s.useContext)(y),r=(0,s.useMemo)(()=>t.query.getOptions().handlers(t),[t]);return r?s.createElement(v.Provider,{value:r},s.createElement(et,null),e):null},en={nodes:{},events:{dragged:new Set,selected:new Set,hovered:new Set},indicator:null,options:{onNodesChange:()=>null,onRender:({render:e})=>e,onBeforeMoveEnd:()=>null,resolver:{},enabled:!0,indicator:{error:"red",success:"rgb(98, 196, 98)"},parentContext:null,handlers:e=>new ee({store:e,removeHoverOnMouseleave:!1,isMultiSelectEnabled:e=>!!e.metaKey}),normalizeNodes:()=>{}}},eo={methods:(e,t)=>h(h({},q(e,t)),{},{setState(t){let r=g(this,H);t(e,r)}}),ignoreHistoryForActions:["setDOM","setNodeEvent","selectNode","clearEvents","setOptions","setIndicator"],normalizeHistory:e=>{Object.keys(e.events).forEach(t=>{Array.from(e.events[t]||[]).forEach(r=>{e.nodes[r]||e.events[t].delete(r)})}),Object.keys(e.nodes).forEach(t=>{let r=e.nodes[t];Object.keys(r.events).forEach(t=>{r.events[t]&&e.events[t]&&!e.events[t].has(r.id)&&(r.events[t]=!1)})})}},ei=(e,t)=>(0,i.$1)(eo,{...en,options:{...en.options,...e}},function e(t){let r=t&&t.options,n=()=>e(t);return{getDropPlaceholder:(e,r,o,s=e=>t.nodes[e.id].dom)=>{let a=t.nodes[r],d=n().node(a.id).isCanvas()?a:t.nodes[a.data.parent];if(!d)return;let l=d.data.nodes||[],c=$(d,l?l.reduce((e,r)=>{let n=s(t.nodes[r]);if(n){let t={id:r,...(0,i.eL)(n)};e.push(t)}return e},[]):[],o.x,o.y),u=l.length&&t.nodes[l[c.index]],p={placement:{...c,currentNode:u},error:null};return z(t.nodes,e).forEach(({node:e,exists:t})=>{t&&n().node(e.id).isDraggable(e=>p.error=e)}),n().node(d.id).isDroppable(e,e=>p.error=e),p},getOptions:()=>r,getNodes:()=>t.nodes,node:e=>(function e(t,r){(0,a.Z)("string"==typeof r,i.ZW);let n=t.nodes[r],o=r=>e(t,r);return{isCanvas:()=>!!n.data.isCanvas,isRoot:()=>n.id===i.QS,isLinkedNode:()=>n.data.parent&&o(n.data.parent).linkedNodes().includes(n.id),isTopLevelNode(){return this.isRoot()||this.isLinkedNode()},isDeletable(){return!this.isTopLevelNode()},isParentOfTopLevelNodes:()=>n.data.linkedNodes&&Object.keys(n.data.linkedNodes).length>0,isParentOfTopLevelCanvas(){return(0,i.d9)("query.node(id).isParentOfTopLevelCanvas",{suggest:"query.node(id).isParentOfTopLevelNodes"}),this.isParentOfTopLevelNodes()},isSelected:()=>t.events.selected.has(r),isHovered:()=>t.events.hovered.has(r),isDragged:()=>t.events.dragged.has(r),get:()=>n,ancestors(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function r(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=t.nodes[n];return s&&(o.push(n),s.data.parent&&(e||!e&&0===i)&&(o=r(s.data.parent,o,i+1))),o}(n.data.parent)},descendants(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;return function r(i){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(e||!e&&0===a)&&t.nodes[i]&&("childNodes"!==n&&o(i).linkedNodes().forEach(e=>{s.push(e),s=r(e,s,a+1)}),"linkedNodes"!==n&&o(i).childNodes().forEach(e=>{s.push(e),s=r(e,s,a+1)})),s}(r)},linkedNodes:()=>Object.values(n.data.linkedNodes||{}),childNodes:()=>n.data.nodes||[],isDraggable(r){try{return(0,a.Z)(!this.isTopLevelNode(),i.sS),(0,a.Z)(e(t,n.data.parent).isCanvas(),i.Cz),(0,a.Z)(n.rules.canDrag(n,o),i.Ut),!0}catch(e){return r&&r(e),!1}},isDroppable(e,r){let s=z(t.nodes,e);try{(0,a.Z)(this.isCanvas(),i.Ph),(0,a.Z)(n.rules.canMoveIn(s.map(e=>e.node),n,o),i.aL);let e={};return s.forEach(r=>{let{node:s,exists:d}=r;if((0,a.Z)(s.rules.canDrop(n,s,o),i.if),!d)return;(0,a.Z)(!o(s.id).isTopLevelNode(),i.sS);let l=o(s.id).descendants(!0);(0,a.Z)(!l.includes(n.id)&&n.id!==s.id,i.iO);let c=s.data.parent&&t.nodes[s.data.parent];(0,a.Z)(c.data.isCanvas,i.Cz),(0,a.Z)(c||!c&&!t.nodes[s.id],i.UE),c.id!==n.id&&(e[c.id]||(e[c.id]=[]),e[c.id].push(s))}),Object.keys(e).forEach(r=>{let n=t.nodes[r];(0,a.Z)(n.rules.canMoveOut(e[r],n,o),i.sk)}),!0}catch(e){return r&&r(e),!1}},toSerializedNode:()=>U(n.data,t.options.resolver),toNodeTree(e){let t=[r,...this.descendants(!0,e)].reduce((e,t)=>(e[t]=o(t).get(),e),{});return{rootNodeId:r,nodes:t}},decendants(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,i.d9)("query.node(id).decendants",{suggest:"query.node(id).descendants"}),this.descendants(e)},isTopLevelCanvas(){return!this.isRoot()&&!n.data.parent}}})(t,e),getSerializedNodes(){let e=Object.keys(t.nodes).map(e=>[e,this.node(e).toSerializedNode()]);return M(e)},getEvent:e=>(function(e,t){let r=e.events[t];return{contains:e=>r.has(e),isEmpty(){return 0===this.all().length},first(){return this.all()[0]},last(){let e=this.all();return e[e.length-1]},all:()=>Array.from(r),size(){return this.all().length},at(e){return this.all()[e]},raw:()=>r}})(t,e),serialize(){return JSON.stringify(this.getSerializedNodes())},parseReactElement:e=>({toNodeTree(r){var o,i;let a;let d=(o=(e,n)=>{let o=F(t.options.resolver,e.data.type);e.data.displayName=e.data.displayName||o,e.data.name=o,r&&r(e,n)},"string"==typeof(a=e)&&(a=s.createElement(s.Fragment,{},a)),V({data:{type:a.type,props:{...a.props}}},e=>{o&&o(e,a)})),l=[];return e.props&&e.props.children&&(l=s.Children.toArray(e.props.children).reduce((e,t)=>(s.isValidElement(t)&&e.push(n().parseReactElement(t).toNodeTree(r)),e),[])),i=l,{rootNodeId:d.id,nodes:G(d,i)}}}),parseSerializedNode:e=>({toNode(r){let o=((e,t)=>{let{type:r,props:n,...o}=e;(0,a.Z)(void 0!==r&&"string"==typeof r||void 0!==r&&void 0!==r.resolvedName,i.aP.replace("%displayName%",e.displayName).replace("%availableComponents%",Object.keys(t).join(", ")));let{type:s,name:d,props:l}=Y(e,t),{parent:c,custom:u,displayName:p,isCanvas:h,nodes:f,hidden:g}=o;return{type:s,name:d,displayName:p||d,props:l,custom:u||{},isCanvas:!!h,hidden:!!g,parent:c,linkedNodes:o.linkedNodes||o._childCanvas||{},nodes:f||[]}})(e,t.options.resolver);(0,a.Z)(o.type,i.Wt);let s="string"==typeof r&&r;return s&&(0,i.d9)("query.parseSerializedNode(...).toNode(id)",{suggest:"query.parseSerializedNode(...).toNode(node => node.id = id)"}),n().parseFreshNode({...s?{id:s}:{},data:o}).toNode(!s&&r)}}),parseFreshNode:e=>({toNode:r=>V(e,e=>{e.data.parent===i.CD&&(e.data.parent=i.QS);let n=F(t.options.resolver,e.data.type);(0,a.Z)(null!==n,i.Wt),e.data.displayName=e.data.displayName||n,e.data.name=n,r&&r(e)})}),createNode(e,t){(0,i.d9)(`query.createNode(${e})`,{suggest:`query.parseReactElement(${e}).toNodeTree()`});let r=this.parseReactElement(e).toNodeTree(),n=r.nodes[r.rootNodeId];return t&&(t.id&&(n.id=t.id),t.data&&(n.data={...n.data,...t.data})),n},getState:()=>t}},t),es=({children:e,...t})=>{void 0!==t.resolver&&(0,a.Z)("object"==typeof t.resolver&&!Array.isArray(t.resolver)&&null!==t.resolver,i.lq);let r=ea(t),n=t.parentContext??r;return(0,s.useEffect)(()=>{n&&void 0!==t.enabled&&n.query.getOptions().enabled!==t.enabled&&n.actions.setOptions(e=>{e.enabled=t.enabled})},[n,t.enabled]),(0,s.useEffect)(()=>{n.subscribe(e=>({json:n.query.serialize()}),()=>{n.query.getOptions().onNodesChange(n.query)})},[n]),n?s.createElement(y.Provider,{value:n},s.createElement(er,null,e)):null},ea=e=>{let t=(0,s.useRef)(e);return ei(t.current,(e,t,r,n,o)=>{if(!r)return;let{patches:s,...a}=r;for(let r=0;r<s.length;r++){let{path:d}=s[r],l=d.length>2&&"nodes"===d[0]&&"data"===d[2];if([i.G7.IGNORE,i.G7.THROTTLE].includes(a.type)&&a.params&&(a.type=a.params[0]),["setState","deserialize"].includes(a.type)||l){o(r=>{e.options.normalizeNodes&&e.options.normalizeNodes(r,t,a,n)});break}}})}},8381:function(e,t,r){"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[U]}function i(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===W}(e)||Array.isArray(e)||!!e[B]||!!(null===(t=e.constructor)||void 0===t?void 0:t[B])||u(e)||p(e))}function s(e,t,r){void 0===r&&(r=!1),0===a(e)?(r?Object.keys:V)(e).forEach(function(n){r&&"symbol"==typeof n||t(n,e[n],e)}):e.forEach(function(r,n){return t(n,r,e)})}function a(e){var t=e[U];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:u(e)?2:p(e)?3:0}function d(e,t){return 2===a(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===a(e)?e.get(t):e[t]}function c(e,t,r){var n=a(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function u(e){return H&&e instanceof Map}function p(e){return q&&e instanceof Set}function h(e){return e.o||e.t}function f(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y(e);delete t[U];for(var r=V(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),v(e)||o(e)||!i(e)||(a(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&s(e,function(e,t){return g(t,!0)},!0)),e}function y(){n(2)}function v(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function m(e){var t=G[e];return t||n(18,e),t}function b(e,t){t&&(m("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){O(e),e.p.forEach(w),e.p=null}function O(e){e===M&&(M=e.l)}function N(e){return M={p:[],l:M,h:e,m:!0,_:0}}function w(e){var t=e[U];0===t.i||1===t.i?t.j():t.g=!0}function C(e,t){t._=t.p.length;var r=t.p[0],o=void 0!==e&&e!==r;return t.h.O||m("ES5").S(t,e,o),o?(r[U].P&&(E(t),n(4)),i(e)&&(e=j(t,e),t.l||x(t,e)),t.u&&m("Patches").M(r[U].t,e,t.u,t.s)):e=j(t,r,[]),E(t),t.u&&t.v(t.u,t.s),e!==Z?e:void 0}function j(e,t,r){if(v(t))return t;var n=t[U];if(!n)return s(t,function(o,i){return P(e,n,t,o,i,r)},!0),t;if(n.A!==e)return t;if(!n.P)return x(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=f(n.k):n.o,i=o,a=!1;3===n.i&&(i=new Set(o),o.clear(),a=!0),s(i,function(t,i){return P(e,n,o,t,i,r,a)}),x(e,o,!1),r&&e.u&&m("Patches").N(n,r,e.u,e.s)}return n.o}function P(e,t,r,n,s,a,l){if(o(s)){var u=j(e,s,a&&t&&3!==t.i&&!d(t.R,n)?a.concat(n):void 0);if(c(r,n,u),!o(u))return;e.m=!1}else l&&r.add(s);if(i(s)&&!v(s)){if(!e.h.D&&e._<1)return;j(e,s),t&&t.A.l||x(e,s)}}function x(e,t,r){void 0===r&&(r=!1),!e.l&&e.h.D&&e.m&&g(t,r)}function S(e,t){var r=e[U];return(r?h(r):e)[t]}function k(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function T(e){e.P||(e.P=!0,e.l&&T(e.l))}function R(e){e.o||(e.o=f(e.t))}function D(e,t,r){var n,o,i,s,a,d,l,c=u(t)?m("MapSet").F(t,r):p(t)?m("MapSet").T(t,r):e.O?(i=o={i:(n=Array.isArray(t))?1:0,A:r?r.A:M,P:!1,I:!1,R:{},l:r,t:t,k:null,o:null,j:null,C:!1},s=K,n&&(i=[o],s=Q),d=(a=Proxy.revocable(i,s)).revoke,l=a.proxy,o.k=l,o.j=d,l):m("ES5").J(t,r);return(r?r.A:M).p.push(c),c}function I(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return f(e)}r.d(t,{CD:function(){return eu},Oz:function(){return e$},Ut:function(){return eC},JB:function(){return eP},aP:function(){return eS},UE:function(){return eh},YN:function(){return ef},ZW:function(){return ej},if:function(){return ey},aL:function(){return ev},Cz:function(){return eb},sk:function(){return em},sS:function(){return eO},iO:function(){return eN},Ph:function(){return eE},ab:function(){return ep},Wt:function(){return ew},lq:function(){return ex},VW:function(){return eg},k8:function(){return ek},pY:function(){return eT},o7:function(){return eU},G7:function(){return eA},QS:function(){return ec},nV:function(){return eY},d9:function(){return eK},eL:function(){return eq},wm:function(){return eZ},mJ:function(){return eX},IJ:function(){return eJ},rf:function(){return eF},qR:function(){return eG},$1:function(){return eL},p:function(){return eV}});var A,_,L,M,z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),H="undefined"!=typeof Map,q="undefined"!=typeof Set,F="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Z=z?Symbol.for("immer-nothing"):((L={})["immer-nothing"]=!0,L),B=z?Symbol.for("immer-draftable"):"__$immer_draftable",U=z?Symbol.for("immer-state"):"__$immer_state",$="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",W=""+Object.prototype.constructor,V="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return V(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},G={},K={get:function(e,t){if(t===U)return e;var r,n,o=h(e);if(!d(o,t))return(n=k(o,t))?"value"in n?n.value:null===(r=n.get)||void 0===r?void 0:r.call(e.k):void 0;var s=o[t];return e.I||!i(s)?s:s===S(e.t,t)?(R(e),e.o[t]=D(e.A.h,s,e)):s},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,r){var n=k(h(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=S(h(e),t),i=null==o?void 0:o[U];if(i&&i.t===r)return e.o[t]=r,e.R[t]=!1,!0;if((r===o?0!==r||1/r==1/o:r!=r&&o!=o)&&(void 0!==r||d(e.t,t)))return!0;R(e),T(e)}return e.o[t]===r&&(void 0!==r||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==S(e.t,t)||t in e.t?(e.R[t]=!1,R(e),T(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=h(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},Q={};s(K,function(e,t){Q[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Q.deleteProperty=function(e,t){return Q.set.call(this,e,t,void 0)},Q.set=function(e,t,r){return K.set.call(this,e[0],t,r,e[0])};var J=new(function(){function e(e){var t=this;this.O=F,this.D=!0,this.produce=function(e,r,o){if("function"==typeof e&&"function"!=typeof r){var s,a=r;return r=e,function(e){var n=this;void 0===e&&(e=a);for(var o=arguments.length,i=Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return t.produce(e,function(e){var t;return(t=r).call.apply(t,[n,e].concat(i))})}}if("function"!=typeof r&&n(6),void 0!==o&&"function"!=typeof o&&n(7),i(e)){var d=N(t),l=D(t,e,void 0),c=!0;try{s=r(l),c=!1}finally{c?E(d):O(d)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then(function(e){return b(d,o),C(e,d)},function(e){throw E(d),e}):(b(d,o),C(s,d))}if(!e||"object"!=typeof e){if(void 0===(s=r(e))&&(s=e),s===Z&&(s=void 0),t.D&&g(s,!0),o){var u=[],p=[];m("Patches").M(e,s,u,p),o(u,p)}return s}n(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.produceWithPatches(r,function(t){return e.apply(void 0,[t].concat(o))})};var n,o,i=t.produce(e,r,function(e,t){n=e,o=t});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(function(e){return[e,n,o]}):[i,n,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||n(8),o(e)&&(o(t=e)||n(22,t),e=function e(t){if(!i(t))return t;var r,n=t[U],o=a(t);if(n){if(!n.P&&(n.i<4||!m("ES5").K(n)))return n.t;n.I=!0,r=I(t,o),n.I=!1}else r=I(t,o);return s(r,function(t,o){n&&l(n.t,t)===o||c(r,t,e(o))}),3===o?new Set(r):r}(t));var t,r=N(this),d=D(this,e,void 0);return d[U].C=!0,O(r),d},t.finishDraft=function(e,t){var r=(e&&e[U]).A;return b(r,t),C(void 0,r)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!F&&n(20),this.O=e},t.applyPatches=function(e,t){for(r=t.length-1;r>=0;r--){var r,n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var i=m("Patches").$;return o(e)?i(e,t):this.produce(e,function(e){return i(e,t)})},e}()),X=J.produce,ee=J.produceWithPatches.bind(J),et=(J.setAutoFreeze.bind(J),J.setUseProxies.bind(J),J.applyPatches.bind(J));J.createDraft.bind(J),J.finishDraft.bind(J);var er=r(13383),en=r.n(er),eo=r(2784),ei=r(88665),es=r.n(ei),ea=r(37164),ed=r(10362),el=r(28316);let ec="ROOT",eu="canvas-ROOT",ep="Parent id cannot be ommited",eh="Attempting to add a node with duplicated id",ef="Node does not exist, it may have been removed",eg='A <Element /> that is used inside a User Component must specify an `id` prop, eg: <Element id="text_element">...</Element> ',ey="Node cannot be dropped into target parent",ev="Target parent rejects incoming node",em="Current parent rejects outgoing node",eb="Cannot move node that is not a direct child of a Canvas node",eE="Cannot move node into a non-Canvas parent",eO="A top-level Node cannot be moved",eN="Cannot move node into a descendant",ew="The component type specified for this node (%node_type%) does not exist in the resolver",eC="The node has specified a canDrag() rule that prevents it from being dragged",ej="Invalid parameter Node Id specified",eP="Attempting to delete a top-level Node",ex="Resolver in <Editor /> has to be an object. For (de)serialization Craft.js needs a list of all the User Components. \n    \nMore info: https://craft.js.org/r/docs/api/editor#props",eS="An Error occurred while deserializing components: Cannot find component <%displayName% /> in resolver map. Please check your resolver in <Editor />\n\nAvailable components in resolver: %availableComponents%\n\nMore info: https://craft.js.org/r/docs/api/editor#props",ek="You can only use useEditor in the context of <Editor />. \n\nPlease only use useEditor in components that are children of the <Editor /> component.",eT="You can only use useNode in the context of <Editor />. \n\nPlease only use useNode in components that are children of the <Editor /> component.";function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(t){eI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eI(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let eA={UNDO:"HISTORY_UNDO",REDO:"HISTORY_REDO",THROTTLE:"HISTORY_THROTTLE",IGNORE:"HISTORY_IGNORE",MERGE:"HISTORY_MERGE",CLEAR:"HISTORY_CLEAR"};class e_{constructor(){eI(this,"timeline",[]),eI(this,"pointer",-1)}add(e,t){0===e.length&&0===t.length||(this.pointer=this.pointer+1,this.timeline.length=this.pointer,this.timeline[this.pointer]={patches:e,inversePatches:t,timestamp:Date.now()})}throttleAdd(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;if(0!==e.length||0!==t.length){if(this.timeline.length&&this.pointer>=0){let{patches:n,inversePatches:o,timestamp:i}=this.timeline[this.pointer];if((new Date).getTime()-i<r)return void(this.timeline[this.pointer]={timestamp:i,patches:[...n,...e],inversePatches:[...t,...o]})}this.add(e,t)}}merge(e,t){if(0!==e.length||0!==t.length){if(this.timeline.length&&this.pointer>=0){let{patches:r,inversePatches:n,timestamp:o}=this.timeline[this.pointer];this.timeline[this.pointer]={timestamp:o,patches:[...r,...e],inversePatches:[...t,...n]}}else this.add(e,t)}}clear(){this.timeline=[],this.pointer=-1}canUndo(){return this.pointer>=0}canRedo(){return this.pointer<this.timeline.length-1}undo(e){if(!this.canUndo())return;let{inversePatches:t}=this.timeline[this.pointer];return this.pointer=this.pointer-1,et(e,t)}redo(e){if(!this.canRedo())return;this.pointer=this.pointer+1;let{patches:t}=this.timeline[this.pointer];return et(e,t)}}function eL(e,t,r,n){let o=(0,eo.useMemo)(()=>new e_,[]),i,s=(0,eo.useRef)([]),a=(0,eo.useRef)();"function"==typeof e?i=e:(i=e.methods,s.current=e.ignoreHistoryForActions,a.current=e.normalizeHistory);let d=(0,eo.useRef)(n);d.current=n;let l=(0,eo.useRef)(t),c=(0,eo.useMemo)(()=>{let{current:e}=a,{current:t}=s,{current:n}=d;return(s,a)=>{let d=r&&eM(r,()=>s,o),l,[c,u,p]=ee(s,e=>{switch(a.type){case eA.UNDO:return o.undo(e);case eA.REDO:return o.redo(e);case eA.CLEAR:return o.clear(),eD({},e);case eA.IGNORE:case eA.MERGE:case eA.THROTTLE:{let[t,...r]=a.payload;i(e,d)[t](...r);break}default:i(e,d)[a.type](...a.payload)}});return l=c,n&&n(c,s,{type:a.type,params:a.payload,patches:u},d,e=>{let t=ee(c,e);l=t[0],u=[...u,...t[1]],p=[...t[2],...p]}),[eA.UNDO,eA.REDO].includes(a.type)&&e&&(l=X(l,e)),[...t,eA.UNDO,eA.REDO,eA.IGNORE,eA.CLEAR].includes(a.type)||(a.type===eA.THROTTLE?o.throttleAdd(u,p,a.config&&a.config.rate):a.type===eA.MERGE?o.merge(u,p):o.add(u,p)),l}},[o,i,r]),u=(0,eo.useCallback)(()=>l.current,[]),p=(0,eo.useMemo)(()=>new ez(u),[u]),h=(0,eo.useCallback)(e=>{let t=c(l.current,e);l.current=t,p.notify()},[c,p]);(0,eo.useEffect)(()=>{p.notify()},[p]);let f=(0,eo.useMemo)(()=>r?eM(r,()=>l.current,o):[],[o,r]),g=(0,eo.useMemo)(()=>{let e=Object.keys(i(null,null)),{current:t}=s;return eD(eD({},e.reduce((e,t)=>(e[t]=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return h({type:t,payload:r})},e),{})),{},{history:{undo:()=>h({type:eA.UNDO}),redo:()=>h({type:eA.REDO}),clear:()=>h({type:eA.CLEAR}),throttle:r=>eD({},e.filter(e=>!t.includes(e)).reduce((e,t)=>(e[t]=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return h({type:eA.THROTTLE,payload:[t,...n],config:{rate:r}})},e),{})),ignore:()=>eD({},e.filter(e=>!t.includes(e)).reduce((e,t)=>(e[t]=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return h({type:eA.IGNORE,payload:[t,...r]})},e),{})),merge:()=>eD({},e.filter(e=>!t.includes(e)).reduce((e,t)=>(e[t]=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return h({type:eA.MERGE,payload:[t,...r]})},e),{}))}})},[h,i]);return(0,eo.useMemo)(()=>({getState:u,subscribe:(e,t,r)=>p.subscribe(e,t,r),actions:g,query:f,history:o}),[g,f,p,u,o])}function eM(e,t,r){let n=Object.keys(e()).reduce((r,n)=>eD(eD({},r),{},{[n]:function(){return e(t())[n](...arguments)}}),{});return eD(eD({},n),{},{history:{canUndo:()=>r.canUndo(),canRedo:()=>r.canRedo()}})}(function(){function e(e,t){function r(){this.constructor=e}d(e,t),e.prototype=(r.prototype=t.prototype,new r)}function t(e){e.o||(e.R=new Map,e.o=new Map(e.t))}function r(e){e.o||(e.o=new Set,e.t.forEach(function(t){if(i(t)){var r=D(e.A.h,t,e);e.p.set(t,r),e.o.add(r)}else e.o.add(t)}))}function o(e){e.g&&n(3,JSON.stringify(h(e)))}var a,d=function(e,t){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},l=function(){function r(e,t){return this[U]={i:2,l:t,A:t?t.A:M,P:!1,I:!1,o:void 0,R:void 0,t:e,k:this,C:!1,g:!1},this}e(r,Map);var n=r.prototype;return Object.defineProperty(n,"size",{get:function(){return h(this[U]).size}}),n.has=function(e){return h(this[U]).has(e)},n.set=function(e,r){var n=this[U];return o(n),h(n).has(e)&&h(n).get(e)===r||(t(n),T(n),n.R.set(e,!0),n.o.set(e,r),n.R.set(e,!0)),this},n.delete=function(e){if(!this.has(e))return!1;var r=this[U];return o(r),t(r),T(r),r.t.has(e)?r.R.set(e,!1):r.R.delete(e),r.o.delete(e),!0},n.clear=function(){var e=this[U];o(e),h(e).size&&(t(e),T(e),e.R=new Map,s(e.t,function(t){e.R.set(t,!1)}),e.o.clear())},n.forEach=function(e,t){var r=this;h(this[U]).forEach(function(n,o){e.call(t,r.get(o),o,r)})},n.get=function(e){var r=this[U];o(r);var n=h(r).get(e);if(r.I||!i(n)||n!==r.t.get(e))return n;var s=D(r.A.h,n,r);return t(r),r.o.set(e,s),s},n.keys=function(){return h(this[U]).keys()},n.values=function(){var e,t=this,r=this.keys();return(e={})[$]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},n.entries=function(){var e,t=this,r=this.keys();return(e={})[$]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},n[$]=function(){return this.entries()},r}(),c=function(){function t(e,t){return this[U]={i:3,l:t,A:t?t.A:M,P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,g:!1,C:!1},this}e(t,Set);var n=t.prototype;return Object.defineProperty(n,"size",{get:function(){return h(this[U]).size}}),n.has=function(e){var t=this[U];return o(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},n.add=function(e){var t=this[U];return o(t),this.has(e)||(r(t),T(t),t.o.add(e)),this},n.delete=function(e){if(!this.has(e))return!1;var t=this[U];return o(t),r(t),T(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},n.clear=function(){var e=this[U];o(e),h(e).size&&(r(e),T(e),e.o.clear())},n.values=function(){var e=this[U];return o(e),r(e),e.o.values()},n.entries=function(){var e=this[U];return o(e),r(e),e.o.entries()},n.keys=function(){return this.values()},n[$]=function(){return this.values()},n.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}();G[a="MapSet"]||(G[a]={F:function(e,t){return new l(e,t)},T:function(e,t){return new c(e,t)}})})(),function(){var e;function t(e){if(!i(e))return e;if(Array.isArray(e))return e.map(t);if(u(e))return new Map(Array.from(e.entries()).map(function(e){return[e[0],t(e[1])]}));if(p(e))return new Set(Array.from(e).map(t));var r=Object.create(Object.getPrototypeOf(e));for(var n in e)r[n]=t(e[n]);return d(e,B)&&(r[B]=e[B]),r}function r(e){return o(e)?t(e):e}G[e="Patches"]||(G[e]={$:function(e,r){return r.forEach(function(r){for(var o=r.path,i=r.op,s=e,d=0;d<o.length-1;d++){var c=a(s),u=o[d];"string"!=typeof u&&"number"!=typeof u&&(u=""+u),0!==c&&1!==c||"__proto__"!==u&&"constructor"!==u||n(24),"function"==typeof s&&"prototype"===u&&n(24),"object"!=typeof(s=l(s,u))&&n(15,o.join("/"))}var p=a(s),h=t(r.value),f=o[o.length-1];switch(i){case"replace":switch(p){case 2:return s.set(f,h);case 3:n(16);default:return s[f]=h}case"add":switch(p){case 1:return"-"===f?s.push(h):s.splice(f,0,h);case 2:return s.set(f,h);case 3:return s.add(h);default:return s[f]=h}case"remove":switch(p){case 1:return s.splice(f,1);case 2:return s.delete(f);case 3:return s.delete(r.value);default:return delete s[f]}default:n(17,i)}}),e},N:function(e,t,n,o){var i,a,c,u,p;switch(e.i){case 0:case 4:case 2:return i=e.t,a=e.o,void s(e.R,function(e,s){var c=l(i,e),u=l(a,e),p=s?d(i,e)?"replace":"add":"remove";if(c!==u||"replace"!==p){var h=t.concat(e);n.push("remove"===p?{op:p,path:h}:{op:p,path:h,value:u}),o.push("add"===p?{op:"remove",path:h}:"remove"===p?{op:"add",path:h,value:r(c)}:{op:"replace",path:h,value:r(c)})}});case 5:case 1:return function(e,t,n,o){var i=e.t,s=e.R,a=e.o;if(a.length<i.length){var d=[a,i];i=d[0],a=d[1];var l=[o,n];n=l[0],o=l[1]}for(var c=0;c<i.length;c++)if(s[c]&&a[c]!==i[c]){var u=t.concat([c]);n.push({op:"replace",path:u,value:r(a[c])}),o.push({op:"replace",path:u,value:r(i[c])})}for(var p=i.length;p<a.length;p++){var h=t.concat([p]);n.push({op:"add",path:h,value:r(a[p])})}i.length<a.length&&o.push({op:"replace",path:t.concat(["length"]),value:i.length})}(e,t,n,o);case 3:return c=e.t,u=e.o,p=0,void(c.forEach(function(e){if(!u.has(e)){var r=t.concat([p]);n.push({op:"remove",path:r,value:e}),o.unshift({op:"add",path:r,value:e})}p++}),p=0,u.forEach(function(e){if(!c.has(e)){var r=t.concat([p]);n.push({op:"add",path:r,value:e}),o.unshift({op:"remove",path:r,value:e})}p++}))}},M:function(e,t,r,n){r.push({op:"replace",path:[],value:t===Z?void 0:t}),n.push({op:"replace",path:[],value:e})}})}();class ez{constructor(e){eI(this,"getState",void 0),eI(this,"subscribers",[]),this.getState=e}subscribe(e,t,r){let n=new eH(()=>e(this.getState()),t,r);return this.subscribers.push(n),this.unsubscribe.bind(this,n)}unsubscribe(e){if(this.subscribers.length){let t=this.subscribers.indexOf(e);if(t>-1)return this.subscribers.splice(t,1)}}notify(){this.subscribers.forEach(e=>e.collect())}}class eH{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];eI(this,"collected",void 0),eI(this,"collector",void 0),eI(this,"onChange",void 0),eI(this,"id",void 0),this.collector=e,this.onChange=t,r&&this.collect()}collect(){try{let e=this.collector();en()(e,this.collected)||(this.collected=e,this.onChange&&this.onChange(this.collected))}catch(e){console.warn(e)}}}let eq=e=>{let{x:t,y:r,top:n,left:o,bottom:i,right:s,width:a,height:d}=e.getBoundingClientRect(),l=window.getComputedStyle(e),c={left:parseInt(l.marginLeft),right:parseInt(l.marginRight),bottom:parseInt(l.marginBottom),top:parseInt(l.marginTop)},u={left:parseInt(l.paddingLeft),right:parseInt(l.paddingRight),bottom:parseInt(l.paddingBottom),top:parseInt(l.paddingTop)};return{x:t,y:r,top:n,left:o,bottom:i,right:s,width:a,height:d,outerWidth:Math.round(a+c.left+c.right),outerHeight:Math.round(d+c.top+c.bottom),margin:c,padding:u,inFlow:e.parentElement&&!!(t=>{let r=getComputedStyle(t);if(!(l.overflow&&"visible"!==l.overflow||"none"!==r.float||"grid"===r.display||"flex"===r.display&&"column"!==r["flex-direction"])){switch(l.position){case"static":case"relative":break;default:return}switch(e.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(l.display){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}})(e.parentElement)}};function eF(e,t){let{subscribe:r,getState:n,actions:o,query:i}=e,s=(0,eo.useRef)(!0),a=(0,eo.useRef)(null),d=(0,eo.useRef)(t);d.current=t;let l=(0,eo.useCallback)(e=>({...e,actions:o,query:i}),[o,i]);s.current&&t&&(a.current=t(n(),i),s.current=!1);let[c,u]=(0,eo.useState)(l(a.current));return(0,eo.useEffect)(()=>{let e;return d.current&&(e=r(e=>d.current(e,i),e=>{u(l(e))})),()=>{e&&e()}},[l,i,r]),c}let eZ=function(){return(0,ea.x0)(arguments.length>0&&void 0!==arguments[0]?arguments[0]:10)};class eB{constructor(){eI(this,"isEnabled",!0),eI(this,"elementIdMap",new WeakMap),eI(this,"registry",new Map)}getElementId(e){let t=this.elementIdMap.get(e);if(t)return t;let r=eZ();return this.elementIdMap.set(e,r),r}getConnectorId(e,t){let r=this.getElementId(e);return"".concat(t,"--").concat(r)}register(e,t){let r=this.getByElement(e,t.name);if(r){if(es()(t.required,r.required))return r;this.getByElement(e,t.name).disable()}let n=null,o=this.getConnectorId(e,t.name);return this.registry.set(o,{id:o,required:t.required,enable:()=>{n&&n(),n=t.connector(e,t.required,t.options)},disable:()=>{n&&n()},remove:()=>this.remove(o)}),this.isEnabled&&this.registry.get(o).enable(),this.registry.get(o)}get(e){return this.registry.get(e)}remove(e){let t=this.get(e);t&&(t.disable(),this.registry.delete(t.id))}enable(){this.isEnabled=!0,this.registry.forEach(e=>{e.enable()})}disable(){this.isEnabled=!1,this.registry.forEach(e=>{e.disable()})}getByElement(e,t){return this.get(this.getConnectorId(e,t))}removeByElement(e,t){return this.remove(this.getConnectorId(e,t))}clear(){this.disable(),this.elementIdMap=new WeakMap,this.registry=new Map}}(A=_||(_={}))[A.HandlerDisabled=0]="HandlerDisabled",A[A.HandlerEnabled=1]="HandlerEnabled";class eU{constructor(e){eI(this,"options",void 0),eI(this,"registry",new eB),eI(this,"subscribers",new Set),this.options=e}listen(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}disable(){this.onDisable&&this.onDisable(),this.registry.disable(),this.subscribers.forEach(e=>{e(_.HandlerDisabled)})}enable(){this.onEnable&&this.onEnable(),this.registry.enable(),this.subscribers.forEach(e=>{e(_.HandlerEnabled)})}cleanup(){this.disable(),this.subscribers.clear(),this.registry.clear()}addCraftEventListener(e,t,r,n){let o=n=>{(function(e,t,r){e.craft||(e.craft={stopPropagation:()=>{},blockedEvents:{}});let n=e.craft&&e.craft.blockedEvents[t]||[];for(let e=0;e<n.length;e++){let t=n[e];if(r!==t&&r.contains(t))return!0}return!1})(n,t,e)||(n.craft.stopPropagation=()=>{n.craft.blockedEvents[t]||(n.craft.blockedEvents[t]=[]),n.craft.blockedEvents[t].push(e)},r(n))};return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n)}createConnectorsUsage(){let e=this.handlers(),t=new Set,r=!1,n=new Map;return{connectors:Object.entries(e).reduce((e,o)=>{let[i,s]=o;return eD(eD({},e),{},{[i]:(e,o,a)=>{let d=()=>{let r=this.registry.register(e,{required:o,name:i,options:a,connector:s});return t.add(r.id),r};return n.set(this.registry.getConnectorId(e,i),d),r&&d(),e}})},{}),register:()=>{r=!0,n.forEach(e=>{e()})},cleanup:()=>{r=!1,t.forEach(e=>this.registry.remove(e))}}}derive(e,t){return new e(this,t)}createProxyHandlers(e,t){let r=[],n=e.handlers(),o=new Proxy(n,{get:(e,t,o)=>t in n==0?Reflect.get(e,t,o):function(e){for(var o=arguments.length,i=Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];let a=n[t](e,...i);a&&r.push(a)}});return t(o),()=>{r.forEach(e=>{e()})}}reflect(e){return this.createProxyHandlers(this,e)}}class e$ extends eU{constructor(e,t){super(t),eI(this,"derived",void 0),eI(this,"unsubscribeParentHandlerListener",void 0),this.derived=e,this.options=t,this.unsubscribeParentHandlerListener=this.derived.listen(e=>{switch(e){case _.HandlerEnabled:return this.enable();case _.HandlerDisabled:return this.disable();default:return}})}inherit(e){return this.createProxyHandlers(this.derived,e)}cleanup(){super.cleanup(),this.unsubscribeParentHandlerListener()}}function eW(e,t){t&&("function"==typeof e?e(t):e.current=t)}function eV(e){return Object.keys(e).reduce((t,r)=>{var n;return t[r]=(n=(...t)=>e[r](...t),(e=null,...t)=>{if(!(0,eo.isValidElement)(e)){if(!e)return;return e&&n(e,...t),e}return function(e){if("string"!=typeof e.type)throw Error()}(e),function(e,t){let r=e.ref;return(0,ed.Z)("string"!=typeof r,"Cannot connect to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),(0,eo.cloneElement)(e,r?{ref:e=>{eW(r,e),eW(t,e)}}:{ref:t})}(e,n)}),t},{})}let eY=({style:e,parentDom:t})=>{let r=eo.createElement("div",{style:{position:"fixed",display:"block",opacity:1,borderStyle:"solid",borderWidth:"1px",borderColor:"transparent",zIndex:99999,...e}});return t&&t.ownerDocument!==document?el.createPortal(r,t.ownerDocument.body):r},eG=e=>{(0,eo.useEffect)(e,[])},eK=(e,t)=>{let r="Deprecation warning: ".concat(e," will be deprecated in future relases."),{suggest:n,doc:o}=t;n&&(r+=" Please use ".concat(n," instead.")),o&&(r+="(".concat(o,")")),console.warn(r)},eQ=()=>"undefined"!=typeof window,eJ=()=>eQ()&&/Linux/i.test(window.navigator.userAgent),eX=()=>eQ()&&/Chrome/i.test(window.navigator.userAgent)},23276:function(e,t,r){"use strict";r.d(t,{Zb:function(){return p}});var n=r(50733),o=r(62803),i=r(24703),s=r(81298);let a=(0,o.i)({size:"$true"}),d=(0,i.z)(n.K,{name:"Card",context:a,variants:{unstyled:{false:{size:"$true",backgroundColor:"$background",position:"relative"}},size:{"...size":(e,{tokens:t})=>({borderRadius:t.radius[e]??e})}},defaultVariants:{unstyled:!1}}),l=(0,i.z)(n.K,{name:"CardHeader",context:a,variants:{unstyled:{false:{zIndex:10,backgroundColor:"transparent",marginBottom:"auto"}},size:{"...size":(e,{tokens:t})=>({padding:t.space[e]??e})}},defaultVariants:{unstyled:!1}}),c=(0,i.z)(l,{name:"CardFooter",variants:{unstyled:{false:{zIndex:5,flexDirection:"row",marginTop:"auto",marginBottom:0}}},defaultVariants:{unstyled:!1}}),u=(0,i.z)(n.K,{name:"CardBackground",variants:{unstyled:{false:{zIndex:0,fullscreen:!0,overflow:"hidden",pointerEvents:"none",padding:0}}},defaultVariants:{unstyled:!1}}),p=(0,s.$)(d,{Header:l,Footer:c,Background:u})},64235:function(e,t,r){"use strict";r.d(t,{T:function(){return d}});var n=r(78161),o=r(2784),i=r(73675),s=r(52322);let a=e=>{let{color:t="black",size:r=24,...n}=e;return(0,s.jsxs)(i.ny,{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:`${t}`,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[(0,s.jsx)(i.x1,{x1:"15",x2:"15",y1:"12",y2:"18",stroke:`${t}`}),(0,s.jsx)(i.x1,{x1:"12",x2:"18",y1:"15",y2:"15",stroke:`${t}`}),(0,s.jsx)(i.UL,{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",stroke:`${t}`}),(0,s.jsx)(i.y$,{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",stroke:`${t}`})]})};a.displayName="CopyPlus";let d=(0,o.memo)((0,n.H)(a))},39006:function(e,t,r){"use strict";r.d(t,{C:function(){return d}});var n=r(78161),o=r(2784),i=r(73675),s=r(52322);let a=e=>{let{color:t="black",size:r=24,...n}=e;return(0,s.jsxs)(i.ny,{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:`${t}`,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[(0,s.jsx)(i.UL,{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",stroke:`${t}`}),(0,s.jsx)(i.y$,{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",stroke:`${t}`})]})};a.displayName="Copy";let d=(0,o.memo)((0,n.H)(a))},69378:function(e){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var n,o,i,s=i[o];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},13383:function(e,t,r){var n=r(88746);e.exports=function(e,t,r){var o=(r="function"==typeof r?r:void 0)?r(e,t):void 0;return void 0===o?n(e,t,void 0,r):!!o}},43293:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var n=r(24703),o=r(93559);let i=(0,n.z)(o.Text,{opacity:0,lineHeight:0,height:0,display:"flex",fontSize:200,children:"wwwwwwwwwwwwwwwwwww",hoverStyle:{backgroundColor:"red"},pointerEvents:"none"});i.isVisuallyHidden=!0},75296:function(e,t,r){"use strict";r.d(t,{K:function(){return l}});var n=r(24703),o=r(34612),i=r(73183),s=r(84291),a=r(52322);let d=(0,n.z)(s.z5,{name:"TextArea",multiline:!0,whiteSpace:"pre-wrap",variants:{unstyled:{false:{height:"auto",...s.jF}},size:{"...size":i.G}},defaultVariants:{unstyled:!1}}),l=d.styleable((e,t)=>{let r=(0,s.kp)(e,t),n={[o.$L?"rows":"numberOfLines"]:e.unstyled?void 0:4};return(0,a.jsx)(d,{...n,...r})})},4265:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return a(t,e),t},l=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=d(r(2784)),p=c(r(69378)),h=d(r(13980));function f(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>")}var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastHtml=t.props.html,t.el="function"==typeof t.props.innerRef?{current:null}:u.createRef(),t.getEl=function(){return(t.props.innerRef&&"function"!=typeof t.props.innerRef?t.props.innerRef:t.el).current},t.emitChange=function(e){var r=t.getEl();if(r){var n=r.innerHTML;if(t.props.onChange&&n!==t.lastHtml){var o=Object.assign({},e,{target:{value:n}});t.props.onChange(o)}t.lastHtml=n}},t}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.tagName,n=t.html,o=t.innerRef,s=l(t,["tagName","html","innerRef"]);return u.createElement(r||"div",i(i({},s),{ref:"function"==typeof o?function(t){o(t),e.el.current=t}:o||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:n}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,r=this.getEl();return!r||f(e.html)!==f(r.innerHTML)||t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||t.innerRef!==e.innerRef||t.placeholder!==e.placeholder||!(0,p.default)(t.style,e.style)},t.prototype.componentDidUpdate=function(){var e=this.getEl();e&&(this.props.html!==e.innerHTML&&(e.innerHTML=this.props.html),this.lastHtml=this.props.html,function(e){var t=document.createTextNode("");e.appendChild(t);var r=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&r){var n=window.getSelection();if(null!==n){var o=document.createRange();o.setStart(t,t.nodeValue.length),o.collapse(!0),n.removeAllRanges(),n.addRange(o)}e instanceof HTMLElement&&e.focus()}}(e))},t.propTypes={html:h.string.isRequired,onChange:h.func,disabled:h.bool,tagName:h.string,className:h.string,style:h.object,innerRef:h.oneOfType([h.object,h.func])},t}(u.Component);t.default=g},88665:function(e){e.exports=function(e,t,r,n){var o=r?r.call(n,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),d=0;d<i.length;d++){var l=i[d];if(!a(l))return!1;var c=e[l],u=t[l];if(!1===(o=r?r.call(n,c,u,l):void 0)||void 0===o&&c!==u)return!1}return!0}},37164:function(e,t,r){"use strict";r.d(t,{x0:function(){return n}});let n=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>((t&=63)<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"")}}]);