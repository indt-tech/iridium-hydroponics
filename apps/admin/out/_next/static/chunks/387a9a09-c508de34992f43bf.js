"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8873],{20477:function(e,t,r){var i,n,s,o,a,l,d,c,u,h,p,g,m,y,x,f,S,T=r(54107),N=r(85113),K=N&&"object"==typeof N&&"default"in N?N:{default:N};class b{constructor(e){this.iterator=e,this.buffer=[void 0,void 0,void 0],this.bufferIndex=0,this.isDone=!1,this.nextCount=0,this.advance()}get done(){return this.isDone}get current(){if(0===this.nextCount)throw new T.errors.InvalidOperationError("Cannot get the current when the iterator has not been advanced.");return this.buffer[this.bufferIndex]}get previous(){if(this.nextCount<=1)throw new T.errors.InvalidOperationError("Cannot get the previous when the iterator has not advanced enough.");return this.buffer[(this.bufferIndex+this.buffer.length-1)%this.buffer.length]}get peek(){if(this.isDone)throw new T.errors.InvalidOperationError("Cannot peek at the end of the iterator.");return this.buffer[(this.bufferIndex+1)%this.buffer.length]}next(){if(this.done)throw new T.errors.InvalidOperationError("Cannot get the next when at the end of the iterator.");let e=this.buffer[this.getNextBufferIndex()];return this.advance(),this.nextCount++,e}*rest(){for(;!this.done;)yield this.next()}advance(){let e=this.iterator.next();if(this.bufferIndex=this.getNextBufferIndex(),e.done){this.isDone=!0;return}this.buffer[this.getNextBufferIndex()]=e.value}getNextBufferIndex(){return(this.bufferIndex+1)%this.buffer.length}}let w={ASTERISK:42,NEWLINE:10,CARRIAGE_RETURN:13,SPACE:32,TAB:9,CLOSE_BRACE:125};function C(e,t){let r;return r="string"==typeof t?e=>F(e,t):t,e.find(r)}function F(e,t){if(null==e.getNameNode)return!1;let r=e.getNameNode();if(null==r)return!1;if(tx.isArrayBindingPattern(r)||tx.isObjectBindingPattern(r))return r.getElements().some(e=>F(e,t));let i=null!=e.getName?e.getName():r.getText();return i===t}function _(e,t){return"string"==typeof t?`Expected to find ${e} named '${t}'.`:`Expected to find ${e} that matched the provided condition.`}function I(e,t){if(e.kind===T.SyntaxKind.EndOfFileToken)return;let r=e.parent;if(null==r)return;let{pos:i,end:n}=e;for(let s of r.getChildren(t)){if(s.pos>n||s===e)break;if(s.kind===T.SyntaxKind.SyntaxList&&s.pos<=i&&s.end>=n)return s}}function E(e,t){let r;return r="string"==typeof t?e=>e.getName()===t:t,e.find(r)}function P(e){if(D(e)||e._sourceFile.isDeclarationFile())return!0;for(let t of e._getAncestorsIterator(!1))if(D(t))return!0;return!1}function D(e){let t=(e.getCombinedModifierFlags()&T.ts.ModifierFlags.Ambient)===T.ts.ModifierFlags.Ambient;return t||tx.isInterfaceDeclaration(e)||tx.isTypeAliasDeclaration(e)}class v{constructor(){}static isModuleSpecifierRelative(e){return e.startsWith("./")||e.startsWith("../")}static getReferencedSourceFileFromSymbol(e){let t=e.getDeclarations();if(0!==t.length&&t[0].getKind()===T.SyntaxKind.SourceFile)return t[0]}}function O(e,t,r){var i,n;let s=null==t||t.kind!==T.SyntaxKind.SourceFile,o=(s?t:r)||{},a=function(){if(s){if(e.kind===T.SyntaxKind.SourceFile)return;let t=function(){let t=e.parent;for(;null!=t&&null!=t.parent;)t=t.parent;return t}();if(null==t){var r;let e=null!==(r=o.scriptKind)&&void 0!==r?r:T.ScriptKind.TSX;return T.ts.createSourceFile(`print.${e===T.ScriptKind.JSX||e===T.ScriptKind.TSX?"tsx":"ts"}`,"",T.ScriptTarget.Latest,!1,e)}return t}return t}(),l=T.ts.createPrinter({newLine:null!==(i=o.newLineKind)&&void 0!==i?i:T.NewLineKind.LineFeed,removeComments:o.removeComments||!1});return null==a?l.printFile(e):l.printNode(null!==(n=o.emitHint)&&void 0!==n?n:T.EmitHint.Unspecified,e,a)}t.xI4=void 0,(a=t.xI4||(t.xI4={})).TwoSpaces="  ",a.FourSpaces="    ",a.EightSpaces="        ",a.Tab="	";class A extends T.SettingsContainer{constructor(){super({indentationText:t.xI4.FourSpaces,newLineKind:T.NewLineKind.LineFeed,quoteKind:t.ZiB.Double,insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces:!0,usePrefixAndSuffixTextForRename:!1,useTrailingCommas:!1})}getEditorSettings(){return null==this._editorSettings&&(this._editorSettings={},k(this._editorSettings,this)),{...this._editorSettings}}getFormatCodeSettings(){return null==this._formatCodeSettings&&(this._formatCodeSettings={...this.getEditorSettings(),insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces:this._settings.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces}),{...this._formatCodeSettings}}getUserPreferences(){return null==this._userPreferences&&(this._userPreferences={quotePreference:this.getQuoteKind()===t.ZiB.Double?"double":"single",providePrefixAndSuffixTextForRename:this.getUsePrefixAndSuffixTextForRename()}),{...this._userPreferences}}getQuoteKind(){return this._settings.quoteKind}getNewLineKind(){return this._settings.newLineKind}getNewLineKindAsString(){return function(e){switch(e){case T.NewLineKind.CarriageReturnLineFeed:return"\r\n";case T.NewLineKind.LineFeed:return"\n";default:throw new T.errors.NotImplementedError(`Not implemented newline kind: ${e}`)}}(this.getNewLineKind())}getIndentationText(){return this._settings.indentationText}getUsePrefixAndSuffixTextForRename(){return this._settings.usePrefixAndSuffixTextForRename}getUseTrailingCommas(){return this._settings.useTrailingCommas}set(e){super.set(e),this._editorSettings=void 0,this._formatCodeSettings=void 0,this._userPreferences=void 0}_getIndentSizeInSpaces(){let e=this.getIndentationText();switch(e){case t.xI4.EightSpaces:return 8;case t.xI4.FourSpaces:return 4;case t.xI4.TwoSpaces:return 2;case t.xI4.Tab:return 4;default:return T.errors.throwNotImplementedForNeverValueError(e)}}}function L(e,t,r){void 0===e[t]&&(e[t]=r)}function k(e,r){L(e,"convertTabsToSpaces",r.getIndentationText()!==t.xI4.Tab),L(e,"newLineCharacter",r.getNewLineKindAsString()),L(e,"indentStyle",T.ts.IndentStyle.Smart),L(e,"indentSize",r.getIndentationText().length),L(e,"tabSize",r.getIndentationText().length)}function M(e,t){return W(e,t),e.toString()}function W(e,t){if("string"==typeof t)e.write(t);else if(t instanceof Function)t(e);else for(let r=0;r<t.length;r++)r>0&&e.newLineIfLastNot(),W(e,t[r])}class z{constructor(){this.enabled=!1}setEnabled(e){this.enabled=e}log(e){this.enabled&&this.logInternal(e)}warn(e){this.enabled&&this.warnInternal(e)}}class B extends z{logInternal(e){console.log(e)}warnInternal(e){console.warn(e)}}let R=/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/,J=new Set(["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"]);class j{constructor(e){this.dirtySourceFiles=new Set;let t=e=>{e.wasForgotten()||this.dirtySourceFiles.add(e)};e.onSourceFileAdded(e=>{this.dirtySourceFiles.add(e),e.onModified(t)}),e.onSourceFileRemoved(e=>{e._referenceContainer.clear(),this.dirtySourceFiles.delete(e),e.onModified(t,!1)})}refreshDirtySourceFiles(){for(let e of this.dirtySourceFiles.values())e._referenceContainer.refresh();this.clearDirtySourceFiles()}refreshSourceFileIfDirty(e){this.dirtySourceFiles.has(e)&&(e._referenceContainer.refresh(),this.clearDirtyForSourceFile(e))}addDirtySourceFile(e){this.dirtySourceFiles.add(e)}clearDirtySourceFiles(){this.dirtySourceFiles.clear()}clearDirtyForSourceFile(e){this.dirtySourceFiles.delete(e)}}class U{constructor(e){this.sourceFile=e,this.nodesInThis=new T.KeyValueCache,this.nodesInOther=new T.KeyValueCache,this.unresolvedLiterals=[],this.resolveUnresolved=()=>{for(let e=this.unresolvedLiterals.length-1;e>=0;e--){let t=this.unresolvedLiterals[e],r=this.getSourceFileForLiteral(t);null!=r&&(this.unresolvedLiterals.splice(e,1),this.addNodeInThis(t,r))}0===this.unresolvedLiterals.length&&this.sourceFile._context.compilerFactory.onSourceFileAdded(this.resolveUnresolved,!1)}}getDependentSourceFiles(){this.sourceFile._context.lazyReferenceCoordinator.refreshDirtySourceFiles();let e=new Set;for(let t of this.nodesInOther.getKeys())e.add(t._sourceFile);return e.values()}getLiteralsReferencingOtherSourceFilesEntries(){return this.sourceFile._context.lazyReferenceCoordinator.refreshSourceFileIfDirty(this.sourceFile),this.nodesInThis.getEntries()}getReferencingLiteralsInOtherSourceFiles(){return this.sourceFile._context.lazyReferenceCoordinator.refreshDirtySourceFiles(),this.nodesInOther.getKeys()}refresh(){this.unresolvedLiterals.length>0&&this.sourceFile._context.compilerFactory.onSourceFileAdded(this.resolveUnresolved,!1),this.clear(),this.populateReferences(),this.unresolvedLiterals.length>0&&this.sourceFile._context.compilerFactory.onSourceFileAdded(this.resolveUnresolved)}clear(){for(let[e,t]of(this.unresolvedLiterals.length=0,this.nodesInThis.getEntries()))this.nodesInThis.removeByKey(e),t._referenceContainer.nodesInOther.removeByKey(e)}populateReferences(){this.sourceFile._context.compilerFactory.forgetNodesCreatedInBlock(e=>{for(let t of this.sourceFile.getImportStringLiterals()){let r=this.getSourceFileForLiteral(t);e(t),null==r?this.unresolvedLiterals.push(t):this.addNodeInThis(t,r)}})}getSourceFileForLiteral(e){let t=e.getParentOrThrow(),r=t.getParent();if(tx.isImportDeclaration(t)||tx.isExportDeclaration(t))return t.getModuleSpecifierSourceFile();if(null!=r&&tx.isImportEqualsDeclaration(r))return r.getExternalModuleReferenceSourceFile();if(null!=r&&tx.isImportTypeNode(r)){let e=r.getSymbol();if(null!=e)return v.getReferencedSourceFileFromSymbol(e)}else if(tx.isCallExpression(t)){let t=e.getSymbol();if(null!=t)return v.getReferencedSourceFileFromSymbol(t)}else this.sourceFile._context.logger.warn(`Unknown import string literal parent: ${t.getKindName()}`)}addNodeInThis(e,t){this.nodesInThis.set(e,t),t._referenceContainer.nodesInOther.set(e,t)}}T.ts.version.split(".").map(e=>parseInt(e,10));class V{constructor(){}static getLastCharactersToPos(e,t){let r=e.getLength(),i=Array(r-t);return e.iterateLastChars((e,r)=>{let n=r-t;if(n<0)return!0;i[n]=e}),i.join("")}}function $(e,t,r){let i;return i=null!=e.getStructure?e.getStructure.call(t):{},null!=r&&Object.assign(i,r),i}function G(e,t,r){null!=e.set&&e.set.call(t,r)}function Q(e){return class extends e{hasDeclareKeyword(){return null!=this.getDeclareKeyword()}getDeclareKeywordOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getDeclareKeyword(),null!=e?e:"Expected to find a declare keyword.",this)}getDeclareKeyword(){return this.getFirstModifierByKind(T.SyntaxKind.DeclareKeyword)}isAmbient(){return P(this)}setHasDeclareKeyword(e){return this.toggleModifier("declare",e),this}set(t){return G(e.prototype,this,t),null!=t.hasDeclareKeyword&&this.setHasDeclareKeyword(t.hasDeclareKeyword),this}getStructure(){return $(e.prototype,this,{hasDeclareKeyword:this.hasDeclareKeyword()})}}}function q(e,t){return tx.isAmbientable(e)&&e.isAmbient()?f.Newline:tx.isBodyable(t)&&null!=t.getBody()||tx.isBodied(t)?f.Blankline:f.Newline}function H(e,t){return f.Newline}function X(e,t){return tx.isBodyable(t)&&t.hasBody()||tx.isBodied(t)||tx.isInterfaceDeclaration(t)||tx.isClassDeclaration(t)||tx.isEnumDeclaration(t)?f.Blankline:f.Newline}function Z(e,t){return f.Newline}function Y(e,t){return tx.isClassDeclaration(e)?q(e,t):tx.isInterfaceDeclaration(e)?H():X(e,t)}function ee(e,t){let r=e.getFullText(),i=[],n=0;for(let{edit:e}of t.map((e,t)=>({edit:e instanceof oW?e:new oW(e),index:t})).sort((e,t)=>{let r=e.edit.getSpan().getStart(),i=t.edit.getSpan().getStart(),n=r-i;return 0===n?e.index<t.index?-1:1:n<0?-1:1})){let t=e.getSpan(),s=r.slice(n,t.getStart());n=t.getEnd(),i.push(s),i.push(e.getNewText())}return i.push(r.slice(n)),i.join("")}(l=f||(f={}))[l.Newline=0]="Newline",l[l.Blankline=1]="Blankline",l[l.Space=2]="Space",l[l.None=3]="None";let et=T.ts.createScanner(T.ts.ScriptTarget.Latest,!0);function er(e){et.setText(e);try{if(et.scan()===T.ts.SyntaxKind.EndOfFileToken)return -1;for(;et.scan()!==T.ts.SyntaxKind.EndOfFileToken;);let t=et.getStartPos();return","===e[t-1]?-1:t}finally{et.setText(void 0)}}function ei(e){var t;return null!==(t=null==e?void 0:e.length)&&void 0!==t?t:0}function en(e,t,r){for(;t<e.length;){let i=e.charCodeAt(t);if(r(i))break;t++}return t}function es(e,t,r){for(;t>0;){let i=e.charCodeAt(t-1);if(r(i))break;t--}return t}function eo(e){return!T.StringUtils.isWhitespaceCharCode(e)}function ea(e,t){let r=t;for(let i=t;i<e.length;i++)if(" "!==e[i]&&"	"!==e[i]){if("\r"===e[i]&&"\n"===e[i+1]||"\n"===e[i]){r=i+1,"\r"===e[i]&&(i++,r++);continue}break}return r}function el(e,t){for(;t>0;){t--;let r=e[t];if("\n"===r||" "!==r&&"	"!==r)return t+1}return t}function ed(e,t,r){if(0!==e)return r[e-1].getEnd();{let e=t.getParentOrThrow();if(tx.isSourceFile(e))return 0;if(tx.isCaseClause(e)||tx.isDefaultClause(e)){let t=e.getFirstChildByKindOrThrow(T.SyntaxKind.ColonToken);return t.getEnd()}let r=t!==e.getChildSyntaxList();if(r)return t.getStart();let i=ec(e),n=i.getFirstChildByKindOrThrow(T.SyntaxKind.OpenBraceToken);return n.getEnd()}}function ec(e){if(tx.isModuleDeclaration(e)){let t=e._getInnerBody();if(null==t)throw new T.errors.InvalidOperationError("This operation requires the module to have a body.");return t}return tx.isBodied(e)?e.getBody():tx.isBodyable(e)?e.getBodyOrThrow():e}function eu(e){return{scope:e.hasScopeKeyword()?e.getScope():void 0}}function eh(e,t,r,i){let n="number"==typeof e?e:e.length,s=t.length-n,o=[];for(let e=0;e<s;e++){let n=t[r+e];(i||!tx.isCommentNode(n))&&o.push(n)}return o}function ep(e,t,r,i){let n=[];for(;t<e.length&&n.length<r;){let r=e[t],s=r.getKind();if(s!==T.SyntaxKind.SingleLineCommentTrivia&&s!==T.SyntaxKind.MultiLineCommentTrivia){if(s!==i)throw new T.errors.NotImplementedError(`Unexpected! Inserting syntax kind of ${T.getSyntaxKindName(i)}, but ${r.getKindName()} was inserted.`);n.push(r)}t++}if(n.length!==r)throw new T.errors.NotImplementedError(`Unexpected! Inserted ${r} child/children, but ${n.length} were inserted.`);return n}function eg(e){let t={};return Object.assign(t,eu(e)),t}function em(e){let t={};return Object.assign(t,{hasDeclareKeyword:e.hasDeclareKeyword()}),Object.assign(t,{isDefaultExport:e.hasDefaultKeyword(),isExported:e.hasExportKeyword()}),t}function ey(e){let t={};return Object.assign(t,{isStatic:e.isStatic()}),Object.assign(t,{isAbstract:e.isAbstract()}),Object.assign(t,eu(e)),Object.assign(t,{hasQuestionToken:e.hasQuestionToken()}),Object.assign(t,{hasOverrideKeyword:e.hasOverrideKeyword()}),t}function ex(e,t){let r=e<0?t+e:e;if(r<0)throw new T.errors.InvalidOperationError(`Invalid index: The max negative index is ${-1*t}, but ${e} was specified.`);if(e>t)throw new T.errors.InvalidOperationError(`Invalid index: The max index is ${t}, but ${e} was specified.`);return r}t.wCq=void 0,(d=t.wCq||(t.wCq={}))[d.Statement=0]="Statement",d[d.ClassElement=1]="ClassElement",d[d.TypeElement=2]="TypeElement",d[d.ObjectLiteralElement=3]="ObjectLiteralElement",d[d.EnumMember=4]="EnumMember";class ef{constructor(e,t,r,i,n,s){this._fullStart=e,this._start=t,this._sourceFile=n,this.pos=t,this.end=r,this.kind=i,this.flags=T.ts.NodeFlags.None,this.parent=s}getSourceFile(){return this._sourceFile}getChildCount(e){return 0}getChildAt(e,t){}getChildren(e){return[]}getStart(e,t){return this._start}getFullStart(){return this._fullStart}getEnd(){return this.end}getWidth(e){return this.end-this._start}getFullWidth(){return this.end-this._fullStart}getLeadingTriviaWidth(e){return this._start-this._fullStart}getFullText(e){return this._sourceFile.text.substring(this._fullStart,this.end)}getText(e){return this._sourceFile.text.substring(this._start,this.end)}getFirstToken(e){}getLastToken(e){}forEachChild(e,t){}}class eS extends ef{constructor(){super(...arguments),this._commentKind=t.wCq.Statement}}class eT extends ef{constructor(){super(...arguments),this._commentKind=t.wCq.ClassElement}}class eN extends ef{constructor(){super(...arguments),this._commentKind=t.wCq.TypeElement}}class eK extends ef{constructor(){super(...arguments),this._commentKind=t.wCq.ObjectLiteralElement}}class eb extends ef{constructor(){super(...arguments),this._commentKind=t.wCq.EnumMember}}(c=S||(S={}))[c.SingleLine=0]="SingleLine",c[c.MultiLine=1]="MultiLine",c[c.JsDoc=2]="JsDoc";let ew=new WeakMap,eC=new Set([T.SyntaxKind.SourceFile,T.SyntaxKind.Block,T.SyntaxKind.ModuleBlock,T.SyntaxKind.CaseClause,T.SyntaxKind.DefaultClause,T.SyntaxKind.ClassDeclaration,T.SyntaxKind.InterfaceDeclaration,T.SyntaxKind.EnumDeclaration,T.SyntaxKind.ClassExpression,T.SyntaxKind.TypeLiteral,T.SyntaxKind.ObjectLiteralExpression]);class eF{constructor(){}static getOrParseChildren(e,t){e_(e)&&(e=e.parent);let r=ew.get(e);return null==r&&(r=Array.from(function*(e,t){let r=t.text,i=T.ts.isSourceFile(e)||T.ts.isBlock(e)||T.ts.isModuleBlock(e)||T.ts.isCaseClause(e)||T.ts.isDefaultClause(e)?e.statements:T.ts.isClassDeclaration(e)||T.ts.isClassExpression(e)||T.ts.isEnumDeclaration(e)||T.ts.isInterfaceDeclaration(e)||T.ts.isTypeLiteralNode(e)||T.ts.isClassExpression(e)?e.members:T.ts.isObjectLiteralExpression(e)?e.properties:T.errors.throwNotImplementedForNeverValueError(e),n=function(){let r=function(){if(null!=function(){if(T.ts.isSourceFile(e)||T.ts.isBlock(e)||T.ts.isModuleBlock(e)||T.ts.isCaseClause(e)||T.ts.isDefaultClause(e))return e}())return eS;if(T.ts.isClassLike(e))return eT;if(T.ts.isInterfaceDeclaration(e)||T.ts.isTypeLiteralNode(e))return eN;if(T.ts.isObjectLiteralExpression(e))return eK;if(T.ts.isEnumDeclaration(e))return eb;throw new T.errors.NotImplementedError(`Not implemented comment node container type: ${T.getSyntaxKindName(e.kind)}`)}();return(i,n,s,o)=>new r(i,n,s,o,t,e)}();if(0===i.length){let r=eF.getContainerBodyPos(e,t);null!=r&&(yield*s(r,!1))}else{for(let e of i)yield*s(e.pos,!0),yield e;let e=i[i.length-1];yield*s(e.end,!1)}function*s(e,t){let i=e;a();let s=Array.from(function*(){for(;e<r.length;){let i=d();if(null!=i){let e=i===S.JsDoc;if(e&&t)return;yield l(i),a()}else{if(!T.StringUtils.isWhitespace(r[e]))return;e++}}}()),o=r.length===e||"}"===r[e]?e:T.StringUtils.getLineStartFromPos(r,e);for(let e of s)e.end<=o&&(yield e);function a(){if(0===e)return;let t=T.StringUtils.getLineEndFromPos(r,e);for(;e<t;){let i=d();if(null!=i){let n=l(i);if(n.kind===T.SyntaxKind.SingleLineCommentTrivia)return;t=T.StringUtils.getLineEndFromPos(r,e)}else{if(!T.StringUtils.isWhitespace(r[e])&&","!==r[e])return;e++}}for(;T.StringUtils.startsWithNewLine(r[e]);)e++}function l(t){if(t===S.SingleLine)return function(){let t=e;(function(){for(e+=2;e<r.length&&"\n"!==r[e]&&"\r"!==r[e];)e++})();let s=e;return n(i,t,s,T.SyntaxKind.SingleLineCommentTrivia)}();let s=t===S.JsDoc;return function(t){let s=e;(function(t){for(e+=t?3:2;e<r.length;){if("*"===r[e]&&"/"===r[e+1]){e+=2;break}e++}})(t);let o=e;return n(i,s,o,T.SyntaxKind.MultiLineCommentTrivia)}(s)}function d(){let t=r[e];if("/"!==t)return;let i=r[e+1];if("/"===i)return S.SingleLine;if("*"!==i)return;let n=r[e+2];return"*"===n?S.JsDoc:S.MultiLine}}}(e,t)),ew.set(e,r)),r}static shouldParseChildren(e){return eC.has(e.kind)&&e.pos!==e.end}static hasParsedChildren(e){return e_(e)&&(e=e.parent),ew.has(e)}static isCommentStatement(e){return e._commentKind===t.wCq.Statement}static isCommentClassElement(e){return e._commentKind===t.wCq.ClassElement}static isCommentTypeElement(e){return e._commentKind===t.wCq.TypeElement}static isCommentObjectLiteralElement(e){return e._commentKind===t.wCq.ObjectLiteralElement}static isCommentEnumMember(e){return e._commentKind===t.wCq.EnumMember}static getContainerBodyPos(e,t){if(T.ts.isSourceFile(e))return 0;if(T.ts.isClassDeclaration(e)||T.ts.isEnumDeclaration(e)||T.ts.isInterfaceDeclaration(e)||T.ts.isTypeLiteralNode(e)||T.ts.isClassExpression(e)||T.ts.isBlock(e)||T.ts.isModuleBlock(e)||T.ts.isObjectLiteralExpression(e))return r(e,T.SyntaxKind.OpenBraceToken);if(T.ts.isCaseClause(e)||T.ts.isDefaultClause(e))return r(e,T.SyntaxKind.ColonToken);return T.errors.throwNotImplementedForNeverValueError(e);function r(e,r){var i;return null===(i=e.getChildren(t).find(e=>e.kind===r))||void 0===i?void 0:i.end}}}function e_(e){return e.kind===T.SyntaxKind.SyntaxList}function eI(e){return null!=e._children}let eE=new WeakMap,eP=new WeakMap;class eD{static getContainerArray(e,t){return eF.getOrParseChildren(e,t)}static getCompilerChildrenFast(e,t){return eI(e)?eD.getCompilerChildren(e,t):eD.getCompilerForEachChildren(e,t)}static getCompilerForEachChildren(e,t){if(eF.shouldParseChildren(e)){let i=eE.get(e);return null==i&&(ev(i=r(),eF.getOrParseChildren(e,t)),eE.set(e,i)),i}return r();function r(){let t=[];return e.forEachChild(e=>{t.push(e)}),t}}static getCompilerChildren(e,t){if(function(){if(e.kind!==T.ts.SyntaxKind.SyntaxList)return!1;let r=e.parent;return!!eF.shouldParseChildren(r)&&eF.getContainerBodyPos(r,t)===e.pos}()){let r=eP.get(e);return null==r&&(ev(r=[...e.getChildren(t)],eF.getOrParseChildren(e,t)),eP.set(e,r)),r}return e.getChildren(t)}}function ev(e,t){let r=0;for(let i of t)if(i.kind===T.SyntaxKind.SingleLineCommentTrivia||i.kind===T.SyntaxKind.MultiLineCommentTrivia){for(;r<e.length&&e[r].end<i.end;)r++;e.splice(r,0,i),r++}}function eO(e){return e.kind===T.ts.SyntaxKind.SingleLineCommentTrivia||e.kind===T.ts.SyntaxKind.MultiLineCommentTrivia}class eA{constructor(e){this.compilerFactory=e}handleForValues(e,t,r,i){if(this.compilerFactory.hasCompilerNode(t))e.handleNode(this.compilerFactory.getExistingNodeFromCompilerNode(t),r,i);else if(t.kind===T.SyntaxKind.SyntaxList){let n=this.compilerFactory.getExistingNodeFromCompilerNode(t.getSourceFile());e.handleNode(this.compilerFactory.getNodeFromCompilerNode(t,n),r,i)}}forgetNodeIfNecessary(e){this.compilerFactory.hasCompilerNode(e)&&this.compilerFactory.getExistingNodeFromCompilerNode(e).forget()}getCompilerChildrenAsIterators(e,t,r){let i=this.getCompilerChildren(e,t,r);return[new b(T.ArrayUtils.toIterator(i[0])),new b(T.ArrayUtils.toIterator(i[1]))]}getCompilerChildren(e,t,r){let i=e.compilerNode,n=e._sourceFile.compilerNode;return[eD.getCompilerChildren(i,n),eD.getCompilerChildren(t,r)]}getChildrenFast(e,t,r){let i=e.compilerNode,n=e._sourceFile.compilerNode;return eI(i)?[eD.getCompilerChildren(i,n),eD.getCompilerChildren(t,r)]:[eD.getCompilerForEachChildren(i,n),eD.getCompilerForEachChildren(t,r)]}}class eL{constructor(e){this.compilerFactory=e,this.helper=new eA(e)}handleNode(e,t,r){if(e.getKind()!==t.kind){let r=[e.getKind(),t.kind];if(r.includes(T.ts.SyntaxKind.Identifier)&&r.includes(T.ts.SyntaxKind.PrivateIdentifier)){e.forget();return}throw new T.errors.InvalidOperationError(`Error replacing tree! Perhaps a syntax error was inserted (Current: ${e.getKindName()} -- New: ${T.getSyntaxKindName(t.kind)}).`)}e._hasWrappedChildren()&&this.handleChildren(e,t,r),this.compilerFactory.replaceCompilerNode(e,t)}handleChildren(e,t,r){let[i,n]=this.helper.getChildrenFast(e,t,r);if(i.length!==n.length)throw Error(`Error replacing tree: The children of the old and new trees were expected to have the same count (${i.length}:${n.length}).`);for(let e=0;e<i.length;e++)this.helper.handleForValues(this,i[e],n[e],r)}}class ek{constructor(e,t){this.compilerFactory=e,this.straightReplacementNodeHandler=new eL(e),this.helper=new eA(e),this.oldIndex=t.oldIndex,this.newIndex=t.newIndex}handleNode(e,t,r){let[i,n]=this.helper.getCompilerChildren(e,t,r),s=this.getChildrenInNewOrder(i);T.errors.throwIfNotEqual(n.length,s.length,"New children length should match the old children length.");for(let e=0;e<n.length;e++)this.helper.handleForValues(this.straightReplacementNodeHandler,s[e],n[e],r);this.compilerFactory.replaceCompilerNode(e,t)}getChildrenInNewOrder(e){let t=[...e],r=t.splice(this.oldIndex,1)[0];return t.splice(this.newIndex,0,r),t}}class eM{constructor(e,t){var r;this.compilerFactory=e,this.straightReplacementNodeHandler=new eL(e),this.helper=new eA(e),this.childCount=t.childCount,this.isFirstChild=t.isFirstChild,this.replacingNodes=null===(r=t.replacingNodes)||void 0===r?void 0:r.map(e=>e.compilerNode),this.customMappings=t.customMappings}handleNode(e,t,r){let[i,n]=this.helper.getCompilerChildrenAsIterators(e,t,r),s=this.childCount;for(this.handleCustomMappings(t);!i.done&&!n.done&&!this.isFirstChild(i.peek,n.peek);)this.helper.handleForValues(this.straightReplacementNodeHandler,i.next(),n.next(),r);for(;!i.done&&this.tryReplaceNode(i.peek);)i.next();if(s>0)for(;s>0;)n.next(),s--;else if(s<0)for(;s<0;)this.helper.forgetNodeIfNecessary(i.next()),s++;for(;!i.done;)this.helper.handleForValues(this.straightReplacementNodeHandler,i.next(),n.next(),r);if(!n.done)throw Error("Error replacing tree: Should not have children left over.");this.compilerFactory.replaceCompilerNode(e,t)}handleCustomMappings(e){if(null==this.customMappings)return;let t=this.customMappings(e);for(let e of t)this.compilerFactory.replaceCompilerNode(e.currentNode,e.newNode)}tryReplaceNode(e){if(null==this.replacingNodes||0===this.replacingNodes.length)return!1;let t=this.replacingNodes.indexOf(e);return -1!==t&&(this.replacingNodes.splice(t,1),this.helper.forgetNodeIfNecessary(e),!0)}}class eW{constructor(e){this.compilerFactory=e,this.helper=new eA(e)}handleNode(e,t,r){if(e.getKind()!==t.kind){e.forget();return}e._hasWrappedChildren()&&this.handleChildren(e,t,r),this.compilerFactory.replaceCompilerNode(e,t)}handleChildren(e,t,r){let[i,n]=this.helper.getChildrenFast(e,t,r),s=T.ArrayUtils.toIterator(n);for(let e of i){let t=s.next();if(t.done){let t=this.compilerFactory.getExistingNodeFromCompilerNode(e);null!=t&&t.forget()}else this.helper.handleForValues(this,e,t.value,r)}}}class ez extends eL{constructor(e,t,r){super(e),this.parentNodeHandler=t,this.changingParent=r,this.foundParent=!1,this.changingParentParent=this.changingParent.getParentSyntaxList()||this.changingParent.getParent(),this.parentsAtSamePos=null!=this.changingParentParent&&this.changingParentParent.getPos()===this.changingParent.getPos()}handleNode(e,t,r){!this.foundParent&&this.isParentNode(t,r)?(this.foundParent=!0,this.parentNodeHandler.handleNode(e,t,r)):super.handleNode(e,t,r)}isParentNode(e,t){let r=eB(e,this.changingParent)&&eB(I(e,t)||e.parent,this.changingParentParent);if(!r)return!1;if(!this.parentsAtSamePos)return!0;return i(this.changingParent.compilerNode)===i(e);function i(e){let t=e,r=0;for(;null!=t.parent;)r++,t=t.parent;return r}}}function eB(e,t){return null==e&&null==t||null!=e&&null!=t&&e.pos===t.getPos()&&e.kind===t.getKind()}class eR{constructor(e,t){this.compilerFactory=e,this.straightReplacementNodeHandler=new eL(e),this.helper=new eA(e),this.start=t.start,this.end=t.end}handleNode(e,t,r){let i=e._sourceFile.compilerNode,n=this.helper.getChildrenFast(e,t,r),s=new b(T.ArrayUtils.toIterator(n[0])),o=new b(T.ArrayUtils.toIterator(n[1]));for(;!s.done&&!o.done&&o.peek.getEnd()<=this.start;)this.straightReplace(s.next(),o.next(),r);for(;!s.done&&!o.done&&(s.peek.getStart(i)<this.start||s.peek.getStart(i)===this.start&&o.peek.end>this.end);)this.rangeHandlerReplace(s.next(),o.next(),r);for(;!o.done&&o.peek.getEnd()<=this.end;)o.next();for(;!s.done;)this.straightReplace(s.next(),o.next(),r);if(!o.done)throw Error("Error replacing tree: Should not have children left over.");this.compilerFactory.replaceCompilerNode(e,t)}straightReplace(e,t,r){this.helper.handleForValues(this.straightReplacementNodeHandler,e,t,r)}rangeHandlerReplace(e,t,r){this.helper.handleForValues(this,e,t,r)}}class eJ{constructor(e,t){var r;this.compilerFactory=e,this.straightReplacementNodeHandler=new eL(e),this.helper=new eA(e),this.start=t.start,this.end=t.end,this.replacingLength=t.replacingLength,this.replacingNodes=null===(r=t.replacingNodes)||void 0===r?void 0:r.map(e=>e.compilerNode),this.customMappings=t.customMappings}handleNode(e,t,r){let i=e._sourceFile.compilerNode,[n,s]=this.helper.getCompilerChildrenAsIterators(e,t,r);for(this.handleCustomMappings(t,r);!n.done&&!s.done&&s.peek.getStart(r)<this.start;)this.straightReplace(n.next(),s.next(),r);let o=[];for(;!s.done&&s.peek.getStart(r)>=this.start&&ej(s.peek,r)<=this.end;)o.push(s.next());if(null!=this.replacingLength){let e=this.start+this.replacingLength,t=[];for(;!n.done&&(ej(n.peek,i)<=e||n.peek.getStart(i)<e);)t.push(n.next());if(t.length===o.length&&t.every((e,t)=>e.kind===o[t].kind))for(let e=0;e<t.length;e++){let r=this.compilerFactory.getExistingNodeFromCompilerNode(t[e]);null!=r&&(r.forgetDescendants(),this.compilerFactory.replaceCompilerNode(t[e],o[e]))}else t.forEach(e=>this.helper.forgetNodeIfNecessary(e))}for(;!n.done;)this.straightReplace(n.next(),s.next(),r);if(!s.done)throw Error("Error replacing tree: Should not have children left over.");this.compilerFactory.replaceCompilerNode(e,t)}handleCustomMappings(e,t){if(null==this.customMappings)return;let r=this.customMappings(e,t);for(let e of r)e.currentNode._context.compilerFactory.replaceCompilerNode(e.currentNode,e.newNode)}straightReplace(e,t,r){this.tryReplaceNode(e)||this.helper.handleForValues(this.straightReplacementNodeHandler,e,t,r)}tryReplaceNode(e){if(null==this.replacingNodes||0===this.replacingNodes.length)return!1;let t=this.replacingNodes.indexOf(e);return -1!==t&&(this.replacingNodes.splice(t,1),this.helper.forgetNodeIfNecessary(e),!0)}}function ej(e,t){return e.kind>=T.ts.SyntaxKind.FirstJSDocNode&&e.kind<=T.ts.SyntaxKind.LastJSDocNode?es(t.text,e.end,e=>e!==w.ASTERISK&&!T.StringUtils.isWhitespaceCharCode(e)):e.end}class eU extends eL{handleNode(e,t,r){let i=e.getKind(),n=t.kind;if(i===T.SyntaxKind.ShorthandPropertyAssignment&&n===T.SyntaxKind.PropertyAssignment){let r=e.getSourceFile(),i=e.getNameNode(),n=t.initializer;this.compilerFactory.replaceCompilerNode(i,n),e.forget(),this.compilerFactory.getNodeFromCompilerNode(t,r);return}if(i===T.SyntaxKind.ExportSpecifier&&n===T.SyntaxKind.ExportSpecifier&&null==e.compilerNode.propertyName&&null!=t.propertyName||i===T.SyntaxKind.ImportSpecifier&&n===T.SyntaxKind.ImportSpecifier&&null==e.compilerNode.propertyName&&null!=t.propertyName){(function(r){let i=e.getNameNode(),n=t.propertyName,s=t.name,o=n.escapedText===i.compilerNode.escapedText?s:n;r.replaceCompilerNode(i,o),r.replaceCompilerNode(e,t)})(this.compilerFactory);return}super.handleNode(e,t,r)}}class eV{constructor(e){this.handler=e}handleNode(e,t,r){if(!tx.isSourceFile(e))throw new T.errors.InvalidOperationError("Can only use a TryOrForgetNodeHandler with a source file.");try{this.handler.handleNode(e,t,r)}catch(r){e._context.logger.warn("Could not replace tree, so forgetting all nodes instead. Message: "+r),e.getChildSyntaxListOrThrow().forget(),e._context.compilerFactory.replaceCompilerNode(e,t)}}}class e${constructor(e,t){this.compilerFactory=e,this.childIndex=t,this.straightReplacementNodeHandler=new eL(e),this.helper=new eA(e)}handleNode(e,t,r){let[i,n]=this.helper.getCompilerChildrenAsIterators(e,t,r),s=0;for(;!i.done&&!n.done&&s++<this.childIndex;)this.helper.handleForValues(this.straightReplacementNodeHandler,i.next(),n.next(),r);let o=this.compilerFactory.getExistingNodeFromCompilerNode(i.next()),a=o.getChildSyntaxListOrThrow();for(let e of eD.getCompilerChildren(a.compilerNode,a._sourceFile.compilerNode))this.helper.handleForValues(this.straightReplacementNodeHandler,e,n.next(),r);for(!function e(t){if(t===a){t._forgetOnlyThis();return}for(let r of t._getChildrenInCacheIterator())e(r);t._forgetOnlyThis()}(o);!i.done;)this.helper.handleForValues(this.straightReplacementNodeHandler,i.next(),n.next(),r);if(!n.done)throw Error("Error replacing tree: Should not have children left over.");this.compilerFactory.replaceCompilerNode(e,t)}}class eG{getDefault(e){let{parent:t,isFirstChild:r,childCount:i,customMappings:n}=e,s=t.getSourceFile(),o=s._context.compilerFactory,a=null==e.replacingNodes?void 0:[...e.replacingNodes],l=new eM(o,{childCount:i,isFirstChild:r,replacingNodes:a,customMappings:n});return t===s?l:new ez(o,l,t)}getForParentRange(e){let{parent:t,start:r,end:i,replacingLength:n,replacingNodes:s,customMappings:o}=e,a=t.getSourceFile(),l=a._context.compilerFactory,d=new eJ(l,{start:r,end:i,replacingLength:n,replacingNodes:s,customMappings:o});return t===a?d:new ez(l,d,t)}getForRange(e){let{sourceFile:t,start:r,end:i}=e,n=t._context.compilerFactory;return new eR(n,{start:r,end:i})}getForChildIndex(e){let{parent:t,childIndex:r,childCount:i,replacingNodes:n,customMappings:s}=e,o=t.getChildren();T.errors.throwIfOutOfRange(r,[0,o.length],"opts.childIndex"),i<0&&T.errors.throwIfOutOfRange(i,[r-o.length,0],"opts.childCount");let a=0;return this.getDefault({parent:t,isFirstChild:()=>a++===r,childCount:i,replacingNodes:n,customMappings:s})}getForStraightReplacement(e){return new eL(e)}getForForgetChanged(e){return new eW(e)}getForRename(e){return new eU(e)}getForTryOrForget(e){return new eV(e)}getForChangingChildOrder(e){let{parent:t,oldIndex:r,newIndex:i}=e,n=t.getSourceFile(),s=n._context.compilerFactory,o=new ek(s,{oldIndex:r,newIndex:i});return t===n?o:new ez(s,o,t)}getForUnwrappingNode(e){let t=e.getParentSyntaxList()||e.getParentOrThrow(),r=e.getChildIndex(),i=t.getSourceFile(),n=i._context.compilerFactory,s=new e$(n,r);return t===i?s:new ez(n,s,t)}}function eQ(e){let{parent:t,previousSibling:r,nextSibling:i,newLineKind:n,getSiblingFormatting:s}=e;if(null==r||null==i)return"";let o=s(t,r),a=s(t,i);return o===f.Blankline||a===f.Blankline?n+n:o===f.Newline||a===f.Newline?n:o===f.Space||a===f.Space?" ":""}class eq{constructor(e){this.opts=e}getNewText(e){let t,r;let{parent:i,oldIndex:n,newIndex:s,getSiblingFormatting:o}=this.opts,a=i.getChildren(),l=i._context.manipulationSettings.getNewLineKindAsString(),d=a[n],c=i._sourceFile.getFullText(),u=ea(c,d.getPos()),h=c.substring(u,d.getEnd()),p=Math.min(s,n),g=Math.max(s,n),m=function(){let e=[...a];return e.splice(n,1),e.splice(s,0,d),e}(),y=tx.isSourceFile(i.getParentOrThrow()),x="";return x+=c.substring(0,a[p].getPos()),0!==p||y||(x+=l),f(p),p===n?(t=ea(c,a[p].getEnd()),r=a[g].getEnd()):(t=ea(c,a[p].getPos()),r=a[g].getPos()),x+=c.substring(t,r),f(g),a.length-1!==g||y||(x+=l),x+=c.substring(ea(c,a[g].getEnd()));function f(e){e===n?0!==n&&n!==a.length-1&&S({previousSibling:m[n-1],nextSibling:m[n]}):(0!==s&&S({previousSibling:m[s-1],nextSibling:m[s]}),x+=h,S({previousSibling:m[s],nextSibling:m[s+1]}))}function S(e){let t=eQ({parent:i,getSiblingFormatting:o,newLineKind:l,previousSibling:e.previousSibling,nextSibling:e.nextSibling}),r=l+l;if(t===r){if(x.endsWith(r))return;x.endsWith(l)?x+=l:x+=r}else if(t===l){if(x.endsWith(l))return;x+=l}else if(" "===t){if(x.endsWith(" "))return;x+=" "}else x+=t}}getTextForError(e){return e}}class eH{constructor(e){this.newText=e}getNewText(e){return this.newText}getTextForError(e){return e}}function eX(e,t,r=0){let i=Math.max(0,e.lastIndexOf("\n",t)-100),n=Math.min(e.length,e.indexOf("\n",t+r));n=-1===n?e.length:Math.min(e.length,n+100);let s="";return s+=e.substring(i,n),0!==i&&(s="..."+s),n!==e.length&&(s+="..."),s}class eZ{constructor(e){this.opts=e}getNewText(e){let{insertPos:t,newText:r,replacingLength:i=0}=this.opts;return e.substring(0,t)+r+e.substring(t+i)}getTextForError(e){return eX(e,this.opts.insertPos,this.opts.newText.length)}}class eY{constructor(e){this.opts=e}getNewText(e){let t=this.opts,{children:r,removePrecedingSpaces:i=!1,removeFollowingSpaces:n=!1,removePrecedingNewLines:s=!1,removeFollowingNewLines:o=!1,replaceTrivia:a=""}=t,l=r[0].getSourceFile(),d=l.getFullText(),c=function(){if(null!=t.customRemovalPos)return t.customRemovalPos;let e=r[0].getNonWhitespaceStart();return i||s?es(d,e,u(i,s)):e}();return this.removalPos=c,d.substring(0,c)+a+d.substring(function(){if(null!=t.customRemovalEnd)return t.customRemovalEnd;let e=r[r.length-1].getEnd();return n||o?en(d,e,u(n,o)):e}());function u(e,t){return r=>(!t||r!==w.CARRIAGE_RETURN&&r!==w.NEWLINE)&&(!e||!!(r!==w.SPACE&&r!==w.TAB))}}getTextForError(e){return eX(e,this.removalPos)}}function e0(e,t){return"\n"===e[t]||"\r"===e[t]&&"\n"===e[t+1]}class e1{constructor(e){this.opts=e}getNewText(e){let{children:t,getSiblingFormatting:r}=this.opts,i=t[0],n=t[t.length-1],s=i.getParentOrThrow(),o=s.getSourceFile(),a=o.getFullText(),l=o._context.manipulationSettings.getNewLineKindAsString(),d=i.getPreviousSibling(),c=n.getNextSibling(),u=function(){if(null!=d){let e=d.getTrailingTriviaEnd();return e0(a,e)?e:d.getEnd()}let e=es(a,i.getPos(),eo);return s.getPos()===e?i.getNonWhitespaceStart():i.isFirstNodeOnLine()?e:i.getNonWhitespaceStart()}();return this.removalPos=u,a.substring(0,u)+eQ({parent:s,previousSibling:d,nextSibling:c,newLineKind:l,getSiblingFormatting:r})+a.substring(function(){let e=n.getTrailingTriviaEnd();if(null!=d&&null!=c){let e=r(s,c);return e===f.Blankline||e===f.Newline?el(a,c.getNonWhitespaceStart()):c.getNonWhitespaceStart()}return s.getEnd()===n.getEnd()?n.getEnd():e0(a,e)?null==d&&0===i.getPos()?ea(a,e):function(e,t){for(;t>0;)if("\n"===e[--t]){if("\r"===e[t-1])return t-1;break}return t}(a,ea(a,e)):null==d?e:n.getEnd()}())}getTextForError(e){return eX(e,this.removalPos)}}class e2{constructor(e,t){this.renameLocations=e,this.newName=t}getNewText(e){let t=[...this.renameLocations].sort((e,t)=>t.getTextSpan().getStart()-e.getTextSpan().getStart()),r=e.length,i="";for(let n=0;n<t.length;n++){let s=t[n],o=s.getTextSpan();i=(s.getPrefixText()||"")+this.newName+(s.getSuffixText()||"")+e.substring(o.getEnd(),r)+i,r=o.getStart()}return e.substring(0,r)+i}getTextForError(e){return 0===this.renameLocations.length?e:"..."+e.substring(this.renameLocations[0].getTextSpan().getStart())}}class e3{getNewText(e){return e}getTextForError(e){return e}}class e8 extends eZ{constructor(e){super({insertPos:e.getStart(!0),newText:function(e){let t=e._sourceFile,r=function(){let t=function(){if(tx.isModuleDeclaration(e)){let t=e._getInnerBody();if(null==t)throw new T.errors.InvalidOperationError("This operation requires the module to have a body.");return t}return tx.isBodied(e)?e.getBody():tx.isBodyable(e)?e.getBodyOrThrow():void T.errors.throwNotImplementedForSyntaxKindError(e.getKind(),e)}();return[t.getStart()+1,t.getEnd()-1]}(),i=r[0],n=t.getFullText().substring(r[0],r[1]);return T.StringUtils.indent(n,-1,{indentText:t._context.manipulationSettings.getIndentationText(),indentSizeInSpaces:t._context.manipulationSettings._getIndentSizeInSpaces(),isInStringAtPos:e=>t.isInStringAtPos(i+e)}).trim()}(e),replacingLength:e.getWidth(!0)})}}class e9 extends T.errors.InvalidOperationError{constructor(e,t,r,i){super(i),this.filePath=e,this.oldText=t,this.newText=r}}function e6(e,t,r,i){e._firePreModified();let n=e.getFullText(),s=t.getNewText(n);try{let t=e._context.compilerFactory.createCompilerSourceFileFromText(i||e.getFilePath(),s,e.getScriptKind());r.handleNode(e,t,t)}catch(a){let r=function(e,t){try{let r=new e._context.project.constructor({useInMemoryFileSystem:!0}),i=r.createSourceFile(e.getFilePath(),t);return r.getProgram().getSyntacticDiagnostics(i)}catch(e){return[]}}(e,s),i=a.message+"\n\n"+`-- Details --
`+"Path: "+e.getFilePath()+"\nText: "+JSON.stringify(t.getTextForError(s))+"\nStack: "+a.stack;function o(t){throw new e9(e.getFilePath(),n,s,t)}r.length>0&&o("Manipulation error: A syntax error was inserted.\n\n"+e._context.project.formatDiagnosticsWithColorAndContext(r,{newLineChar:"\n"})+"\n"+i),o("Manipulation error: "+i)}}function e7(e){var t,r,i;let{insertPos:n,newText:s,parent:o}=e;e6(o._sourceFile,new eZ({insertPos:n,newText:s,replacingLength:null===(t=e.replacing)||void 0===t?void 0:t.textLength}),new eG().getForParentRange({parent:o,start:n,end:n+s.length,replacingLength:null===(r=e.replacing)||void 0===r?void 0:r.textLength,replacingNodes:null===(i=e.replacing)||void 0===i?void 0:i.nodes,customMappings:e.customMappings}))}function e5(e){let{currentNodes:t,insertIndex:r,parent:i}=e,n=t[r-1],s=function(){for(let e=r-1;e>=0;e--)if(!tx.isCommentNode(t[e]))return t[e]}(),o=t[r],a=function(){for(let e=r;e<t.length;e++)if(!tx.isCommentNode(t[e]))return t[e]}(),l=e.useNewLines?i._context.manipulationSettings.getNewLineKindAsString():" ",d=i.getNextSibling(),c=null!=d&&(d.getKind()===T.SyntaxKind.CloseBraceToken||d.getKind()===T.SyntaxKind.CloseBracketToken),{newText:u}=e;if(null!=n){(function(){if(null==s){h();return}let e=i.getSourceFile().getFullText(),t=s.getNextSibling(),r="";function o(){let t=l(n)||n.getEnd();r+=e.substring(s.getEnd(),t)}function a(t){let i=l(t);null!=i&&(r+=e.substring(t.getEnd(),i))}function l(e){let t=e.getTrailingCommentRanges(),r=t[t.length-1];return null==r?void 0:r.getEnd()}null!=t&&t.getKind()===T.SyntaxKind.CommaToken?(a(s),r+=",",s===n?a(t):o()):(r+=",",s===n?a(s):o()),h(),u=r+u})(),null!=a||e.useTrailingCommas?p():e.useNewLines||e.surroundWithSpaces?g():m();let t=null==o?c?d.getStart(!0):i.getEnd():o.getStart(!0),r=(s||n).getEnd();e7({insertPos:r,newText:u,parent:i,replacing:{textLength:t-r}})}else if(null!=o){(e.useNewLines||e.surroundWithSpaces)&&h(),null!=a||e.useTrailingCommas?p():g();let t=c?i.getPos():i.getStart(!0);e7({insertPos:t,newText:u,parent:i,replacing:{textLength:o.getStart(!0)-t}})}else e.useNewLines||e.surroundWithSpaces?(h(),e.useTrailingCommas?p():g()):m(),e7({insertPos:i.getPos(),newText:u,parent:i,replacing:{textLength:i.getNextSiblingOrThrow().getStart()-i.getPos()}});function h(){T.StringUtils.startsWithNewLine(u)||(u=l+u)}function p(){u=function(e){let t=er(e);return -1===t?e:e.substring(0,t)+","+e.substring(t)}(u),g()}function g(){T.StringUtils.endsWithNewLine(u)||(u+=l),m()}function m(){(e.useNewLines||T.StringUtils.endsWithNewLine(u))&&(null!=o?u+=i.getParentOrThrow().getChildIndentationText():u+=i.getParentOrThrow().getIndentationText())}}function e4(e){let{parent:t,index:r,children:i}=e,n=t._sourceFile.getFullText(),s=t.getChildSyntaxListOrThrow(),o=ed(r,s,i),a=function(e,t,r,i){let n;if(e===r.length){if(tx.isSourceFile(t))n=t.getEnd();else if(tx.isCaseClause(t)||tx.isDefaultClause(t))n=t.getEnd();else{let e=ec(t),r=e.getLastChildByKind(T.SyntaxKind.CloseBraceToken);n=null==r?t.getEnd():r.getStart()}}else n=r[e].getNonWhitespaceStart();return el(i,n)}(r,t,i,n),l=a-o,d=function(){let n=t._getWriterWithChildIndentation();return e.write(n,{previousMember:s(i[r-1]),nextMember:s(i[r]),isStartOfFile:0===o}),n.toString();function s(e){return null==e?e:tx.isOverloadable(e)&&e.getImplementation()||e}}();e6(t._sourceFile,new eZ({insertPos:o,replacingLength:l,newText:d}),new eG().getForParentRange({parent:s,start:o,end:o+d.length,replacingLength:l}))}function te(e){if(0===e.structures.length)return[];let t=e.getIndexedChildren(),r=e.parent.getChildSyntaxListOrThrow(),i=ex(e.index,t.length),n=function(){let e=0,r=0;for(let n=i-1;n>=0;n--){let i=t[n];if(tx.isCommentNode(i))e++,i.getText().startsWith("/**")&&(r=e);else break}return r}();return e4({parent:e.parent,index:0===i?0:t[i-1].getChildIndex()+1,children:r.getChildren(),write:e.write}),ep(e.getIndexedChildren(),e.index-n,e.structures.length,e.expectedKind)}function tt(e){let t=e.getIndexedChildren(),r=e.parent.getChildSyntaxListOrThrow(),i=ex(e.index,t.length);return e4({parent:e.parent,index:0===i?0:t[i-1].getChildIndex()+1,children:r.getChildren(),write:e.write}),eh(t,e.getIndexedChildren(),i,!0)}function tr(e){let{children:t}=e;0!==t.length&&e6(t[0].getSourceFile(),new eY(e),new eG().getForChildIndex({parent:t[0].getParentSyntaxList()||t[0].getParentOrThrow(),childIndex:t[0].getChildIndex(),childCount:-1*t.length}))}function ti(e){let{children:t,getSiblingFormatting:r}=e;0!==t.length&&e6(t[0]._sourceFile,new e1({children:t,getSiblingFormatting:r}),new eG().getForChildIndex({parent:t[0].getParentSyntaxList()||t[0].getParentOrThrow(),childIndex:t[0].getChildIndex(),childCount:-1*t.length}))}function tn(e){ti({getSiblingFormatting:q,children:e})}function ts(e){let t=[e],r=e.getParentSyntaxListOrThrow(),i=t[0]===r.getFirstChild();(function(){let r=e.getNextSiblingIfKind(T.SyntaxKind.CommaToken);null!=r&&t.push(r)})(),function(){if(r.getLastChild()!==t[t.length-1])return;let i=e.getPreviousSiblingIfKind(T.SyntaxKind.CommaToken);null!=i&&t.unshift(i)}(),tr({children:t,removePrecedingSpaces:!i||r.getChildren().length===t.length&&t[0].isFirstNodeOnLine(),removeFollowingSpaces:i,removePrecedingNewLines:!i,removeFollowingNewLines:i})}function to(e){ti({getSiblingFormatting:X,children:e})}function ta(e){ti({getSiblingFormatting:Z,children:e})}function tl(e){e6(e.sourceFile,new eZ({insertPos:e.start,newText:e.newText,replacingLength:e.replacingLength}),new eG().getForForgetChanged(e.sourceFile._context.compilerFactory))}function td(e){let{sourceFile:t,newText:r}=e;e6(t,new eH(r),new eG().getForStraightReplacement(t._context.compilerFactory))}function tc(e){let{sourceFile:t,newFilePath:r}=e;e6(t,new e3,new eG().getForStraightReplacement(t._context.compilerFactory),r)}function tu(e){return class extends e{getArguments(){var e,t;return null!==(t=null===(e=this.compilerNode.arguments)||void 0===e?void 0:e.map(e=>this._getNodeFromCompilerNode(e)))&&void 0!==t?t:[]}addArgument(e){return this.addArguments([e])[0]}addArguments(e){return this.insertArguments(this.getArguments().length,e)}insertArgument(e,t){return this.insertArguments(e,[t])[0]}insertArguments(e,t){if(t instanceof Function&&(t=[t]),T.ArrayUtils.isNullOrEmpty(t))return[];this._addParensIfNecessary();let r=this.getArguments();e=ex(e,r.length);let i=this._getWriterWithQueuedChildIndentation();for(let e=0;e<t.length;e++)i.conditionalWrite(e>0,", "),W(i,t[e]);return e5({parent:this.getFirstChildByKindOrThrow(T.SyntaxKind.OpenParenToken).getNextSiblingIfKindOrThrow(T.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:i.toString(),useTrailingCommas:!1}),eh(r,this.getArguments(),e,!1)}removeArgument(e){let t=this.getArguments();if(0===t.length)throw new T.errors.InvalidOperationError("Cannot remove an argument when none exist.");let r="number"==typeof e?t[ex(e,t.length-1)]:e;return ts(r),this}_addParensIfNecessary(){let e=this.getFullText();")"!==e[e.length-1]&&e7({insertPos:this.getEnd(),newText:"()",parent:this})}}}function th(e){return class extends e{isAsync(){return this.hasModifier(T.SyntaxKind.AsyncKeyword)}getAsyncKeyword(){return this.getFirstModifierByKind(T.SyntaxKind.AsyncKeyword)}getAsyncKeywordOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getAsyncKeyword(),null!=e?e:"Expected to find an async keyword.",this)}setIsAsync(e){return this.toggleModifier("async",e),this}set(t){return G(e.prototype,this,t),null!=t.isAsync&&this.setIsAsync(t.isAsync),this}getStructure(){return $(e.prototype,this,{isAsync:this.isAsync()})}}}function tp(e,t){return e.newLineIfLastNot(),("string"!=typeof t||t.length>0)&&e.indent(()=>{W(e,t)}),e.newLineIfLastNot(),e.write(""),e.toString()}function tg(e){let t=e._sourceFile,r=e.getChildSyntaxList()||e,i=r.getNonWhitespaceStart(),n=Math.max(i,r._getTrailingTriviaNonWhitespaceEnd()),s=n-i;if(0===s)return"";let o=t.getFullText().substring(i,n);return T.StringUtils.removeIndentation(o,{indentSizeInSpaces:e._context.manipulationSettings._getIndentSizeInSpaces(),isInStringAtPos:e=>t.isInStringAtPos(e+i)})}class tm{constructor(e,t){this._compilerObject=e,this._sourceFile=t}get compilerObject(){return this._throwIfForgotten(),this._compilerObject}getSourceFile(){return this._throwIfForgotten(),this._sourceFile}getPos(){return this.compilerObject.pos}getEnd(){return this.compilerObject.end}getWidth(){return this.getEnd()-this.getPos()}getText(){let e=this.getSourceFile().getFullText();return e.substring(this.compilerObject.pos,this.compilerObject.end)}_forget(){this._compilerObject=void 0,this._sourceFile=void 0}wasForgotten(){return null==this._compilerObject}_throwIfForgotten(){if(null==this._compilerObject)throw new T.errors.InvalidOperationError("Attempted to get a text range that was forgotten. Text ranges are forgotten after a manipulation has occurred. Please re-request the text range after manipulations.")}}class ty extends tm{constructor(e,t){super(e,t)}getKind(){return this.compilerObject.kind}}class tx{get _sourceFile(){if(null==this.__sourceFile)throw new T.errors.InvalidOperationError("Operation cannot be performed on a node that has no source file.");return this.__sourceFile}get compilerNode(){if(null==this._compilerNode){let e="Attempted to get information from a node that was removed or forgotten.";throw null!=this._forgottenText&&(e+=`

Node text: ${this._forgottenText}`),new T.errors.InvalidOperationError(e)}return this._compilerNode}constructor(e,t,r){if(this._wrappedChildCount=0,null==e||null==e.compilerFactory)throw new T.errors.InvalidOperationError("Constructing a node is not supported. Please create a source file from the default export of the package and manipulate the source file from there.");this._context=e,this._compilerNode=t,this.__sourceFile=r}forget(){this.wasForgotten()||(this.forgetDescendants(),this._forgetOnlyThis())}forgetDescendants(){for(let e of this._getChildrenInCacheIterator())e.forget();return this}_forgetOnlyThis(){if(this.wasForgotten())return;let e=this.getParent();null!=e&&e._wrappedChildCount--;let t=this._getParentSyntaxListIfWrapped();null!=t&&t._wrappedChildCount--,this._storeTextForForgetting(),this._context.compilerFactory.removeNodeFromCache(this),this._clearInternals()}wasForgotten(){return null==this._compilerNode}_hasWrappedChildren(){return this._wrappedChildCount>0}_replaceCompilerNodeFromFactory(e){null==e&&this._storeTextForForgetting(),this._clearInternals(),this._compilerNode=e}_storeTextForForgetting(){let e=this._sourceFile&&this._sourceFile.compilerNode,t=this._compilerNode;null!=e&&null!=t&&(this._forgottenText=function(){let r=t.getStart(e),i=t.end-r,n=Math.min(i,100),s=e.text.substr(r,n);return n!==i?s+"...":s}())}_clearInternals(){function e(e){null!=e&&e.forEach(e=>e._forget())}this._compilerNode=void 0,this._childStringRanges=void 0,e(this._leadingCommentRanges),e(this._trailingCommentRanges),delete this._leadingCommentRanges,delete this._trailingCommentRanges}getKind(){return this.compilerNode.kind}getKindName(){return T.getSyntaxKindName(this.compilerNode.kind)}getFlags(){return this.compilerNode.flags}print(e={}){return(null==e.newLineKind&&(e.newLineKind=this._context.manipulationSettings.getNewLineKind()),this.getKind()===T.SyntaxKind.SourceFile)?O(this.compilerNode,e):O(this.compilerNode,this._sourceFile.compilerNode,e)}getSymbolOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getSymbol(),null!=e?e:"Could not find the node's symbol.",this)}getSymbol(){let e=this.compilerNode.symbol;if(null!=e)return this._context.compilerFactory.getSymbol(e);let t=this._context.typeChecker,r=t.getSymbolAtLocation(this);if(null!=r)return r;let i=this.compilerNode.name;if(null!=i)return this._getNodeFromCompilerNode(i).getSymbol()}getSymbolsInScope(e){return this._context.typeChecker.getSymbolsInScope(this,e)}getLocalOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getLocal(e),null!=t?t:()=>`Expected to find local symbol with name: ${e}`,this)}getLocal(e){let t=this._getCompilerLocals();if(null==t)return;let r=t.get(T.ts.escapeLeadingUnderscores(e));return null==r?void 0:this._context.compilerFactory.getSymbol(r)}getLocals(){let e=this._getCompilerLocals();return null==e?[]:Array.from(e.values()).map(e=>this._context.compilerFactory.getSymbol(e))}_getCompilerLocals(){return this._ensureBound(),this.compilerNode.locals}getType(){return this._context.typeChecker.getTypeAtLocation(this)}containsRange(e,t){return this.getPos()<=e&&t<=this.getEnd()}isInStringAtPos(e){if(T.errors.throwIfOutOfRange(e,[this.getPos(),this.getEnd()],"pos"),null==this._childStringRanges)for(let e of(this._childStringRanges=[],this._getCompilerDescendantsIterator()))(function(e){switch(e){case T.SyntaxKind.StringLiteral:case T.SyntaxKind.NoSubstitutionTemplateLiteral:case T.SyntaxKind.TemplateHead:case T.SyntaxKind.TemplateMiddle:case T.SyntaxKind.TemplateTail:return!0;default:return!1}})(e.kind)&&this._childStringRanges.push([e.getStart(this._sourceFile.compilerNode),e.getEnd()]);return -1!==T.ArrayUtils.binarySearch(this._childStringRanges,new class{compareTo(t){return e<=t[0]?-1:e>=t[1]-1?1:0}})}asKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.asKind(e),null!=t?t:()=>`Expected the node to be of kind ${T.getSyntaxKindName(e)}, but it was ${T.getSyntaxKindName(this.getKind())}.`,this)}isKind(e){return this.getKind()===e}asKind(e){return this.isKind(e)?this:void 0}getFirstChildOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getFirstChild(e),null!=t?t:"Could not find a child that matched the specified condition.",this)}getFirstChild(e){let t=this._getCompilerFirstChild(tf(this,e));return this._getNodeFromCompilerNodeIfExists(t)}getLastChildOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getLastChild(e),null!=t?t:"Could not find a child that matched the specified condition.",this)}getLastChild(e){let t=this._getCompilerLastChild(tf(this,e));return this._getNodeFromCompilerNodeIfExists(t)}getFirstDescendantOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getFirstDescendant(e),null!=t?t:"Could not find a descendant that matched the specified condition.",this)}getFirstDescendant(e){for(let t of this._getDescendantsIterator())if(null==e||e(t))return t}getPreviousSiblingOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getPreviousSibling(e),null!=t?t:"Could not find the previous sibling.",this)}getPreviousSibling(e){let t=this._getCompilerPreviousSibling(tf(this,e));return this._getNodeFromCompilerNodeIfExists(t)}getNextSiblingOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getNextSibling(e),null!=t?t:"Could not find the next sibling.",this)}getNextSibling(e){let t=this._getCompilerNextSibling(tf(this,e));return this._getNodeFromCompilerNodeIfExists(t)}getPreviousSiblings(){return this._getCompilerPreviousSiblings().map(e=>this._getNodeFromCompilerNode(e))}getNextSiblings(){return this._getCompilerNextSiblings().map(e=>this._getNodeFromCompilerNode(e))}getChildren(){return this._getCompilerChildren().map(e=>this._getNodeFromCompilerNode(e))}getChildAtIndex(e){return this._getNodeFromCompilerNode(this._getCompilerChildAtIndex(e))}*_getChildrenIterator(){for(let e of this._getCompilerChildren())yield this._getNodeFromCompilerNode(e)}*_getChildrenInCacheIterator(){let e=this._getCompilerChildrenFast();for(let t of e)this._context.compilerFactory.hasCompilerNode(t)?yield this._context.compilerFactory.getExistingNodeFromCompilerNode(t):t.kind===T.SyntaxKind.SyntaxList&&(yield this._getNodeFromCompilerNode(t))}getChildSyntaxListOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getChildSyntaxList(),null!=e?e:"A child syntax list was expected.",this)}getChildSyntaxList(){let e=this;if(tx.isBodyable(e)||tx.isBodied(e))do{let t=(tx.isBodyable(e),e.getBody());if(null==t)return;e=t}while((tx.isBodyable(e)||tx.isBodied(e))&&null==e.compilerNode.statements);if(tx.isSourceFile(e)||tx.isBodyable(this)||tx.isBodied(this)||tx.isCaseBlock(this)||tx.isCaseClause(this)||tx.isDefaultClause(this)||tx.isJsxElement(this))return e.getFirstChildByKind(T.SyntaxKind.SyntaxList);let t=!1;for(let r of e._getCompilerChildren())if(t){if(r.kind===T.SyntaxKind.SyntaxList)return this._getNodeFromCompilerNode(r)}else t=r.kind===T.SyntaxKind.OpenBraceToken}forEachChild(e,t){let r=[];for(let i of(this.compilerNode.forEachChild(e=>{r.push(this._getNodeFromCompilerNode(e))},null==t?void 0:e=>{r.push(e.map(e=>this._getNodeFromCompilerNode(e)))}),r))if(i instanceof Array){let e=i.filter(e=>!e.wasForgotten());if(e.length>0){let r=t(e);if(r)return r}}else if(!i.wasForgotten()){let t=e(i);if(t)return t}}forEachDescendant(e,t){let r={},i={},n=!1,s=!1,o={stop:()=>n=!0,up:()=>s=!0},a=t=>{if(n)return r;let i=!1,a=e(t,{...o,skip:()=>i=!0});return a||(n?r:i||s||t.wasForgotten()?void 0:c(t))},l=null==t?void 0:e=>{if(n)return r;let i=!1,a=t(e,{...o,skip:()=>i=!0});if(a)return a;if(!i)for(let t of e){if(n)return r;if(s)break;let e=c(t);if(e)return e}},d=c(this);return d===r?void 0:d;function c(e){let t=e.forEachChild(e=>{let t=a(e);return s?(s=!1,t||i):t},null==l?void 0:e=>{let t=l(e);return s?(s=!1,t||i):t});return t===i?void 0:t}}forEachChildAsArray(){let e=[];return this.compilerNode.forEachChild(t=>{e.push(this._getNodeFromCompilerNode(t))}),e}forEachDescendantAsArray(){let e=[];return this.forEachDescendant(t=>{e.push(t)}),e}getDescendants(){return Array.from(this._getDescendantsIterator())}*_getDescendantsIterator(){for(let e of this._getCompilerDescendantsIterator())yield this._getNodeFromCompilerNode(e)}getDescendantStatements(){let e=[];return t(this,this.compilerNode),e;function t(i,n){!function(t,i){if(null==i.statements)return!1;let n=t._getNodeFromCompilerNode(i);for(let i of n.getStatements())e.push(i),r(t,i.compilerNode);return!0}(i,n)&&(n.kind===T.SyntaxKind.ArrowFunction?n.body.kind!==T.SyntaxKind.Block?e.push(i._getNodeFromCompilerNode(n.body)):t(i,n.body):r(i,n))}function r(e,r){T.ts.forEachChild(r,r=>t(e,r))}}getChildCount(){return this._getCompilerChildren().length}getChildAtPos(e){if(!(e<this.getPos()||e>=this.getEnd())){for(let t of this._getCompilerChildren())if(e>=t.pos&&e<t.end)return this._getNodeFromCompilerNode(t)}}getDescendantAtPos(e){let t;for(;;){let r=(t||this).getChildAtPos(e);if(null==r)return t;t=r}}getDescendantAtStartWithWidth(e,t){let r;return this._context.compilerFactory.forgetNodesCreatedInBlock(i=>{let n=this.getSourceFile();do if(null!=(n=n.getChildAtPos(e))){if(n.getStart()===e&&n.getWidth()===t)r=n;else if(null!=r)break}while(null!=n);null!=r&&i(r)}),r}getPos(){return this.compilerNode.pos}getEnd(){return this.compilerNode.end}getStart(e){return this.compilerNode.getStart(this._sourceFile.compilerNode,e)}getFullStart(){return this.compilerNode.getFullStart()}getNonWhitespaceStart(){return this._context.compilerFactory.forgetNodesCreatedInBlock(()=>{let e;let t=this.getParent(),r=this.getPos(),i=null!=t&&!tx.isSourceFile(t)&&t.getPos()===r;if(i)return this.getStart(!0);let n=this._sourceFile.getFullText(),s=this.getPreviousSibling();return e=null!=s&&tx.isCommentNode(s)?s.getEnd():null!=s?!function(e,t){for(let r=t[0];r<t[1];r++)if("\n"===e[r])return!0;return!1}(n,[r,this.getStart(!0)])?r:s.getTrailingTriviaEnd():this.getPos(),en(n,e,eo)})}_getTrailingTriviaNonWhitespaceEnd(){return es(this._sourceFile.getFullText(),this.getTrailingTriviaEnd(),eo)}getWidth(e){return this.getEnd()-this.getStart(e)}getFullWidth(){return this.compilerNode.getFullWidth()}getLeadingTriviaWidth(){return this.compilerNode.getLeadingTriviaWidth(this._sourceFile.compilerNode)}getTrailingTriviaWidth(){return this.getTrailingTriviaEnd()-this.getEnd()}getTrailingTriviaEnd(){let e=this.getParent(),t=this.getEnd();if(null==e)return t;let r=e.getEnd();if(r===t)return t;let i=this.getTrailingCommentRanges(),n=i.length>0?i[i.length-1].getEnd():t;return en(this._sourceFile.getFullText(),n,e=>e!==w.SPACE&&e!==w.TAB)}getText(e){let t="object"==typeof e?e:void 0,r=!0===e||null!=t&&t.includeJsDocComments,i=null!=t&&t.trimLeadingIndentation,n=this.getStart(r),s=this._sourceFile.getFullText().substring(n,this.getEnd());return i?T.StringUtils.removeIndentation(s,{isInStringAtPos:e=>this._sourceFile.isInStringAtPos(e+n),indentSizeInSpaces:this._context.manipulationSettings._getIndentSizeInSpaces()}):s}getFullText(){return this.compilerNode.getFullText(this._sourceFile.compilerNode)}getCombinedModifierFlags(){return T.ts.getCombinedModifierFlags(this.compilerNode)}getSourceFile(){return this._sourceFile}getProject(){return this._context.project}getNodeProperty(e){let t=this.compilerNode[e];if(null!=t)return t instanceof Array?t.map(e=>r(e)?this._getNodeFromCompilerNode(e):e):r(t)?this._getNodeFromCompilerNode(t):t;function r(e){return"number"==typeof e.kind&&"number"==typeof e.pos&&"number"==typeof e.end}}getAncestors(e=!1){return Array.from(this._getAncestorsIterator(e))}*_getAncestorsIterator(e){let t=r(this);for(;null!=t;)yield t,t=r(t);function r(t){return e&&t.getParentSyntaxList()||t.getParent()}}getParent(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.parent)}getParentOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getParent(),null!=e?e:"Expected to find a parent.",this)}getParentWhileOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getParentWhile(e),null!=t?t:"The initial parent did not match the provided condition.",this)}getParentWhile(e){let t;let r=this.getParent();for(;r&&e(r,t||this);)r=(t=r).getParent();return t}getParentWhileKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getParentWhileKind(e),null!=t?t:()=>`The initial parent was not a syntax kind of ${T.getSyntaxKindName(e)}.`,this)}getParentWhileKind(e){return this.getParentWhile(t=>t.getKind()===e)}getLastToken(){let e=this.compilerNode.getLastToken(this._sourceFile.compilerNode);if(null==e)throw new T.errors.NotImplementedError("Not implemented scenario where the last token does not exist.");return this._getNodeFromCompilerNode(e)}isInSyntaxList(){return null!=this.getParentSyntaxList()}getParentSyntaxListOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getParentSyntaxList(),null!=e?e:"Expected the parent to be a syntax list.",this)}getParentSyntaxList(){let e=this.getKind();if(e===T.SyntaxKind.SingleLineCommentTrivia||e===T.SyntaxKind.MultiLineCommentTrivia)return this.getParentOrThrow().getChildSyntaxList();let t=I(this.compilerNode,this._sourceFile.compilerNode);return this._getNodeFromCompilerNodeIfExists(t)}_getParentSyntaxListIfWrapped(){let e=this.getParent();if(null!=e&&eI(e.compilerNode))return this.getParentSyntaxList()}getChildIndex(){let e=this.getParentSyntaxList()||this.getParentOrThrow(),t=e._getCompilerChildren().indexOf(this.compilerNode);if(-1===t)throw new T.errors.NotImplementedError("For some reason the child's parent did not contain the child.");return t}getIndentationLevel(){let e=this._context.manipulationSettings.getIndentationText();return this._context.languageService.getIdentationAtPosition(this._sourceFile,this.getStart())/e.length}getChildIndentationLevel(){return tx.isSourceFile(this)?0:this.getIndentationLevel()+1}getIndentationText(e=0){return this._getIndentationTextForLevel(this.getIndentationLevel()+e)}getChildIndentationText(e=0){return this._getIndentationTextForLevel(this.getChildIndentationLevel()+e)}_getIndentationTextForLevel(e){return this._context.manipulationSettings.getIndentationText().repeat(e)}getStartLinePos(e){let t=this._sourceFile.getFullText();return es(t,this.getStart(e),e=>e===w.NEWLINE||e===w.CARRIAGE_RETURN)}getStartLineNumber(e){return T.StringUtils.getLineNumberAtPos(this._sourceFile.getFullText(),this.getStartLinePos(e))}getEndLineNumber(){let e=this._sourceFile.getFullText(),t=es(e,this.getEnd(),e=>e===w.NEWLINE||e===w.CARRIAGE_RETURN);return T.StringUtils.getLineNumberAtPos(this._sourceFile.getFullText(),t)}isFirstNodeOnLine(){let e=this._sourceFile.getFullText(),t=this.getNonWhitespaceStart();for(let r=t-1;r>=0;r--){let t=e[r];if(" "!==t&&"	"!==t){if("\n"===t)return!0;return!1}}return!0}replaceWithText(e,t){let r=M(t||this._getWriterWithQueuedIndentation(),e);if(tx.isSourceFile(this))return this.replaceText([this.getPos(),this.getEnd()],r),this;let i=this.getParentSyntaxList()||this.getParentOrThrow(),n=this.getChildIndex(),s=this.getStart(!0);return e7({parent:i,insertPos:s,newText:r,replacing:{textLength:this.getEnd()-s}}),i.getChildren()[n]}prependWhitespace(e){tS(this,this.getStart(!0),e,T.nameof(this,"prependWhitespace"))}appendWhitespace(e){tS(this,this.getEnd(),e,T.nameof(this,"appendWhitespace"))}formatText(e={}){let t=this._context.languageService.getFormattingEditsForRange(this._sourceFile.getFilePath(),[this.getStart(!0),this.getEnd()],e);td({sourceFile:this._sourceFile,newText:ee(this._sourceFile,t)})}transform(e){let t=this._context.compilerFactory,r=T.ts.createPrinter({newLine:this._context.manipulationSettings.getNewLineKind(),removeComments:!1}),i=[],n=this._sourceFile.compilerNode,s=this.compilerNode,o=r=>s=>(function r(s,o){let a={factory:o.factory,visitChildren:()=>s=T.ts.visitEachChild(s,e=>r(e,o),o),currentNode:s},l=e(a);return function(e,r){let s;if(e===r&&null==r.emitNode)return;let o=e.getStart(n,!0),a=e.end;for(;(s=i[i.length-1])&&s.start>o;)i.pop();let l=t.getExistingNodeFromCompilerNode(e);i.push({start:o,end:a,compilerNode:r}),null!=l&&(e.kind!==r.kind?l.forget():l.forgetDescendants())}(s,l),l})(s,r);if(this.getKind()===T.ts.SyntaxKind.SourceFile)return T.ts.transform(s,[o],this._context.compilerOptions.get()),td({sourceFile:this._sourceFile,newText:a([0,this.getEnd()])}),this;{let e=this.getParentSyntaxList()||this.getParentOrThrow(),t=this.getChildIndex(),r=this.getStart(!0),i=this.getEnd();return T.ts.transform(s,[o],this._context.compilerOptions.get()),e7({parent:e,insertPos:r,newText:a([r,i]),replacing:{textLength:i-r}}),e.getChildren()[t]}function a(e){var t;let s=n.getFullText(),o="",a=e[0];for(let e of i)o+=s.substring(a,e.start)+r.printNode(T.ts.EmitHint.Unspecified,e.compilerNode,null!==(t=e.compilerNode.getSourceFile())&&void 0!==t?t:n),a=e.end;return o+s.substring(a,e[1])}}getLeadingCommentRanges(){return this._leadingCommentRanges||(this._leadingCommentRanges=this._getCommentsAtPos(this.getFullStart(),(e,t)=>{let r=T.ts.getLeadingCommentRanges(e,t)||[];if(this.getKind()!==T.SyntaxKind.SingleLineCommentTrivia&&this.getKind()!==T.SyntaxKind.MultiLineCommentTrivia)return r;{let e=this.getPos();return r.filter(t=>t.pos<e)}}))}getTrailingCommentRanges(){return this._trailingCommentRanges||(this._trailingCommentRanges=this._getCommentsAtPos(this.getEnd(),T.ts.getTrailingCommentRanges))}_getCommentsAtPos(e,t){return this.getKind()===T.SyntaxKind.SourceFile?[]:(t(this._sourceFile.getFullText(),e)||[]).map(e=>new ty(e,this._sourceFile))}getChildrenOfKind(e){return this._getCompilerChildrenOfKind(e).map(e=>this._getNodeFromCompilerNode(e))}getFirstChildByKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getFirstChildByKind(e),null!=t?t:()=>`A child of the kind ${T.getSyntaxKindName(e)} was expected.`,this)}getFirstChildByKind(e){let t=this._getCompilerChildrenOfKind(e)[0];return null==t?void 0:this._getNodeFromCompilerNode(t)}getFirstChildIfKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getFirstChildIfKind(e),null!=t?t:()=>`A first child of the kind ${T.getSyntaxKindName(e)} was expected.`,this)}getFirstChildIfKind(e){let t=this._getCompilerFirstChild();return null!=t&&t.kind===e?this._getNodeFromCompilerNode(t):void 0}getLastChildByKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getLastChildByKind(e),null!=t?t:()=>`A child of the kind ${T.getSyntaxKindName(e)} was expected.`,this)}getLastChildByKind(e){let t=this._getCompilerChildrenOfKind(e),r=t[t.length-1];return this._getNodeFromCompilerNodeIfExists(r)}getLastChildIfKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getLastChildIfKind(e),null!=t?t:()=>`A last child of the kind ${T.getSyntaxKindName(e)} was expected.`,this)}getLastChildIfKind(e){let t=this._getCompilerLastChild();return null!=t&&t.kind===e?this._getNodeFromCompilerNode(t):void 0}getChildAtIndexIfKindOrThrow(e,t,r){return T.errors.throwIfNullOrUndefined(this.getChildAtIndexIfKind(e,t),null!=r?r:()=>`Child at index ${e} was expected to be ${T.getSyntaxKindName(t)}`,this)}getChildAtIndexIfKind(e,t){let r=this._getCompilerChildAtIndex(e);return r.kind===t?this._getNodeFromCompilerNode(r):void 0}getPreviousSiblingIfKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getPreviousSiblingIfKind(e),null!=t?t:()=>`A previous sibling of kind ${T.getSyntaxKindName(e)} was expected.`,this)}getNextSiblingIfKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getNextSiblingIfKind(e),null!=t?t:()=>`A next sibling of kind ${T.getSyntaxKindName(e)} was expected.`,this)}getPreviousSiblingIfKind(e){let t=this._getCompilerPreviousSibling();return null!=t&&t.kind===e?this._getNodeFromCompilerNode(t):void 0}getNextSiblingIfKind(e){let t=this._getCompilerNextSibling();return null!=t&&t.kind===e?this._getNodeFromCompilerNode(t):void 0}getParentIfOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getParentIf(e),null!=t?t:"The parent did not match the provided condition.",this)}getParentIf(e){return e(this.getParent(),this)?this.getParent():void 0}getParentIfKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getParentIfKind(e),null!=t?t:()=>`The parent was not a syntax kind of ${T.getSyntaxKindName(e)}.`,this)}getParentIfKind(e){return this.getParentIf(t=>void 0!==t&&t.getKind()===e)}getFirstAncestorByKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getFirstAncestorByKind(e),null!=t?t:()=>`Expected an ancestor with a syntax kind of ${T.getSyntaxKindName(e)}.`,this)}getFirstAncestorByKind(e){for(let t of this._getAncestorsIterator(e===T.SyntaxKind.SyntaxList))if(t.getKind()===e)return t}getFirstAncestorOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getFirstAncestor(e),null!=t?t:"Expected to find an ancestor that matched the provided condition.",this)}getFirstAncestor(e){for(let t of this._getAncestorsIterator(!1))if(null==e||e(t))return t}getDescendantsOfKind(e){let t=[];for(let r of this._getCompilerDescendantsOfKindIterator(e))t.push(this._getNodeFromCompilerNode(r));return t}getFirstDescendantByKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getFirstDescendantByKind(e),null!=t?t:()=>`A descendant of kind ${T.getSyntaxKindName(e)} was expected to be found.`,this)}getFirstDescendantByKind(e){for(let t of this._getCompilerDescendantsOfKindIterator(e))return this._getNodeFromCompilerNode(t)}_getCompilerChildren(){return eD.getCompilerChildren(this.compilerNode,this._sourceFile.compilerNode)}_getCompilerForEachChildren(){return eD.getCompilerForEachChildren(this.compilerNode,this._sourceFile.compilerNode)}_getCompilerChildrenFast(){return eI(this.compilerNode)?this._getCompilerChildren():this._getCompilerForEachChildren()}_getCompilerChildrenOfKind(e){let t=tK(this,e)?this._getCompilerForEachChildren():this._getCompilerChildren();return t.filter(t=>t.kind===e)}*_getCompilerDescendantsOfKindIterator(e){let t=tK(this,e)?this._getCompilerForEachChildren():this._getCompilerChildren();for(let r of t){r.kind===e&&(yield r);let t=tK(r.kind,e)?tT(r):tN(r,this._sourceFile.compilerNode);for(let r of t)r.kind===e&&(yield r)}}_getCompilerDescendantsIterator(){return tN(this.compilerNode,this._sourceFile.compilerNode)}_getCompilerForEachDescendantsIterator(){return tT(this.compilerNode)}_getCompilerFirstChild(e){for(let t of this._getCompilerChildren())if(null==e||e(t))return t}_getCompilerLastChild(e){let t=this._getCompilerChildren();for(let r=t.length-1;r>=0;r--){let i=t[r];if(null==e||e(i))return i}}_getCompilerPreviousSiblings(){let e=this.getParentSyntaxList()||this.getParentOrThrow(),t=[];for(let r of e._getCompilerChildren()){if(r===this.compilerNode)break;t.unshift(r)}return t}_getCompilerNextSiblings(){let e=!1,t=this.getParentSyntaxList()||this.getParentOrThrow(),r=[];for(let i of t._getCompilerChildren()){if(!e){e=i===this.compilerNode;continue}r.push(i)}return r}_getCompilerPreviousSibling(e){for(let t of this._getCompilerPreviousSiblings())if(null==e||e(t))return t}_getCompilerNextSibling(e){for(let t of this._getCompilerNextSiblings())if(null==e||e(t))return t}_getCompilerChildAtIndex(e){let t=this._getCompilerChildren();return T.errors.throwIfOutOfRange(e,[0,t.length-1],"index"),t[e]}_getWriterWithIndentation(){let e=this._getWriter();return e.setIndentationLevel(this.getIndentationLevel()),e}_getWriterWithQueuedIndentation(){let e=this._getWriter();return e.queueIndentationLevel(this.getIndentationLevel()),e}_getWriterWithChildIndentation(){let e=this._getWriter();return e.setIndentationLevel(this.getChildIndentationLevel()),e}_getWriterWithQueuedChildIndentation(){let e=this._getWriter();return e.queueIndentationLevel(this.getChildIndentationLevel()),e}_getTextWithQueuedChildIndentation(e){let t=this._getWriterWithQueuedChildIndentation();return"string"==typeof e?t.write(e):e(t),t.toString()}_getWriter(){return this._context.createWriter()}_getNodeFromCompilerNode(e){return this._context.compilerFactory.getNodeFromCompilerNode(e,this._sourceFile)}_getNodeFromCompilerNodeIfExists(e){return null==e?void 0:this._getNodeFromCompilerNode(e)}_ensureBound(){null==this.compilerNode.symbol&&this.getSymbol()}static hasExpression(e){var t;return(null===(t=e.getExpression)||void 0===t?void 0:t.call(e))!=null}static hasName(e){var t;return"string"==typeof(null===(t=e.getName)||void 0===t?void 0:t.call(e))}static hasBody(e){var t;return(null===(t=e.getBody)||void 0===t?void 0:t.call(e))!=null}static hasStructure(e){return"function"==typeof e.getStructure}static is(e){return t=>(null==t?void 0:t.getKind())==e}static isNode(e){return null!=e&&null!=e.compilerNode}static isCommentNode(e){let t=null==e?void 0:e.getKind();return t===T.SyntaxKind.SingleLineCommentTrivia||t===T.SyntaxKind.MultiLineCommentTrivia}static isCommentStatement(e){var r;return(null===(r=null==e?void 0:e.compilerNode)||void 0===r?void 0:r._commentKind)===t.wCq.Statement}static isCommentClassElement(e){var r;return(null===(r=null==e?void 0:e.compilerNode)||void 0===r?void 0:r._commentKind)===t.wCq.ClassElement}static isCommentTypeElement(e){var r;return(null===(r=null==e?void 0:e.compilerNode)||void 0===r?void 0:r._commentKind)===t.wCq.TypeElement}static isCommentObjectLiteralElement(e){var r;return(null===(r=null==e?void 0:e.compilerNode)||void 0===r?void 0:r._commentKind)===t.wCq.ObjectLiteralElement}static isCommentEnumMember(e){var r;return(null===(r=null==e?void 0:e.compilerNode)||void 0===r?void 0:r._commentKind)==t.wCq.EnumMember}static isAbstractable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.ConstructorType:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.SetAccessor:return!0;default:return!1}}static isAmbientable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.TypeAliasDeclaration:case T.SyntaxKind.VariableStatement:return!0;default:return!1}}static isArgumented(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.CallExpression:case T.SyntaxKind.NewExpression:return!0;default:return!1}}static isArrayTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.ArrayType}static isAssertionKeyNamed(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.AssertEntry}static isAsyncable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrowFunction:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.MethodDeclaration:return!0;default:return!1}}static isAwaitable(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.ForOfStatement}static isBindingNamed(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.BindingElement:case T.SyntaxKind.Parameter:case T.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isBodied(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrowFunction:case T.SyntaxKind.ClassStaticBlockDeclaration:case T.SyntaxKind.FunctionExpression:return!0;default:return!1}}static isBodyable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.Constructor:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.SetAccessor:return!0;default:return!1}}static isCallSignatureDeclaration(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.CallSignature}static isChildOrderable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.Block:case T.SyntaxKind.BreakStatement:case T.SyntaxKind.CallSignature:case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassStaticBlockDeclaration:case T.SyntaxKind.Constructor:case T.SyntaxKind.ConstructSignature:case T.SyntaxKind.ContinueStatement:case T.SyntaxKind.DebuggerStatement:case T.SyntaxKind.DoStatement:case T.SyntaxKind.EmptyStatement:case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.ExportAssignment:case T.SyntaxKind.ExportDeclaration:case T.SyntaxKind.ExpressionStatement:case T.SyntaxKind.ForInStatement:case T.SyntaxKind.ForOfStatement:case T.SyntaxKind.ForStatement:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.IfStatement:case T.SyntaxKind.ImportDeclaration:case T.SyntaxKind.ImportEqualsDeclaration:case T.SyntaxKind.IndexSignature:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.LabeledStatement:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.MethodSignature:case T.SyntaxKind.ModuleBlock:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.NotEmittedStatement:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.PropertySignature:case T.SyntaxKind.ReturnStatement:case T.SyntaxKind.SetAccessor:case T.SyntaxKind.SwitchStatement:case T.SyntaxKind.ThrowStatement:case T.SyntaxKind.TryStatement:case T.SyntaxKind.TypeAliasDeclaration:case T.SyntaxKind.VariableStatement:case T.SyntaxKind.WhileStatement:case T.SyntaxKind.WithStatement:return!0;default:return!1}}static isClassLikeDeclarationBase(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassExpression:return!0;default:return!1}}static isConditionalTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.ConditionalType}static isConstructorDeclaration(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.Constructor}static isConstructorTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.ConstructorType}static isConstructSignatureDeclaration(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.ConstructSignature}static isDecoratable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.Parameter:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.SetAccessor:return!0;default:return!1}}static isDotDotDotTokenable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.BindingElement:case T.SyntaxKind.JsxExpression:case T.SyntaxKind.NamedTupleMember:case T.SyntaxKind.Parameter:return!0;default:return!1}}static isExclamationTokenable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isExportable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.ImportEqualsDeclaration:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.TypeAliasDeclaration:case T.SyntaxKind.VariableStatement:return!0;default:return!1}}static isExportGetable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.ImportEqualsDeclaration:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.TypeAliasDeclaration:case T.SyntaxKind.VariableDeclaration:case T.SyntaxKind.VariableStatement:return!0;default:return!1}}static isExpression(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.AnyKeyword:case T.SyntaxKind.BooleanKeyword:case T.SyntaxKind.NumberKeyword:case T.SyntaxKind.ObjectKeyword:case T.SyntaxKind.StringKeyword:case T.SyntaxKind.SymbolKeyword:case T.SyntaxKind.UndefinedKeyword:case T.SyntaxKind.ArrayLiteralExpression:case T.SyntaxKind.ArrowFunction:case T.SyntaxKind.AsExpression:case T.SyntaxKind.AwaitExpression:case T.SyntaxKind.BigIntLiteral:case T.SyntaxKind.BinaryExpression:case T.SyntaxKind.CallExpression:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.CommaListExpression:case T.SyntaxKind.ConditionalExpression:case T.SyntaxKind.DeleteExpression:case T.SyntaxKind.ElementAccessExpression:case T.SyntaxKind.FalseKeyword:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.Identifier:case T.SyntaxKind.ImportKeyword:case T.SyntaxKind.JsxClosingFragment:case T.SyntaxKind.JsxElement:case T.SyntaxKind.JsxExpression:case T.SyntaxKind.JsxFragment:case T.SyntaxKind.JsxOpeningElement:case T.SyntaxKind.JsxOpeningFragment:case T.SyntaxKind.JsxSelfClosingElement:case T.SyntaxKind.MetaProperty:case T.SyntaxKind.NewExpression:case T.SyntaxKind.NonNullExpression:case T.SyntaxKind.NoSubstitutionTemplateLiteral:case T.SyntaxKind.NullKeyword:case T.SyntaxKind.NumericLiteral:case T.SyntaxKind.ObjectLiteralExpression:case T.SyntaxKind.OmittedExpression:case T.SyntaxKind.ParenthesizedExpression:case T.SyntaxKind.PartiallyEmittedExpression:case T.SyntaxKind.PostfixUnaryExpression:case T.SyntaxKind.PrefixUnaryExpression:case T.SyntaxKind.PropertyAccessExpression:case T.SyntaxKind.RegularExpressionLiteral:case T.SyntaxKind.SatisfiesExpression:case T.SyntaxKind.SpreadElement:case T.SyntaxKind.StringLiteral:case T.SyntaxKind.SuperKeyword:case T.SyntaxKind.TaggedTemplateExpression:case T.SyntaxKind.TemplateExpression:case T.SyntaxKind.ThisKeyword:case T.SyntaxKind.TrueKeyword:case T.SyntaxKind.TypeAssertionExpression:case T.SyntaxKind.TypeOfExpression:case T.SyntaxKind.VoidExpression:case T.SyntaxKind.YieldExpression:return!0;default:return!1}}static isExpressionable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ExternalModuleReference:case T.SyntaxKind.JsxExpression:case T.SyntaxKind.ReturnStatement:case T.SyntaxKind.YieldExpression:return!0;default:return!1}}static isExpressioned(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.AsExpression:case T.SyntaxKind.CaseClause:case T.SyntaxKind.ComputedPropertyName:case T.SyntaxKind.DoStatement:case T.SyntaxKind.ExportAssignment:case T.SyntaxKind.ExpressionStatement:case T.SyntaxKind.ForInStatement:case T.SyntaxKind.ForOfStatement:case T.SyntaxKind.IfStatement:case T.SyntaxKind.JsxSpreadAttribute:case T.SyntaxKind.NonNullExpression:case T.SyntaxKind.ParenthesizedExpression:case T.SyntaxKind.PartiallyEmittedExpression:case T.SyntaxKind.SatisfiesExpression:case T.SyntaxKind.SpreadAssignment:case T.SyntaxKind.SpreadElement:case T.SyntaxKind.SwitchStatement:case T.SyntaxKind.TemplateSpan:case T.SyntaxKind.ThrowStatement:case T.SyntaxKind.WhileStatement:case T.SyntaxKind.WithStatement:return!0;default:return!1}}static isExtendsClauseable(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.InterfaceDeclaration}static isFalseLiteral(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.FalseKeyword}static isFunctionLikeDeclaration(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrowFunction:case T.SyntaxKind.Constructor:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.SetAccessor:return!0;default:return!1}}static isFunctionTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.FunctionType}static isGeneratorable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.YieldExpression:return!0;default:return!1}}static isGetAccessorDeclaration(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.GetAccessor}static isHeritageClauseable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.InterfaceDeclaration:return!0;default:return!1}}static isImplementsClauseable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassExpression:return!0;default:return!1}}static isImportExpression(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.ImportKeyword}static isImportTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.ImportType}static isIndexedAccessTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.IndexedAccessType}static isIndexSignatureDeclaration(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.IndexSignature}static isInferTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.InferType}static isInitializerExpressionable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.BindingElement:case T.SyntaxKind.EnumMember:case T.SyntaxKind.Parameter:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.PropertySignature:case T.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isInitializerExpressionGetable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.BindingElement:case T.SyntaxKind.EnumMember:case T.SyntaxKind.Parameter:case T.SyntaxKind.PropertyAssignment:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.PropertySignature:case T.SyntaxKind.ShorthandPropertyAssignment:case T.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isIntersectionTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.IntersectionType}static isIterationStatement(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.DoStatement:case T.SyntaxKind.ForInStatement:case T.SyntaxKind.ForOfStatement:case T.SyntaxKind.ForStatement:case T.SyntaxKind.WhileStatement:return!0;default:return!1}}static isJSDocable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrowFunction:case T.SyntaxKind.CallSignature:case T.SyntaxKind.CaseClause:case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.ClassStaticBlockDeclaration:case T.SyntaxKind.Constructor:case T.SyntaxKind.ConstructSignature:case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.EnumMember:case T.SyntaxKind.ExportAssignment:case T.SyntaxKind.ExpressionStatement:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.ImportEqualsDeclaration:case T.SyntaxKind.IndexSignature:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.LabeledStatement:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.MethodSignature:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.NamedTupleMember:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.PropertySignature:case T.SyntaxKind.SetAccessor:case T.SyntaxKind.TypeAliasDeclaration:case T.SyntaxKind.VariableStatement:return!0;default:return!1}}static isJSDocPropertyLikeTag(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.JSDocParameterTag:case T.SyntaxKind.JSDocPropertyTag:return!0;default:return!1}}static isJSDocTag(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.JSDocAugmentsTag:case T.SyntaxKind.JSDocAuthorTag:case T.SyntaxKind.JSDocCallbackTag:case T.SyntaxKind.JSDocClassTag:case T.SyntaxKind.JSDocDeprecatedTag:case T.SyntaxKind.JSDocEnumTag:case T.SyntaxKind.JSDocImplementsTag:case T.SyntaxKind.JSDocOverloadTag:case T.SyntaxKind.JSDocOverrideTag:case T.SyntaxKind.JSDocParameterTag:case T.SyntaxKind.JSDocPrivateTag:case T.SyntaxKind.JSDocPropertyTag:case T.SyntaxKind.JSDocProtectedTag:case T.SyntaxKind.JSDocPublicTag:case T.SyntaxKind.JSDocReadonlyTag:case T.SyntaxKind.JSDocReturnTag:case T.SyntaxKind.JSDocSatisfiesTag:case T.SyntaxKind.JSDocSeeTag:case T.SyntaxKind.JSDocTemplateTag:case T.SyntaxKind.JSDocThisTag:case T.SyntaxKind.JSDocThrowsTag:case T.SyntaxKind.JSDocTypedefTag:case T.SyntaxKind.JSDocTypeTag:case T.SyntaxKind.JSDocTag:return!0;default:return!1}}static isJSDocType(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.JSDocAllType:case T.SyntaxKind.JSDocFunctionType:case T.SyntaxKind.JSDocNamepathType:case T.SyntaxKind.JSDocNonNullableType:case T.SyntaxKind.JSDocNullableType:case T.SyntaxKind.JSDocOptionalType:case T.SyntaxKind.JSDocSignature:case T.SyntaxKind.JSDocTypeLiteral:case T.SyntaxKind.JSDocUnknownType:case T.SyntaxKind.JSDocVariadicType:return!0;default:return!1}}static isJSDocTypeExpressionableTag(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.JSDocOverloadTag:case T.SyntaxKind.JSDocReturnTag:case T.SyntaxKind.JSDocSatisfiesTag:case T.SyntaxKind.JSDocSeeTag:case T.SyntaxKind.JSDocThisTag:case T.SyntaxKind.JSDocThrowsTag:return!0;default:return!1}}static isJSDocTypeParameteredTag(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.JSDocTemplateTag}static isJSDocUnknownTag(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.JSDocTag}static isJsxAttributed(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.JsxOpeningElement:case T.SyntaxKind.JsxSelfClosingElement:return!0;default:return!1}}static isJsxTagNamed(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.JsxClosingElement:case T.SyntaxKind.JsxOpeningElement:case T.SyntaxKind.JsxSelfClosingElement:return!0;default:return!1}}static isLeftHandSideExpression(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrayLiteralExpression:case T.SyntaxKind.BigIntLiteral:case T.SyntaxKind.CallExpression:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.ElementAccessExpression:case T.SyntaxKind.FalseKeyword:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.Identifier:case T.SyntaxKind.ImportKeyword:case T.SyntaxKind.JsxElement:case T.SyntaxKind.JsxFragment:case T.SyntaxKind.JsxSelfClosingElement:case T.SyntaxKind.MetaProperty:case T.SyntaxKind.NewExpression:case T.SyntaxKind.NonNullExpression:case T.SyntaxKind.NoSubstitutionTemplateLiteral:case T.SyntaxKind.NullKeyword:case T.SyntaxKind.NumericLiteral:case T.SyntaxKind.ObjectLiteralExpression:case T.SyntaxKind.PropertyAccessExpression:case T.SyntaxKind.RegularExpressionLiteral:case T.SyntaxKind.StringLiteral:case T.SyntaxKind.SuperKeyword:case T.SyntaxKind.TaggedTemplateExpression:case T.SyntaxKind.TemplateExpression:case T.SyntaxKind.ThisKeyword:case T.SyntaxKind.TrueKeyword:return!0;default:return!1}}static isLeftHandSideExpressioned(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.CallExpression:case T.SyntaxKind.Decorator:case T.SyntaxKind.ElementAccessExpression:case T.SyntaxKind.ExpressionWithTypeArguments:case T.SyntaxKind.NewExpression:case T.SyntaxKind.PropertyAccessExpression:return!0;default:return!1}}static isLiteralExpression(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.BigIntLiteral:case T.SyntaxKind.NoSubstitutionTemplateLiteral:case T.SyntaxKind.NumericLiteral:case T.SyntaxKind.RegularExpressionLiteral:case T.SyntaxKind.StringLiteral:return!0;default:return!1}}static isLiteralLike(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.BigIntLiteral:case T.SyntaxKind.JsxText:case T.SyntaxKind.NoSubstitutionTemplateLiteral:case T.SyntaxKind.NumericLiteral:case T.SyntaxKind.RegularExpressionLiteral:case T.SyntaxKind.StringLiteral:case T.SyntaxKind.TemplateHead:case T.SyntaxKind.TemplateMiddle:case T.SyntaxKind.TemplateTail:return!0;default:return!1}}static isLiteralTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.LiteralType}static isMappedTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.MappedType}static isMemberExpression(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrayLiteralExpression:case T.SyntaxKind.BigIntLiteral:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.ElementAccessExpression:case T.SyntaxKind.FalseKeyword:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.Identifier:case T.SyntaxKind.ImportKeyword:case T.SyntaxKind.JsxElement:case T.SyntaxKind.JsxFragment:case T.SyntaxKind.JsxSelfClosingElement:case T.SyntaxKind.MetaProperty:case T.SyntaxKind.NewExpression:case T.SyntaxKind.NoSubstitutionTemplateLiteral:case T.SyntaxKind.NullKeyword:case T.SyntaxKind.NumericLiteral:case T.SyntaxKind.ObjectLiteralExpression:case T.SyntaxKind.PropertyAccessExpression:case T.SyntaxKind.RegularExpressionLiteral:case T.SyntaxKind.StringLiteral:case T.SyntaxKind.SuperKeyword:case T.SyntaxKind.TaggedTemplateExpression:case T.SyntaxKind.TemplateExpression:case T.SyntaxKind.ThisKeyword:case T.SyntaxKind.TrueKeyword:return!0;default:return!1}}static isModifierable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrowFunction:case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.Constructor:case T.SyntaxKind.ConstructorType:case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.ImportEqualsDeclaration:case T.SyntaxKind.IndexSignature:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.Parameter:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.PropertySignature:case T.SyntaxKind.SetAccessor:case T.SyntaxKind.TypeAliasDeclaration:case T.SyntaxKind.TypeParameter:case T.SyntaxKind.VariableDeclarationList:case T.SyntaxKind.VariableStatement:return!0;default:return!1}}static isModuleChildable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.VariableStatement:return!0;default:return!1}}static isModuled(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.SourceFile:return!0;default:return!1}}static isModuleNamed(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.ModuleDeclaration}static isNameable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:return!0;default:return!1}}static isNamed(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.ImportEqualsDeclaration:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.MetaProperty:case T.SyntaxKind.NamedTupleMember:case T.SyntaxKind.PropertyAccessExpression:case T.SyntaxKind.ShorthandPropertyAssignment:case T.SyntaxKind.TypeAliasDeclaration:case T.SyntaxKind.TypeParameter:return!0;default:return!1}}static isNodeWithTypeArguments(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ExpressionWithTypeArguments:case T.SyntaxKind.ImportType:case T.SyntaxKind.TypeQuery:case T.SyntaxKind.TypeReference:return!0;default:return!1}}static isNullLiteral(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.NullKeyword}static isOverloadable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.Constructor:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.MethodDeclaration:return!0;default:return!1}}static isOverrideable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.Parameter:case T.SyntaxKind.PropertyDeclaration:return!0;default:return!1}}static isParameterDeclaration(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.Parameter}static isParametered(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrowFunction:case T.SyntaxKind.CallSignature:case T.SyntaxKind.Constructor:case T.SyntaxKind.ConstructorType:case T.SyntaxKind.ConstructSignature:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.FunctionType:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.JSDocFunctionType:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.MethodSignature:case T.SyntaxKind.SetAccessor:return!0;default:return!1}}static isParenthesizedTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.ParenthesizedType}static isPrimaryExpression(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrayLiteralExpression:case T.SyntaxKind.BigIntLiteral:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.FalseKeyword:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.Identifier:case T.SyntaxKind.ImportKeyword:case T.SyntaxKind.JsxElement:case T.SyntaxKind.JsxFragment:case T.SyntaxKind.JsxSelfClosingElement:case T.SyntaxKind.MetaProperty:case T.SyntaxKind.NewExpression:case T.SyntaxKind.NoSubstitutionTemplateLiteral:case T.SyntaxKind.NullKeyword:case T.SyntaxKind.NumericLiteral:case T.SyntaxKind.ObjectLiteralExpression:case T.SyntaxKind.RegularExpressionLiteral:case T.SyntaxKind.StringLiteral:case T.SyntaxKind.SuperKeyword:case T.SyntaxKind.TemplateExpression:case T.SyntaxKind.ThisKeyword:case T.SyntaxKind.TrueKeyword:return!0;default:return!1}}static isPropertyNamed(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.EnumMember:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.MethodSignature:case T.SyntaxKind.PropertyAssignment:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.PropertySignature:case T.SyntaxKind.SetAccessor:return!0;default:return!1}}static isQuestionDotTokenable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.CallExpression:case T.SyntaxKind.ElementAccessExpression:case T.SyntaxKind.PropertyAccessExpression:return!0;default:return!1}}static isQuestionTokenable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.MethodSignature:case T.SyntaxKind.NamedTupleMember:case T.SyntaxKind.Parameter:case T.SyntaxKind.PropertyAssignment:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.PropertySignature:case T.SyntaxKind.ShorthandPropertyAssignment:return!0;default:return!1}}static isReadonlyable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.IndexSignature:case T.SyntaxKind.Parameter:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.PropertySignature:return!0;default:return!1}}static isReferenceFindable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.AssertEntry:case T.SyntaxKind.BindingElement:case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.Constructor:case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.EnumMember:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.Identifier:case T.SyntaxKind.ImportEqualsDeclaration:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.MetaProperty:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.MethodSignature:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.NamedTupleMember:case T.SyntaxKind.Parameter:case T.SyntaxKind.PrivateIdentifier:case T.SyntaxKind.PropertyAccessExpression:case T.SyntaxKind.PropertyAssignment:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.PropertySignature:case T.SyntaxKind.SetAccessor:case T.SyntaxKind.ShorthandPropertyAssignment:case T.SyntaxKind.TypeAliasDeclaration:case T.SyntaxKind.TypeParameter:case T.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isRenameable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.AssertEntry:case T.SyntaxKind.BindingElement:case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.EnumMember:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.Identifier:case T.SyntaxKind.ImportEqualsDeclaration:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.MetaProperty:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.MethodSignature:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.NamedTupleMember:case T.SyntaxKind.NamespaceExport:case T.SyntaxKind.NamespaceImport:case T.SyntaxKind.Parameter:case T.SyntaxKind.PrivateIdentifier:case T.SyntaxKind.PropertyAccessExpression:case T.SyntaxKind.PropertyAssignment:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.PropertySignature:case T.SyntaxKind.SetAccessor:case T.SyntaxKind.ShorthandPropertyAssignment:case T.SyntaxKind.TypeAliasDeclaration:case T.SyntaxKind.TypeParameter:case T.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isRestTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.RestType}static isReturnTyped(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrowFunction:case T.SyntaxKind.CallSignature:case T.SyntaxKind.Constructor:case T.SyntaxKind.ConstructorType:case T.SyntaxKind.ConstructSignature:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.FunctionType:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.IndexSignature:case T.SyntaxKind.JSDocFunctionType:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.MethodSignature:case T.SyntaxKind.SetAccessor:return!0;default:return!1}}static isScopeable(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.Parameter}static isScoped(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.Constructor:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.SetAccessor:return!0;default:return!1}}static isSetAccessorDeclaration(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.SetAccessor}static isSignaturedDeclaration(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrowFunction:case T.SyntaxKind.CallSignature:case T.SyntaxKind.Constructor:case T.SyntaxKind.ConstructorType:case T.SyntaxKind.ConstructSignature:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.FunctionType:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.JSDocFunctionType:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.MethodSignature:case T.SyntaxKind.SetAccessor:return!0;default:return!1}}static isStatement(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.Block:case T.SyntaxKind.BreakStatement:case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ContinueStatement:case T.SyntaxKind.DebuggerStatement:case T.SyntaxKind.DoStatement:case T.SyntaxKind.EmptyStatement:case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.ExportAssignment:case T.SyntaxKind.ExportDeclaration:case T.SyntaxKind.ExpressionStatement:case T.SyntaxKind.ForInStatement:case T.SyntaxKind.ForOfStatement:case T.SyntaxKind.ForStatement:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.IfStatement:case T.SyntaxKind.ImportDeclaration:case T.SyntaxKind.ImportEqualsDeclaration:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.LabeledStatement:case T.SyntaxKind.ModuleBlock:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.NotEmittedStatement:case T.SyntaxKind.ReturnStatement:case T.SyntaxKind.SwitchStatement:case T.SyntaxKind.ThrowStatement:case T.SyntaxKind.TryStatement:case T.SyntaxKind.TypeAliasDeclaration:case T.SyntaxKind.VariableStatement:case T.SyntaxKind.WhileStatement:case T.SyntaxKind.WithStatement:return!0;default:return!1}}static isStatemented(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrowFunction:case T.SyntaxKind.Block:case T.SyntaxKind.CaseClause:case T.SyntaxKind.ClassStaticBlockDeclaration:case T.SyntaxKind.Constructor:case T.SyntaxKind.DefaultClause:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.ModuleBlock:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.SetAccessor:case T.SyntaxKind.SourceFile:return!0;default:return!1}}static isStaticable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.GetAccessor:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.SetAccessor:return!0;default:return!1}}static isSuperExpression(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.SuperKeyword}static isTemplateLiteralTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.TemplateLiteralType}static isTextInsertable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrowFunction:case T.SyntaxKind.Block:case T.SyntaxKind.CaseBlock:case T.SyntaxKind.CaseClause:case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.ClassStaticBlockDeclaration:case T.SyntaxKind.Constructor:case T.SyntaxKind.DefaultClause:case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.SetAccessor:case T.SyntaxKind.SourceFile:return!0;default:return!1}}static isThisExpression(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.ThisKeyword}static isThisTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.ThisType}static isTrueLiteral(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.TrueKeyword}static isTupleTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.TupleType}static isTypeArgumented(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.CallExpression:case T.SyntaxKind.ExpressionWithTypeArguments:case T.SyntaxKind.ImportType:case T.SyntaxKind.NewExpression:case T.SyntaxKind.TypeQuery:case T.SyntaxKind.TypeReference:return!0;default:return!1}}static isTypeAssertion(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.TypeAssertionExpression}static isTyped(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.AsExpression:case T.SyntaxKind.NamedTupleMember:case T.SyntaxKind.Parameter:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.PropertySignature:case T.SyntaxKind.SatisfiesExpression:case T.SyntaxKind.TypeAliasDeclaration:case T.SyntaxKind.TypeAssertionExpression:case T.SyntaxKind.VariableDeclaration:return!0;default:return!1}}static isTypeElement(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.CallSignature:case T.SyntaxKind.ConstructSignature:case T.SyntaxKind.IndexSignature:case T.SyntaxKind.MethodSignature:case T.SyntaxKind.PropertySignature:return!0;default:return!1}}static isTypeElementMembered(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.TypeLiteral:return!0;default:return!1}}static isTypeLiteral(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.TypeLiteral}static isTypeNode(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrayType:case T.SyntaxKind.ConditionalType:case T.SyntaxKind.ConstructorType:case T.SyntaxKind.ExpressionWithTypeArguments:case T.SyntaxKind.FunctionType:case T.SyntaxKind.ImportType:case T.SyntaxKind.IndexedAccessType:case T.SyntaxKind.InferType:case T.SyntaxKind.IntersectionType:case T.SyntaxKind.JSDocAllType:case T.SyntaxKind.JSDocFunctionType:case T.SyntaxKind.JSDocNamepathType:case T.SyntaxKind.JSDocNonNullableType:case T.SyntaxKind.JSDocNullableType:case T.SyntaxKind.JSDocOptionalType:case T.SyntaxKind.JSDocSignature:case T.SyntaxKind.JSDocTypeExpression:case T.SyntaxKind.JSDocTypeLiteral:case T.SyntaxKind.JSDocUnknownType:case T.SyntaxKind.JSDocVariadicType:case T.SyntaxKind.LiteralType:case T.SyntaxKind.MappedType:case T.SyntaxKind.NamedTupleMember:case T.SyntaxKind.ParenthesizedType:case T.SyntaxKind.RestType:case T.SyntaxKind.TemplateLiteralType:case T.SyntaxKind.ThisType:case T.SyntaxKind.TupleType:case T.SyntaxKind.TypeLiteral:case T.SyntaxKind.TypeOperator:case T.SyntaxKind.TypePredicate:case T.SyntaxKind.TypeQuery:case T.SyntaxKind.TypeReference:case T.SyntaxKind.UnionType:return!0;default:return!1}}static isTypeOperatorTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.TypeOperator}static isTypeParameterDeclaration(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.TypeParameter}static isTypeParametered(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrowFunction:case T.SyntaxKind.CallSignature:case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.Constructor:case T.SyntaxKind.ConstructSignature:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.FunctionType:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.MethodSignature:case T.SyntaxKind.SetAccessor:case T.SyntaxKind.TypeAliasDeclaration:return!0;default:return!1}}static isTypePredicate(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.TypePredicate}static isTypeQuery(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.TypeQuery}static isTypeReference(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.TypeReference}static isUnaryExpression(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrayLiteralExpression:case T.SyntaxKind.AwaitExpression:case T.SyntaxKind.BigIntLiteral:case T.SyntaxKind.CallExpression:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.DeleteExpression:case T.SyntaxKind.ElementAccessExpression:case T.SyntaxKind.FalseKeyword:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.Identifier:case T.SyntaxKind.ImportKeyword:case T.SyntaxKind.JsxElement:case T.SyntaxKind.JsxFragment:case T.SyntaxKind.JsxSelfClosingElement:case T.SyntaxKind.MetaProperty:case T.SyntaxKind.NewExpression:case T.SyntaxKind.NonNullExpression:case T.SyntaxKind.NoSubstitutionTemplateLiteral:case T.SyntaxKind.NullKeyword:case T.SyntaxKind.NumericLiteral:case T.SyntaxKind.ObjectLiteralExpression:case T.SyntaxKind.PostfixUnaryExpression:case T.SyntaxKind.PrefixUnaryExpression:case T.SyntaxKind.PropertyAccessExpression:case T.SyntaxKind.RegularExpressionLiteral:case T.SyntaxKind.StringLiteral:case T.SyntaxKind.SuperKeyword:case T.SyntaxKind.TaggedTemplateExpression:case T.SyntaxKind.TemplateExpression:case T.SyntaxKind.ThisKeyword:case T.SyntaxKind.TrueKeyword:case T.SyntaxKind.TypeAssertionExpression:case T.SyntaxKind.TypeOfExpression:case T.SyntaxKind.VoidExpression:return!0;default:return!1}}static isUnaryExpressioned(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.AwaitExpression:case T.SyntaxKind.DeleteExpression:case T.SyntaxKind.TypeAssertionExpression:case T.SyntaxKind.TypeOfExpression:case T.SyntaxKind.VoidExpression:return!0;default:return!1}}static isUnionTypeNode(e){return(null==e?void 0:e.getKind())===T.SyntaxKind.UnionType}static isUnwrappable(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.ModuleDeclaration:return!0;default:return!1}}static isUpdateExpression(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.ArrayLiteralExpression:case T.SyntaxKind.BigIntLiteral:case T.SyntaxKind.CallExpression:case T.SyntaxKind.ClassExpression:case T.SyntaxKind.ElementAccessExpression:case T.SyntaxKind.FalseKeyword:case T.SyntaxKind.FunctionExpression:case T.SyntaxKind.Identifier:case T.SyntaxKind.ImportKeyword:case T.SyntaxKind.JsxElement:case T.SyntaxKind.JsxFragment:case T.SyntaxKind.JsxSelfClosingElement:case T.SyntaxKind.MetaProperty:case T.SyntaxKind.NewExpression:case T.SyntaxKind.NonNullExpression:case T.SyntaxKind.NoSubstitutionTemplateLiteral:case T.SyntaxKind.NullKeyword:case T.SyntaxKind.NumericLiteral:case T.SyntaxKind.ObjectLiteralExpression:case T.SyntaxKind.PropertyAccessExpression:case T.SyntaxKind.RegularExpressionLiteral:case T.SyntaxKind.StringLiteral:case T.SyntaxKind.SuperKeyword:case T.SyntaxKind.TaggedTemplateExpression:case T.SyntaxKind.TemplateExpression:case T.SyntaxKind.ThisKeyword:case T.SyntaxKind.TrueKeyword:return!0;default:return!1}}static _hasStructure(e){switch(null==e?void 0:e.getKind()){case T.SyntaxKind.AssertEntry:case T.SyntaxKind.CallSignature:case T.SyntaxKind.ClassDeclaration:case T.SyntaxKind.ClassStaticBlockDeclaration:case T.SyntaxKind.Constructor:case T.SyntaxKind.ConstructSignature:case T.SyntaxKind.Decorator:case T.SyntaxKind.EnumDeclaration:case T.SyntaxKind.EnumMember:case T.SyntaxKind.ExportAssignment:case T.SyntaxKind.ExportDeclaration:case T.SyntaxKind.ExportSpecifier:case T.SyntaxKind.FunctionDeclaration:case T.SyntaxKind.GetAccessor:case T.SyntaxKind.ImportDeclaration:case T.SyntaxKind.ImportSpecifier:case T.SyntaxKind.IndexSignature:case T.SyntaxKind.InterfaceDeclaration:case T.SyntaxKind.JSDoc:case T.SyntaxKind.JsxAttribute:case T.SyntaxKind.JsxElement:case T.SyntaxKind.JsxNamespacedName:case T.SyntaxKind.JsxSelfClosingElement:case T.SyntaxKind.JsxSpreadAttribute:case T.SyntaxKind.MethodDeclaration:case T.SyntaxKind.MethodSignature:case T.SyntaxKind.ModuleDeclaration:case T.SyntaxKind.Parameter:case T.SyntaxKind.PropertyAssignment:case T.SyntaxKind.PropertyDeclaration:case T.SyntaxKind.PropertySignature:case T.SyntaxKind.SetAccessor:case T.SyntaxKind.ShorthandPropertyAssignment:case T.SyntaxKind.SourceFile:case T.SyntaxKind.SpreadAssignment:case T.SyntaxKind.TypeAliasDeclaration:case T.SyntaxKind.TypeParameter:case T.SyntaxKind.VariableDeclaration:case T.SyntaxKind.VariableStatement:return!0;default:return!1}}}function tf(e,t){return null==t?void 0:r=>t(e._getNodeFromCompilerNode(r))}function tS(e,t,r,i){let n=tx.isSourceFile(e)?e.getChildSyntaxListOrThrow():e.getParentSyntaxList()||e.getParentOrThrow(),s=M(e._getWriterWithQueuedIndentation(),r);if(!/^[\s\r\n]*$/.test(s))throw new T.errors.InvalidOperationError(`Cannot insert non-whitespace into ${i}.`);e7({parent:n,insertPos:t,newText:s})}function*tT(e){for(let t of function(){let t=[];return e.forEachChild(e=>{t.push(e)}),t}())yield t,yield*tT(t)}function*tN(e,t){for(let r of eD.getCompilerChildren(e,t))yield r,yield*tN(r,t)}function tK(e,t){return t>=T.SyntaxKind.FirstNode&&t<T.SyntaxKind.FirstJSDocNode&&("number"==typeof e?e:e.compilerNode.kind)!==T.SyntaxKind.SyntaxList}function tb(e,t,r){if(T.errors.throwIfWhitespaceOrNotString(t,"newName"),e.getText()===t)return;let i=e._context.languageService.findRenameLocations(e,r),n=new T.KeyValueCache;for(let e of i){let t=n.getOrCreate(e.getSourceFile(),()=>[]);t.push(e)}for(let[e,r]of n.getEntries())!function(e){let{sourceFile:t,renameLocations:r,newName:i}=e,n=new eG;e6(t,new e2(r,i),n.getForTryOrForget(n.getForRename(t._context.compilerFactory)))}({sourceFile:e,renameLocations:r,newName:t})}function tw(e,t){let r=tp(e._getWriterWithIndentation(),t),i=e.getFirstChildByKindOrThrow(T.SyntaxKind.OpenBraceToken),n=e.getFirstChildByKindOrThrow(T.SyntaxKind.CloseBraceToken);e7({insertPos:i.getEnd(),newText:r,parent:e,replacing:{textLength:n.getStart()-i.getEnd()}})}function tC(e){return class extends e{getBody(){let e=this.compilerNode.body;if(null==e)throw new T.errors.InvalidOperationError("Bodied node should have a body.");return this._getNodeFromCompilerNode(e)}setBodyText(e){let t=this.getBody();return tw(t,e),this}getBodyText(){return tg(this.getBody())}}}function tF(e){return class extends e{getBodyOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getBody(),null!=e?e:"Expected to find the node's body.",this)}getBody(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.body)}getBodyText(){let e=this.getBody();return null==e?void 0:tg(e)}setBodyText(e){return this.addBody(),tw(this.getBodyOrThrow(),e),this}hasBody(){return null!=this.compilerNode.body}addBody(){var e;if(this.hasBody())return this;let t=this.getLastChildByKind(T.SyntaxKind.SemicolonToken);return e7({parent:this,insertPos:null==t?this.getEnd():t.getStart(),newText:this._getWriterWithQueuedIndentation().space().block().toString(),replacing:{textLength:null!==(e=null==t?void 0:t.getFullWidth())&&void 0!==e?e:0}}),this}removeBody(){let e=this.getBody();return null==e||e7({parent:this,insertPos:e.getPos(),newText:";",replacing:{textLength:e.getFullWidth()}}),this}}}function t_(e){return class extends e{setOrder(e){let t=this.getChildIndex(),r=this.getParentSyntaxList()||this.getParentSyntaxListOrThrow();return T.errors.throwIfOutOfRange(e,[0,r.getChildCount()-1],"order"),t===e||function(e){let{parent:t}=e;e6(t._sourceFile,new eq(e),new eG().getForChangingChildOrder(e))}({parent:r,getSiblingFormatting:Y,oldIndex:t,newIndex:e}),this}}}function tI(e){return class extends e{getDecorator(e){return C(this.getDecorators(),e)}getDecoratorOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getDecorator(e),null!=t?t:()=>_("decorator",e),this)}getDecorators(){return tE(this.compilerNode).map(e=>this._getNodeFromCompilerNode(e))}addDecorator(e){return this.insertDecorator(ei(tE(this.compilerNode)),e)}addDecorators(e){return this.insertDecorators(ei(tE(this.compilerNode)),e)}insertDecorator(e,t){return this.insertDecorators(e,[t])[0]}insertDecorators(e,t){var r,i,n,s,o;if(T.ArrayUtils.isNullOrEmpty(t))return[];let a=function(e,t){let r=[];for(let i of t){let t=e._getWriter(),n=e._context.structurePrinterFactory.forDecorator();n.printText(t,i),r.push(t.toString())}return r}(this,t),l=this.getDecorators();e=ex(e,l.length);let d=function(e,t){let r=function(e,t){if(1===t.length){let e=t[0].getPreviousSibling();if(null!=e&&e.getStartLinePos()===t[0].getStartLinePos())return!0}if(t.length<=1)return e.getKind()===T.SyntaxKind.Parameter;let r=t[0].getStartLinePos();for(let e=1;e<t.length;e++)if(t[e].getStartLinePos()!==r)return!1;return!0}(e,t);return r?f.Space:f.Newline}(this,l),c=l[e-1],u=function(e){var t;let{structures:r,newCodes:i,parent:n,getSeparator:s,previousFormattingKind:o,nextFormattingKind:a}=e,l=null!==(t=e.indentationText)&&void 0!==t?t:n.getChildIndentationText(),d=n._context.manipulationSettings.getNewLineKindAsString();return c(o)+function(){let e=i[0];for(let t=1;t<i.length;t++){let n=s(r[t-1],r[t]);e+=c(n)+i[t]}return e}()+c(a);function c(e){let t=function(e,t){switch(e){case f.Space:return" ";case f.Newline:return t.newLineKind;case f.Blankline:return t.newLineKind+t.newLineKind;case f.None:return"";default:throw new T.errors.NotImplementedError(`Not implemented formatting kind: ${e}`)}}(e,{newLineKind:d});return(e===f.Newline||e===f.Blankline)&&(t+=l),t}}({structures:t,newCodes:a,parent:this,indentationText:this.getIndentationText(),getSeparator:()=>d,previousFormattingKind:null==c?f.None:d,nextFormattingKind:null==c?d:f.None});return e7({parent:null!==(s=null!==(i=null===(r=l[0])||void 0===r?void 0:r.getParentSyntaxListOrThrow())&&void 0!==i?i:null===(n=this.getModifiers()[0])||void 0===n?void 0:n.getParentSyntaxListOrThrow())&&void 0!==s?s:this,insertPos:0===e?(null!==(o=l[0])&&void 0!==o?o:this).getStart():l[e-1].getEnd(),newText:u}),eh(l,this.getDecorators(),e,!1)}set(t){return G(e.prototype,this,t),null!=t.decorators&&(this.getDecorators().forEach(e=>e.remove()),this.addDecorators(t.decorators)),this}getStructure(){return $(e.prototype,this,{decorators:this.getDecorators().map(e=>e.getStructure())})}}}function tE(e){var t;return T.ts.canHaveDecorators(e)&&null!==(t=T.ts.getDecorators(e))&&void 0!==t?t:[]}function tP(e){return class extends e{getDotDotDotTokenOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getDotDotDotToken(),null!=e?e:"Expected to find a dot dot dot token (...).",this)}getDotDotDotToken(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.dotDotDotToken)}}}function tD(e){return class extends e{hasExclamationToken(){return null!=this.compilerNode.exclamationToken}getExclamationTokenNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.exclamationToken)}getExclamationTokenNodeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getExclamationTokenNode(),null!=e?e:"Expected to find an exclamation token.",this)}setHasExclamationToken(e){let t=this.getExclamationTokenNode();if(e===(null!=t))return this;if(e){tx.isQuestionTokenable(this)&&this.setHasQuestionToken(!1);let e=this.getFirstChildByKind(T.SyntaxKind.ColonToken);if(null==e)throw new T.errors.InvalidOperationError("Cannot add an exclamation token to a node that does not have a type.");e7({insertPos:e.getStart(),parent:this,newText:"!"})}else tr({children:[t]});return this}set(t){return G(e.prototype,this,t),null!=t.hasExclamationToken&&this.setHasExclamationToken(t.hasExclamationToken),this}getStructure(){return $(e.prototype,this,{hasExclamationToken:this.hasExclamationToken()})}}}function tv(e){return class extends e{hasExportKeyword(){return null!=this.getExportKeyword()}getExportKeyword(){if(tx.isVariableDeclaration(this)){let e=this.getVariableStatement();return null==e?void 0:e.getExportKeyword()}return tx.isModifierable(this)?this.getFirstModifierByKind(T.SyntaxKind.ExportKeyword):tO()}getExportKeywordOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getExportKeyword(),null!=e?e:"Expected to find an export keyword.",this)}hasDefaultKeyword(){return null!=this.getDefaultKeyword()}getDefaultKeyword(){if(tx.isVariableDeclaration(this)){let e=this.getVariableStatement();return null==e?void 0:e.getDefaultKeyword()}return tx.isModifierable(this)?this.getFirstModifierByKind(T.SyntaxKind.DefaultKeyword):tO()}getDefaultKeywordOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getDefaultKeyword(),null!=e?e:"Expected to find a default keyword.",this)}isExported(){if(this.hasExportKeyword())return!0;let e=this.getSymbol(),t=this.getSourceFile().getSymbol();return null!=e&&null!=t&&t.getExports().some(t=>t===e||t.getAliasedSymbol()===e)}isDefaultExport(){if(this.hasDefaultKeyword())return!0;let e=this.getSymbol();if(null==e)return!1;let t=this.getSourceFile().getDefaultExportSymbol();if(null==t)return!1;if(e===t)return!0;let r=t.getAliasedSymbol();return e===r}isNamedExport(){let e=this.getSymbol(),t=this.getSourceFile().getSymbol();return null!=e&&null!=t&&!function(){let r=t.getExport("default");return null!=r&&(e===r||e===r.getAliasedSymbol())}()&&t.getExports().some(t=>t===e||t.getAliasedSymbol()===e)}}}function tO(){throw new T.errors.NotImplementedError("Not implemented situation where node was not a ModifierableNode.")}function tA(e){var t;return t=tv(e),class extends t{setIsDefaultExport(e){if(e===this.isDefaultExport())return this;if(e&&!tx.isSourceFile(this.getParentOrThrow()))throw new T.errors.InvalidOperationError("The parent must be a source file in order to set this node as a default export.");let t=this.getSourceFile(),r=t.getDefaultExportSymbol();if(null!=r&&t.removeDefaultExport(r),!e)return this;if(tx.hasName(this)&&(function(){return!!(tx.isEnumDeclaration(this)||tx.isModuleDeclaration(this)||tx.isTypeAliasDeclaration(this)||tx.isAmbientable(this)&&this.isAmbient())}).call(this)){let e=this.getFirstAncestorByKindOrThrow(T.SyntaxKind.SyntaxList),t=this.getName();e.insertChildText(this.getChildIndex()+1,e=>{e.newLine().write(`export default ${t};`)})}else this.addModifier("export"),this.addModifier("default");return this}setIsExported(e){return tx.isSourceFile(this.getParentOrThrow())&&this.toggleModifier("default",!1),this.toggleModifier("export",e),this}set(e){return G(t.prototype,this,e),null!=e.isExported&&this.setIsExported(e.isExported),null!=e.isDefaultExport&&this.setIsDefaultExport(e.isDefaultExport),this}getStructure(){return $(t.prototype,this,{isExported:this.hasExportKeyword(),isDefaultExport:this.hasDefaultKeyword()})}}}tx.isAnyKeyword=tx.is(T.SyntaxKind.AnyKeyword),tx.isArrayBindingPattern=tx.is(T.SyntaxKind.ArrayBindingPattern),tx.isArrayLiteralExpression=tx.is(T.SyntaxKind.ArrayLiteralExpression),tx.isArrowFunction=tx.is(T.SyntaxKind.ArrowFunction),tx.isAsExpression=tx.is(T.SyntaxKind.AsExpression),tx.isAssertClause=tx.is(T.SyntaxKind.AssertClause),tx.isAssertEntry=tx.is(T.SyntaxKind.AssertEntry),tx.isAwaitExpression=tx.is(T.SyntaxKind.AwaitExpression),tx.isBigIntLiteral=tx.is(T.SyntaxKind.BigIntLiteral),tx.isBinaryExpression=tx.is(T.SyntaxKind.BinaryExpression),tx.isBindingElement=tx.is(T.SyntaxKind.BindingElement),tx.isBlock=tx.is(T.SyntaxKind.Block),tx.isBooleanKeyword=tx.is(T.SyntaxKind.BooleanKeyword),tx.isBreakStatement=tx.is(T.SyntaxKind.BreakStatement),tx.isCallExpression=tx.is(T.SyntaxKind.CallExpression),tx.isCaseBlock=tx.is(T.SyntaxKind.CaseBlock),tx.isCaseClause=tx.is(T.SyntaxKind.CaseClause),tx.isCatchClause=tx.is(T.SyntaxKind.CatchClause),tx.isClassDeclaration=tx.is(T.SyntaxKind.ClassDeclaration),tx.isClassExpression=tx.is(T.SyntaxKind.ClassExpression),tx.isClassStaticBlockDeclaration=tx.is(T.SyntaxKind.ClassStaticBlockDeclaration),tx.isCommaListExpression=tx.is(T.SyntaxKind.CommaListExpression),tx.isComputedPropertyName=tx.is(T.SyntaxKind.ComputedPropertyName),tx.isConditionalExpression=tx.is(T.SyntaxKind.ConditionalExpression),tx.isContinueStatement=tx.is(T.SyntaxKind.ContinueStatement),tx.isDebuggerStatement=tx.is(T.SyntaxKind.DebuggerStatement),tx.isDecorator=tx.is(T.SyntaxKind.Decorator),tx.isDefaultClause=tx.is(T.SyntaxKind.DefaultClause),tx.isDeleteExpression=tx.is(T.SyntaxKind.DeleteExpression),tx.isDoStatement=tx.is(T.SyntaxKind.DoStatement),tx.isElementAccessExpression=tx.is(T.SyntaxKind.ElementAccessExpression),tx.isEmptyStatement=tx.is(T.SyntaxKind.EmptyStatement),tx.isEnumDeclaration=tx.is(T.SyntaxKind.EnumDeclaration),tx.isEnumMember=tx.is(T.SyntaxKind.EnumMember),tx.isExportAssignment=tx.is(T.SyntaxKind.ExportAssignment),tx.isExportDeclaration=tx.is(T.SyntaxKind.ExportDeclaration),tx.isExportSpecifier=tx.is(T.SyntaxKind.ExportSpecifier),tx.isExpressionStatement=tx.is(T.SyntaxKind.ExpressionStatement),tx.isExpressionWithTypeArguments=tx.is(T.SyntaxKind.ExpressionWithTypeArguments),tx.isExternalModuleReference=tx.is(T.SyntaxKind.ExternalModuleReference),tx.isForInStatement=tx.is(T.SyntaxKind.ForInStatement),tx.isForOfStatement=tx.is(T.SyntaxKind.ForOfStatement),tx.isForStatement=tx.is(T.SyntaxKind.ForStatement),tx.isFunctionDeclaration=tx.is(T.SyntaxKind.FunctionDeclaration),tx.isFunctionExpression=tx.is(T.SyntaxKind.FunctionExpression),tx.isHeritageClause=tx.is(T.SyntaxKind.HeritageClause),tx.isIdentifier=tx.is(T.SyntaxKind.Identifier),tx.isIfStatement=tx.is(T.SyntaxKind.IfStatement),tx.isImportClause=tx.is(T.SyntaxKind.ImportClause),tx.isImportDeclaration=tx.is(T.SyntaxKind.ImportDeclaration),tx.isImportEqualsDeclaration=tx.is(T.SyntaxKind.ImportEqualsDeclaration),tx.isImportSpecifier=tx.is(T.SyntaxKind.ImportSpecifier),tx.isImportTypeAssertionContainer=tx.is(T.SyntaxKind.ImportTypeAssertionContainer),tx.isInferKeyword=tx.is(T.SyntaxKind.InferKeyword),tx.isInterfaceDeclaration=tx.is(T.SyntaxKind.InterfaceDeclaration),tx.isJSDoc=tx.is(T.SyntaxKind.JSDoc),tx.isJSDocAllType=tx.is(T.SyntaxKind.JSDocAllType),tx.isJSDocAugmentsTag=tx.is(T.SyntaxKind.JSDocAugmentsTag),tx.isJSDocAuthorTag=tx.is(T.SyntaxKind.JSDocAuthorTag),tx.isJSDocCallbackTag=tx.is(T.SyntaxKind.JSDocCallbackTag),tx.isJSDocClassTag=tx.is(T.SyntaxKind.JSDocClassTag),tx.isJSDocDeprecatedTag=tx.is(T.SyntaxKind.JSDocDeprecatedTag),tx.isJSDocEnumTag=tx.is(T.SyntaxKind.JSDocEnumTag),tx.isJSDocFunctionType=tx.is(T.SyntaxKind.JSDocFunctionType),tx.isJSDocImplementsTag=tx.is(T.SyntaxKind.JSDocImplementsTag),tx.isJSDocLink=tx.is(T.SyntaxKind.JSDocLink),tx.isJSDocLinkCode=tx.is(T.SyntaxKind.JSDocLinkCode),tx.isJSDocLinkPlain=tx.is(T.SyntaxKind.JSDocLinkPlain),tx.isJSDocMemberName=tx.is(T.SyntaxKind.JSDocMemberName),tx.isJSDocNamepathType=tx.is(T.SyntaxKind.JSDocNamepathType),tx.isJSDocNameReference=tx.is(T.SyntaxKind.JSDocNameReference),tx.isJSDocNonNullableType=tx.is(T.SyntaxKind.JSDocNonNullableType),tx.isJSDocNullableType=tx.is(T.SyntaxKind.JSDocNullableType),tx.isJSDocOptionalType=tx.is(T.SyntaxKind.JSDocOptionalType),tx.isJSDocOverloadTag=tx.is(T.SyntaxKind.JSDocOverloadTag),tx.isJSDocOverrideTag=tx.is(T.SyntaxKind.JSDocOverrideTag),tx.isJSDocParameterTag=tx.is(T.SyntaxKind.JSDocParameterTag),tx.isJSDocPrivateTag=tx.is(T.SyntaxKind.JSDocPrivateTag),tx.isJSDocPropertyTag=tx.is(T.SyntaxKind.JSDocPropertyTag),tx.isJSDocProtectedTag=tx.is(T.SyntaxKind.JSDocProtectedTag),tx.isJSDocPublicTag=tx.is(T.SyntaxKind.JSDocPublicTag),tx.isJSDocReadonlyTag=tx.is(T.SyntaxKind.JSDocReadonlyTag),tx.isJSDocReturnTag=tx.is(T.SyntaxKind.JSDocReturnTag),tx.isJSDocSatisfiesTag=tx.is(T.SyntaxKind.JSDocSatisfiesTag),tx.isJSDocSeeTag=tx.is(T.SyntaxKind.JSDocSeeTag),tx.isJSDocSignature=tx.is(T.SyntaxKind.JSDocSignature),tx.isJSDocTemplateTag=tx.is(T.SyntaxKind.JSDocTemplateTag),tx.isJSDocText=tx.is(T.SyntaxKind.JSDocText),tx.isJSDocThisTag=tx.is(T.SyntaxKind.JSDocThisTag),tx.isJSDocThrowsTag=tx.is(T.SyntaxKind.JSDocThrowsTag),tx.isJSDocTypedefTag=tx.is(T.SyntaxKind.JSDocTypedefTag),tx.isJSDocTypeExpression=tx.is(T.SyntaxKind.JSDocTypeExpression),tx.isJSDocTypeLiteral=tx.is(T.SyntaxKind.JSDocTypeLiteral),tx.isJSDocTypeTag=tx.is(T.SyntaxKind.JSDocTypeTag),tx.isJSDocUnknownType=tx.is(T.SyntaxKind.JSDocUnknownType),tx.isJSDocVariadicType=tx.is(T.SyntaxKind.JSDocVariadicType),tx.isJsxAttribute=tx.is(T.SyntaxKind.JsxAttribute),tx.isJsxClosingElement=tx.is(T.SyntaxKind.JsxClosingElement),tx.isJsxClosingFragment=tx.is(T.SyntaxKind.JsxClosingFragment),tx.isJsxElement=tx.is(T.SyntaxKind.JsxElement),tx.isJsxExpression=tx.is(T.SyntaxKind.JsxExpression),tx.isJsxFragment=tx.is(T.SyntaxKind.JsxFragment),tx.isJsxNamespacedName=tx.is(T.SyntaxKind.JsxNamespacedName),tx.isJsxOpeningElement=tx.is(T.SyntaxKind.JsxOpeningElement),tx.isJsxOpeningFragment=tx.is(T.SyntaxKind.JsxOpeningFragment),tx.isJsxSelfClosingElement=tx.is(T.SyntaxKind.JsxSelfClosingElement),tx.isJsxSpreadAttribute=tx.is(T.SyntaxKind.JsxSpreadAttribute),tx.isJsxText=tx.is(T.SyntaxKind.JsxText),tx.isLabeledStatement=tx.is(T.SyntaxKind.LabeledStatement),tx.isMetaProperty=tx.is(T.SyntaxKind.MetaProperty),tx.isMethodDeclaration=tx.is(T.SyntaxKind.MethodDeclaration),tx.isMethodSignature=tx.is(T.SyntaxKind.MethodSignature),tx.isModuleBlock=tx.is(T.SyntaxKind.ModuleBlock),tx.isModuleDeclaration=tx.is(T.SyntaxKind.ModuleDeclaration),tx.isNamedExports=tx.is(T.SyntaxKind.NamedExports),tx.isNamedImports=tx.is(T.SyntaxKind.NamedImports),tx.isNamedTupleMember=tx.is(T.SyntaxKind.NamedTupleMember),tx.isNamespaceExport=tx.is(T.SyntaxKind.NamespaceExport),tx.isNamespaceImport=tx.is(T.SyntaxKind.NamespaceImport),tx.isNeverKeyword=tx.is(T.SyntaxKind.NeverKeyword),tx.isNewExpression=tx.is(T.SyntaxKind.NewExpression),tx.isNonNullExpression=tx.is(T.SyntaxKind.NonNullExpression),tx.isNoSubstitutionTemplateLiteral=tx.is(T.SyntaxKind.NoSubstitutionTemplateLiteral),tx.isNotEmittedStatement=tx.is(T.SyntaxKind.NotEmittedStatement),tx.isNumberKeyword=tx.is(T.SyntaxKind.NumberKeyword),tx.isNumericLiteral=tx.is(T.SyntaxKind.NumericLiteral),tx.isObjectBindingPattern=tx.is(T.SyntaxKind.ObjectBindingPattern),tx.isObjectKeyword=tx.is(T.SyntaxKind.ObjectKeyword),tx.isObjectLiteralExpression=tx.is(T.SyntaxKind.ObjectLiteralExpression),tx.isOmittedExpression=tx.is(T.SyntaxKind.OmittedExpression),tx.isParenthesizedExpression=tx.is(T.SyntaxKind.ParenthesizedExpression),tx.isPartiallyEmittedExpression=tx.is(T.SyntaxKind.PartiallyEmittedExpression),tx.isPostfixUnaryExpression=tx.is(T.SyntaxKind.PostfixUnaryExpression),tx.isPrefixUnaryExpression=tx.is(T.SyntaxKind.PrefixUnaryExpression),tx.isPrivateIdentifier=tx.is(T.SyntaxKind.PrivateIdentifier),tx.isPropertyAccessExpression=tx.is(T.SyntaxKind.PropertyAccessExpression),tx.isPropertyAssignment=tx.is(T.SyntaxKind.PropertyAssignment),tx.isPropertyDeclaration=tx.is(T.SyntaxKind.PropertyDeclaration),tx.isPropertySignature=tx.is(T.SyntaxKind.PropertySignature),tx.isQualifiedName=tx.is(T.SyntaxKind.QualifiedName),tx.isRegularExpressionLiteral=tx.is(T.SyntaxKind.RegularExpressionLiteral),tx.isReturnStatement=tx.is(T.SyntaxKind.ReturnStatement),tx.isSatisfiesExpression=tx.is(T.SyntaxKind.SatisfiesExpression),tx.isSemicolonToken=tx.is(T.SyntaxKind.SemicolonToken),tx.isShorthandPropertyAssignment=tx.is(T.SyntaxKind.ShorthandPropertyAssignment),tx.isSourceFile=tx.is(T.SyntaxKind.SourceFile),tx.isSpreadAssignment=tx.is(T.SyntaxKind.SpreadAssignment),tx.isSpreadElement=tx.is(T.SyntaxKind.SpreadElement),tx.isStringKeyword=tx.is(T.SyntaxKind.StringKeyword),tx.isStringLiteral=tx.is(T.SyntaxKind.StringLiteral),tx.isSwitchStatement=tx.is(T.SyntaxKind.SwitchStatement),tx.isSymbolKeyword=tx.is(T.SyntaxKind.SymbolKeyword),tx.isSyntaxList=tx.is(T.SyntaxKind.SyntaxList),tx.isTaggedTemplateExpression=tx.is(T.SyntaxKind.TaggedTemplateExpression),tx.isTemplateExpression=tx.is(T.SyntaxKind.TemplateExpression),tx.isTemplateHead=tx.is(T.SyntaxKind.TemplateHead),tx.isTemplateMiddle=tx.is(T.SyntaxKind.TemplateMiddle),tx.isTemplateSpan=tx.is(T.SyntaxKind.TemplateSpan),tx.isTemplateTail=tx.is(T.SyntaxKind.TemplateTail),tx.isThrowStatement=tx.is(T.SyntaxKind.ThrowStatement),tx.isTryStatement=tx.is(T.SyntaxKind.TryStatement),tx.isTypeAliasDeclaration=tx.is(T.SyntaxKind.TypeAliasDeclaration),tx.isTypeOfExpression=tx.is(T.SyntaxKind.TypeOfExpression),tx.isUndefinedKeyword=tx.is(T.SyntaxKind.UndefinedKeyword),tx.isVariableDeclaration=tx.is(T.SyntaxKind.VariableDeclaration),tx.isVariableDeclarationList=tx.is(T.SyntaxKind.VariableDeclarationList),tx.isVariableStatement=tx.is(T.SyntaxKind.VariableStatement),tx.isVoidExpression=tx.is(T.SyntaxKind.VoidExpression),tx.isWhileStatement=tx.is(T.SyntaxKind.WhileStatement),tx.isWithStatement=tx.is(T.SyntaxKind.WithStatement),tx.isYieldExpression=tx.is(T.SyntaxKind.YieldExpression),t.sXi=void 0,(u=t.sXi||(t.sXi={})).Public="public",u.Protected="protected",u.Private="private";class tL{printTextOrWriterFunc(e,t){"string"==typeof t?e.write(t):null!=t&&t(e)}getNewWriter(e){return new K.default(e.getOptions())}getNewWriterWithQueuedChildIndentation(e){let t=new K.default(e.getOptions());return t.queueIndentationLevel(1),t}getText(e,t){let r=this.getNewWriter(e);return this.printTextOrWriterFunc(r,t),r.toString()}getTextWithQueuedChildIndentation(e,t){let r=this.getNewWriterWithQueuedChildIndentation(e);return this.printTextOrWriterFunc(r,t),r.toString()}}class tk extends tL{printText(e,t){let{initializer:r}=t;if(null==r)return;let i=this.getText(e,r);T.StringUtils.isNullOrWhitespace(i)||e.hangingIndent(()=>{e.spaceIfLastNot(),e.write(`= ${i}`)})}}class tM extends tL{printText(e,t){let r=t.scope;t.isDefaultExport?e.write("export default "):t.isExported&&e.write("export "),t.hasDeclareKeyword&&e.write("declare "),null!=r&&e.write(`${r} `),t.isStatic&&e.write("static "),t.hasOverrideKeyword&&e.write("override "),t.isAbstract&&e.write("abstract "),t.isAsync&&e.write("async "),t.isReadonly&&e.write("readonly "),t.hasAccessorKeyword&&e.write("accessor ")}}class tW extends tL{constructor(e=!1){super(),this.alwaysWrite=e}printText(e,t){let{returnType:r}=t;if(null==r&&!1===this.alwaysWrite)return;r=null!=r?r:"void";let i=this.getText(e,r);T.StringUtils.isNullOrWhitespace(i)||e.hangingIndent(()=>{e.write(`: ${i}`)})}}class tz extends tL{constructor(e,t=!1){super(),this.separator=e,this.alwaysWrite=t}printText(e,t){let{type:r}=t;if(null==r&&!1===this.alwaysWrite)return;r=null!=r?r:"any";let i=this.getText(e,r);T.StringUtils.isNullOrWhitespace(i)||e.hangingIndent(()=>{e.write(`${this.separator} ${i}`)})}}class tB extends tL{constructor(e){super(),this.printer=e}printText(e,t){if(null!=t)for(let r=0;r<t.length;r++)e.conditionalBlankLine(r>0),this.printer.printText(e,t[r])}}class tR extends tL{constructor(e){super(),this.printer=e}printText(e,t){tJ(this.printer,e,t,()=>e.spaceIfLastNot())}}function tJ(e,t,r,i){if(null!=r){if(r instanceof Function||"string"==typeof r)e.printText(t,r);else{let n=Array(r.length);for(let s=0;s<r.length;s++){s>0&&i();let o=r[s],a=t.getLength();e.printText(t,o);let l=er(V.getLastCharactersToPos(t,a));n[s]=-1!==l&&l+a}let s=!1;for(let e=n.length-1;e>=0;e--){let r=n[e];!1!==r&&(s?t.unsafeInsert(r,","):s=!0)}}}}class tj extends tL{constructor(e){super(),this.printer=e}printText(e,t){tJ(this.printer,e,t,()=>e.newLineIfLastNot())}}class tU extends tL{constructor(e){super(),this.printer=e}printText(e,t){if(null!=t)for(let r=0;r<t.length;r++)e.conditionalNewLine(r>0),this.printer.printText(e,t[r])}}class tV extends tL{constructor(e){super(),this.printer=e}printText(e,t){if(null!=t)for(let r=0;r<t.length;r++)e.conditionalWrite(r>0," "),this.printer.printText(e,t[r])}}class t$ extends tL{constructor(e){super(),this.factory=e}printTextWithoutTrivia(e,t){this.printTextInternal(e,t)}printText(e,t){this.printLeadingTrivia(e,t),e.closeComment(),this.printTextInternal(e,t),this.printTrailingTrivia(e,t)}printLeadingTrivia(e,t){let r=null==t?void 0:t.leadingTrivia;r&&(this.printTrivia(e,r),e.isInComment()&&e.closeComment())}printTrailingTrivia(e,t){let r=null==t?void 0:t.trailingTrivia;null!=r&&this.printTrivia(e,r)}printTrivia(e,t){if(t instanceof Array)for(let r=0;r<t.length;r++)this.printTextOrWriterFunc(e,t[r]),r!==t.length-1&&e.newLineIfLastNot();else this.printTextOrWriterFunc(e,t)}}class tG extends t${constructor(e,t){super(e),this.options=t,this.multipleWriter=new tB(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){let r=t.hasDeclareKeyword||this.options.isAmbient;this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forDecorator().printTexts(e,t.decorators),this.printHeader(e,t),e.inlineBlock(()=>{this.factory.forPropertyDeclaration().printTexts(e,t.properties),this.printCtors(e,t,r),this.printGetAndSet(e,t,r),T.ArrayUtils.isNullOrEmpty(t.methods)||(this.conditionalSeparator(e,r),this.factory.forMethodDeclaration({isAmbient:r}).printTexts(e,t.methods))})}printHeader(e,t){this.factory.forModifierableNode().printText(e,t),e.write("class"),T.StringUtils.isNullOrWhitespace(t.name)||e.space().write(t.name),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),e.space(),e.hangingIndent(()=>{if(null!=t.extends){let r=this.getText(e,t.extends);T.StringUtils.isNullOrWhitespace(r)||e.write(`extends ${r} `)}if(null!=t.implements){let r=t.implements instanceof Array?t.implements.map(t=>this.getText(e,t)).join(", "):this.getText(e,t.implements);T.StringUtils.isNullOrWhitespace(r)||e.write(`implements ${r} `)}})}printCtors(e,t,r){if(!T.ArrayUtils.isNullOrEmpty(t.ctors))for(let i of t.ctors)this.conditionalSeparator(e,r),this.factory.forConstructorDeclaration({isAmbient:r}).printText(e,i)}printGetAndSet(e,t,r){var i,n;let s=[...null!==(i=t.getAccessors)&&void 0!==i?i:[]],o=[...null!==(n=t.setAccessors)&&void 0!==n?n:[]],a=this.factory.forGetAccessorDeclaration({isAmbient:r}),l=this.factory.forSetAccessorDeclaration({isAmbient:r});for(let t of s){this.conditionalSeparator(e,r),a.printText(e,t);let i=o.findIndex(e=>e.name===t.name);i>=0&&(this.conditionalSeparator(e,r),l.printText(e,o[i]),o.splice(i,1))}for(let t of o)this.conditionalSeparator(e,r),l.printText(e,t)}conditionalSeparator(e,t){e.isAtStartOfFirstLineOfBlock()||(t?e.newLine():e.blankLine())}}t.z_b=void 0,(h=t.z_b||(t.z_b={}))[h.AssertEntry=0]="AssertEntry",h[h.CallSignature=1]="CallSignature",h[h.Class=2]="Class",h[h.ClassStaticBlock=3]="ClassStaticBlock",h[h.ConstructSignature=4]="ConstructSignature",h[h.Constructor=5]="Constructor",h[h.ConstructorOverload=6]="ConstructorOverload",h[h.Decorator=7]="Decorator",h[h.Enum=8]="Enum",h[h.EnumMember=9]="EnumMember",h[h.ExportAssignment=10]="ExportAssignment",h[h.ExportDeclaration=11]="ExportDeclaration",h[h.ExportSpecifier=12]="ExportSpecifier",h[h.Function=13]="Function",h[h.FunctionOverload=14]="FunctionOverload",h[h.GetAccessor=15]="GetAccessor",h[h.ImportDeclaration=16]="ImportDeclaration",h[h.ImportSpecifier=17]="ImportSpecifier",h[h.IndexSignature=18]="IndexSignature",h[h.Interface=19]="Interface",h[h.JsxAttribute=20]="JsxAttribute",h[h.JsxSpreadAttribute=21]="JsxSpreadAttribute",h[h.JsxElement=22]="JsxElement",h[h.JsxSelfClosingElement=23]="JsxSelfClosingElement",h[h.JSDoc=24]="JSDoc",h[h.JSDocTag=25]="JSDocTag",h[h.Method=26]="Method",h[h.MethodOverload=27]="MethodOverload",h[h.MethodSignature=28]="MethodSignature",h[h.Module=29]="Module",h[h.Parameter=30]="Parameter",h[h.Property=31]="Property",h[h.PropertyAssignment=32]="PropertyAssignment",h[h.PropertySignature=33]="PropertySignature",h[h.SetAccessor=34]="SetAccessor",h[h.ShorthandPropertyAssignment=35]="ShorthandPropertyAssignment",h[h.SourceFile=36]="SourceFile",h[h.SpreadAssignment=37]="SpreadAssignment",h[h.TypeAlias=38]="TypeAlias",h[h.TypeParameter=39]="TypeParameter",h[h.VariableDeclaration=40]="VariableDeclaration",h[h.VariableStatement=41]="VariableStatement";let tQ={hasName:e=>"string"==typeof e.name,isAssertEntry:e=>(null==e?void 0:e.kind)===t.z_b.AssertEntry,isAssertionKeyNamed:e=>(null==e?void 0:e.kind)===t.z_b.AssertEntry,isCallSignature:e=>(null==e?void 0:e.kind)===t.z_b.CallSignature,isJSDocable(e){switch(null==e?void 0:e.kind){case t.z_b.CallSignature:case t.z_b.Class:case t.z_b.ClassStaticBlock:case t.z_b.ConstructorOverload:case t.z_b.Constructor:case t.z_b.ConstructSignature:case t.z_b.Enum:case t.z_b.EnumMember:case t.z_b.ExportAssignment:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.IndexSignature:case t.z_b.Interface:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.Module:case t.z_b.Property:case t.z_b.PropertySignature:case t.z_b.SetAccessor:case t.z_b.TypeAlias:case t.z_b.VariableStatement:return!0;default:return!1}},isSignatured(e){switch(null==e?void 0:e.kind){case t.z_b.CallSignature:case t.z_b.ConstructorOverload:case t.z_b.Constructor:case t.z_b.ConstructSignature:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.SetAccessor:return!0;default:return!1}},isParametered(e){switch(null==e?void 0:e.kind){case t.z_b.CallSignature:case t.z_b.ConstructorOverload:case t.z_b.Constructor:case t.z_b.ConstructSignature:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.SetAccessor:return!0;default:return!1}},isReturnTyped(e){switch(null==e?void 0:e.kind){case t.z_b.CallSignature:case t.z_b.ConstructorOverload:case t.z_b.Constructor:case t.z_b.ConstructSignature:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.IndexSignature:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.SetAccessor:return!0;default:return!1}},isTypeParametered(e){switch(null==e?void 0:e.kind){case t.z_b.CallSignature:case t.z_b.Class:case t.z_b.ConstructorOverload:case t.z_b.Constructor:case t.z_b.ConstructSignature:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.Interface:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.SetAccessor:case t.z_b.TypeAlias:return!0;default:return!1}},isClass:e=>(null==e?void 0:e.kind)===t.z_b.Class,isClassLikeDeclarationBase:e=>(null==e?void 0:e.kind)===t.z_b.Class,isNameable(e){switch(null==e?void 0:e.kind){case t.z_b.Class:case t.z_b.Function:return!0;default:return!1}},isImplementsClauseable:e=>(null==e?void 0:e.kind)===t.z_b.Class,isDecoratable(e){switch(null==e?void 0:e.kind){case t.z_b.Class:case t.z_b.GetAccessor:case t.z_b.Method:case t.z_b.Parameter:case t.z_b.Property:case t.z_b.SetAccessor:return!0;default:return!1}},isAbstractable(e){switch(null==e?void 0:e.kind){case t.z_b.Class:case t.z_b.GetAccessor:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.Property:case t.z_b.SetAccessor:return!0;default:return!1}},isAmbientable(e){switch(null==e?void 0:e.kind){case t.z_b.Class:case t.z_b.Enum:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.Interface:case t.z_b.Module:case t.z_b.Property:case t.z_b.TypeAlias:case t.z_b.VariableStatement:return!0;default:return!1}},isExportable(e){switch(null==e?void 0:e.kind){case t.z_b.Class:case t.z_b.Enum:case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.Interface:case t.z_b.Module:case t.z_b.TypeAlias:case t.z_b.VariableStatement:return!0;default:return!1}},isClassStaticBlock:e=>(null==e?void 0:e.kind)===t.z_b.ClassStaticBlock,isStatemented(e){switch(null==e?void 0:e.kind){case t.z_b.ClassStaticBlock:case t.z_b.Constructor:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.Method:case t.z_b.Module:case t.z_b.SetAccessor:case t.z_b.SourceFile:return!0;default:return!1}},isConstructorDeclarationOverload:e=>(null==e?void 0:e.kind)===t.z_b.ConstructorOverload,isScoped(e){switch(null==e?void 0:e.kind){case t.z_b.ConstructorOverload:case t.z_b.Constructor:case t.z_b.GetAccessor:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.Property:case t.z_b.SetAccessor:return!0;default:return!1}},isConstructor:e=>(null==e?void 0:e.kind)===t.z_b.Constructor,isFunctionLike(e){switch(null==e?void 0:e.kind){case t.z_b.Constructor:case t.z_b.Function:case t.z_b.GetAccessor:case t.z_b.Method:case t.z_b.SetAccessor:return!0;default:return!1}},isConstructSignature:e=>(null==e?void 0:e.kind)===t.z_b.ConstructSignature,isDecorator:e=>(null==e?void 0:e.kind)===t.z_b.Decorator,isEnum:e=>(null==e?void 0:e.kind)===t.z_b.Enum,isNamed(e){switch(null==e?void 0:e.kind){case t.z_b.Enum:case t.z_b.Interface:case t.z_b.ShorthandPropertyAssignment:case t.z_b.TypeAlias:case t.z_b.TypeParameter:return!0;default:return!1}},isEnumMember:e=>(null==e?void 0:e.kind)===t.z_b.EnumMember,isPropertyNamed(e){switch(null==e?void 0:e.kind){case t.z_b.EnumMember:case t.z_b.GetAccessor:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.PropertyAssignment:case t.z_b.Property:case t.z_b.PropertySignature:case t.z_b.SetAccessor:return!0;default:return!1}},isInitializerExpressionable(e){switch(null==e?void 0:e.kind){case t.z_b.EnumMember:case t.z_b.Parameter:case t.z_b.Property:case t.z_b.PropertySignature:case t.z_b.VariableDeclaration:return!0;default:return!1}},isExportAssignment:e=>(null==e?void 0:e.kind)===t.z_b.ExportAssignment,isExportDeclaration:e=>(null==e?void 0:e.kind)===t.z_b.ExportDeclaration,isExportSpecifier:e=>(null==e?void 0:e.kind)===t.z_b.ExportSpecifier,isFunctionDeclarationOverload:e=>(null==e?void 0:e.kind)===t.z_b.FunctionOverload,isAsyncable(e){switch(null==e?void 0:e.kind){case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.MethodOverload:case t.z_b.Method:return!0;default:return!1}},isGeneratorable(e){switch(null==e?void 0:e.kind){case t.z_b.FunctionOverload:case t.z_b.Function:case t.z_b.MethodOverload:case t.z_b.Method:return!0;default:return!1}},isFunction:e=>(null==e?void 0:e.kind)===t.z_b.Function,isGetAccessor:e=>(null==e?void 0:e.kind)===t.z_b.GetAccessor,isStaticable(e){switch(null==e?void 0:e.kind){case t.z_b.GetAccessor:case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.Property:case t.z_b.SetAccessor:return!0;default:return!1}},isImportDeclaration:e=>(null==e?void 0:e.kind)===t.z_b.ImportDeclaration,isImportSpecifier:e=>(null==e?void 0:e.kind)===t.z_b.ImportSpecifier,isIndexSignature:e=>(null==e?void 0:e.kind)===t.z_b.IndexSignature,isReadonlyable(e){switch(null==e?void 0:e.kind){case t.z_b.IndexSignature:case t.z_b.Parameter:case t.z_b.Property:case t.z_b.PropertySignature:return!0;default:return!1}},isInterface:e=>(null==e?void 0:e.kind)===t.z_b.Interface,isExtendsClauseable:e=>(null==e?void 0:e.kind)===t.z_b.Interface,isTypeElementMembered:e=>(null==e?void 0:e.kind)===t.z_b.Interface,isJSDoc:e=>(null==e?void 0:e.kind)===t.z_b.JSDoc,isJSDocTag:e=>(null==e?void 0:e.kind)===t.z_b.JSDocTag,isJsxAttribute:e=>(null==e?void 0:e.kind)===t.z_b.JsxAttribute,isJsxElement:e=>(null==e?void 0:e.kind)===t.z_b.JsxElement,isJsxSelfClosingElement:e=>(null==e?void 0:e.kind)===t.z_b.JsxSelfClosingElement,isJsxTagNamed:e=>(null==e?void 0:e.kind)===t.z_b.JsxSelfClosingElement,isJsxAttributed:e=>(null==e?void 0:e.kind)===t.z_b.JsxSelfClosingElement,isJsxSpreadAttribute:e=>(null==e?void 0:e.kind)===t.z_b.JsxSpreadAttribute,isMethodDeclarationOverload:e=>(null==e?void 0:e.kind)===t.z_b.MethodOverload,isQuestionTokenable(e){switch(null==e?void 0:e.kind){case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.MethodSignature:case t.z_b.Parameter:case t.z_b.Property:case t.z_b.PropertySignature:return!0;default:return!1}},isOverrideable(e){switch(null==e?void 0:e.kind){case t.z_b.MethodOverload:case t.z_b.Method:case t.z_b.Parameter:case t.z_b.Property:return!0;default:return!1}},isMethod:e=>(null==e?void 0:e.kind)===t.z_b.Method,isMethodSignature:e=>(null==e?void 0:e.kind)===t.z_b.MethodSignature,isModule:e=>(null==e?void 0:e.kind)===t.z_b.Module,isModuleNamed:e=>(null==e?void 0:e.kind)===t.z_b.Module,isParameter:e=>(null==e?void 0:e.kind)===t.z_b.Parameter,isBindingNamed(e){switch(null==e?void 0:e.kind){case t.z_b.Parameter:case t.z_b.VariableDeclaration:return!0;default:return!1}},isTyped(e){switch(null==e?void 0:e.kind){case t.z_b.Parameter:case t.z_b.Property:case t.z_b.PropertySignature:case t.z_b.TypeAlias:case t.z_b.VariableDeclaration:return!0;default:return!1}},isScopeable:e=>(null==e?void 0:e.kind)===t.z_b.Parameter,isPropertyAssignment:e=>(null==e?void 0:e.kind)===t.z_b.PropertyAssignment,isProperty:e=>(null==e?void 0:e.kind)===t.z_b.Property,isExclamationTokenable(e){switch(null==e?void 0:e.kind){case t.z_b.Property:case t.z_b.VariableDeclaration:return!0;default:return!1}},isPropertySignature:e=>(null==e?void 0:e.kind)===t.z_b.PropertySignature,isSetAccessor:e=>(null==e?void 0:e.kind)===t.z_b.SetAccessor,isShorthandPropertyAssignment:e=>(null==e?void 0:e.kind)===t.z_b.ShorthandPropertyAssignment,isSourceFile:e=>(null==e?void 0:e.kind)===t.z_b.SourceFile,isSpreadAssignment:e=>(null==e?void 0:e.kind)===t.z_b.SpreadAssignment,isExpressioned:e=>(null==e?void 0:e.kind)===t.z_b.SpreadAssignment,isTypeAlias:e=>(null==e?void 0:e.kind)===t.z_b.TypeAlias,isTypeParameter:e=>(null==e?void 0:e.kind)===t.z_b.TypeParameter,isVariableDeclaration:e=>(null==e?void 0:e.kind)===t.z_b.VariableDeclaration,isVariableStatement:e=>(null==e?void 0:e.kind)===t.z_b.VariableStatement};function tq(e,t){return null==e.kind&&(e.kind=t),e}function tH(e){return e.iterateLastCharCodes(e=>e===w.CLOSE_BRACE||!!T.StringUtils.isWhitespaceCharCode(e)&&void 0)||!1}class tX extends tL{constructor(e,t){super(),this.factory=e,this.options=t}printTexts(e,t){if(null!=t){if("string"==typeof t||t instanceof Function)this.printText(e,t);else for(let r of t)tH(e)?e.blankLineIfLastNot():e.isAtStartOfFirstLineOfBlock()||e.newLineIfLastNot(),this.printText(e,r)}}printText(e,r){if("string"==typeof r||r instanceof Function||null==r){this.printTextOrWriterFunc(e,r);return}switch(r.kind){case t.z_b.Method:this.options.isAmbient||i(),this.factory.forMethodDeclaration(this.options).printText(e,r);break;case t.z_b.Property:this.factory.forPropertyDeclaration().printText(e,r);break;case t.z_b.GetAccessor:this.options.isAmbient||i(),this.factory.forGetAccessorDeclaration(this.options).printText(e,r);break;case t.z_b.SetAccessor:this.options.isAmbient||i(),this.factory.forSetAccessorDeclaration(this.options).printText(e,r);break;case t.z_b.Constructor:this.options.isAmbient||i(),this.factory.forConstructorDeclaration(this.options).printText(e,r);break;case t.z_b.ClassStaticBlock:i(),this.factory.forClassStaticBlockDeclaration().printText(e,r);break;default:T.errors.throwNotImplementedForNeverValueError(r)}function i(){e.isAtStartOfFirstLineOfBlock()||e.blankLineIfLastNot()}}}class tZ extends t${constructor(e){super(e)}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++)r>0&&e.blankLine(),this.printText(e,t[r])}printTextInternal(e,t){e.write("static"),e.space().inlineBlock(()=>{this.factory.forStatementedNode({isAmbient:!1}).printText(e,t)})}}class tY extends t${constructor(e,t){super(e),this.options=t}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++)r>0&&(this.options.isAmbient?e.newLine():e.blankLine()),this.printText(e,t[r])}printTextInternal(e,t){this.printOverloads(e,function(){let e=T.ObjectUtils.clone(t.overloads);if(null!=e&&0!==e.length){for(let r of e)L(r,"scope",t.scope);return e}}()),this.printHeader(e,t),this.options.isAmbient?e.write(";"):e.space().inlineBlock(()=>{this.factory.forStatementedNode(this.options).printText(e,t)})}printOverloads(e,t){if(null!=t&&0!==t.length)for(let r of t)this.printOverload(e,r),e.newLine()}printOverload(e,t){this.printLeadingTrivia(e,t),this.printHeader(e,t),e.write(";"),this.printTrailingTrivia(e,t)}printHeader(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write("constructor"),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters)}}class t0 extends t${constructor(e,t){super(e),this.options=t,this.blankLineWriter=new tB(this)}printTexts(e,t){this.blankLineWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forDecorator().printTexts(e,t.decorators),this.factory.forModifierableNode().printText(e,t),e.write(`get ${t.name}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode().printText(e,t),this.options.isAmbient||t.isAbstract?e.write(";"):e.spaceIfLastNot().inlineBlock(()=>{this.factory.forStatementedNode(this.options).printText(e,t)})}}class t1 extends t${constructor(e,t){super(e),this.options=t}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++)r>0&&(this.options.isAmbient?e.newLine():e.blankLine()),this.printText(e,t[r])}printTextInternal(e,t){this.printOverloads(e,t.name,function(){let e=T.ObjectUtils.clone(t.overloads);if(null!=e&&0!==e.length){for(let r of e)L(r,"scope",t.scope),L(r,"isStatic",t.isStatic),L(r,"isAbstract",t.isAbstract),L(r,"hasQuestionToken",t.hasQuestionToken);return e}}()),this.printHeader(e,t.name,t),this.options.isAmbient||t.isAbstract?e.write(";"):e.spaceIfLastNot().inlineBlock(()=>{this.factory.forStatementedNode(this.options).printText(e,t)})}printOverloads(e,t,r){if(null!=r&&0!==r.length)for(let i of r)this.printOverload(e,t,i),e.newLine()}printOverload(e,t,r){this.printLeadingTrivia(e,r),this.printHeader(e,t,r),e.write(";"),this.printTrailingTrivia(e,r)}printHeader(e,t,r){this.factory.forJSDoc().printDocs(e,r.docs),null!=r.decorators&&this.factory.forDecorator().printTexts(e,r.decorators),this.factory.forModifierableNode().printText(e,r),e.write(t),e.conditionalWrite(r.hasQuestionToken,"?"),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,r.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,r.parameters),this.factory.forReturnTypedNode().printText(e,r)}}class t2 extends t${constructor(){super(...arguments),this.multipleWriter=new tU(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forDecorator().printTexts(e,t.decorators),this.factory.forModifierableNode().printText(e,t),e.write(t.name),e.conditionalWrite(t.hasQuestionToken,"?"),e.conditionalWrite(t.hasExclamationToken&&!t.hasQuestionToken,"!"),this.factory.forTypedNode(":").printText(e,t),this.factory.forInitializerExpressionableNode().printText(e,t),e.write(";")}}class t3 extends t${constructor(e,t){super(e),this.options=t,this.multipleWriter=new tB(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forDecorator().printTexts(e,t.decorators),this.factory.forModifierableNode().printText(e,t),e.write(`set ${t.name}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode().printText(e,t),this.options.isAmbient||t.isAbstract?e.write(";"):e.spaceIfLastNot().inlineBlock(()=>{this.factory.forStatementedNode(this.options).printText(e,t)})}}class t8 extends tL{printText(e,t){"string"==typeof t?e.write(t):t(e)}}class t9 extends t${printTexts(e,t){this.printMultiple(e,t,()=>e.newLine())}printTextsInline(e,t){this.printMultiple(e,t,()=>e.space())}printTextInternal(e,t){e.write(`@${t.name}`),this.printTypeArguments(e,t),this.printArguments(e,t)}printTypeArguments(e,t){if(null!=t.typeArguments&&0!==t.typeArguments.length){e.write("<");for(let r=0;r<t.typeArguments.length;r++)e.conditionalWrite(r>0,", "),e.write(this.getTextWithQueuedChildIndentation(e,t.typeArguments[r]));e.write(">")}}printArguments(e,t){if(null==t.arguments)return;e.write("(");let r=t.arguments instanceof Array?t.arguments:[t.arguments];for(let t=0;t<r.length;t++)e.conditionalWrite(t>0,", "),e.write(this.getTextWithQueuedChildIndentation(e,r[t]));e.write(")")}printMultiple(e,t,r){if(null!=t&&0!==t.length)for(let i of t)this.printText(e,i),r()}}class t6 extends t${printDocs(e,t){if(null!=t)for(let r of t)this.printText(e,r),e.newLine()}printTextInternal(e,t){let r=function(r){if("string"==typeof t)return t;let i=r.getNewWriter(e);return"function"==typeof t?t(i):(t.description&&W(i,t.description),t.tags&&t.tags.length>0&&(i.getLength()>0&&i.newLine(),r.factory.forJSDocTag({printStarsOnNewLine:!1}).printTexts(i,t.tags))),i.toString()}(this),i=r.split(/\r?\n/),n=0===i[0].length,s=i.length<=1,o=n?1:0;if(e.write("/**"),s?e.space():e.newLine(),s)e.write(i[o]);else for(let t=o;t<i.length;t++)e.write(" *"),i[t].length>0&&e.write(` ${i[t]}`),e.newLine();e.spaceIfLastNot(),e.write("*/")}}class t7 extends t${constructor(e,t){super(e),this.options=t}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++)r>0&&(e.newLine(),e.conditionalWrite(this.options.printStarsOnNewLine," * ")),this.printText(e,t[r])}printTextInternal(e,t){let r=function(r){if("string"==typeof t)return t;let i=r.getNewWriter(e);if("function"==typeof t)t(i);else{t.text&&W(i,t.text);let e=i.toString();i.unsafeInsert(0,`@${t.tagName}`+(e.length>0&&!T.StringUtils.startsWithNewLine(e)?" ":""))}return i.toString()}(this),i=r.split(/\r?\n/);for(let t=0;t<i.length;t++)t>0&&(e.newLine(),this.options.printStarsOnNewLine&&e.write(" *")),i[t].length>0&&(this.options.printStarsOnNewLine&&t>0&&e.space(),e.write(i[t]))}}class t5 extends t${constructor(){super(...arguments),this.multipleWriter=new tB(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.conditionalWrite(t.isConst,"const "),e.write(`enum ${t.name} `).inlineBlock(()=>{this.factory.forEnumMember().printTexts(e,t.members)})}}class t4 extends t${constructor(){super(...arguments),this.multipleWriter=new tj(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){var r;if(t instanceof Function){t(e);return}if("string"==typeof t){e.write(t);return}if((this.factory.forJSDoc().printDocs(e,t.docs),r=t.name,!J.has(r)&&(function(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(!(r>=48&&r<=57)&&!(r>=65&&r<=90)&&!(r>=97&&r<=122))return!1}return!0}(r)||R.test(r))||T.StringUtils.isQuoted(t.name))?e.write(t.name):e.quote(t.name),"string"==typeof t.value){let{value:r}=t;e.hangingIndent(()=>e.write(" = ").quote(r))}else"number"==typeof t.value?e.write(` = ${t.value}`):this.factory.forInitializerExpressionableNode().printText(e,t)}}class re extends tL{constructor(e){super(),this.factory=e,this.multipleWriter=new tj(this),this.options={isAmbient:!1}}printTexts(e,t){this.multipleWriter.printText(e,t)}printText(e,r){if("string"==typeof r||r instanceof Function||null==r){this.printTextOrWriterFunc(e,r);return}switch(r.kind){case t.z_b.PropertyAssignment:this.factory.forPropertyAssignment().printText(e,r);break;case t.z_b.ShorthandPropertyAssignment:this.factory.forShorthandPropertyAssignment().printText(e,r);break;case t.z_b.SpreadAssignment:this.factory.forSpreadAssignment().printText(e,r);break;case t.z_b.Method:this.factory.forMethodDeclaration(this.options).printText(e,r);break;case t.z_b.GetAccessor:this.factory.forGetAccessorDeclaration(this.options).printText(e,r);break;case t.z_b.SetAccessor:this.factory.forSetAccessorDeclaration(this.options).printText(e,r);break;default:T.errors.throwNotImplementedForNeverValueError(r)}}}class rt extends t${printTextInternal(e,t){e.hangingIndent(()=>{e.write(`${t.name}: `),W(e,t.initializer)})}}class rr extends t${printTextInternal(e,t){e.write(`${t.name}`)}}class ri extends t${printTextInternal(e,t){e.hangingIndent(()=>{e.write("..."),W(e,t.expression)})}}class rn extends t${constructor(e,t){super(e),this.options=t}printTexts(e,t){if(null!=t)for(let r=0;r<t.length;r++){let i=t[r];if(r>0){let n=t[r-1];this.options.isAmbient||n.hasDeclareKeyword&&i.hasDeclareKeyword?e.newLine():e.blankLine()}this.printText(e,i)}}printTextInternal(e,t){this.printOverloads(e,t.name,function(){let e=T.ObjectUtils.clone(t.overloads);if(null!=e&&0!==e.length){for(let r of e)L(r,"hasDeclareKeyword",t.hasDeclareKeyword),L(r,"isExported",t.isExported),L(r,"isDefaultExport",t.isDefaultExport);return e}}()),this.printHeader(e,t.name,t),this.options.isAmbient||t.hasDeclareKeyword?e.write(";"):e.space().inlineBlock(()=>{this.factory.forStatementedNode({isAmbient:!1}).printText(e,t)})}printOverloads(e,t,r){if(null!=r&&0!==r.length)for(let i of r)this.printOverload(e,t,i),e.newLine()}printOverload(e,t,r){this.printLeadingTrivia(e,r),this.printHeader(e,t,r),e.write(";"),this.printTrailingTrivia(e,r)}printHeader(e,t,r){this.factory.forJSDoc().printDocs(e,r.docs),this.factory.forModifierableNode().printText(e,r),e.write("function"),e.conditionalWrite(r.isGenerator,"*"),T.StringUtils.isNullOrWhitespace(t)||e.write(` ${t}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,r.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,r.parameters),this.factory.forReturnTypedNode().printText(e,r)}}class rs extends t${constructor(){super(...arguments),this.multipleWriter=new tR(this)}printTextsWithParenthesis(e,t){e.write("("),null!=t&&this.factory.forParameterDeclaration().printTexts(e,t),e.write(")")}printTexts(e,t){null!=t&&0!==t.length&&e.hangingIndent(()=>{this.multipleWriter.printText(e,t)})}printTextInternal(e,t){if(null==t.name)throw new T.errors.NotImplementedError("Not implemented scenario where parameter declaration structure doesn't have a name. Please open an issue if you need this.");this.factory.forDecorator().printTextsInline(e,t.decorators),this.factory.forModifierableNode().printText(e,t),e.conditionalWrite(t.isRestParameter,"..."),e.write(t.name),e.conditionalWrite(t.hasQuestionToken,"?"),this.factory.forTypedNode(":",t.hasQuestionToken).printText(e,t),this.factory.forInitializerExpressionableNode().printText(e,t)}}class ro extends t${constructor(){super(...arguments),this.multipleWriter=new tU(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode(!0).printText(e,t),e.write(";")}}class ra extends t${constructor(){super(...arguments),this.multipleWriter=new tU(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),e.write("new"),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode().printText(e,t),e.write(";")}}class rl extends t${constructor(){super(...arguments),this.multipleWriter=new tU(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write(`[${t.keyName||"key"}: ${t.keyType||"string"}]`),this.factory.forReturnTypedNode().printText(e,t),e.write(";")}}class rd extends t${constructor(){super(...arguments),this.multipleWriter=new tB(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){if(this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write(`interface ${t.name}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),e.space(),null!=t.extends){let r=t.extends instanceof Array?t.extends.map(t=>this.getText(e,t)).join(", "):this.getText(e,t.extends);T.StringUtils.isNullOrWhitespace(r)||e.hangingIndent(()=>e.write(`extends ${r} `))}e.inlineBlock(()=>{this.factory.forTypeElementMemberedNode().printText(e,t)})}}class rc extends t${constructor(){super(...arguments),this.multipleWriter=new tU(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),e.write(t.name),e.conditionalWrite(t.hasQuestionToken,"?"),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forParameterDeclaration().printTextsWithParenthesis(e,t.parameters),this.factory.forReturnTypedNode().printText(e,t),e.write(";")}}class ru extends t${constructor(){super(...arguments),this.multipleWriter=new tU(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write(t.name),e.conditionalWrite(t.hasQuestionToken,"?"),this.factory.forTypedNode(":").printText(e,t),this.factory.forInitializerExpressionableNode().printText(e,t),e.write(";")}}class rh extends tL{constructor(e){super(),this.factory=e}printText(e,t){this.factory.forCallSignatureDeclaration().printTexts(e,t.callSignatures),this.conditionalSeparator(e,t.constructSignatures),this.factory.forConstructSignatureDeclaration().printTexts(e,t.constructSignatures),this.conditionalSeparator(e,t.indexSignatures),this.factory.forIndexSignatureDeclaration().printTexts(e,t.indexSignatures),this.conditionalSeparator(e,t.properties),this.factory.forPropertySignature().printTexts(e,t.properties),this.conditionalSeparator(e,t.methods),this.factory.forMethodSignature().printTexts(e,t.methods)}conditionalSeparator(e,t){T.ArrayUtils.isNullOrEmpty(t)||e.isAtStartOfFirstLineOfBlock()||e.newLine()}}class rp extends tL{constructor(e){super(),this.factory=e}printTexts(e,t){if(null!=t){if("string"==typeof t||t instanceof Function)this.printText(e,t);else for(let r of t)tH(e)?e.blankLineIfLastNot():e.isAtStartOfFirstLineOfBlock()||e.newLineIfLastNot(),this.printText(e,r)}}printText(e,r){if("string"==typeof r||r instanceof Function||null==r){this.printTextOrWriterFunc(e,r);return}switch(r.kind){case t.z_b.PropertySignature:this.factory.forPropertySignature().printText(e,r);break;case t.z_b.MethodSignature:this.factory.forMethodSignature().printText(e,r);break;case t.z_b.CallSignature:this.factory.forCallSignatureDeclaration().printText(e,r);break;case t.z_b.IndexSignature:this.factory.forIndexSignatureDeclaration().printText(e,r);break;case t.z_b.ConstructSignature:this.factory.forConstructSignatureDeclaration().printText(e,r);break;default:T.errors.throwNotImplementedForNeverValueError(r)}}}class rg extends t${printTextInternal(e,r){if(null==r.kind||r.kind===t.z_b.JsxAttribute)this.factory.forJsxAttribute().printTextWithoutTrivia(e,r);else if(r.kind===t.z_b.JsxSpreadAttribute)this.factory.forJsxSpreadAttribute().printTextWithoutTrivia(e,r);else throw T.errors.throwNotImplementedForNeverValueError(r)}}class rm extends t${printTextInternal(e,t){"object"==typeof t.name?this.factory.forJsxNamespacedName().printText(e,t.name):e.write(t.name),null!=t.initializer&&e.write("=").write(t.initializer)}}class ry extends t${printTextInternal(e,r){null==r.kind||r.kind===t.z_b.JsxElement?this.factory.forJsxElement().printText(e,r):r.kind===t.z_b.JsxSelfClosingElement?this.factory.forJsxSelfClosingElement().printText(e,r):T.errors.throwNotImplementedForNeverValueError(r)}}class rx extends t${printTextInternal(e,t){e.hangingIndent(()=>{e.write(`<${t.name}`),t.attributes&&this.printAttributes(e,t.attributes),e.write(">")}),this.printChildren(e,t.children),e.write(`</${t.name}>`)}printAttributes(e,t){let r=this.factory.forJsxAttributeDecider();for(let i of t)e.space(),r.printText(e,i)}printChildren(e,t){null!=t&&(e.newLine(),e.indent(()=>{for(let r of t)this.factory.forJsxChildDecider().printText(e,r),e.newLine()}))}}class rf extends t${printTextInternal(e,t){e.write(t.namespace).write(":").write(t.name)}}class rS extends t${printTextInternal(e,t){e.hangingIndent(()=>{e.write(`<${t.name}`),t.attributes&&this.printAttributes(e,t.attributes),e.write(" />")})}printAttributes(e,t){let r=this.factory.forJsxAttributeDecider();for(let i of t)e.space(),r.printText(e,i)}}class rT extends t${printTextInternal(e,t){e.hangingIndent(()=>{e.write("{"),e.write("..."),e.write(t.expression),e.write("}")})}}class rN extends t${constructor(){super(...arguments),this.multipleWriter=new tj(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printAssertClause(e,t){t&&(e.write("assert "),e.inlineBlock(()=>{this.printTexts(e,t)}))}printTextInternal(e,t){e.write(t.name),e.write(": "),e.quote(t.value)}}class rK extends t${constructor(){super(...arguments),this.multipleWriter=new tU(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),e.write("export"),!1!==t.isExportEquals?e.write(" = "):e.write(" default "),e.write(this.getTextWithQueuedChildIndentation(e,t.expression)).write(";")}}class rb extends t${constructor(){super(...arguments),this.multipleWriter=new tU(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){let r=null!=t.moduleSpecifier&&t.moduleSpecifier.length>0,i=null!=t.namedExports&&t.namedExports.length>0;if(i&&null!=t.namespaceExport)throw new T.errors.InvalidOperationError("An export declaration cannot have both a namespace export and a named export.");e.write("export"),t.isTypeOnly&&e.write(" type"),null!=t.namedExports&&t.namedExports.length>0?(e.space(),this.factory.forNamedImportExportSpecifier().printTextsWithBraces(e,t.namedExports)):null!=t.namespaceExport?(e.write(" *"),T.StringUtils.isNullOrWhitespace(t.namespaceExport)||e.write(` as ${t.namespaceExport}`)):r?e.write(" *"):e.write(" {").conditionalWrite(this.factory.getFormatCodeSettings().insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces," ").write("}"),r&&(e.write(" from "),e.quote(t.moduleSpecifier)),t.assertElements&&(e.space(),this.factory.forAssertEntry().printAssertClause(e,t.assertElements)),e.write(";")}}class rw extends t${constructor(){super(...arguments),this.multipleWriter=new tU(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){let r=null!=t.namedImports&&t.namedImports.length>0;if(r&&null!=t.namespaceImport)throw new T.errors.InvalidOperationError("An import declaration cannot have both a namespace import and a named import.");e.write("import"),t.isTypeOnly&&e.write(" type"),null!=t.defaultImport&&(e.write(` ${t.defaultImport}`),e.conditionalWrite(r||null!=t.namespaceImport,",")),null!=t.namespaceImport&&e.write(` * as ${t.namespaceImport}`),null!=t.namedImports&&t.namedImports.length>0&&(e.space(),this.factory.forNamedImportExportSpecifier().printTextsWithBraces(e,t.namedImports)),e.conditionalWrite(null!=t.defaultImport||r||null!=t.namespaceImport," from"),e.write(" "),e.quote(t.moduleSpecifier),t.assertElements&&(e.space(),this.factory.forAssertEntry().printAssertClause(e,t.assertElements)),e.write(";")}}class rC extends t${constructor(e,t){super(e),this.options=t,this.blankLineFormattingWriter=new tB(this)}printTexts(e,t){this.blankLineFormattingWriter.printText(e,t)}printTextInternal(e,r){r=this.validateAndGetStructure(r),this.factory.forJSDoc().printDocs(e,r.docs),this.factory.forModifierableNode().printText(e,r),null==r.declarationKind||r.declarationKind!==t.y7J.Global?e.write(`${r.declarationKind||"namespace"} ${r.name}`):e.write("global"),r.hasDeclareKeyword&&T.StringUtils.isQuoted(r.name.trim())&&r.hasOwnProperty(T.nameof(r,"statements"))&&null==r.statements?e.write(";"):(e.write(" "),e.inlineBlock(()=>{this.factory.forStatementedNode({isAmbient:r.hasDeclareKeyword||this.options.isAmbient}).printText(e,r)}))}validateAndGetStructure(e){if(T.StringUtils.isQuoted(e.name.trim())){if(e.declarationKind===t.y7J.Namespace)throw new T.errors.InvalidOperationError(`Cannot print a namespace with quotes for namespace with name ${e.name}. Use ModuleDeclarationKind.Module instead.`);L(e=T.ObjectUtils.clone(e),"hasDeclareKeyword",!0),L(e,"declarationKind",t.y7J.Module)}return e}}class rF extends t${constructor(){super(...arguments),this.multipleWriter=new tR(this)}printTextsWithBraces(e,t){let r=this.factory.getFormatCodeSettings();e.write("{");let i=this.getNewWriter(e);this.printTexts(i,t);let n=i.toString();r.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces&&!T.StringUtils.startsWithNewLine(n)&&e.space(),e.write(n),r.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces&&!T.StringUtils.endsWithNewLine(n)&&e.space(),e.write("}")}printTexts(e,t){t instanceof Function?this.printText(e,t):this.multipleWriter.printText(e,t)}printTextInternal(e,t){let r=this.getNewWriterWithQueuedChildIndentation(e);"string"==typeof t?r.write(t):t instanceof Function?t(r):(t.isTypeOnly&&e.write("type "),r.write(t.name),T.StringUtils.isNullOrWhitespace(t.alias)||(r.isLastNewLine()||r.space(),r.write(`as ${t.alias}`))),e.write(r.toString())}}class r_ extends t${constructor(e,t){super(e),this.options=t}printTextInternal(e,t){this.factory.forStatementedNode(this.options).printText(e,t),e.conditionalNewLine(!e.isAtStartOfFirstLineOfBlock()&&!e.isLastNewLine())}}class rI extends tL{constructor(e,t){super(),this.factory=e,this.options=t}printText(e,t){this.factory.forStatement(this.options).printTexts(e,t.statements)}}class rE extends tL{constructor(e,t){super(),this.factory=e,this.options=t}printTexts(e,t){if(null!=t){if("string"==typeof t||t instanceof Function)this.printText(e,t);else for(let r of t)tH(e)?e.blankLineIfLastNot():e.isAtStartOfFirstLineOfBlock()||e.newLineIfLastNot(),this.printText(e,r)}}printText(e,r){if("string"==typeof r||r instanceof Function||null==r){this.printTextOrWriterFunc(e,r);return}switch(r.kind){case t.z_b.Function:this.options.isAmbient||i(),this.factory.forFunctionDeclaration(this.options).printText(e,r);break;case t.z_b.Class:i(),this.factory.forClassDeclaration(this.options).printText(e,r);break;case t.z_b.Interface:i(),this.factory.forInterfaceDeclaration().printText(e,r);break;case t.z_b.TypeAlias:this.factory.forTypeAliasDeclaration().printText(e,r);break;case t.z_b.VariableStatement:this.factory.forVariableStatement().printText(e,r);break;case t.z_b.ImportDeclaration:this.factory.forImportDeclaration().printText(e,r);break;case t.z_b.Module:i(),this.factory.forModuleDeclaration(this.options).printText(e,r);break;case t.z_b.Enum:i(),this.factory.forEnumDeclaration().printText(e,r);break;case t.z_b.ExportDeclaration:this.factory.forExportDeclaration().printText(e,r);break;case t.z_b.ExportAssignment:this.factory.forExportAssignment().printText(e,r);break;default:T.errors.throwNotImplementedForNeverValueError(r)}function i(){e.isAtStartOfFirstLineOfBlock()||e.blankLineIfLastNot()}}}t.bDp=void 0,(p=t.bDp||(t.bDp={})).Var="var",p.Let="let",p.Const="const",p.AwaitUsing="await using",p.Using="using";class rP extends t${constructor(){super(...arguments),this.multipleWriter=new tU(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,r){this.factory.forJSDoc().printDocs(e,r.docs),e.hangingIndent(()=>{this.factory.forModifierableNode().printText(e,r),e.write(`${r.declarationKind||t.bDp.Let} `),this.factory.forVariableDeclaration().printTexts(e,r.declarations),e.write(";")})}}class rD extends t${constructor(){super(...arguments),this.multipleWriter=new tU(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){this.factory.forJSDoc().printDocs(e,t.docs),this.factory.forModifierableNode().printText(e,t),e.write(`type ${t.name}`),this.factory.forTypeParameterDeclaration().printTextsWithBrackets(e,t.typeParameters),this.factory.forTypedNode(" =").printText(e,t),e.write(";")}}class rv extends t${constructor(){super(...arguments),this.multipleWriter=new tR(this)}printTextsWithBrackets(e,t){null!=t&&0!==t.length&&(e.write("<"),this.printTexts(e,t),e.write(">"))}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,r){if("string"==typeof r){e.write(r);return}e.hangingIndent(()=>{if(r.isConst&&e.write("const "),null!=r.variance&&((r.variance&t.xrt.In)!=0&&e.write("in "),(r.variance&t.xrt.Out)!=0&&e.write("out ")),e.write(r.name),null!=r.constraint){let t=this.getText(e,r.constraint);T.StringUtils.isNullOrWhitespace(t)||e.write(` extends ${t}`)}if(null!=r.default){let t=this.getText(e,r.default);T.StringUtils.isNullOrWhitespace(t)||e.write(` = ${t}`)}})}}class rO extends t${constructor(){super(...arguments),this.multipleWriter=new tR(this)}printTexts(e,t){this.multipleWriter.printText(e,t)}printTextInternal(e,t){e.write(t.name),e.conditionalWrite(t.hasExclamationToken,"!"),this.factory.forTypedNode(":").printText(e,t),this.factory.forInitializerExpressionableNode().printText(e,t)}}function rA(e){return class extends e{isGenerator(){return null!=this.compilerNode.asteriskToken}getAsteriskToken(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.asteriskToken)}getAsteriskTokenOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getAsteriskToken(),null!=e?e:"Expected to find an asterisk token.",this)}setIsGenerator(e){let t=this.getAsteriskToken();return null!=t===e||(null==t?e7({insertPos:function(e){if(e.getKind()===T.SyntaxKind.FunctionDeclaration)return e.getFirstChildByKindOrThrow(T.SyntaxKind.FunctionKeyword).getEnd();if(null==e.getName)throw new T.errors.NotImplementedError("Expected a name node for a non-function declaration.");return e.getNameNode().getStart()}(this),parent:this,newText:"*"}):ti({children:[t],getSiblingFormatting:()=>f.Space})),this}set(t){return G(e.prototype,this,t),null!=t.isGenerator&&this.setIsGenerator(t.isGenerator),this}getStructure(){return $(e.prototype,this,{isGenerator:this.isGenerator()})}}}function rL(e){return class extends e{getHeritageClauses(){var e;let t=this.compilerNode.heritageClauses;return null!==(e=null==t?void 0:t.map(e=>this._getNodeFromCompilerNode(e)))&&void 0!==e?e:[]}getHeritageClauseByKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getHeritageClauseByKind(e),null!=t?t:()=>`Expected to have heritage clause of kind ${T.getSyntaxKindName(e)}.`,this)}getHeritageClauseByKind(e){return this.getHeritageClauses().find(t=>t.compilerNode.token===e)}}}function rk(e){return class extends e{hasInitializer(){return null!=this.compilerNode.initializer}getInitializerIfKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getInitializerIfKind(e),null!=t?t:`Expected to find an initializer of kind '${T.getSyntaxKindName(e)}'.`,this)}getInitializerIfKind(e){let t=this.getInitializer();if(null==t||t.getKind()===e)return t}getInitializerOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getInitializer(),null!=e?e:"Expected to find an initializer.",this)}getInitializer(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.initializer)}}}function rM(e){var t;return t=rk(e),class extends t{removeInitializer(){let e=this.getInitializer();if(null==e)return this;let t=e.getPreviousSiblingIfKindOrThrow(T.SyntaxKind.EqualsToken);return tr({children:[t,e],removePrecedingSpaces:!0}),this}setInitializer(e){let t=M(this._getWriterWithQueuedChildIndentation(),e);T.errors.throwIfWhitespaceOrNotString(t,"textOrWriterFunction"),this.hasInitializer()&&this.removeInitializer();let r=this.getLastChildIfKind(T.SyntaxKind.SemicolonToken);return e7({insertPos:null!=r?r.getPos():this.getEnd(),parent:this,newText:` = ${t}`}),this}set(e){return G(t.prototype,this,e),null!=e.initializer?this.setInitializer(e.initializer):e.hasOwnProperty(T.nameof(e,"initializer"))&&this.removeInitializer(),this}getStructure(){let e=this.getInitializer();return $(t.prototype,this,{initializer:e?e.getText():void 0})}}}function rW(e){return class extends e{getJsDocs(){var e;let t=this.compilerNode.jsDoc;return null!==(e=null==t?void 0:t.map(e=>this._getNodeFromCompilerNode(e)))&&void 0!==e?e:[]}addJsDoc(e){return this.addJsDocs([e])[0]}addJsDocs(e){return this.insertJsDocs(ei(this.compilerNode.jsDoc),e)}insertJsDoc(e,t){return this.insertJsDocs(e,[t])[0]}insertJsDocs(e,t){if(T.ArrayUtils.isNullOrEmpty(t))return[];let r=this._getWriterWithQueuedIndentation(),i=this._context.structurePrinterFactory.forJSDoc();i.printDocs(r,t),r.write("");let n=r.toString(),s=this.getJsDocs();e=ex(e,s.length);let o=e===s.length?this.getStart():s[e].getStart();return e7({insertPos:o,parent:this,newText:n}),eh(s,this.getJsDocs(),e,!1)}set(t){return G(e.prototype,this,t),null!=t.docs&&(this.getJsDocs().forEach(e=>e.remove()),this.addJsDocs(t.docs)),this}getStructure(){return $(e.prototype,this,{docs:this.getJsDocs().map(e=>e.getStructure())})}}}function rz(e){return class extends e{getLiteralText(){return this.compilerNode.text}isTerminated(){return!this.compilerNode.isUnterminated}hasExtendedUnicodeEscape(){return this.compilerNode.hasExtendedUnicodeEscape||!1}}}function rB(e){return class extends e{getModifiers(){return this.getCompilerModifiers().map(e=>this._getNodeFromCompilerNode(e))}getFirstModifierByKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getFirstModifierByKind(e),null!=t?t:()=>`Expected a modifier of syntax kind: ${T.getSyntaxKindName(e)}`,this)}getFirstModifierByKind(e){for(let t of this.getCompilerModifiers())if(t.kind===e)return this._getNodeFromCompilerNode(t)}hasModifier(e){return"string"==typeof e?this.getModifiers().some(t=>t.getText()===e):this.getCompilerModifiers().some(t=>t.kind===e)}toggleModifier(e,t){return null==t&&(t=!this.hasModifier(e)),t?this.addModifier(e):this.removeModifier(e),this}addModifier(e){let t,r;let i=this.getModifiers(),n=this.getModifiers().filter(e=>e.getKind()!==T.SyntaxKind.Decorator),s=n.find(t=>t.getText()===e);if(null!=s)return s;let o=function(t){let r=function(){if(n.length>0)return n[0].getStart();for(let e of t._getChildrenIterator())if(!(e.getKind()===T.SyntaxKind.SyntaxList||T.ts.isJSDocCommentContainingNode(e.compilerNode)))return e.getStart();return t.getStart()}();for(let t of function(e){switch(e){case"export":case"public":case"protected":case"private":return[];case"default":case"const":return["export"];case"declare":return["export","default"];case"static":return["public","protected","private"];case"override":return["public","private","protected","static"];case"abstract":return["export","default","declare","public","private","protected","static","override"];case"async":case"readonly":return["export","default","declare","public","private","protected","static","override","abstract"];case"out":return["const","in"];case"in":return["const"];case"accessor":return["public","private","protected","declare","override","static","abstract","readonly"];default:T.errors.throwNotImplementedForNeverValueError(e)}}(e))for(let e=0;e<n.length;e++){let i=n[e];if(i.getText()===t){r<i.getEnd()&&(r=i.getEnd());break}}return r}(this),a=0===n.length||o===n[0].getStart();return a?(r=e+" ",t=o):(r=" "+e,t=o+1),e7({parent:0===i.length?this:i[0].getParentSyntaxListOrThrow(),insertPos:o,newText:r}),this.getModifiers().find(e=>e.getStart()===t)}removeModifier(e){let t=this.getModifiers(),r=t.find(t=>t.getText()===e);return null!=r&&(tr({children:[1===t.length?r.getParentSyntaxListOrThrow():r],removeFollowingSpaces:!0}),!0)}getCompilerModifiers(){var e;return null!==(e=this.compilerNode.modifiers)&&void 0!==e?e:[]}}}function rR(e){return class extends e{addImportDeclaration(e){return this.addImportDeclarations([e])[0]}addImportDeclarations(e){let t=this._getCompilerStatementsWithComments();return this.insertImportDeclarations(function(){let e=0,r=!0;for(let i=0;i<t.length;i++){let n=t[i];r&&n.kind===T.SyntaxKind.MultiLineCommentTrivia?e=i+1:(r=!1,n.kind===T.SyntaxKind.ImportDeclaration&&(e=i+1))}return e}(),e)}insertImportDeclaration(e,t){return this.insertImportDeclarations(e,[t])[0]}insertImportDeclarations(e,t){return this._insertChildren({expectedKind:T.SyntaxKind.ImportDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forImportDeclaration().printTexts(e,t)},{previousNewLine:e=>tx.isImportDeclaration(e)||eO(e.compilerNode),nextNewLine:e=>tx.isImportDeclaration(e)})}})}getImportDeclaration(e){return this.getImportDeclarations().find("string"==typeof e?t=>t.getModuleSpecifierValue()===e:e)}getImportDeclarationOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getImportDeclaration(e),null!=t?t:"Expected to find an import with the provided condition.",this)}getImportDeclarations(){return this.getStatements().filter(tx.isImportDeclaration)}addExportDeclaration(e){return this.addExportDeclarations([e])[0]}addExportDeclarations(e){return this.insertExportDeclarations(this.getChildSyntaxListOrThrow().getChildCount(),e)}insertExportDeclaration(e,t){return this.insertExportDeclarations(e,[t])[0]}insertExportDeclarations(e,t){return this._insertChildren({expectedKind:T.SyntaxKind.ExportDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forExportDeclaration().printTexts(e,t)},{previousNewLine:e=>tx.isExportDeclaration(e)||eO(e.compilerNode),nextNewLine:e=>tx.isExportDeclaration(e)})}})}getExportDeclaration(e){return this.getExportDeclarations().find("string"==typeof e?t=>t.getModuleSpecifierValue()===e:e)}getExportDeclarationOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getExportDeclaration(e),null!=t?t:"Expected to find an export declaration with the provided condition.",this)}getExportDeclarations(){return this.getStatements().filter(tx.isExportDeclaration)}addExportAssignment(e){return this.addExportAssignments([e])[0]}addExportAssignments(e){return this.insertExportAssignments(this.getChildSyntaxListOrThrow().getChildCount(),e)}insertExportAssignment(e,t){return this.insertExportAssignments(e,[t])[0]}insertExportAssignments(e,t){return this._insertChildren({expectedKind:T.SyntaxKind.ExportAssignment,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forExportAssignment().printTexts(e,t)},{previousNewLine:e=>tx.isExportAssignment(e)||eO(e.compilerNode),nextNewLine:e=>tx.isExportAssignment(e)})}})}getExportAssignment(e){return this.getExportAssignments().find(e)}getExportAssignmentOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getExportAssignment(e),null!=t?t:"Expected to find an export assignment with the provided condition.",this)}getExportAssignments(){return this.getStatements().filter(tx.isExportAssignment)}getDefaultExportSymbol(){let e=this.getSymbol();if(null!=e)return e.getExport("default")}getDefaultExportSymbolOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getDefaultExportSymbol(),null!=e?e:"Expected to find a default export symbol")}getExportSymbols(){let e=this.getSymbol();return null==e?[]:this._context.typeChecker.getExportsOfModule(e)}getExportedDeclarations(){let e=new Map,t=this.getExportSymbols();for(let r of t)for(let t of r.getDeclarations()){let i=Array.from(function* e(t){if(tx.isExportSpecifier(t))for(let r of t.getLocalTargetDeclarations())yield*e(r);else if(tx.isExportAssignment(t)){let e=t.getExpression();if(null==e||e.getKind()!==T.SyntaxKind.Identifier){yield e;return}yield*r(e.getSymbol())}else if(tx.isImportSpecifier(t)){let e=t.getNameNode(),i=e.getSymbol();if(null==i)return;yield*r(i.getAliasedSymbol()||i)}else if(tx.isImportClause(t)){let e=t.getDefaultImport();if(null==e)return;let i=e.getSymbol();if(null==i)return;yield*r(i.getAliasedSymbol()||i)}else if(tx.isNamespaceImport(t)||tx.isNamespaceExport(t)){let e=t.getNameNode().getSymbol();if(null==e)return;yield*r(e.getAliasedSymbol()||e)}else yield t;function*r(t){if(null!=t)for(let r of t.getDeclarations())yield*e(r)}}(t)),n=r.getName(),s=e.get(n);null!=s?s.push(...i):e.set(r.getName(),i)}return e}removeDefaultExport(e){if(null==(e=e||this.getDefaultExportSymbol()))return this;let t=e.getDeclarations()[0];return t.compilerNode.kind===T.SyntaxKind.ExportAssignment?ti({children:[t],getSiblingFormatting:()=>f.Newline}):tx.isModifierable(t)&&(t.toggleModifier("default",!1),t.toggleModifier("export",!1)),this}}}function rJ(e){return class extends e{getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}getName(){return this.getNameNode().getText()}set(t){return G(e.prototype,this,t),null!=t.name&&this.getNameNode().replaceWithText(t.name),this}getStructure(){return $(e.prototype,this,{name:this.getName()})}}}function rj(e){return class extends e{findReferences(){return this._context.languageService.findReferences(rU(this))}findReferencesAsNodes(){return this._context.languageService.findReferencesAsNodes(rU(this))}}}function rU(e){if(tx.isIdentifier(e)||tx.isStringLiteral(e))return e;let t=e.getNodeProperty("name");return null!=t?t:tx.isExportable(e)&&e.getDefaultKeyword()||e}function rV(e){return class extends e{rename(e,t){return tb(function(e){if(tx.isIdentifier(e)||tx.isPrivateIdentifier(e)||tx.isStringLiteral(e))return e;if(null!=e.getNameNode){let t=e.getNameNode();if(T.errors.throwIfNullOrUndefined(t,"Expected to find a name node when renaming."),tx.isArrayBindingPattern(t)||tx.isObjectBindingPattern(t))throw new T.errors.NotImplementedError(`Not implemented renameable scenario for ${t.getKindName()}.`);return t}throw new T.errors.NotImplementedError(`Not implemented renameable scenario for ${e.getKindName()}`)}(this),e,t),this}}}function r$(e){let t=rj(rV(e));return rJ(t)}function rG(e){var t;return t=rj(rV(e)),class extends t{getNameNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.name)}getNameNodeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getNameNode(),null!=e?e:"Expected to have a name node.",this)}getName(){var e,t;return null!==(t=null===(e=this.getNameNode())||void 0===e?void 0:e.getText())&&void 0!==t?t:void 0}getNameOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getName(),null!=e?e:"Expected to have a name.",this)}rename(e){if(e===this.getName())return this;if(T.StringUtils.isNullOrWhitespace(e))return this.removeName(),this;let r=this.getNameNode();return null==r?rQ(this,e):t.prototype.rename.call(this,e),this}removeName(){let e=this.getNameNode();return null==e||tr({children:[e],removePrecedingSpaces:!0}),this}set(e){if(G(t.prototype,this,e),null!=e.name){T.errors.throwIfWhitespaceOrNotString(e.name,"structure.name");let t=this.getNameNode();null==t?rQ(this,e.name):t.replaceWithText(e.name)}else e.hasOwnProperty(T.nameof(e,"name"))&&this.removeName();return this}getStructure(){return $(t.prototype,this,{name:this.getName()})}}}function rQ(e,t){if(tx.isClassDeclaration(e)||tx.isClassExpression(e)){let r=e.getFirstChildByKindOrThrow(T.SyntaxKind.ClassKeyword);e7({insertPos:r.getEnd(),newText:" "+t,parent:e})}else{let r=e.getFirstChildByKindOrThrow(T.SyntaxKind.OpenParenToken);e7({insertPos:r.getStart(),newText:" "+t,parent:e})}}function rq(e){let t=rV(rj(e));return rJ(t)}function rH(e){let t=rj(rV(e));return rJ(t)}function rX(e){return class extends e{hasOverrideKeyword(){return this.hasModifier(T.SyntaxKind.OverrideKeyword)}getOverrideKeyword(){return this.getFirstModifierByKind(T.SyntaxKind.OverrideKeyword)}getOverrideKeywordOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getOverrideKeyword(),null!=e?e:"Expected to find an override keyword.",this)}setHasOverrideKeyword(e){return this.toggleModifier("override",e),this}set(t){return G(e.prototype,this,t),null!=t.hasOverrideKeyword&&this.setHasOverrideKeyword(t.hasOverrideKeyword),this}getStructure(){return $(e.prototype,this,{hasOverrideKeyword:this.hasOverrideKeyword()})}}}function rZ(e){return class extends e{hasQuestionDotToken(){return null!=this.compilerNode.questionDotToken}getQuestionDotTokenNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.questionDotToken)}getQuestionDotTokenNodeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getQuestionDotTokenNode(),null!=e?e:"Expected to find a question dot token.",this)}setHasQuestionDotToken(e){let t=this.getQuestionDotTokenNode();return e===(null!=t)||(e?tx.isPropertyAccessExpression(this)?this.getFirstChildByKindOrThrow(T.SyntaxKind.DotToken).replaceWithText("?."):e7({insertPos:(function(){return tx.isCallExpression(this)?this.getFirstChildByKindOrThrow(T.SyntaxKind.OpenParenToken).getStart():tx.isElementAccessExpression(this)?this.getFirstChildByKindOrThrow(T.SyntaxKind.OpenBracketToken).getStart():void T.errors.throwNotImplementedForSyntaxKindError(this.compilerNode.kind)}).call(this),parent:this,newText:"?."}):tx.isPropertyAccessExpression(this)?t.replaceWithText("."):tr({children:[t]})),this}set(t){return G(e.prototype,this,t),null!=t.hasQuestionDotToken&&this.setHasQuestionDotToken(t.hasQuestionDotToken),this}getStructure(){return $(e.prototype,this,{hasQuestionDotToken:this.hasQuestionDotToken()})}}}function rY(e){return class extends e{hasQuestionToken(){return null!=this.compilerNode.questionToken}getQuestionTokenNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.questionToken)}getQuestionTokenNodeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getQuestionTokenNode(),null!=e?e:"Expected to find a question token.",this)}setHasQuestionToken(e){let t=this.getQuestionTokenNode();return e===(null!=t)||(e?(tx.isExclamationTokenable(this)&&this.setHasExclamationToken(!1),e7({insertPos:(function(){if(tx.hasName(this))return this.getNameNode().getEnd();let e=this.getFirstChildByKind(T.SyntaxKind.ColonToken);if(null!=e)return e.getStart();let t=this.getLastChildByKind(T.SyntaxKind.SemicolonToken);return null!=t?t.getStart():this.getEnd()}).call(this),parent:this,newText:"?"})):tr({children:[t]})),this}set(t){return G(e.prototype,this,t),null!=t.hasQuestionToken&&this.setHasQuestionToken(t.hasQuestionToken),this}getStructure(){return $(e.prototype,this,{hasQuestionToken:this.hasQuestionToken()})}}}function r0(e){return class extends e{isReadonly(){return null!=this.getReadonlyKeyword()}getReadonlyKeyword(){return this.getFirstModifierByKind(T.SyntaxKind.ReadonlyKeyword)}getReadonlyKeywordOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getReadonlyKeyword(),null!=e?e:"Expected to find a readonly keyword.",this)}setIsReadonly(e){return this.toggleModifier("readonly",e),this}set(t){return G(e.prototype,this,t),null!=t.isReadonly&&this.setIsReadonly(t.isReadonly),this}getStructure(){return $(e.prototype,this,{isReadonly:this.isReadonly()})}}}function r1(e){return class extends e{getReturnType(){return this.getSignature().getReturnType()}getReturnTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}getReturnTypeNodeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getReturnTypeNode(),null!=e?e:"Expected to find a return type node.",this)}setReturnType(e){let t=M(this._getWriterWithQueuedChildIndentation(),e);if(T.StringUtils.isNullOrWhitespace(t))return this.removeReturnType();let r=this.getReturnTypeNode();return null!=r?r.getText()!==t&&r.replaceWithText(t):e7({parent:this,insertPos:(this.getKind()===T.SyntaxKind.IndexSignature?this.getFirstChildByKindOrThrow(T.SyntaxKind.CloseBracketToken):this.getFirstChildByKindOrThrow(T.SyntaxKind.CloseParenToken)).getEnd(),newText:`: ${t}`}),this}removeReturnType(){let e=this.getReturnTypeNode();if(null==e)return this;let t=e.getPreviousSiblingIfKindOrThrow(T.SyntaxKind.ColonToken);return tr({children:[t,e],removePrecedingSpaces:!0}),this}getSignature(){let e=this._context.typeChecker.getSignatureFromNode(this);if(null==e)throw new T.errors.NotImplementedError("Expected the node to have a signature.");return e}set(t){return G(e.prototype,this,t),null!=t.returnType?this.setReturnType(t.returnType):t.hasOwnProperty(T.nameof(t,"returnType"))&&this.removeReturnType(),this}getStructure(){let t=this.getReturnTypeNode();return $(e.prototype,this,{returnType:t?t.getText({trimLeadingIndentation:!0}):void 0})}}}function r2(e){let r=e.getCombinedModifierFlags();return(r&T.ts.ModifierFlags.Private)!=0?t.sXi.Private:(r&T.ts.ModifierFlags.Protected)!=0?t.sXi.Protected:(r&T.ts.ModifierFlags.Public)!=0?t.sXi.Public:void 0}function r3(e,r){e.toggleModifier("public",r===t.sXi.Public),e.toggleModifier("protected",r===t.sXi.Protected),e.toggleModifier("private",r===t.sXi.Private)}function r8(e){return class extends e{getScope(){return r2(this)||t.sXi.Public}setScope(e){return r3(this,e),this}hasScopeKeyword(){return null!=r2(this)}set(t){return G(e.prototype,this,t),t.hasOwnProperty(T.nameof(t,"scope"))&&this.setScope(t.scope),this}getStructure(){return $(e.prototype,this,{scope:this.hasScopeKeyword()?this.getScope():void 0})}}}function r9(e){var t;return r1((t=e,class extends t{getParameter(e){return C(this.getParameters(),e)}getParameterOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getParameter(e),()=>_("parameter",e))}getParameters(){return this.compilerNode.parameters.map(e=>this._getNodeFromCompilerNode(e))}addParameter(e){return this.addParameters([e])[0]}addParameters(e){return this.insertParameters(ei(this.compilerNode.parameters),e)}insertParameter(e,t){return this.insertParameters(e,[t])[0]}insertParameters(e,t){if(T.ArrayUtils.isNullOrEmpty(t))return[];let r=this.getParameters(),i=this.getFirstChildByKindOrThrow(T.SyntaxKind.OpenParenToken).getNextSiblingIfKindOrThrow(T.SyntaxKind.SyntaxList);e=ex(e,r.length);let n=this._getWriterWithQueuedChildIndentation(),s=this._context.structurePrinterFactory.forParameterDeclaration();return s.printTexts(n,t),e5({parent:i,currentNodes:r,insertIndex:e,newText:n.toString(),useTrailingCommas:!1}),eh(r,this.getParameters(),e,!1)}set(e){return G(t.prototype,this,e),null!=e.parameters&&(this.getParameters().forEach(e=>e.remove()),this.addParameters(e.parameters)),this}getStructure(){return $(t.prototype,this,{parameters:this.getParameters().map(e=>e.getStructure())})}}))}function r6(e){return class extends e{isStatic(){return this.hasModifier(T.SyntaxKind.StaticKeyword)}getStaticKeyword(){return this.getFirstModifierByKind(T.SyntaxKind.StaticKeyword)}getStaticKeywordOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getStaticKeyword(),null!=e?e:"Expected to find a static keyword.",this)}setIsStatic(e){return this.toggleModifier("static",e),this}set(t){return G(e.prototype,this,t),null!=t.isStatic&&this.setIsStatic(t.isStatic),this}getStructure(){return $(e.prototype,this,{isStatic:this.isStatic()})}}}function r7(e){return class extends e{insertText(e,t){return this.replaceText([e,e],t),this}removeText(e,t){return null==e?this.replaceText(r5(this),""):this.replaceText([e,t],""),this}replaceText(e,t){let r=this.getChildSyntaxListOrThrow(),i=r5(this),n=e[0],s=e[1];return function(){if(o(n),o(s),n>s)throw new T.errors.ArgumentError("range","Cannot specify a start position greater than the end position.")}(),e7({insertPos:n,newText:M(this._getWriter(),t),parent:r.getParentOrThrow(),replacing:{textLength:s-n,nodes:[r]}}),this;function o(e){if(!(e>=i[0])||!(e<=i[1]))throw new T.errors.InvalidOperationError(`Cannot insert or replace text outside the bounds of the node. Expected a position between [${i[0]}, ${i[1]}], but received ${e}.`)}}}}function r5(e){let t=tx.isSourceFile(e)?e:e.getChildSyntaxListOrThrow(),r=tx.isSourceFile(t)?void 0:t.getPreviousSiblingIfKind(T.SyntaxKind.OpenBraceToken),i=null==r?void 0:t.getNextSiblingIfKind(T.SyntaxKind.CloseBraceToken);return null!=r&&null!=i?[r.getEnd(),i.getStart()]:[t.getPos(),t.getEnd()]}function r4(e){return class extends e{getTypeArguments(){return null==this.compilerNode.typeArguments?[]:this.compilerNode.typeArguments.map(e=>this._getNodeFromCompilerNode(e))}addTypeArgument(e){return this.addTypeArguments([e])[0]}addTypeArguments(e){return this.insertTypeArguments(this.getTypeArguments().length,e)}insertTypeArgument(e,t){return this.insertTypeArguments(e,[t])[0]}insertTypeArguments(e,t){if(T.ArrayUtils.isNullOrEmpty(t))return[];let r=this.getTypeArguments();if(e=ex(e,r.length),0===r.length){let e=this.getFirstChildByKindOrThrow(T.SyntaxKind.Identifier);e7({insertPos:e.getEnd(),parent:this,newText:`<${t.join(", ")}>`})}else e5({parent:this.getFirstChildByKindOrThrow(T.SyntaxKind.LessThanToken).getNextSiblingIfKindOrThrow(T.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:t.join(", "),useTrailingCommas:!1});return eh(r,this.getTypeArguments(),e,!1)}removeTypeArgument(e){let t=this.getTypeArguments();if(0===t.length)throw new T.errors.InvalidOperationError("Cannot remove a type argument when none exist.");let r="number"==typeof e?t[ex(e,t.length-1)]:e;if(1===t.length){let e=t[0].getParentSyntaxListOrThrow();tr({children:[e.getPreviousSiblingIfKindOrThrow(T.SyntaxKind.LessThanToken),e,e.getNextSiblingIfKindOrThrow(T.SyntaxKind.GreaterThanToken)]})}else ts(r);return this}}}function ie(e){return class extends e{getTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}getTypeNodeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getTypeNode(),null!=e?e:"Expected to find a type node.",this)}setType(e){let t,r;let i=M(this._getWriterWithQueuedChildIndentation(),e);if(T.StringUtils.isNullOrWhitespace(i))return this.removeType();let n=this.getTypeNode();if(null!=n&&n.getText()===i)return this;let s=it(this),o=this.getFirstChildByKind(s);return null==o?(t=function(e){var t,r;let i=null!==(r=null!==(t=e.getFirstChildByKind(T.SyntaxKind.Identifier))&&void 0!==t?t:e.getFirstChildByKind(T.SyntaxKind.ArrayBindingPattern))&&void 0!==r?r:e.getFirstChildIfKindOrThrow(T.SyntaxKind.ObjectBindingPattern,"A first child of the kind Identifier, ArrayBindingPattern, or ObjectBindingPattern was expected."),n=i.getNextSibling(),s=!function(e){if(null==e)return!1;let t=e.getKind();return t===T.SyntaxKind.QuestionToken||t===T.SyntaxKind.ExclamationToken}(n)?i:n;return s.getEnd()}(this),r=(s===T.SyntaxKind.EqualsToken?" = ":": ")+i):(t=n.getStart(),r=i),e7({parent:this,insertPos:t,newText:r,replacing:{textLength:null==n?0:n.getWidth()}}),this}set(t){return G(e.prototype,this,t),null!=t.type?this.setType(t.type):t.hasOwnProperty(T.nameof(t,"type"))&&this.removeType(),this}removeType(){if(this.getKind()===T.SyntaxKind.TypeAliasDeclaration)throw new T.errors.NotSupportedError(`Cannot remove the type of a type alias. Use ${T.nameof("setType")} instead.`);let e=this.getTypeNode();if(null==e)return this;let t=e.getPreviousSiblingIfKindOrThrow(it(this));return tr({children:[t,e],removePrecedingSpaces:!0}),this}getStructure(){let t=this.getTypeNode();return $(e.prototype,this,{type:t?t.getText({trimLeadingIndentation:!0}):void 0})}}}function it(e){return e.getKind()===T.SyntaxKind.TypeAliasDeclaration?T.SyntaxKind.EqualsToken:T.SyntaxKind.ColonToken}function ir(e){return class extends e{addMember(e){return this.addMembers([e])[0]}addMembers(e){return this.insertMembers(ei(this.getMembersWithComments()),e)}insertMember(e,t){return this.insertMembers(e,[t])[0]}insertMembers(e,t){return tt({getIndexedChildren:()=>this.getMembersWithComments(),index:e,parent:this,write:e=>{e.newLineIfLastNot();let r=this._getWriter(),i=this._context.structurePrinterFactory.forTypeElementMember();i.printTexts(r,t),e.write(r.toString()),e.newLineIfLastNot()}})}addConstructSignature(e){return this.addConstructSignatures([e])[0]}addConstructSignatures(e){return this.insertConstructSignatures(ei(this.getMembersWithComments()),e)}insertConstructSignature(e,t){return this.insertConstructSignatures(e,[t])[0]}insertConstructSignatures(e,t){return ii({thisNode:this,index:e,structures:t,expectedKind:T.SyntaxKind.ConstructSignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forConstructSignatureDeclaration()})}getConstructSignature(e){return this.getConstructSignatures().find(e)}getConstructSignatureOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getConstructSignature(e),null!=t?t:"Expected to find a construct signature with the provided condition.",this)}getConstructSignatures(){return this.compilerNode.members.filter(e=>e.kind===T.SyntaxKind.ConstructSignature).map(e=>this._getNodeFromCompilerNode(e))}addCallSignature(e){return this.addCallSignatures([e])[0]}addCallSignatures(e){return this.insertCallSignatures(ei(this.getMembersWithComments()),e)}insertCallSignature(e,t){return this.insertCallSignatures(e,[t])[0]}insertCallSignatures(e,t){return ii({thisNode:this,index:e,structures:t,expectedKind:T.SyntaxKind.CallSignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forCallSignatureDeclaration()})}getCallSignature(e){return this.getCallSignatures().find(e)}getCallSignatureOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getCallSignature(e),null!=t?t:"Expected to find a call signature with the provided condition.",this)}getCallSignatures(){return this.compilerNode.members.filter(e=>e.kind===T.SyntaxKind.CallSignature).map(e=>this._getNodeFromCompilerNode(e))}addIndexSignature(e){return this.addIndexSignatures([e])[0]}addIndexSignatures(e){return this.insertIndexSignatures(ei(this.getMembersWithComments()),e)}insertIndexSignature(e,t){return this.insertIndexSignatures(e,[t])[0]}insertIndexSignatures(e,t){return ii({thisNode:this,index:e,structures:t,expectedKind:T.SyntaxKind.IndexSignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forIndexSignatureDeclaration()})}getIndexSignature(e){return this.getIndexSignatures().find(e)}getIndexSignatureOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getIndexSignature(e),null!=t?t:"Expected to find a index signature with the provided condition.",this)}getIndexSignatures(){return this.compilerNode.members.filter(e=>e.kind===T.SyntaxKind.IndexSignature).map(e=>this._getNodeFromCompilerNode(e))}addMethod(e){return this.addMethods([e])[0]}addMethods(e){return this.insertMethods(ei(this.getMembersWithComments()),e)}insertMethod(e,t){return this.insertMethods(e,[t])[0]}insertMethods(e,t){return ii({thisNode:this,index:e,structures:t,expectedKind:T.SyntaxKind.MethodSignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forMethodSignature()})}getMethod(e){return C(this.getMethods(),e)}getMethodOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getMethod(e),()=>_("interface method signature",e))}getMethods(){return this.compilerNode.members.filter(e=>e.kind===T.SyntaxKind.MethodSignature).map(e=>this._getNodeFromCompilerNode(e))}addProperty(e){return this.addProperties([e])[0]}addProperties(e){return this.insertProperties(ei(this.getMembersWithComments()),e)}insertProperty(e,t){return this.insertProperties(e,[t])[0]}insertProperties(e,t){return ii({thisNode:this,index:e,structures:t,expectedKind:T.SyntaxKind.PropertySignature,createStructurePrinter:()=>this._context.structurePrinterFactory.forPropertySignature()})}getProperty(e){return C(this.getProperties(),e)}getPropertyOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getProperty(e),()=>_("interface property signature",e))}getProperties(){return this.compilerNode.members.filter(e=>e.kind===T.SyntaxKind.PropertySignature).map(e=>this._getNodeFromCompilerNode(e))}getMembers(){return this.compilerNode.members.map(e=>this._getNodeFromCompilerNode(e))}getMembersWithComments(){let e=this.compilerNode;return eD.getContainerArray(e,this._sourceFile.compilerNode).map(e=>this._getNodeFromCompilerNode(e))}set(t){return G(e.prototype,this,t),null!=t.callSignatures&&(this.getCallSignatures().forEach(e=>e.remove()),this.addCallSignatures(t.callSignatures)),null!=t.constructSignatures&&(this.getConstructSignatures().forEach(e=>e.remove()),this.addConstructSignatures(t.constructSignatures)),null!=t.indexSignatures&&(this.getIndexSignatures().forEach(e=>e.remove()),this.addIndexSignatures(t.indexSignatures)),null!=t.properties&&(this.getProperties().forEach(e=>e.remove()),this.addProperties(t.properties)),null!=t.methods&&(this.getMethods().forEach(e=>e.remove()),this.addMethods(t.methods)),this}getStructure(){return $(e.prototype,this,{callSignatures:this.getCallSignatures().map(e=>e.getStructure()),constructSignatures:this.getConstructSignatures().map(e=>e.getStructure()),indexSignatures:this.getIndexSignatures().map(e=>e.getStructure()),methods:this.getMethods().map(e=>e.getStructure()),properties:this.getProperties().map(e=>e.getStructure())})}}}function ii(e){return te({getIndexedChildren:()=>e.thisNode.getMembersWithComments(),parent:e.thisNode,index:e.index,structures:e.structures,expectedKind:e.expectedKind,write:(t,r)=>{t.newLineIfLastNot(),e.createStructurePrinter().printTexts(t,e.structures),t.newLineIfLastNot()}})}function is(e){return class extends e{getTypeParameter(e){return C(this.getTypeParameters(),e)}getTypeParameterOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getTypeParameter(e),()=>_("type parameter",e))}getTypeParameters(){let e=this.compilerNode.typeParameters;return null==e?[]:e.map(e=>this._getNodeFromCompilerNode(e))}addTypeParameter(e){return this.addTypeParameters([e])[0]}addTypeParameters(e){return this.insertTypeParameters(ei(this.compilerNode.typeParameters),e)}insertTypeParameter(e,t){return this.insertTypeParameters(e,[t])[0]}insertTypeParameters(e,t){if(T.ArrayUtils.isNullOrEmpty(t))return[];let r=this.getTypeParameters(),i=this._getWriterWithQueuedChildIndentation(),n=this._context.structurePrinterFactory.forTypeParameterDeclaration();return e=ex(e,r.length),n.printTexts(i,t),0===r.length?e7({insertPos:function(e){if(null!=e.getNameNode)return e.getNameNode().getEnd();if(tx.isCallSignatureDeclaration(e)||tx.isFunctionTypeNode(e))return e.getFirstChildByKindOrThrow(T.SyntaxKind.OpenParenToken).getStart();throw new T.errors.NotImplementedError(`Not implemented scenario inserting type parameters for node with kind ${e.getKindName()}.`)}(this),parent:this,newText:`<${i.toString()}>`}):e5({parent:this.getFirstChildByKindOrThrow(T.SyntaxKind.LessThanToken).getNextSiblingIfKindOrThrow(T.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:i.toString(),useTrailingCommas:!1}),eh(r,this.getTypeParameters(),e,!1)}set(t){return G(e.prototype,this,t),null!=t.typeParameters&&(this.getTypeParameters().forEach(e=>e.remove()),this.addTypeParameters(t.typeParameters)),this}getStructure(){return $(e.prototype,this,{typeParameters:this.getTypeParameters().map(e=>e.getStructure())})}}}function io(e){return class extends e{unwrap(){e6(this._sourceFile,new e8(this),new eG().getForUnwrappingNode(this))}}}let ia=tP(rM(r$(tx)));function il(e){return class extends e{isAbstract(){return null!=this.getAbstractKeyword()}getAbstractKeyword(){return this.getFirstModifierByKind(T.SyntaxKind.AbstractKeyword)}getAbstractKeywordOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getAbstractKeyword(),null!=e?e:"Expected to find an abstract keyword.",this)}setIsAbstract(e){return this.toggleModifier("abstract",e),this}set(t){return G(e.prototype,this,t),null!=t.isAbstract&&this.setIsAbstract(t.isAbstract),this}getStructure(){return $(e.prototype,this,{isAbstract:this.isAbstract()})}}}class id extends tx{getContextualType(){return this._context.typeChecker.getContextualType(this)}}let ic=id;class iu extends ic{getLeft(){return this._getNodeFromCompilerNode(this.compilerNode.left)}getOperatorToken(){return this._getNodeFromCompilerNode(this.compilerNode.operatorToken)}getRight(){return this._getNodeFromCompilerNode(this.compilerNode.right)}}let ih=iu;class ip extends id{}class ig extends ip{}class im extends ig{}class iy extends im{}class ix extends iy{}function iS(e){return class extends e{getExpression(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.expression)}getExpressionOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getExpression(),null!=e?e:"Expected to find an expression.",this)}getExpressionIfKind(e){let t=this.getExpression();return(null==t?void 0:t.getKind())===e?t:void 0}getExpressionIfKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getExpressionIfKind(e),null!=t?t:`An expression with the kind kind ${T.getSyntaxKindName(e)} was expected.`,this)}}}function iT(e){return class extends e{getExpression(){return this._getNodeFromCompilerNode(this.compilerNode.expression)}getExpressionIfKind(e){let{expression:t}=this.compilerNode;return t.kind===e?this._getNodeFromCompilerNode(t):void 0}getExpressionIfKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getExpressionIfKind(e),null!=t?t:`An expression of the kind ${T.getSyntaxKindName(e)} was expected.`,this)}setExpression(e){return this.getExpression().replaceWithText(e,this._getWriterWithQueuedChildIndentation()),this}set(t){return G(e.prototype,this,t),null!=t.expression&&this.setExpression(t.expression),this}}}let iN=ie(iT(id)),iK=iT(ip),ib=r4(tu(rZ(iT(im)))),iw=id,iC=id,iF=iT(ip),i_=rZ(iT(iy));class iI extends i_{getArgumentExpression(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.argumentExpression)}getArgumentExpressionOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getArgumentExpression(),null!=e?e:"Expected to find an argument expression.",this)}}let iE=ix,iP=rz(ix);class iD extends iP{}let iv=rq(ix),iO=r4(tu(iT(ix))),iA=iT(im);class iL extends tx{remove(){ts(this)}}class ik extends iL{}let iM=ix,iW=rk(rY(rH(iL))),iz=rk(rY(rq(iL))),iB=iT(iL),iR=id,iJ=iT(id),ij=iT(id),iU=ip,iV=ip,i$=rq(rZ(iT(iy)));class iG extends i${}let iQ=ie(iT(id)),iq=iT(id);iT(iI);let iH=ix;iT(iG);let iX=ix,iZ=ie(iT(ip)),iY=iT(ip),i0=iT(ip),i1=iS(rA(id)),i2=t_(tx);class i3 extends i2{remove(){to([this])}}function i8(e){return class extends e{getStatements(){var e;let t=this._getCompilerStatementsContainer(),r=null!==(e=null==t?void 0:t.statements)&&void 0!==e?e:[];return r.map(e=>this._getNodeFromCompilerNode(e))}getStatementsWithComments(){return this._getCompilerStatementsWithComments().map(e=>this._getNodeFromCompilerNode(e))}getStatement(e){return this.getStatements().find(e)}getStatementOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getStatement(e),null!=t?t:"Expected to find a statement matching the provided condition.",this)}getStatementByKind(e){let t=this._getCompilerStatementsWithComments().find(t=>t.kind===e);return this._getNodeFromCompilerNodeIfExists(t)}getStatementByKindOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getStatementByKind(e),null!=t?t:`Expected to find a statement with syntax kind ${T.getSyntaxKindName(e)}.`,this)}addStatements(e){return this.insertStatements(this._getCompilerStatementsWithComments().length,e)}insertStatements(e,t){return i9(this),(function(){let e=this.getChildSyntaxListOrThrow();if(tx.isCaseClause(this)||tx.isDefaultClause(this)){let t=e.getFirstChildIfKind(T.SyntaxKind.Block);if(null!=t)return t.getChildSyntaxListOrThrow()}return e}).call(this).insertChildText(e,e=>{let r=this._context.structurePrinterFactory.forStatement({isAmbient:P(this)});r.printTexts(e,t)})}removeStatement(e){return e=ex(e,this._getCompilerStatementsWithComments().length-1),this.removeStatements([e,e])}removeStatements(e){let t=this.getStatementsWithComments();return T.errors.throwIfRangeOutOfRange(e,[0,t.length],"indexRange"),to(t.slice(e[0],e[1]+1)),this}addClass(e){return this.addClasses([e])[0]}addClasses(e){return this.insertClasses(this._getCompilerStatementsWithComments().length,e)}insertClass(e,t){return this.insertClasses(e,[t])[0]}insertClasses(e,t){return this._insertChildren({expectedKind:T.SyntaxKind.ClassDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forClassDeclaration({isAmbient:P(this)}).printTexts(e,t)})}})}getClasses(){return this.getStatements().filter(tx.isClassDeclaration)}getClass(e){return C(this.getClasses(),e)}getClassOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getClass(e),()=>_("class",e))}addEnum(e){return this.addEnums([e])[0]}addEnums(e){return this.insertEnums(this._getCompilerStatementsWithComments().length,e)}insertEnum(e,t){return this.insertEnums(e,[t])[0]}insertEnums(e,t){return this._insertChildren({expectedKind:T.SyntaxKind.EnumDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forEnumDeclaration().printTexts(e,t)})}})}getEnums(){return this.getStatements().filter(tx.isEnumDeclaration)}getEnum(e){return C(this.getEnums(),e)}getEnumOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getEnum(e),()=>_("enum",e))}addFunction(e){return this.addFunctions([e])[0]}addFunctions(e){return this.insertFunctions(this._getCompilerStatementsWithComments().length,e)}insertFunction(e,t){return this.insertFunctions(e,[t])[0]}insertFunctions(e,t){return this._insertChildren({expectedKind:T.SyntaxKind.FunctionDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forFunctionDeclaration({isAmbient:P(this)}).printTexts(e,t)},{previousNewLine:e=>!0===t[0].hasDeclareKeyword&&tx.isFunctionDeclaration(e)&&null==e.getBody(),nextNewLine:e=>!0===t[t.length-1].hasDeclareKeyword&&tx.isFunctionDeclaration(e)&&null==e.getBody()})}})}getFunctions(){return this.getStatements().filter(tx.isFunctionDeclaration).filter(e=>e.isAmbient()||e.isImplementation())}getFunction(e){return C(this.getFunctions(),e)}getFunctionOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getFunction(e),()=>_("function",e))}addInterface(e){return this.addInterfaces([e])[0]}addInterfaces(e){return this.insertInterfaces(this._getCompilerStatementsWithComments().length,e)}insertInterface(e,t){return this.insertInterfaces(e,[t])[0]}insertInterfaces(e,t){return this._insertChildren({expectedKind:T.SyntaxKind.InterfaceDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forInterfaceDeclaration().printTexts(e,t)})}})}getInterfaces(){return this.getStatements().filter(tx.isInterfaceDeclaration)}getInterface(e){return C(this.getInterfaces(),e)}getInterfaceOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getInterface(e),()=>_("interface",e))}addModule(e){return this.addModules([e])[0]}addModules(e){return this.insertModules(this._getCompilerStatementsWithComments().length,e)}insertModule(e,t){return this.insertModules(e,[t])[0]}insertModules(e,t){return this._insertChildren({expectedKind:T.SyntaxKind.ModuleDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forModuleDeclaration({isAmbient:P(this)}).printTexts(e,t)})}})}getModules(){return this.getStatements().filter(tx.isModuleDeclaration)}getModule(e){return C(this.getModules(),e)}getModuleOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getModule(e),()=>_("module",e))}addTypeAlias(e){return this.addTypeAliases([e])[0]}addTypeAliases(e){return this.insertTypeAliases(this._getCompilerStatementsWithComments().length,e)}insertTypeAlias(e,t){return this.insertTypeAliases(e,[t])[0]}insertTypeAliases(e,t){return this._insertChildren({expectedKind:T.SyntaxKind.TypeAliasDeclaration,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forTypeAliasDeclaration().printTexts(e,t)},{previousNewLine:e=>tx.isTypeAliasDeclaration(e),nextNewLine:e=>tx.isTypeAliasDeclaration(e)})}})}getTypeAliases(){return this.getStatements().filter(tx.isTypeAliasDeclaration)}getTypeAlias(e){return C(this.getTypeAliases(),e)}getTypeAliasOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getTypeAlias(e),()=>_("type alias",e))}getVariableStatements(){return this.getStatements().filter(tx.isVariableStatement)}getVariableStatement(e){return this.getVariableStatements().find("string"==typeof e?t=>t.getDeclarations().some(t=>F(t,e)):e)}getVariableStatementOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getVariableStatement(e),null!=t?t:"Expected to find a variable statement that matched the provided condition.",this)}addVariableStatement(e){return this.addVariableStatements([e])[0]}addVariableStatements(e){return this.insertVariableStatements(this._getCompilerStatementsWithComments().length,e)}insertVariableStatement(e,t){return this.insertVariableStatements(e,[t])[0]}insertVariableStatements(e,t){return this._insertChildren({expectedKind:T.SyntaxKind.VariableStatement,index:e,structures:t,write:(e,r)=>{this._standardWrite(e,r,()=>{this._context.structurePrinterFactory.forVariableStatement().printTexts(e,t)},{previousNewLine:e=>tx.isVariableStatement(e),nextNewLine:e=>tx.isVariableStatement(e)})}})}getVariableDeclarations(){let e=[];for(let t of this.getVariableStatements())e.push(...t.getDeclarations());return e}getVariableDeclaration(e){return C(this.getVariableDeclarations(),e)}getVariableDeclarationOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getVariableDeclaration(e),()=>_("variable declaration",e))}getStructure(){let t={};return tx.isBodyable(this)&&!this.hasBody()?t.statements=void 0:t.statements=this.getStatements().map(e=>tx._hasStructure(e)?e.getStructure():e.getText({trimLeadingIndentation:!0})),$(e.prototype,this,t)}set(t){if(tx.isBodyable(this)&&null==t.statements&&t.hasOwnProperty(T.nameof(t,"statements")))this.removeBody();else if(null!=t.statements){let e=this._getCompilerStatementsWithComments().length;e>0&&this.removeStatements([0,e-1])}return G(e.prototype,this,t),null!=t.statements&&this.addStatements(t.statements),this}_getCompilerStatementsWithComments(){let e=this._getCompilerStatementsContainer();return null==e?[]:eD.getContainerArray(e,this._sourceFile.compilerNode)}_getCompilerStatementsContainer(){var e;if(tx.isSourceFile(this)||tx.isCaseClause(this)||tx.isDefaultClause(this))return this.compilerNode;if(tx.isModuleDeclaration(this)){let e=this._getInnerBody();if(null==e)return;return e.compilerNode}if(tx.isBodyable(this)||tx.isBodied(this))return null===(e=this.getBody())||void 0===e?void 0:e.compilerNode;if(tx.isBlock(this)||tx.isModuleBlock(this))return this.compilerNode;throw new T.errors.NotImplementedError(`Could not find the statements for node kind: ${this.getKindName()}, text: ${this.getText()}`)}_insertChildren(e){return i9(this),te({expectedKind:e.expectedKind,getIndexedChildren:()=>this.getStatementsWithComments(),index:e.index,parent:this,structures:e.structures,write:(t,r)=>e.write(t,r)})}_standardWrite(e,t,r,i={}){null==t.previousMember||null!=i.previousNewLine&&i.previousNewLine(t.previousMember)||tx.isCommentNode(t.previousMember)?t.isStartOfFile||e.newLineIfLastNot():e.blankLine(),r(),null==t.nextMember||null!=i.nextNewLine&&i.nextNewLine(t.nextMember)?e.newLineIfLastNot():e.blankLine()}}}function i9(e){tx.isBodyable(e)&&!e.hasBody()&&e.addBody()}let i6=r7(i8(i3)),i7=r7(tx),i5=rW(iT(r7(i8(tx)))),i4=tx;class ne extends i3{}let nt=i3,nr=r7(i8(tx));class ni extends i3{getStatement(){return this._getNodeFromCompilerNode(this.compilerNode.statement)}}let nn=iT(ni),ns=i3,no=iT(rW(i3)),na=iT(ni),nl=iT((i=ni,class extends i{isAwaited(){return null!=this.compilerNode.awaitModifier}getAwaitKeyword(){let e=this.compilerNode.awaitModifier;return this._getNodeFromCompilerNodeIfExists(e)}getAwaitKeywordOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getAwaitKeyword(),null!=e?e:"Expected to find an await token.")}setIsAwaited(e){let t=this.getAwaitKeyword();return null!=t===e||(null==t?e7({insertPos:function(e){if(e.getKind()===T.SyntaxKind.ForOfStatement)return e.getFirstChildByKindOrThrow(T.SyntaxKind.ForKeyword).getEnd();throw new T.errors.NotImplementedError("Expected a for of statement node.")}(this),parent:this,newText:" await"}):tr({children:[t],removePrecedingSpaces:!0})),this}set(e){return G(i.prototype,this,e),null!=e.isAwaited&&this.setIsAwaited(e.isAwaited),this}})),nd=ni,nc=iT(i3),nu=rW(i3),nh=i3,np=iS(i3),ng=iT(i3),nm=iT(i3),ny=i3,nx=tx,nf=function(e){let t=rj(rV(e));return rJ(t)}(tx),nS=iT(rW(i3)),nT=i3,nN=tx,nK=iS(tx),nb=tx,nw=i3;function nC(){return new T.errors.InvalidOperationError("Cannot add a named import to an import declaration that has a namespace import.")}let nF=tA(rB(rW(rq(i3)))),n_=tx,nI=i8(i3);function nE(e){return class extends e{getParentModuleOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getParentModule(),null!=e?e:"Expected to find the parent module declaration.",this)}getParentModule(){let e=this.getParentOrThrow();if(tx.isModuleBlock(e)){for(;e.getParentOrThrow().getKind()===T.SyntaxKind.ModuleDeclaration;)e=e.getParentOrThrow();return e}}}}t.y7J=void 0,(g=t.y7J||(t.y7J={})).Namespace="namespace",g.Module="module",g.Global="global";let nP=rR(io(r7(tF(nE(i8(rW(Q(tA(rB(function(e){let t=rj(rV(e));return rJ(t)}(i3)))))))))));function nD(e){e.getDeclarationKind()===t.y7J.Global&&e.setDeclarationKind(t.y7J.Namespace)}let nv=tx,nO=tx,nA=rV(tx),nL=rV(tx);class nk extends tm{constructor(e,t){super(e,t)}getFileName(){return this.compilerObject.fileName}}function nM(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}t.$$u=void 0,(m=t.$$u||(t.$$u={}))[m.NoChange=0]="NoChange",m[m.Updated=1]="Updated",m[m.Deleted=2]="Deleted";let nW=rR(r7(i8(tx)));class nz extends nW{constructor(e,t){super(e,t,void 0),this._isSaved=!1,this._modifiedEventContainer=new T.EventContainer,this._preModifiedEventContainer=new T.EventContainer,this._referenceContainer=new U(this),this.__sourceFile=this;let r=()=>{this.isFromExternalLibrary(),this._preModifiedEventContainer.unsubscribe(r)};this._preModifiedEventContainer.subscribe(r)}_replaceCompilerNodeFromFactory(e){super._replaceCompilerNodeFromFactory(e),this._context.resetProgram(),this._isSaved=!1,this._modifiedEventContainer.fire(this)}_clearInternals(){function e(e){null==e||e.forEach(e=>e._forget())}super._clearInternals(),e(this._referencedFiles),e(this._typeReferenceDirectives),e(this._libReferenceDirectives),delete this._referencedFiles,delete this._typeReferenceDirectives,delete this._libReferenceDirectives}getFilePath(){return this.compilerNode.fileName}getBaseName(){return T.FileUtils.getBaseName(this.getFilePath())}getBaseNameWithoutExtension(){let e=this.getBaseName(),t=this.getExtension();return e.substring(0,e.length-t.length)}getExtension(){return T.FileUtils.getExtension(this.getFilePath())}getDirectory(){return this._context.compilerFactory.getDirectoryFromCache(this.getDirectoryPath())}getDirectoryPath(){return this._context.fileSystemWrapper.getStandardizedAbsolutePath(T.FileUtils.getDirPath(this.compilerNode.fileName))}getFullText(){return this.compilerNode.text}getLineAndColumnAtPos(e){let t=this.getFullText();return{line:T.StringUtils.getLineNumberAtPos(t,e),column:T.StringUtils.getLengthFromLineStartAtPos(t,e)+1}}getLengthFromLineStartAtPos(e){return T.StringUtils.getLengthFromLineStartAtPos(this.getFullText(),e)}copyToDirectory(e,t){let r="string"==typeof e?e:e.getPath();return this.copy(T.FileUtils.pathJoin(r,this.getBaseName()),t)}copy(e,t={}){this._throwIfIsInMemoryLibFile();let r=this._copyInternal(e,t);return!1===r?this:(r.getDirectoryPath()!==this.getDirectoryPath()&&r._updateReferencesForCopyInternal(this._getReferencesForCopyInternal()),r)}_copyInternal(e,t={}){let{overwrite:r=!1}=t,{compilerFactory:i,fileSystemWrapper:n}=this._context,s=n.getStandardizedAbsolutePath(e,this.getDirectoryPath());return s!==this.getFilePath()&&function(e){try{return i.createSourceFileFromText(s,e.getFullText(),{overwrite:r,markInProject:function(){if(e._isInProject())return!0;let t=i.getSourceFileFromCacheFromFilePath(s);return null!=t&&t._isInProject()}()})}catch(e){if(e instanceof T.errors.InvalidOperationError)throw new T.errors.InvalidOperationError("Did you mean to provide the overwrite option? "+e.message);throw e}}(this)}_getReferencesForCopyInternal(){return Array.from(this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries())}_updateReferencesForCopyInternal(e){for(let t of e)t[0]=this.getChildSyntaxListOrThrow().getDescendantAtStartWithWidth(t[0].getStart(),t[0].getWidth());nB(e)}async copyImmediately(e,t){let r=this.copy(e,t);return await r.save(),r}copyImmediatelySync(e,t){let r=this.copy(e,t);return r.saveSync(),r}moveToDirectory(e,t){let r="string"==typeof e?e:e.getPath();return this.move(T.FileUtils.pathJoin(r,this.getBaseName()),t)}move(e,t={}){this._throwIfIsInMemoryLibFile();let r=this.getDirectoryPath(),i=this._getReferencesForMoveInternal(),n=this.getFilePath();return this._moveInternal(e,t)&&(this._context.fileSystemWrapper.queueFileDelete(n),this._updateReferencesForMoveInternal(i,r),this._context.lazyReferenceCoordinator.clearDirtySourceFiles(),this._context.lazyReferenceCoordinator.addDirtySourceFile(this)),this}_moveInternal(e,t={}){let{overwrite:r=!1}=t,i=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getDirectoryPath());if(i===this.getFilePath())return!1;let n=!1;if(r){let e=this._context.compilerFactory.getSourceFileFromCacheFromFilePath(i);null!=e&&(n=e._isInProject(),e.forget())}else this._context.compilerFactory.throwIfFileExists(i,"Did you mean to provide the overwrite option?");return tc({newFilePath:i,sourceFile:this}),n&&this._markAsInProject(),this._isInProject()&&this.getDirectory()._markAsInProject(),!0}_getReferencesForMoveInternal(){return{literalReferences:Array.from(this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries()),referencingLiterals:Array.from(this._referenceContainer.getReferencingLiteralsInOtherSourceFiles())}}_updateReferencesForMoveInternal(e,t){let{literalReferences:r,referencingLiterals:i}=e;t!==this.getDirectoryPath()&&nB(r),nB(i.map(e=>[e,this]))}async moveImmediately(e,t){let r=this.getFilePath(),i=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getDirectoryPath());return this.move(e,t),r!==i?(await this._context.fileSystemWrapper.moveFileImmediately(r,i,this.getFullText()),this._isSaved=!0):await this.save(),this}moveImmediatelySync(e,t){let r=this.getFilePath(),i=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getDirectoryPath());return this.move(e,t),r!==i?(this._context.fileSystemWrapper.moveFileImmediatelySync(r,i,this.getFullText()),this._isSaved=!0):this.saveSync(),this}delete(){this._throwIfIsInMemoryLibFile();let e=this.getFilePath();this.forget(),this._context.fileSystemWrapper.queueFileDelete(e)}async deleteImmediately(){this._throwIfIsInMemoryLibFile();let e=this.getFilePath();this.forget(),await this._context.fileSystemWrapper.deleteFileImmediately(e)}deleteImmediatelySync(){this._throwIfIsInMemoryLibFile();let e=this.getFilePath();this.forget(),this._context.fileSystemWrapper.deleteFileImmediatelySync(e)}async save(){this._isLibFileInMemory()||(await this._context.fileSystemWrapper.writeFile(this.getFilePath(),this._getTextForSave()),this._isSaved=!0)}saveSync(){this._isLibFileInMemory()||(this._context.fileSystemWrapper.writeFileSync(this.getFilePath(),this._getTextForSave()),this._isSaved=!0)}_getTextForSave(){let e=this.getFullText();return this._hasBom?"\uFEFF"+e:e}getPathReferenceDirectives(){return null==this._referencedFiles&&(this._referencedFiles=(this.compilerNode.referencedFiles||[]).map(e=>new nk(e,this))),this._referencedFiles}getTypeReferenceDirectives(){return null==this._typeReferenceDirectives&&(this._typeReferenceDirectives=(this.compilerNode.typeReferenceDirectives||[]).map(e=>new nk(e,this))),this._typeReferenceDirectives}getLibReferenceDirectives(){return null==this._libReferenceDirectives&&(this._libReferenceDirectives=(this.compilerNode.libReferenceDirectives||[]).map(e=>new nk(e,this))),this._libReferenceDirectives}getReferencingSourceFiles(){return Array.from(this._referenceContainer.getDependentSourceFiles())}getReferencingNodesInOtherSourceFiles(){let e=this.getReferencingLiteralsInOtherSourceFiles();return Array.from(function*(){for(let t of e)yield nR(t)}())}getReferencingLiteralsInOtherSourceFiles(){return Array.from(this._referenceContainer.getReferencingLiteralsInOtherSourceFiles())}getReferencedSourceFiles(){let e=this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries();return Array.from(new Set(function*(){for(let[,t]of e)yield t}()).values())}getNodesReferencingOtherSourceFiles(){let e=this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries();return Array.from(function*(){for(let[t]of e)yield nR(t)}())}getLiteralsReferencingOtherSourceFiles(){let e=this._referenceContainer.getLiteralsReferencingOtherSourceFilesEntries();return Array.from(function*(){for(let[t]of e)yield t}())}getImportStringLiterals(){this._ensureBound();let e=this.compilerNode.imports||[];return e.filter(e=>-1!==e.pos).map(e=>this._getNodeFromCompilerNode(e))}getLanguageVersion(){return this.compilerNode.languageVersion}getLanguageVariant(){return this.compilerNode.languageVariant}getScriptKind(){return this.compilerNode.scriptKind}isDeclarationFile(){return this.compilerNode.isDeclarationFile}isFromExternalLibrary(){if(!this._context.program._isCompilerProgramCreated())return!1;let e=this._context.program.compilerObject;return e.isSourceFileFromExternalLibrary(this.compilerNode)}isInNodeModules(){return this.getFilePath().indexOf("/node_modules/")>=0}isSaved(){return this._isSaved&&!this._isLibFileInMemory()}_setIsSaved(e){this._isSaved=e}getPreEmitDiagnostics(){return this._context.getPreEmitDiagnostics(this)}unindent(e,t=1){return this.indent(e,-1*t)}indent(e,t=1){if(0===t)return this;let r=this.getFullText(),i="number"==typeof e?[e,e]:e;T.errors.throwIfRangeOutOfRange(i,[0,r.length],"positionRange");let n=es(r,i[0],e=>e===w.NEWLINE),s=en(r,i[1],e=>e===w.CARRIAGE_RETURN||e===w.NEWLINE),o=T.StringUtils.indent(r.substring(n,s),t,{indentText:this._context.manipulationSettings.getIndentationText(),indentSizeInSpaces:this._context.manipulationSettings._getIndentSizeInSpaces(),isInStringAtPos:e=>this.isInStringAtPos(e+n)});return td({sourceFile:this,newText:r.substring(0,n)+o+r.substring(s)}),this}emit(e){return this._context.program.emit({targetSourceFile:this,...e})}emitSync(e){return this._context.program.emitSync({targetSourceFile:this,...e})}getEmitOutput(e={}){return this._context.languageService.getEmitOutput(this,e.emitOnlyDtsFiles||!1)}formatText(e={}){td({sourceFile:this,newText:this._context.languageService.getFormattedDocumentText(this.getFilePath(),e)})}async refreshFromFileSystem(){let e=await this._context.fileSystemWrapper.readFileOrNotExists(this.getFilePath(),this._context.getEncoding());return this._refreshFromFileSystemInternal(e)}refreshFromFileSystemSync(){let e=this._context.fileSystemWrapper.readFileOrNotExistsSync(this.getFilePath(),this._context.getEncoding());return this._refreshFromFileSystemInternal(e)}getRelativePathTo(e){return this.getDirectory().getRelativePathTo(e)}getRelativePathAsModuleSpecifierTo(e){return this.getDirectory().getRelativePathAsModuleSpecifierTo(e)}onModified(e,t=!0){return t?this._modifiedEventContainer.subscribe(e):this._modifiedEventContainer.unsubscribe(e),this}_doActionPreNextModification(e){let t=()=>{e(),this._preModifiedEventContainer.unsubscribe(t)};return this._preModifiedEventContainer.subscribe(t),this}_firePreModified(){this._preModifiedEventContainer.fire(this)}organizeImports(e={},t={}){return this._context.languageService.organizeImports(this,e,t).forEach(e=>e.applyChanges()),this}fixUnusedIdentifiers(e={},t={}){return this._context.languageService.getCombinedCodeFix(this,"unusedIdentifier_delete",e,t).applyChanges(),this._context.languageService.getCombinedCodeFix(this,"unusedIdentifier_deleteImports",e,t).applyChanges(),this}fixMissingImports(e={},t={}){let r=this._context.languageService.getCombinedCodeFix(this,"fixMissingImport",e,t),i=this;for(let e of r.getChanges()){let t=e.getTextChanges();(function(e){e.sort((e,t)=>e.getSpan().getStart()-t.getSpan().getStart());for(let t=0;t<e.length-1;t++){let{compilerObject:r}=e[t];r.newText=r.newText.replace(/(\r?)\n\r?\n$/,"$1\n")}})(t),function(e){let t=T.ArrayUtils.groupBy(e,e=>e.getSpan().getStart()),r=0;for(let e of t){let t=e[0].getSpan().getStart()+r,n=e.map(e=>e.getNewText()).join("");(function(e){let{insertPos:t,newText:r,sourceFile:i}=e;e6(i,new eZ({insertPos:t,newText:r}),new eG().getForRange({sourceFile:i,start:t,end:t+r.length}))})({sourceFile:i,insertPos:t,newText:n}),r+=n.length}}(t)}return this}applyTextChanges(e){return 0===e.length||(this.forgetDescendants(),tl({sourceFile:this._sourceFile,start:0,replacingLength:this.getFullWidth(),newText:ee(this,e)})),this}set(e){return G(nW.prototype,this,e),this}getStructure(){return $(nW.prototype,this,{kind:t.z_b.SourceFile})}_refreshFromFileSystemInternal(e){return!1===e?(this.forget(),t.$$u.Deleted):e===this.getFullText()?t.$$u.NoChange:(this.replaceText([0,this.getEnd()],e),this._setIsSaved(!0),t.$$u.Updated)}_isLibFileInMemory(){return this.compilerNode.fileName.startsWith(T.libFolderInMemoryPath)}_throwIfIsInMemoryLibFile(){if(this._isLibFileInMemory())throw new T.errors.InvalidOperationError("This operation is not permitted on an in memory lib folder file.")}_isInProject(){return this._context.inProjectCoordinator.isSourceFileInProject(this)}_markAsInProject(){this._context.inProjectCoordinator.markSourceFileAsInProject(this)}}function nB(e){for(let[t,r]of e)v.isModuleSpecifierRelative(t.getLiteralText())&&t.setLiteralValue(t._sourceFile.getRelativePathAsModuleSpecifierTo(r))}function nR(e){let t=e.getParentOrThrow(),r=t.getParent();return null!=r&&tx.isImportEqualsDeclaration(r)?r:t}nM([T.Memoize],nz.prototype,"isFromExternalLibrary",null);let nJ=nE(rW(Q(tA(rB(i3))))),nj=iT(ni),nU=iT(i3);function nV(e){return rW(is(r9(i8(rB(e)))))}let n$=r7(tC(th(nV(id))));function nG(e){return class extends e{getOverloads(){return nQ(this).filter(e=>e.isOverload())}getImplementation(){return this.isImplementation()?this:nQ(this).find(e=>e.isImplementation())}getImplementationOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getImplementation(),null!=e?e:"Expected to find a corresponding implementation for the overload.",this)}isOverload(){return!this.isImplementation()}isImplementation(){return null!=this.getBody()}}}function nQ(e){let t=e.getParentOrThrow(),r=nq(e),i=nH(e),n=e.getKind();return t.forEachChildAsArray().filter(e=>nq(e)===r&&e.getKind()===n&&nH(e)===i)}function nq(e){if(e.getName instanceof Function)return e.getName()}function nH(e){return e.isStatic instanceof Function&&e.isStatic()}function nX(e){if(0===e.structures.length)return[];let t=e.node.getParentSyntaxListOrThrow(),r=e.node.getImplementation()||e.node,i=e.node.getOverloads(),n=i.length,s=i.length>0?i[0].getChildIndex():r.getChildIndex(),o=ex(e.index,n),a=e.getThisStructure(r),l=e.structures.map(e=>Object.assign(Object.assign({},a),e)),d=r._getWriterWithQueuedIndentation();for(let t of l)d.getLength()>0&&d.newLine(),e.printStructure(d,t);return d.newLine(),d.write(""),e7({parent:t,insertPos:(i[o]||r).getNonWhitespaceStart(),newText:d.toString()}),ep(t.getChildren(),s+o,l.length,e.expectedSyntaxKind)}let nZ=io(r7(nG(tF(th(rA(Q(tA(nV(nE(rG(i3))))))))))),nY=io(r7(th(rA(r9(Q(nE(rW(is(tA(rB(i3))))))))))),n0=rW(r7(tC(th(rA(i8(is(r9(rB(rG(ix)))))))))),n1=rX(rY(tI((n=r0(rB(tP(ie(rM(r$(tx)))))),class extends n{getScope(){let e=r2(this);return null!=e?e:tx.isParameterDeclaration(this)&&this.isReadonly()?t.sXi.Public:void 0}setScope(e){return r3(this,e),this}getScopeKeyword(){return this.getModifiers().find(e=>{let t=e.getText();return"public"===t||"protected"===t||"private"===t})}hasScopeKeyword(){return null!=this.getScopeKeyword()}set(e){return G(n.prototype,this,e),e.hasOwnProperty(T.nameof(e,"scope"))&&this.setScope(e.scope),this}getStructure(){return $(n.prototype,this,{scope:this.getScope()})}}))));function n2(e){let t=e.getParentOrThrow();tx.isArrowFunction(t)&&1===t.compilerNode.parameters.length&&null==e.getParentSyntaxListOrThrow().getPreviousSiblingIfKind(T.SyntaxKind.OpenParenToken)&&function(){let r=e.getText();e7({parent:t,insertPos:e.getStart(),newText:`(${r})`,replacing:{textLength:r.length},customMappings:t=>[{currentNode:e,newNode:t.parameters[0]}]})}()}class n3 extends tx{remove(){let e=this.getParentOrThrow();tx.isClassDeclaration(e)||tx.isClassExpression(e)?function(e){if(tx.isOverloadable(e)){if(e.isImplementation())tn([...e.getOverloads(),e]);else{let t=e.getParentOrThrow();tx.isAmbientable(t)&&t.isAmbient()?tn([e]):tr({children:[e],removeFollowingSpaces:!0,removeFollowingNewLines:!0})}}else tn([e])}(this):tx.isObjectLiteralExpression(e)?ts(this):T.errors.throwNotImplementedForSyntaxKindError(e.getKind())}}let n8=t_(r7(rX(nG(tF(tI(il(r8(rY(r6(th(rA(nV(rH(n3)))))))))))))),n9=rW(t_(r7(rX(r8(is(il(rY(r6(th(rB(rA(r9(n3)))))))))))));class n6 extends n8{set(e){return G(n8.prototype,this,e),null!=e.overloads&&(this.getOverloads().forEach(e=>e.remove()),this.addOverloads(e.overloads)),this}addOverload(e){return this.addOverloads([e])[0]}addOverloads(e){return this.insertOverloads(this.getOverloads().length,e)}insertOverload(e,t){return this.insertOverloads(e,[t])[0]}insertOverloads(e,t){let r=this.getName(),i=this._context.structurePrinterFactory.forMethodDeclaration({isAmbient:P(this)});return nX({node:this,index:e,structures:t,printStructure:(e,t)=>{i.printOverload(e,r,t)},getThisStructure:ey,expectedSyntaxKind:T.SyntaxKind.MethodDeclaration})}getStructure(){let e=null!=this.getImplementation(),r=this.isOverload(),i=r&&e?n9.prototype:n8.prototype;return $(i,this,e&&r?{kind:t.z_b.MethodOverload}:e?{kind:t.z_b.Method,overloads:this.getOverloads().map(e=>e.getStructure())}:{kind:t.z_b.Method})}}function n7(e){var t,r;return r=rG(r7((t=rL(il(rW(is(tI(rB(e)))))),class extends t{getImplements(){var e;let t=this.getHeritageClauseByKind(T.SyntaxKind.ImplementsKeyword);return null!==(e=null==t?void 0:t.getTypeNodes())&&void 0!==e?e:[]}addImplements(e){return this.insertImplements(this.getImplements().length,e)}insertImplements(e,t){let r=this.getImplements(),i="string"==typeof t;if("string"==typeof t)T.errors.throwIfWhitespaceOrNotString(t,"texts"),t=[t];else if(0===t.length)return[];let n=this._getWriterWithQueuedChildIndentation(),s=new tR(new t8);s.printText(n,t);let o=this.getHeritageClauses();if(e=ex(e,r.length),r.length>0){let t=this.getHeritageClauseByKindOrThrow(T.SyntaxKind.ImplementsKeyword);e5({parent:t.getFirstChildByKindOrThrow(T.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:n.toString(),useTrailingCommas:!1})}else{let e=this.getFirstChildByKindOrThrow(T.SyntaxKind.OpenBraceToken),t=e.getStart(),r=/\s/.test(this.getSourceFile().getFullText()[t-1]),i=`implements ${n.toString()} `;r||(i=" "+i),e7({parent:0===o.length?this:o[0].getParentSyntaxListOrThrow(),insertPos:t,newText:i})}let a=this.getImplements();return i?a[0]:eh(r,a,e,!1)}removeImplements(e){let t=this.getHeritageClauseByKind(T.SyntaxKind.ImplementsKeyword);if(null==t)throw new T.errors.InvalidOperationError("Cannot remove an implements when none exist.");return t.removeExpression(e),this}set(e){return G(t.prototype,this,e),null!=e.implements&&(this.getImplements().forEach(e=>this.removeImplements(e)),this.addImplements(e.implements)),this}getStructure(){return $(t.prototype,this,{implements:this.getImplements().map(e=>e.getText())})}}))),class extends r{setExtends(e){if(e=this._getTextWithQueuedChildIndentation(e),T.StringUtils.isNullOrWhitespace(e))return this.removeExtends();let t=this.getHeritageClauseByKind(T.SyntaxKind.ExtendsKeyword);if(null!=t){let r=t.getFirstChildByKindOrThrow(T.SyntaxKind.SyntaxList),i=r.getStart();e7({parent:t,newText:e,insertPos:i,replacing:{textLength:r.getEnd()-i}})}else{let t;let r=this.getHeritageClauseByKind(T.SyntaxKind.ImplementsKeyword);t=null!=r?r.getStart():this.getFirstChildByKindOrThrow(T.SyntaxKind.OpenBraceToken).getStart();let i=/\s/.test(this.getSourceFile().getFullText()[t-1]),n=`extends ${e} `;i||(n=" "+n),e7({parent:null==r?this:r.getParentSyntaxListOrThrow(),insertPos:t,newText:n})}return this}removeExtends(){let e=this.getHeritageClauseByKind(T.SyntaxKind.ExtendsKeyword);return null==e||e.removeExpression(0),this}getExtendsOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getExtends(),null!=e?e:`Expected to find the extends expression for the class ${this.getName()}.`,this)}getExtends(){let e=this.getHeritageClauseByKind(T.SyntaxKind.ExtendsKeyword);if(null==e)return;let t=e.getTypeNodes();return 0===t.length?void 0:t[0]}addMembers(e){return this.insertMembers(ei(this.getMembersWithComments()),e)}addMember(e){return this.insertMember(ei(this.getMembersWithComments()),e)}insertMember(e,t){return this.insertMembers(e,[t])[0]}insertMembers(e,t){let r=P(this);return tt({getIndexedChildren:()=>this.getMembersWithComments(),index:e,parent:this,write:(e,n)=>{let s=!r&&null!=n.previousMember&&tx.isBodyable(n.previousMember)&&n.previousMember.hasBody(),o=!r&&t instanceof Array&&i(t[0]);s||null!=n.previousMember&&o?e.blankLineIfLastNot():e.newLineIfLastNot();let a=this._getWriter(),l=this._context.structurePrinterFactory.forClassMember({isAmbient:r});l.printTexts(a,t),e.write(a.toString());let d=!r&&t instanceof Array&&i(t[t.length-1]),c=!r&&null!=n.nextMember&&tx.isBodyable(n.nextMember)&&n.nextMember.hasBody();null!=n.nextMember&&d||c?e.blankLineIfLastNot():e.newLineIfLastNot()}});function i(e){return!r&&null!=e&&"number"==typeof e.kind&&(tQ.isMethod(e)||tQ.isGetAccessor(e)||tQ.isSetAccessor(e)||tQ.isConstructor(e))}}addConstructor(e={}){return this.insertConstructor(ei(this.getMembersWithComments()),e)}addConstructors(e){return this.insertConstructors(ei(this.getMembersWithComments()),e)}insertConstructor(e,t={}){return this.insertConstructors(e,[t])[0]}insertConstructors(e,t){let r=P(this);return sr(this,{index:e,structures:t,expectedKind:T.SyntaxKind.Constructor,write:(e,i)=>{r||null==i.previousMember||tx.isCommentNode(i.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forConstructorDeclaration({isAmbient:r}).printTexts(e,t),r||null==i.nextMember?e.newLineIfLastNot():e.blankLineIfLastNot()}})}getConstructors(){return this.getMembers().filter(e=>tx.isConstructorDeclaration(e))}addStaticBlock(e={}){return this.insertStaticBlock(ei(this.getMembersWithComments()),e)}addStaticBlocks(e){return this.insertStaticBlocks(ei(this.getMembersWithComments()),e)}insertStaticBlock(e,t={}){return this.insertStaticBlocks(e,[t])[0]}insertStaticBlocks(e,t){let r=P(this);return sr(this,{index:e,structures:t,expectedKind:T.SyntaxKind.ClassStaticBlockDeclaration,write:(e,i)=>{r||null==i.previousMember||tx.isCommentNode(i.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forClassStaticBlockDeclaration().printTexts(e,t),r||null==i.nextMember?e.newLineIfLastNot():e.blankLineIfLastNot()}})}getStaticBlocks(){return this.getMembers().filter(e=>tx.isClassStaticBlockDeclaration(e))}addGetAccessor(e){return this.addGetAccessors([e])[0]}addGetAccessors(e){return this.insertGetAccessors(ei(this.getMembersWithComments()),e)}insertGetAccessor(e,t){return this.insertGetAccessors(e,[t])[0]}insertGetAccessors(e,t){return sr(this,{index:e,structures:t,expectedKind:T.SyntaxKind.GetAccessor,write:(e,r)=>{null==r.previousMember||tx.isCommentNode(r.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forGetAccessorDeclaration({isAmbient:P(this)}).printTexts(e,t),null!=r.nextMember?e.blankLineIfLastNot():e.newLineIfLastNot()}})}addSetAccessor(e){return this.addSetAccessors([e])[0]}addSetAccessors(e){return this.insertSetAccessors(ei(this.getMembersWithComments()),e)}insertSetAccessor(e,t){return this.insertSetAccessors(e,[t])[0]}insertSetAccessors(e,t){return sr(this,{index:e,structures:t,expectedKind:T.SyntaxKind.SetAccessor,write:(e,r)=>{null==r.previousMember||tx.isCommentNode(r.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forSetAccessorDeclaration({isAmbient:P(this)}).printTexts(e,t),null!=r.nextMember?e.blankLineIfLastNot():e.newLineIfLastNot()}})}addProperty(e){return this.addProperties([e])[0]}addProperties(e){return this.insertProperties(ei(this.getMembersWithComments()),e)}insertProperty(e,t){return this.insertProperties(e,[t])[0]}insertProperties(e,t){return sr(this,{index:e,structures:t,expectedKind:T.SyntaxKind.PropertyDeclaration,write:(e,r)=>{null!=r.previousMember&&tx.hasBody(r.previousMember)?e.blankLineIfLastNot():e.newLineIfLastNot(),this._context.structurePrinterFactory.forPropertyDeclaration().printTexts(e,t),null!=r.nextMember&&tx.hasBody(r.nextMember)?e.blankLineIfLastNot():e.newLineIfLastNot()}})}addMethod(e){return this.addMethods([e])[0]}addMethods(e){return this.insertMethods(ei(this.getMembersWithComments()),e)}insertMethod(e,t){return this.insertMethods(e,[t])[0]}insertMethods(e,t){let r=P(this);return sr(this,{index:e,write:(e,i)=>{r||null==i.previousMember||tx.isCommentNode(i.previousMember)?e.newLineIfLastNot():e.blankLineIfLastNot(),this._context.structurePrinterFactory.forMethodDeclaration({isAmbient:r}).printTexts(e,t),r||null==i.nextMember?e.newLineIfLastNot():e.blankLineIfLastNot()},structures:t=t.map(e=>({...e})),expectedKind:T.SyntaxKind.MethodDeclaration})}getInstanceProperty(e){return C(this.getInstanceProperties(),e)}getInstancePropertyOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getInstanceProperty(e),()=>_("class instance property",e))}getInstanceProperties(){return this.getInstanceMembers().filter(e=>se(e))}getStaticProperty(e){return C(this.getStaticProperties(),e)}getStaticPropertyOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getStaticProperty(e),()=>_("class static property",e))}getStaticProperties(){return this.getStaticMembers().filter(e=>se(e))}getProperty(e){return C(this.getProperties(),e)}getPropertyOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getProperty(e),()=>_("class property declaration",e))}getProperties(){return this.getMembers().filter(e=>tx.isPropertyDeclaration(e))}getGetAccessor(e){return C(this.getGetAccessors(),e)}getGetAccessorOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getGetAccessor(e),()=>_("class getAccessor declaration",e))}getGetAccessors(){return this.getMembers().filter(e=>tx.isGetAccessorDeclaration(e))}getSetAccessor(e){return C(this.getSetAccessors(),e)}getSetAccessorOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getSetAccessor(e),()=>_("class setAccessor declaration",e))}getSetAccessors(){return this.getMembers().filter(e=>tx.isSetAccessorDeclaration(e))}getMethod(e){return C(this.getMethods(),e)}getMethodOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getMethod(e),()=>_("class method declaration",e))}getMethods(){return this.getMembers().filter(e=>tx.isMethodDeclaration(e))}getInstanceMethod(e){return C(this.getInstanceMethods(),e)}getInstanceMethodOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getInstanceMethod(e),()=>_("class instance method",e))}getInstanceMethods(){return this.getInstanceMembers().filter(e=>e instanceof n6)}getStaticMethod(e){return C(this.getStaticMethods(),e)}getStaticMethodOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getStaticMethod(e),()=>_("class static method",e))}getStaticMethods(){return this.getStaticMembers().filter(e=>e instanceof n6)}getInstanceMember(e){return C(this.getInstanceMembers(),e)}getInstanceMemberOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getInstanceMember(e),()=>_("class instance member",e))}getInstanceMembers(){return this.getMembersWithParameterProperties().filter(e=>!tx.isConstructorDeclaration(e)&&(tx.isParameterDeclaration(e)||!e.isStatic()))}getStaticMember(e){return C(this.getStaticMembers(),e)}getStaticMemberOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getStaticMember(e),()=>_("class static member",e))}getStaticMembers(){return this.getMembers().filter(e=>!tx.isConstructorDeclaration(e)&&!tx.isParameterDeclaration(e)&&e.isStatic())}getMembersWithParameterProperties(){let e=this.getMembers(),t=e.filter(e=>tx.isConstructorDeclaration(e)&&e.isImplementation());for(let r of t){let t=e.indexOf(r)+1;for(let i of r.getParameters())i.isParameterProperty()&&(e.splice(t,0,i),t++)}return e}getMembers(){return n5(this,this.compilerNode.members).filter(e=>st(e))}getMembersWithComments(){let e=this.compilerNode,t=eD.getContainerArray(e,this.getSourceFile().compilerNode);return n5(this,t).filter(e=>st(e)||tx.isCommentClassElement(e))}getMember(e){return C(this.getMembers(),e)}getMemberOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getMember(e),()=>_("class member",e))}getBaseTypes(){return this.getType().getBaseTypes()}getBaseClassOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getBaseClass(),null!=e?e:`Expected to find the base class of ${this.getName()}.`,this)}getBaseClass(){let e=this.getBaseTypes().map(e=>e.isIntersection()?e.getIntersectionTypes():[e]).flat(),t=e.map(e=>e.getSymbol()).filter(e=>null!=e).map(e=>e.getDeclarations()).reduce((e,t)=>e.concat(t),[]).filter(e=>e.getKind()===T.SyntaxKind.ClassDeclaration);if(1===t.length)return t[0]}getDerivedClasses(){let e=n4(this);for(let t=0;t<e.length;t++){let r=n4(e[t]);for(let t of r)t!==this&&-1===e.indexOf(t)&&e.push(t)}return e}}}function n5(e,t){let r=P(e),i=t.map(t=>e._getNodeFromCompilerNode(t));return r?i:i.filter(e=>!!(!(tx.isConstructorDeclaration(e)||tx.isMethodDeclaration(e))||tx.isMethodDeclaration(e)&&e.isAbstract())||e.isImplementation())}function n4(e){let t=[],r=e.getNameNode();if(null==r)return t;for(let e of r.findReferencesAsNodes()){let r=e.getParentIfKind(T.SyntaxKind.ExpressionWithTypeArguments);if(null==r)continue;let i=r.getParentIfKind(T.SyntaxKind.HeritageClause);if(null==i||i.getToken()!==T.SyntaxKind.ExtendsKeyword)continue;let n=i.getParentIfKind(T.SyntaxKind.ClassDeclaration);null!=n&&t.push(n)}return t}function se(e){return tx.isPropertyDeclaration(e)||tx.isSetAccessorDeclaration(e)||tx.isGetAccessorDeclaration(e)||tx.isParameterDeclaration(e)}function st(e){return tx.isMethodDeclaration(e)||tx.isPropertyDeclaration(e)||tx.isGetAccessorDeclaration(e)||tx.isSetAccessorDeclaration(e)||tx.isConstructorDeclaration(e)||tx.isClassStaticBlockDeclaration(e)}function sr(e,t){return te({getIndexedChildren:()=>e.getMembersWithComments(),parent:e,...t})}let si=nE(Q(tA(n7(i3))));function sn(e,r){let i=e.getConstructors().map(e=>e.getOverloads().length>0?e.getOverloads():[e]).flat(),n=e.getProperties().filter(e=>e.isStatic()===r&&e.getScope()===t.sXi.Public),s=e.getMethods().filter(e=>e.isStatic()===r&&e.getScope()===t.sXi.Public).map(e=>e.getOverloads().length>0?e.getOverloads():[e]).flat();return{constructors:i,properties:n,methods:s,accessors:function(){let i=new T.KeyValueCache;for(let n of[...e.getGetAccessors(),...e.getSetAccessors()])n.isStatic()===r&&n.getScope()===t.sXi.Public&&i.getOrCreate(n.getName(),()=>[]).push(n);return i.getValuesAsArray()}()}}function ss(e,t){return(e=T.StringUtils.isNullOrWhitespace(e)?void 0:e)||t.getName()||t.getSourceFile().getBaseNameWithoutExtension().replace(/[^a-zA-Z0-9_$]/g,"")}function so(e){return{kind:t.z_b.PropertySignature,docs:e.getJsDocs().map(e=>e.getStructure()),name:e.getName(),type:e.getType().getText(e),hasQuestionToken:e.hasQuestionToken(),isReadonly:e.isReadonly()}}function sa(e){return{kind:t.z_b.PropertySignature,docs:e[0].getJsDocs().map(e=>e.getStructure()),name:e[0].getName(),type:e[0].getType().getText(e[0]),hasQuestionToken:!1,isReadonly:e.every(tx.isGetAccessorDeclaration)}}function sl(e){return{kind:t.z_b.MethodSignature,docs:e.getJsDocs().map(e=>e.getStructure()),name:e.getName(),hasQuestionToken:e.hasQuestionToken(),returnType:e.getReturnType().getText(e),parameters:e.getParameters().map(sd),typeParameters:e.getTypeParameters().map(e=>e.getStructure())}}function sd(e){return{...e.getStructure(),decorators:[]}}let sc=n7(ix),su=t_(r7(i8(rW(tC(n3)))));class sh extends n3{}let sp=rj(t_(r7(nG(r8(nV(tF(n3))))))),sg=is(rW(t_(r7(r8(rB(r9(n3))))))),sm=t_(r7(tI(il(r8(r6(nV(tF(rH(n3))))))))),sy=t_(rX(Q(tI(il(r8(r6(rW(r0(tD(rY(rM(ie(rH(rB(n3))))))))))))))),sx=t_(r7(tI(il(r8(r6(nV(tF(rH(n3))))))))),sf=iT(tx);function sS(e){return class extends e{getTypeExpression(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.typeExpression)}getTypeExpressionOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getTypeExpression(),null!=e?e:"Expected to find a JS doc type expression.",this)}getName(){return this.getNameNode().getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}isBracketed(){return this.compilerNode.isBracketed}}}function sT(e){return class extends e{getTypeExpression(){let e=this._getNodeFromCompilerNodeIfExists(this.compilerNode.typeExpression);if(null==e||0!==e.getWidth())return e}getTypeExpressionOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getTypeExpression(),null!=e?e:"Expected to find the JS doc tag's type expression.",this)}}}function sN(e){let t=e.replace(/^\/\*\*[^\S\n]*\n?/,"").replace(/(\r?\n)?[^\S\n]*\*\/$/,"");return t.split(/\n/).map(e=>{let t=function(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r===w.ASTERISK)return t;if(!T.StringUtils.isWhitespaceCharCode(r))break}return -1}(e);if(-1===t)return e;let r=" "===e[t+1]?t+2:t+1;return e.substring(r)}).join("\n")}let sK=tx;class sb extends tx{}let sw=r4(sb);class sC extends sw{}let sF=r9(sb);class s_ extends sF{}let sI=il(rB(s_)),sE=iT(sC),sP=is(s_),sD=ie(rY(tP(rW(rq(sb))))),sv=is(ie(rW(Q(tA(rB(rq(i3))))))),sO=ir(sb);t.xrt=void 0,(y=t.xrt||(t.xrt={}))[y.None=0]="None",y[y.In=1]="In",y[y.Out=2]="Out",y[y.InOut=3]="InOut";let sA=rB(rq(tx));function sL(e,t){null!=e&&tr({children:[e.getPreviousSiblingIfKindOrThrow(t),e],removePrecedingSpaces:!0})}class sk extends sb{}let sM=tx;class sW extends sM{getTagName(){return this.getTagNameNode().getText()}getTagNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.tagName)}setTagName(e){return this.set({tagName:e})}getComment(){return null==this.compilerNode.comment?void 0:"string"==typeof this.compilerNode.comment?this.compilerNode.comment:this.compilerNode.comment.map(e=>this._getNodeFromCompilerNodeIfExists(e))}getCommentText(){return"string"==typeof this.compilerNode.comment?this.compilerNode.comment:T.ts.getTextOfJSDocComment(this.compilerNode.comment)}remove(){let e=this.getParentOrThrow().getStart()+3,t=sR(this),r=null==t,i=(function(){return Math.max(e,sJ(this,this.getStart()))}).call(this);tr({children:[this],customRemovalPos:i,customRemovalEnd:sB(this,t),replaceTrivia:(function(){if(i===e&&r)return"";let t=this._context.manipulationSettings.getNewLineKindAsString(),n=this.getParentOrThrow().getIndentationText();return`${t}${n} `+(r?"":"* ")}).call(this)})}set(e){return(G(sM.prototype,this,e),null!=e.text||null!=e.tagName)?this.replaceWithText(t=>{var r;this._context.structurePrinterFactory.forJSDocTag({printStarsOnNewLine:!0}).printText(t,{tagName:null!==(r=e.tagName)&&void 0!==r?r:this.getTagName(),text:null!=e.text?e.text:sz(this)})}):this}replaceWithText(e){let t=M(this._getWriterWithQueuedIndentation(),e),r=this.getParentOrThrow(),i=this.getChildIndex(),n=this.getStart();return e7({parent:r,insertPos:n,newText:t,replacing:{textLength:sJ(this,sB(this))-n}}),r.getChildren()[i]}getStructure(){let e=sz(this);return $(sM.prototype,this,{kind:t.z_b.JSDocTag,tagName:this.getTagName(),text:0===e.length?void 0:e})}}function sz(e){let t=e.getSourceFile().getFullText(),r=e.getTagNameNode().getEnd(),i=sJ(e,sB(e)),n=Math.min(t.charCodeAt(r)===w.SPACE?r+1:r,i);return sN(t.substring(n,i))}function sB(e,t){return null!=(t=null!=t?t:sR(e))?t.getStart():e.getParentOrThrow().getEnd()-2}function sR(e){let t=e.getParentIfKindOrThrow(T.SyntaxKind.JSDoc),r=t.getTags(),i=r.indexOf(e);return r[i+1]}function sJ(e,t){let r=e.getSourceFile().getFullText();return es(r,t,e=>e!==w.ASTERISK&&!T.StringUtils.isWhitespaceCharCode(e))}let sj=r9(sk),sU=sT(sW),sV=sS(sW),s$=sS(sW),sG=sT(sW),sQ=sT(sW),sq=sT(sW);class sH{constructor(e){this._compilerObject=e}get compilerObject(){return this._compilerObject}getName(){return this.compilerObject.name}getText(){var e;return null!==(e=this.compilerObject.text)&&void 0!==e?e:[]}}let sX=(s=sW,class extends s{getTypeParameters(){return this.compilerNode.typeParameters.map(e=>this._getNodeFromCompilerNode(e)).filter(e=>e.getWidth()>0)}}),sZ=sT(sW),sY=sT(sW);class s0 extends tx{remove(){ti({children:[this],getSiblingFormatting:()=>f.Newline})}}let s1=r7(nE(rW(Q(tA(rB(rq(i3))))))),s2=rW(rM(rH(tx)));class s3 extends tx{remove(){ti({getSiblingFormatting:H,children:[this]})}}let s8=is(t_(rW(r9(s3))));class s9 extends s3{}let s6=is(t_(rW(r9(s3)))),s7=r1(t_(rW(r0(rB(s3))))),s5=ir(r7((o=rL(is(rW(Q(nE(tA(rB(rq(i3)))))))),class extends o{getExtends(){var e;let t=this.getHeritageClauseByKind(T.SyntaxKind.ExtendsKeyword);return null!==(e=null==t?void 0:t.getTypeNodes())&&void 0!==e?e:[]}addExtends(e){return this.insertExtends(this.getExtends().length,e)}insertExtends(e,t){let r=this.getExtends(),i="string"==typeof t;if("string"==typeof t)T.errors.throwIfWhitespaceOrNotString(t,"texts"),t=[t];else if(0===t.length)return[];let n=this._getWriterWithQueuedChildIndentation(),s=new tR(new t8);if(s.printText(n,t),e=ex(e,r.length),r.length>0){let t=this.getHeritageClauseByKindOrThrow(T.SyntaxKind.ExtendsKeyword);e5({parent:t.getFirstChildByKindOrThrow(T.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:n.toString(),useTrailingCommas:!1})}else{let e=this.getFirstChildByKindOrThrow(T.SyntaxKind.OpenBraceToken),t=e.getStart(),r=/\s/.test(this.getSourceFile().getFullText()[t-1]),i=`extends ${n.toString()} `;r||(i=" "+i),e7({parent:this,insertPos:t,newText:i})}let o=this.getExtends();return i?o[e]:eh(r,o,e,!1)}removeExtends(e){let t=this.getHeritageClauseByKind(T.SyntaxKind.ExtendsKeyword);if(null==t)throw new T.errors.InvalidOperationError("Cannot remove an extends when none exist.");return t.removeExpression(e),this}set(e){return G(o.prototype,this,e),null!=e.extends&&(this.getExtends().forEach(e=>this.removeExtends(e)),this.addExtends(e.extends)),this}getStructure(){return $(o.prototype,this,{extends:this.getExtends().map(e=>e.getText())})}}))),s4=t_(rW(rY(is(r9(rH(s3)))))),oe=t_(rW(r0(rY(rM(ie(rH(rB(s3))))))));function ot(e){return class extends e{getAttributes(){return this.compilerNode.attributes.properties.map(e=>this._getNodeFromCompilerNode(e))}getAttributeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getAttribute(e),()=>_("attribute",e))}getAttribute(e){return C(this.getAttributes(),e)}addAttribute(e){return this.addAttributes([e])[0]}addAttributes(e){return this.insertAttributes(this.compilerNode.attributes.properties.length,e)}insertAttribute(e,t){return this.insertAttributes(e,[t])[0]}insertAttributes(e,t){if(0===t.length)return[];let r=this.compilerNode.attributes.properties.length;e=ex(e,r);let i=0===e?this.getTagNameNode().getEnd():this.getAttributes()[e-1].getEnd(),n=this._getWriterWithQueuedChildIndentation(),s=new tV(this._context.structurePrinterFactory.forJsxAttributeDecider());return s.printText(n,t),e7({insertPos:i,newText:" "+n.toString(),parent:this.getNodeProperty("attributes").getFirstChildByKindOrThrow(T.SyntaxKind.SyntaxList)}),eh(r,this.getAttributes(),e,!1)}set(t){return G(e.prototype,this,t),null!=t.attributes&&(this.getAttributes().forEach(e=>e.remove()),this.addAttributes(t.attributes)),this}getStructure(){return $(e.prototype,this,{attributes:this.getAttributes().map(e=>e.getStructure())})}}}function or(e){return class extends e{getTagNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.tagName)}set(t){return G(e.prototype,this,t),null!=t.name&&this.getTagNameNode().replaceWithText(t.name),this}getStructure(){return $(e.prototype,this,{name:this.getTagNameNode().getText()})}}}function oi(e){return class extends e{getText(){return this.compilerNode.text}getDefinitionNodes(){return this.getDefinitions().map(e=>e.getDeclarationNode()).filter(e=>null!=e)}getDefinitions(){return this._context.languageService.getDefinitions(this)}}}let on=iT(tx),os=oi(rj(rV(ix)));class oo extends os{getImplementations(){return this._context.languageService.getImplementations(this)}}let oa=oi(rj(rV(tx))),ol=tx,od=or(tx),oc=ix;function ou(e,t){let r=e.getOpeningElement(),i=e.getClosingElement();e7({insertPos:r.getEnd(),newText:t,parent:e.getChildSyntaxListOrThrow(),replacing:{textLength:i.getStart()-r.getEnd()}})}let oh=iS(tP(id)),op=tx,og=ot(or(id)),om=ot(or(ix)),oy=iT(tx),ox=rz(tx),of=iD,oS=ix,oT=ix;function oN(e,t){if(oK(e)===t)return e;let r=e.getParentSyntaxList()||e.getParentOrThrow(),i=e.getChildIndex();return e.replaceWithText(t?"true":"false"),r.getChildAtIndex(i)}function oK(e){return e.getKind()===T.SyntaxKind.TrueKeyword}let ob=ix,ow=iD;t.ZiB=void 0,(x=t.ZiB||(t.ZiB={})).Single="'",x.Double='"';let oC=iD,oF=iD,o_=iD,oI=ix,oE=rz(tx),oP=rz(tx),oD=iT(tx),ov=rz(tx),oO=tv(tD(ie(rM(r$(tx))))),oA=rB(tx);class oL{constructor(e,t){this._context=e,this._compilerSignature=t}get compilerSignature(){return this._compilerSignature}getTypeParameters(){let e=this.compilerSignature.typeParameters||[];return e.map(e=>this._context.compilerFactory.getTypeParameter(e))}getParameters(){return this.compilerSignature.parameters.map(e=>this._context.compilerFactory.getSymbol(e))}getReturnType(){return this._context.compilerFactory.getType(this.compilerSignature.getReturnType())}getDocumentationComments(){let e=this.compilerSignature.getDocumentationComment(this._context.typeChecker.compilerObject);return e.map(e=>this._context.compilerFactory.getSymbolDisplayPart(e))}getJsDocTags(){let e=this.compilerSignature.getJsDocTags();return e.map(e=>this._context.compilerFactory.getJSDocTagInfo(e))}getDeclaration(){let{compilerFactory:e}=this._context,t=this.compilerSignature.getDeclaration();return e.getNodeFromCompilerNode(t,e.getSourceFileForNode(t))}}class ok{get compilerSymbol(){return this._compilerSymbol}constructor(e,t){this._context=e,this._compilerSymbol=t,this.getValueDeclaration(),this.getDeclarations()}getName(){return this.compilerSymbol.getName()}getEscapedName(){return this.compilerSymbol.getEscapedName()}getAliasedSymbolOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getAliasedSymbol(),null!=e?e:"Expected to find an aliased symbol.")}getImmediatelyAliasedSymbol(){return this._context.typeChecker.getImmediatelyAliasedSymbol(this)}getImmediatelyAliasedSymbolOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getImmediatelyAliasedSymbol(),null!=e?e:"Expected to find an immediately aliased symbol.")}getAliasedSymbol(){return this._context.typeChecker.getAliasedSymbol(this)}getExportSymbol(){return this._context.typeChecker.getExportSymbolOfSymbol(this)}isAlias(){return(this.getFlags()&T.SymbolFlags.Alias)===T.SymbolFlags.Alias}isOptional(){return(this.getFlags()&T.SymbolFlags.Optional)===T.SymbolFlags.Optional}getFlags(){return this.compilerSymbol.getFlags()}hasFlags(e){return(this.compilerSymbol.flags&e)===e}getValueDeclarationOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getValueDeclaration(),null!=e?e:()=>`Expected to find the value declaration of symbol '${this.getName()}'.`)}getValueDeclaration(){let e=this.compilerSymbol.valueDeclaration;if(null!=e)return this._context.compilerFactory.getNodeFromCompilerNode(e,this._context.compilerFactory.getSourceFileForNode(e))}getDeclarations(){var e;return(null!==(e=this.compilerSymbol.declarations)&&void 0!==e?e:[]).map(e=>this._context.compilerFactory.getNodeFromCompilerNode(e,this._context.compilerFactory.getSourceFileForNode(e)))}getExportOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getExport(e),null!=t?t:()=>`Expected to find export with name: ${e}`)}getExport(e){if(null==this.compilerSymbol.exports)return;let t=this.compilerSymbol.exports.get(T.ts.escapeLeadingUnderscores(e));return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getExports(){return null==this.compilerSymbol.exports?[]:Array.from(this.compilerSymbol.exports.values()).map(e=>this._context.compilerFactory.getSymbol(e))}getGlobalExportOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getGlobalExport(e),null!=t?t:()=>`Expected to find global export with name: ${e}`)}getGlobalExport(e){if(null==this.compilerSymbol.globalExports)return;let t=this.compilerSymbol.globalExports.get(T.ts.escapeLeadingUnderscores(e));return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getGlobalExports(){return null==this.compilerSymbol.globalExports?[]:Array.from(this.compilerSymbol.globalExports.values()).map(e=>this._context.compilerFactory.getSymbol(e))}getMemberOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getMember(e),null!=t?t:`Expected to find member with name: ${e}`)}getMember(e){if(null==this.compilerSymbol.members)return;let t=this.compilerSymbol.members.get(T.ts.escapeLeadingUnderscores(e));return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getMembers(){return null==this.compilerSymbol.members?[]:Array.from(this.compilerSymbol.members.values()).map(e=>this._context.compilerFactory.getSymbol(e))}getDeclaredType(){return this._context.typeChecker.getDeclaredTypeOfSymbol(this)}getTypeAtLocation(e){return this._context.typeChecker.getTypeOfSymbolAtLocation(this,e)}getFullyQualifiedName(){return this._context.typeChecker.getFullyQualifiedName(this)}getJsDocTags(){return this.compilerSymbol.getJsDocTags(this._context.typeChecker.compilerObject).map(e=>new sH(e))}}class oM{constructor(e){this._compilerObject=e}get compilerObject(){return this._compilerObject}getStart(){return this.compilerObject.start}getEnd(){return this.compilerObject.start+this.compilerObject.length}getLength(){return this.compilerObject.length}}class oW{constructor(e){this._compilerObject=e}get compilerObject(){return this._compilerObject}getSpan(){return new oM(this.compilerObject.span)}getNewText(){return this.compilerObject.newText}}nM([T.Memoize],oW.prototype,"getSpan",null);class oz{constructor(e,t){this._context=e,this._compilerObject=t;let r=e.compilerFactory.addOrGetSourceFileFromFilePath(e.fileSystemWrapper.getStandardizedAbsolutePath(t.fileName),{markInProject:!1,scriptKind:void 0});this._existingFileExists=null!=r,t.isNewFile||(this._sourceFile=r)}getFilePath(){return this._compilerObject.fileName}getSourceFile(){return this._sourceFile}getTextChanges(){return this._compilerObject.textChanges.map(e=>new oW(e))}applyChanges(e={}){let t;if(!this._isApplied){if(this.isNewFile()&&this._existingFileExists&&!e.overwrite)throw new T.errors.InvalidOperationError(`Cannot apply file text change for creating a new file when the file exists at path ${this.getFilePath()}. Did you mean to provide the overwrite option?`);if(null==(t=this.isNewFile()?this._context.project.createSourceFile(this.getFilePath(),"",{overwrite:e.overwrite}):this.getSourceFile()))throw new T.errors.InvalidOperationError(`Cannot apply file text change to modify existing file that doesn't exist at path: ${this.getFilePath()}`);return t.applyTextChanges(this.getTextChanges()),t._markAsInProject(),this._isApplied=!0,this}}isNewFile(){return!!this._compilerObject.isNewFile}}nM([T.Memoize],oz.prototype,"getTextChanges",null);class oB{constructor(e,t){this._context=e,this._compilerObject=t}get compilerObject(){return this._compilerObject}getDescription(){return this.compilerObject.description}getChanges(){return this.compilerObject.changes.map(e=>new oz(this._context,e))}}class oR extends oB{getFixName(){return this.compilerObject.fixName}getFixId(){return this.compilerObject.fixId}getFixAllDescription(){return this.compilerObject.fixAllDescription}}class oJ{constructor(e,t){this._context=e,this._compilerObject=t}get compilerObject(){return this._compilerObject}getChanges(){return this.compilerObject.changes.map(e=>new oz(this._context,e))}applyChanges(e){for(let t of this.getChanges())t.applyChanges(e);return this}}nM([T.Memoize],oJ.prototype,"getChanges",null);class oj{constructor(e,t){this._context=e,this._compilerObject=t,this._sourceFile=this._context.compilerFactory.addOrGetSourceFileFromFilePath(e.fileSystemWrapper.getStandardizedAbsolutePath(this.compilerObject.fileName),{markInProject:!1,scriptKind:void 0}),this._sourceFile._doActionPreNextModification(()=>this.getNode())}get compilerObject(){return this._compilerObject}getSourceFile(){return this._sourceFile}getTextSpan(){return new oM(this.compilerObject.textSpan)}getNode(){let e;let t=this.getTextSpan(),r=this.getSourceFile(),i=t.getStart(),n=t.getEnd();return r._context.compilerFactory.forgetNodesCreatedInBlock(t=>{let s;let o=r;for(;null!=o;){if(null==s&&(e=o),o.getStart()===i&&o.getWidth()===n)e=s=o;else if(null!=s)break;o=o.getChildAtPos(i)}null!=e&&t(e)}),e}getOriginalTextSpan(){let{originalTextSpan:e}=this.compilerObject;return null==e?void 0:new oM(e)}getOriginalFileName(){return this.compilerObject.originalFileName}}nM([T.Memoize],oj.prototype,"getTextSpan",null),nM([T.Memoize],oj.prototype,"getNode",null),nM([T.Memoize],oj.prototype,"getOriginalTextSpan",null);class oU extends oj{constructor(e,t){super(e,t),this.getSourceFile()._doActionPreNextModification(()=>this.getDeclarationNode())}getKind(){return this.compilerObject.kind}getName(){return this.compilerObject.name}getContainerKind(){return this.compilerObject.containerKind}getContainerName(){return this.compilerObject.containerName}getDeclarationNode(){if("module"===this.getKind()&&this.getTextSpan().getLength()===this.getSourceFile().getFullWidth())return this.getSourceFile();let e=this.getTextSpan().getStart(),t=function t(r){if(r.getKind()===T.SyntaxKind.Identifier&&r.getStart()===e)return r;for(let i of r._getChildrenIterator())if(i.getPos()<=e&&i.getEnd()>e)return t(i)}(this.getSourceFile());return null==t?void 0:t.getParentOrThrow()}}nM([T.Memoize],oU.prototype,"getDeclarationNode",null);class oV{constructor(e){this._compilerObject=e}get compilerObject(){return this._compilerObject}getMessageText(){return this.compilerObject.messageText}getNext(){let e=this.compilerObject.next;if(null!=e)return e instanceof Array?e.map(e=>new oV(e)):[new oV(e)]}getCode(){return this.compilerObject.code}getCategory(){return this.compilerObject.category}}class o${constructor(e,t){this._context=e,this._compilerObject=t,this.getSourceFile()}get compilerObject(){return this._compilerObject}getSourceFile(){if(null==this._context)return;let e=this.compilerObject.file;return null==e?void 0:this._context.compilerFactory.getSourceFile(e,{markInProject:!1})}getMessageText(){let e=this._compilerObject.messageText;return"string"==typeof e?e:null==this._context?new oV(e):this._context.compilerFactory.getDiagnosticMessageChain(e)}getLineNumber(){let e=this.getSourceFile(),t=this.getStart();if(null!=e&&null!=t)return T.StringUtils.getLineNumberAtPos(e.getFullText(),t)}getStart(){return this.compilerObject.start}getLength(){return this.compilerObject.length}getCategory(){return this.compilerObject.category}getCode(){return this.compilerObject.code}getSource(){return this.compilerObject.source}}nM([T.Memoize],o$.prototype,"getSourceFile",null);class oG extends o${constructor(e,t){super(e,t)}getLineNumber(){return super.getLineNumber()}getStart(){return super.getStart()}getLength(){return super.getLength()}getSourceFile(){return super.getSourceFile()}}class oQ{constructor(e,t){this._compilerObject=t,this._context=e}get compilerObject(){return this._compilerObject}getFilePath(){return this._context.fileSystemWrapper.getStandardizedAbsolutePath(this.compilerObject.name)}getWriteByteOrderMark(){return this.compilerObject.writeByteOrderMark||!1}getText(){return this.compilerObject.text}}class oq{constructor(e,t){this._context=e,this._compilerObject=t}get compilerObject(){return this._compilerObject}getEmitSkipped(){return this.compilerObject.emitSkipped}getOutputFiles(){return this.compilerObject.outputFiles.map(e=>new oQ(this._context,e))}}nM([T.Memoize],oq.prototype,"getOutputFiles",null);class oH{constructor(e,t){this._context=e,this._compilerObject=t,this.getDiagnostics()}get compilerObject(){return this._compilerObject}getEmitSkipped(){return this.compilerObject.emitSkipped}getDiagnostics(){return this.compilerObject.diagnostics.map(e=>this._context.compilerFactory.getDiagnostic(e))}}nM([T.Memoize],oH.prototype,"getDiagnostics",null);class oX extends oj{constructor(e,t){super(e,t)}getKind(){return this.compilerObject.kind}getDisplayParts(){return this.compilerObject.displayParts.map(e=>this._context.compilerFactory.getSymbolDisplayPart(e))}}nM([T.Memoize],oX.prototype,"getDisplayParts",null);class oZ extends oH{constructor(e,t,r){super(e,t),this._files=r}getFiles(){return this._files}saveFiles(){let e=this._context.fileSystemWrapper,t=this._files.map(t=>e.writeFile(t.filePath,t.writeByteOrderMark?"\uFEFF"+t.text:t.text));return Promise.all(t)}saveFilesSync(){let e=this._context.fileSystemWrapper;for(let t of this._files)e.writeFileSync(t.filePath,t.writeByteOrderMark?"\uFEFF"+t.text:t.text)}}class oY{constructor(e,t){this._context=e,this._compilerObject=t}get compilerObject(){return this._compilerObject}getEdits(){return this.compilerObject.edits.map(e=>new oz(this._context,e))}getRenameFilePath(){return this.compilerObject.renameFilename}getRenameLocation(){return this.compilerObject.renameLocation}applyChanges(e){for(let t of this.getEdits())t.applyChanges(e);return this}}nM([T.Memoize],oY.prototype,"getEdits",null);class o0{constructor(e,t){this._context=e,this._compilerObject=t,this._references=this.compilerObject.references.map(t=>e.compilerFactory.getReferencedSymbolEntry(t))}get compilerObject(){return this._compilerObject}getDefinition(){return this._context.compilerFactory.getReferencedSymbolDefinitionInfo(this.compilerObject.definition)}getReferences(){return this._references}}nM([T.Memoize],o0.prototype,"getDefinition",null);class o1 extends oU{constructor(e,t){super(e,t)}getDisplayParts(){return this.compilerObject.displayParts.map(e=>this._context.compilerFactory.getSymbolDisplayPart(e))}}nM([T.Memoize],o1.prototype,"getDisplayParts",null);class o2 extends oj{constructor(e,t){super(e,t)}isWriteAccess(){return this.compilerObject.isWriteAccess}isInString(){return this.compilerObject.isInString}}class o3 extends o2{constructor(e,t){super(e,t)}isDefinition(){return this.compilerObject.isDefinition}}class o8 extends oj{getPrefixText(){return this._compilerObject.prefixText}getSuffixText(){return this._compilerObject.suffixText}}class o9{constructor(e){this._compilerObject=e}get compilerObject(){return this._compilerObject}getText(){return this.compilerObject.text}getKind(){return this.compilerObject.kind}}class o6{constructor(e){this._context=e}get compilerObject(){return this._getCompilerObject()}_reset(e){this._getCompilerObject=e}getAmbientModules(){return this.compilerObject.getAmbientModules().map(e=>this._context.compilerFactory.getSymbol(e))}getApparentType(e){return this._context.compilerFactory.getType(this.compilerObject.getApparentType(e.compilerType))}getConstantValue(e){return this.compilerObject.getConstantValue(e.compilerNode)}getFullyQualifiedName(e){return this.compilerObject.getFullyQualifiedName(e.compilerSymbol)}getTypeAtLocation(e){return this._context.compilerFactory.getType(this.compilerObject.getTypeAtLocation(e.compilerNode))}getContextualType(e){let t=this.compilerObject.getContextualType(e.compilerNode);return null==t?void 0:this._context.compilerFactory.getType(t)}getTypeOfSymbolAtLocation(e,t){return this._context.compilerFactory.getType(this.compilerObject.getTypeOfSymbolAtLocation(e.compilerSymbol,t.compilerNode))}getDeclaredTypeOfSymbol(e){return this._context.compilerFactory.getType(this.compilerObject.getDeclaredTypeOfSymbol(e.compilerSymbol))}getSymbolAtLocation(e){let t=this.compilerObject.getSymbolAtLocation(e.compilerNode);return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getAliasedSymbol(e){if(!e.hasFlags(T.SymbolFlags.Alias))return;let t=this.compilerObject.getAliasedSymbol(e.compilerSymbol);return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getImmediatelyAliasedSymbol(e){let t=this.compilerObject.getImmediateAliasedSymbol(e.compilerSymbol);return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getExportSymbolOfSymbol(e){return this._context.compilerFactory.getSymbol(this.compilerObject.getExportSymbolOfSymbol(e.compilerSymbol))}getPropertiesOfType(e){return this.compilerObject.getPropertiesOfType(e.compilerType).map(e=>this._context.compilerFactory.getSymbol(e))}getTypeText(e,t,r){return null==r&&(r=this._getDefaultTypeFormatFlags(t)),this.compilerObject.typeToString(e.compilerType,null==t?void 0:t.compilerNode,r)}getReturnTypeOfSignature(e){return this._context.compilerFactory.getType(this.compilerObject.getReturnTypeOfSignature(e.compilerSignature))}getSignatureFromNode(e){let t=this.compilerObject.getSignatureFromDeclaration(e.compilerNode);return null==t?void 0:this._context.compilerFactory.getSignature(t)}getExportsOfModule(e){let t=this.compilerObject.getExportsOfModule(e.compilerSymbol);return(t||[]).map(e=>this._context.compilerFactory.getSymbol(e))}getExportSpecifierLocalTargetSymbol(e){let t=this.compilerObject.getExportSpecifierLocalTargetSymbol(e.compilerNode);return null==t?void 0:this._context.compilerFactory.getSymbol(t)}getResolvedSignature(e){let t=this.compilerObject.getResolvedSignature(e.compilerNode);if(t&&t.declaration)return this._context.compilerFactory.getSignature(t)}getResolvedSignatureOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getResolvedSignature(e),null!=t?t:"Signature could not be resolved.",e)}getBaseTypeOfLiteralType(e){return this._context.compilerFactory.getType(this.compilerObject.getBaseTypeOfLiteralType(e.compilerType))}getSymbolsInScope(e,t){return this.compilerObject.getSymbolsInScope(e.compilerNode,t).map(e=>this._context.compilerFactory.getSymbol(e))}getTypeArguments(e){return this.compilerObject.getTypeArguments(e.compilerType).map(e=>this._context.compilerFactory.getType(e))}_getDefaultTypeFormatFlags(e){let t=T.TypeFormatFlags.UseTypeOfFunction|T.TypeFormatFlags.NoTruncation|T.TypeFormatFlags.UseFullyQualifiedType|T.TypeFormatFlags.WriteTypeArgumentsOfSignature;return null!=e&&e.getKind()===T.SyntaxKind.TypeAliasDeclaration&&(t|=T.TypeFormatFlags.InTypeAlias),t}}class o7{constructor(e){this._context=e.context,this._configFileParsingDiagnostics=e.configFileParsingDiagnostics,this._typeChecker=new o6(this._context),this._reset(e.rootNames,e.host)}get compilerObject(){return this._getOrCreateCompilerObject()}_isCompilerProgramCreated(){return null!=this._createdCompilerObject}_reset(e,t){let r=this._context.compilerOptions.get();this._getOrCreateCompilerObject=()=>(null==this._createdCompilerObject&&(this._createdCompilerObject=T.ts.createProgram(e,r,t,this._oldProgram,this._configFileParsingDiagnostics),delete this._oldProgram),this._createdCompilerObject),null!=this._createdCompilerObject&&(this._oldProgram=this._createdCompilerObject,delete this._createdCompilerObject),this._typeChecker._reset(()=>this.compilerObject.getTypeChecker())}getTypeChecker(){return this._typeChecker}async emit(e={}){if(e.writeFile){let t=`Cannot specify a ${T.nameof(e,"writeFile")} option when emitting asynchrously. Use ${T.nameof(this,"emitSync")}() instead.`;throw new T.errors.InvalidOperationError(t)}let{fileSystemWrapper:t}=this._context,r=[],i=this._emit({writeFile:(e,i,n)=>{r.push(t.writeFile(t.getStandardizedAbsolutePath(e),n?"\uFEFF"+i:i))},...e});return await Promise.all(r),new oH(this._context,i)}emitSync(e={}){return new oH(this._context,this._emit(e))}emitToMemory(e={}){let t=[],{fileSystemWrapper:r}=this._context,i=this._emit({writeFile:(e,i,n)=>{t.push({filePath:r.getStandardizedAbsolutePath(e),text:i,writeByteOrderMark:n||!1})},...e});return new oZ(this._context,i,t)}_emit(e={}){let t=null!=e.targetSourceFile?e.targetSourceFile.compilerNode:void 0,{emitOnlyDtsFiles:r,customTransformers:i,writeFile:n}=e;return this.compilerObject.emit(t,n,void 0,r,i)}getSyntacticDiagnostics(e){let t=this.compilerObject.getSyntacticDiagnostics(null==e?void 0:e.compilerNode);return t.map(e=>this._context.compilerFactory.getDiagnosticWithLocation(e))}getSemanticDiagnostics(e){let t=this.compilerObject.getSemanticDiagnostics(null==e?void 0:e.compilerNode);return t.map(e=>this._context.compilerFactory.getDiagnostic(e))}getDeclarationDiagnostics(e){let t=this.compilerObject.getDeclarationDiagnostics(null==e?void 0:e.compilerNode);return t.map(e=>this._context.compilerFactory.getDiagnosticWithLocation(e))}getGlobalDiagnostics(){let e=this.compilerObject.getGlobalDiagnostics();return e.map(e=>this._context.compilerFactory.getDiagnostic(e))}getConfigFileParsingDiagnostics(){let e=this.compilerObject.getConfigFileParsingDiagnostics();return e.map(e=>this._context.compilerFactory.getDiagnostic(e))}getEmitModuleResolutionKind(){return T.getEmitModuleResolutionKind(this.compilerObject.getCompilerOptions())}isSourceFileFromExternalLibrary(e){return e.isFromExternalLibrary()}}class o5{get compilerObject(){return this._compilerObject}constructor(e){var t;this._projectVersion=0,this._context=e.context;let{languageServiceHost:r,compilerHost:i}=T.createHosts({transactionalFileSystem:this._context.fileSystemWrapper,sourceFileContainer:this._context.getSourceFileContainer(),compilerOptions:this._context.compilerOptions,getNewLine:()=>this._context.manipulationSettings.getNewLineKindAsString(),getProjectVersion:()=>`${this._projectVersion}`,resolutionHost:null!==(t=e.resolutionHost)&&void 0!==t?t:{},libFolderPath:e.libFolderPath,skipLoadingLibFiles:e.skipLoadingLibFiles});this._compilerHost=i,this._compilerObject=T.ts.createLanguageService(r,this._context.compilerFactory.documentRegistry),this._program=new o7({context:this._context,rootNames:Array.from(this._context.compilerFactory.getSourceFilePaths()),host:this._compilerHost,configFileParsingDiagnostics:e.configFileParsingDiagnostics}),this._context.compilerFactory.onSourceFileAdded(e=>{e._isInProject()&&this._reset()}),this._context.compilerFactory.onSourceFileRemoved(()=>this._reset())}_reset(){this._projectVersion+=1,this._program._reset(Array.from(this._context.compilerFactory.getSourceFilePaths()),this._compilerHost)}getProgram(){return this._program}getDefinitions(e){return this.getDefinitionsAtPosition(e._sourceFile,e.getStart())}getDefinitionsAtPosition(e,t){let r=this.compilerObject.getDefinitionAtPosition(e.getFilePath(),t)||[];return r.map(e=>this._context.compilerFactory.getDefinitionInfo(e))}getImplementations(e){return this.getImplementationsAtPosition(e._sourceFile,e.getStart())}getImplementationsAtPosition(e,t){let r=this.compilerObject.getImplementationAtPosition(e.getFilePath(),t)||[];return r.map(e=>new oX(this._context,e))}findReferences(e){return this.findReferencesAtPosition(e._sourceFile,e.getStart())}findReferencesAsNodes(e){let t=this.findReferences(e);return Array.from(function*(){for(let e of t){let t=e.getDefinition().getKind()===T.ts.ScriptElementKind.alias,r=e.getReferences();for(let e=0;e<r.length;e++){let i=r[e];(t||!i.isDefinition()||e>0)&&(yield i.getNode())}}}())}findReferencesAtPosition(e,t){let r=this.compilerObject.findReferences(e.getFilePath(),t)||[];return r.map(e=>this._context.compilerFactory.getReferencedSymbol(e))}findRenameLocations(e,t={}){let r=null==t.usePrefixAndSuffixText?this._context.manipulationSettings.getUsePrefixAndSuffixTextForRename():t.usePrefixAndSuffixText,i=this.compilerObject.findRenameLocations(e._sourceFile.getFilePath(),e.getStart(),t.renameInStrings||!1,t.renameInComments||!1,r)||[];return i.map(e=>new o8(this._context,e))}getSuggestionDiagnostics(e){let t=this._getFilePathFromFilePathOrSourceFile(e),r=this.compilerObject.getSuggestionDiagnostics(t);return r.map(e=>this._context.compilerFactory.getDiagnosticWithLocation(e))}getFormattingEditsForRange(e,t,r){return(this.compilerObject.getFormattingEditsForRange(e,t[0],t[1],this._getFilledSettings(r))||[]).map(e=>new oW(e))}getFormattingEditsForDocument(e,t){let r=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e);return(this.compilerObject.getFormattingEditsForDocument(r,this._getFilledSettings(t))||[]).map(e=>new oW(e))}getFormattedDocumentText(e,t){let r=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),i=this._context.compilerFactory.getSourceFileFromCacheFromFilePath(r);if(null==i)throw new T.errors.FileNotFoundError(r);t=this._getFilledSettings(t);let n=this.getFormattingEditsForDocument(r,t),s=ee(i,n),o=t.newLineCharacter;return t.ensureNewLineAtEndOfFile&&!s.endsWith(o)&&(s+=o),s.replace(/\r?\n/g,o)}getEmitOutput(e,t){let r=this._getFilePathFromFilePathOrSourceFile(e),i=this.compilerObject;return new oq(this._context,function(){let e=i.getProgram();return null==e||null==e.getSourceFile(r)?{emitSkipped:!0,outputFiles:[]}:i.getEmitOutput(r,t)}())}getIdentationAtPosition(e,t,r){let i=this._getFilePathFromFilePathOrSourceFile(e);return null==r?r=this._context.manipulationSettings.getEditorSettings():k(r,this._context.manipulationSettings),this.compilerObject.getIndentationAtPosition(i,t,r)}organizeImports(e,t={},r={}){let i={type:"file",fileName:this._getFilePathFromFilePathOrSourceFile(e)};return this.compilerObject.organizeImports(i,this._getFilledSettings(t),this._getFilledUserPreferences(r)).map(e=>new oz(this._context,e))}getEditsForRefactor(e,t,r,i,n,s={}){let o=this._getFilePathFromFilePathOrSourceFile(e),a="number"==typeof r?r:{pos:r.getPos(),end:r.getEnd()},l=this.compilerObject.getEditsForRefactor(o,this._getFilledSettings(t),a,i,n,this._getFilledUserPreferences(s));return null!=l?new oY(this._context,l):void 0}getCombinedCodeFix(e,t,r={},i={}){let n=this.compilerObject.getCombinedCodeFix({type:"file",fileName:this._getFilePathFromFilePathOrSourceFile(e)},t,this._getFilledSettings(r),this._getFilledUserPreferences(i||{}));return new oJ(this._context,n)}getCodeFixesAtPosition(e,t,r,i,n={},s={}){let o=this._getFilePathFromFilePathOrSourceFile(e),a=this.compilerObject.getCodeFixesAtPosition(o,t,r,i,this._getFilledSettings(n),this._getFilledUserPreferences(s||{}));return a.map(e=>new oR(this._context,e))}_getFilePathFromFilePathOrSourceFile(e){let t="string"==typeof e?this._context.fileSystemWrapper.getStandardizedAbsolutePath(e):e.getFilePath();if(!this._context.compilerFactory.containsSourceFileAtPath(t))throw new T.errors.FileNotFoundError(t);return t}_getFilledSettings(e){var t;return e._filled||(k(t=e=Object.assign(this._context.getFormatCodeSettings(),e),this._context.manipulationSettings),L(t,"insertSpaceAfterCommaDelimiter",!0),L(t,"insertSpaceAfterConstructor",!1),L(t,"insertSpaceAfterSemicolonInForStatements",!0),L(t,"insertSpaceAfterKeywordsInControlFlowStatements",!0),L(t,"insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces",!0),L(t,"insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets",!1),L(t,"insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces",!1),L(t,"insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces",!1),L(t,"insertSpaceBeforeFunctionParenthesis",!1),L(t,"insertSpaceBeforeAndAfterBinaryOperators",!0),L(t,"placeOpenBraceOnNewLineForFunctions",!1),L(t,"placeOpenBraceOnNewLineForControlBlocks",!1),L(t,"ensureNewLineAtEndOfFile",!0),e._filled=!0),e}_getFilledUserPreferences(e){return Object.assign(this._context.getUserPreferences(),e)}}class o4{get compilerType(){return this._compilerType}constructor(e,t){this._context=e,this._compilerType=t}getText(e,t){return this._context.typeChecker.getTypeText(this,e,t)}getAliasSymbol(){return null==this.compilerType.aliasSymbol?void 0:this._context.compilerFactory.getSymbol(this.compilerType.aliasSymbol)}getAliasSymbolOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getAliasSymbol(),"Expected to find an alias symbol.")}getAliasTypeArguments(){let e=this.compilerType.aliasTypeArguments||[];return e.map(e=>this._context.compilerFactory.getType(e))}getApparentType(){return this._context.typeChecker.getApparentType(this)}getArrayElementTypeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getArrayElementType(),null!=e?e:"Expected to find an array element type.")}getArrayElementType(){if(this.isArray())return this.getTypeArguments()[0]}getBaseTypes(){let e=this.compilerType.getBaseTypes()||[];return e.map(e=>this._context.compilerFactory.getType(e))}getBaseTypeOfLiteralType(){return this._context.typeChecker.getBaseTypeOfLiteralType(this)}getCallSignatures(){return this.compilerType.getCallSignatures().map(e=>this._context.compilerFactory.getSignature(e))}getConstructSignatures(){return this.compilerType.getConstructSignatures().map(e=>this._context.compilerFactory.getSignature(e))}getConstraintOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getConstraint(),null!=e?e:"Expected to find a constraint.")}getConstraint(){let e=this.compilerType.getConstraint();return null==e?void 0:this._context.compilerFactory.getType(e)}getDefaultOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getDefault(),null!=e?e:"Expected to find a default type.")}getDefault(){let e=this.compilerType.getDefault();return null==e?void 0:this._context.compilerFactory.getType(e)}getProperties(){return this.compilerType.getProperties().map(e=>this._context.compilerFactory.getSymbol(e))}getPropertyOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getProperty(e),()=>_("symbol property",e))}getProperty(e){return E(this.getProperties(),e)}getApparentProperties(){return this.compilerType.getApparentProperties().map(e=>this._context.compilerFactory.getSymbol(e))}getApparentProperty(e){return E(this.getApparentProperties(),e)}isNullable(){return this.getUnionTypes().some(e=>e.isNull()||e.isUndefined())}getNonNullableType(){return this._context.compilerFactory.getType(this.compilerType.getNonNullableType())}getNumberIndexType(){let e=this.compilerType.getNumberIndexType();return null==e?void 0:this._context.compilerFactory.getType(e)}getStringIndexType(){let e=this.compilerType.getStringIndexType();return null==e?void 0:this._context.compilerFactory.getType(e)}getTargetType(){let e=this.compilerType.target||void 0;return null==e?void 0:this._context.compilerFactory.getType(e)}getTargetTypeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getTargetType(),null!=e?e:"Expected to find the target type.")}getTypeArguments(){return this._context.typeChecker.getTypeArguments(this)}getTupleElements(){return this.isTuple()?this.getTypeArguments():[]}getUnionTypes(){return this.isUnion()?this.compilerType.types.map(e=>this._context.compilerFactory.getType(e)):[]}getIntersectionTypes(){return this.isIntersection()?this.compilerType.types.map(e=>this._context.compilerFactory.getType(e)):[]}getLiteralValue(){var e;return null===(e=this.compilerType)||void 0===e?void 0:e.value}getLiteralValueOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getLiteralValue(),null!=e?e:"Type was not a literal type.")}getLiteralFreshType(){var e;let t=null===(e=this.compilerType)||void 0===e?void 0:e.freshType;return null==t?void 0:this._context.compilerFactory.getType(t)}getLiteralFreshTypeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getLiteralFreshType(),null!=e?e:"Type was not a literal type.")}getLiteralRegularType(){var e;let t=null===(e=this.compilerType)||void 0===e?void 0:e.regularType;return null==t?void 0:this._context.compilerFactory.getType(t)}getLiteralRegularTypeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getLiteralRegularType(),null!=e?e:"Type was not a literal type.")}getSymbol(){let e=this.compilerType.getSymbol();return null==e?void 0:this._context.compilerFactory.getSymbol(e)}getSymbolOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getSymbol(),null!=e?e:"Expected to find a symbol.")}isAnonymous(){return this._hasObjectFlag(T.ObjectFlags.Anonymous)}isAny(){return this._hasTypeFlag(T.TypeFlags.Any)}isNever(){return this._hasTypeFlag(T.TypeFlags.Never)}isArray(){let e=this.getSymbol();return null!=e&&("Array"===e.getName()||"ReadonlyArray"===e.getName())&&1===this.getTypeArguments().length}isReadonlyArray(){let e=this.getSymbol();return null!=e&&"ReadonlyArray"===e.getName()&&1===this.getTypeArguments().length}isTemplateLiteral(){return this._hasTypeFlag(T.TypeFlags.TemplateLiteral)}isBoolean(){return this._hasTypeFlag(T.TypeFlags.Boolean)}isString(){return this._hasTypeFlag(T.TypeFlags.String)}isNumber(){return this._hasTypeFlag(T.TypeFlags.Number)}isLiteral(){let e=this.isBooleanLiteral();return this.compilerType.isLiteral()||e}isBooleanLiteral(){return this._hasTypeFlag(T.TypeFlags.BooleanLiteral)}isEnumLiteral(){return this._hasTypeFlag(T.TypeFlags.EnumLiteral)&&!this.isUnion()}isNumberLiteral(){return this._hasTypeFlag(T.TypeFlags.NumberLiteral)}isStringLiteral(){return this.compilerType.isStringLiteral()}isClass(){return this.compilerType.isClass()}isClassOrInterface(){return this.compilerType.isClassOrInterface()}isEnum(){let e=this._hasTypeFlag(T.TypeFlags.Enum);if(e)return!0;if(this.isEnumLiteral()&&!this.isUnion())return!1;let t=this.getSymbol();if(null==t)return!1;let r=t.getValueDeclaration();return null!=r&&tx.isEnumDeclaration(r)}isInterface(){return this._hasObjectFlag(T.ObjectFlags.Interface)}isObject(){return this._hasTypeFlag(T.TypeFlags.Object)}isTypeParameter(){return this.compilerType.isTypeParameter()}isTuple(){let e=this.getTargetType();return null!=e&&e._hasObjectFlag(T.ObjectFlags.Tuple)}isUnion(){return this.compilerType.isUnion()}isIntersection(){return this.compilerType.isIntersection()}isUnionOrIntersection(){return this.compilerType.isUnionOrIntersection()}isUnknown(){return this._hasTypeFlag(T.TypeFlags.Unknown)}isNull(){return this._hasTypeFlag(T.TypeFlags.Null)}isUndefined(){return this._hasTypeFlag(T.TypeFlags.Undefined)}isVoid(){return this._hasTypeFlag(T.TypeFlags.Void)}getFlags(){return this.compilerType.flags}getObjectFlags(){return this.isObject()&&this.compilerType.objectFlags||0}_hasTypeFlag(e){return(this.compilerType.flags&e)===e}_hasObjectFlag(e){return(this.getObjectFlags()&e)===e}}class ae extends o4{getConstraintOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getConstraint(),null!=e?e:"Expected type parameter to have a constraint.")}getConstraint(){let e=this._getTypeParameterDeclaration();if(null==e)return;let t=e.getConstraint();if(null!=t)return this._context.typeChecker.getTypeAtLocation(t)}getDefaultOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getDefault(),null!=e?e:"Expected type parameter to have a default type.")}getDefault(){let e=this._getTypeParameterDeclaration();if(null==e)return;let t=e.getDefault();if(null!=t)return this._context.typeChecker.getTypeAtLocation(t)}_getTypeParameterDeclaration(){let e=this.getSymbol();if(null==e)return;let t=e.getDeclarations()[0];if(null!=t&&tx.isTypeParameterDeclaration(t))return t}}class at{constructor(e,t){this._skippedFilePaths=e,this._outputFilePaths=t}getSkippedFilePaths(){return this._skippedFilePaths}getOutputFilePaths(){return this._outputFilePaths}}class ar{constructor(e,t){this.__context=e,this._setPathInternal(t)}_setPathInternal(e){this._path=e,this._pathParts=e.split("/").filter(e=>e.length>0)}get _context(){return this._throwIfDeletedOrRemoved(),this.__context}isAncestorOf(e){return ar._isAncestorOfDir(this,e)}isDescendantOf(e){return ar._isAncestorOfDir(e,this)}_getDepth(){return this._pathParts.length}getPath(){return this._throwIfDeletedOrRemoved(),this._path}getBaseName(){return this._pathParts[this._pathParts.length-1]}getParentOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getParent(),null!=e?e:()=>`Parent directory of ${this.getPath()} does not exist or was never added.`)}getParent(){if(!T.FileUtils.isRootDirPath(this.getPath()))return this.addDirectoryAtPathIfExists(T.FileUtils.getDirPath(this.getPath()))}getDirectoryOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getDirectory(e),()=>"string"==typeof e?`Could not find a directory at path '${this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath())}'.`:"Could not find child directory that matched condition.")}getDirectory(e){if("string"==typeof e){let t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.compilerFactory.getDirectoryFromCache(t)}return this.getDirectories().find(e)}getSourceFileOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getSourceFile(e),()=>{if("string"==typeof e){let t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return`Could not find child source file at path '${t}'.`}return"Could not find child source file that matched condition."})}getSourceFile(e){if("string"==typeof e){let t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.compilerFactory.getSourceFileFromCacheFromFilePath(t)}for(let t of this._getSourceFilesIterator())if(e(t))return t}getDirectories(){return Array.from(this._getDirectoriesIterator())}_getDirectoriesIterator(){return this._context.compilerFactory.getChildDirectoriesOfDirectory(this.getPath())}getSourceFiles(e){let{compilerFactory:t,fileSystemWrapper:r}=this._context,i=this;if("string"!=typeof e&&!(e instanceof Array))return Array.from(this._getSourceFilesIterator());{let n="string"==typeof e?[e]:e;return Array.from(function*(e){let n=Array.from(function*(){for(let e of i._getDescendantSourceFilesIterator())yield e.getFilePath()}()),s=T.matchGlobs(n,e,i.getPath());for(let e of s)yield t.getSourceFileFromCacheFromFilePath(r.getStandardizedAbsolutePath(e))}(n))}}_getSourceFilesIterator(){return this._context.compilerFactory.getChildSourceFilesOfDirectory(this.getPath())}getDescendantSourceFiles(){return Array.from(this._getDescendantSourceFilesIterator())}*_getDescendantSourceFilesIterator(){for(let e of this._getSourceFilesIterator())yield e;for(let e of this._getDirectoriesIterator())yield*e._getDescendantSourceFilesIterator()}getDescendantDirectories(){return Array.from(this._getDescendantDirectoriesIterator())}*_getDescendantDirectoriesIterator(){for(let e of this.getDirectories())yield e,yield*e._getDescendantDirectoriesIterator()}addSourceFilesAtPaths(e){return e=(e="string"==typeof e?[e]:e).map(e=>T.FileUtils.pathIsAbsolute(e)?e:T.FileUtils.pathJoin(this.getPath(),e)),this._context.directoryCoordinator.addSourceFilesAtPaths(e,{markInProject:this._isInProject()})}addDirectoryAtPathIfExists(e,t={}){let r=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.addDirectoryAtPathIfExists(r,{...t,markInProject:this._isInProject()})}addDirectoryAtPath(e,t={}){let r=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.addDirectoryAtPath(r,{...t,markInProject:this._isInProject()})}createDirectory(e){let t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.createDirectoryOrAddIfExists(t,{markInProject:this._isInProject()})}createSourceFile(e,t,r){let i=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.compilerFactory.createSourceFile(i,t||"",{...r||{},markInProject:this._isInProject()})}addSourceFileAtPathIfExists(e){let t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.addSourceFileAtPathIfExists(t,{markInProject:this._isInProject()})}addSourceFileAtPath(e){let t=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return this._context.directoryCoordinator.addSourceFileAtPath(t,{markInProject:this._isInProject()})}async emit(e={}){let{fileSystemWrapper:t}=this._context,r=[],i=[],n=[];for(let s of this._emitInternal(e))an(s)?n.push(s):(r.push(t.writeFile(s.filePath,s.fileText)),i.push(s.filePath));return await Promise.all(r),new at(n,i)}emitSync(e={}){let{fileSystemWrapper:t}=this._context,r=[],i=[];for(let n of this._emitInternal(e))an(n)?i.push(n):(t.writeFileSync(n.filePath,n.fileText),r.push(n.filePath));return new at(i,r)}_emitInternal(e={}){let{emitOnlyDtsFiles:t=!1}=e,r=null==e.outDir?void 0:/\.js$/i,i=null==e.outDir?void 0:/\.js\.map$/i,n=null==e.declarationDir&&null==e.outDir?void 0:/\.d\.ts$/i,s=e=>null==e?void 0:this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath()),o=(e,t)=>null==e?void 0:T.FileUtils.pathJoin(e,t.getBaseName()),a=null!=this._context.compilerOptions.get().declarationDir||null!=e.declarationDir;return function* e(s,l,d){for(let e of s.getSourceFiles()){let s=e.getEmitOutput({emitOnlyDtsFiles:t});if(s.getEmitSkipped()){yield e.getFilePath();continue}for(let e of s.getOutputFiles()){let t=e.getFilePath(),s=e.getWriteByteOrderMark()?T.FileUtils.getTextWithByteOrderMark(e.getText()):e.getText();null!=l&&(r.test(t)||i.test(t)||!a&&n.test(t))?t=T.FileUtils.pathJoin(l,T.FileUtils.getBaseName(t)):null!=d&&n.test(t)&&(t=T.FileUtils.pathJoin(d,T.FileUtils.getBaseName(t))),yield{filePath:t,fileText:s}}}for(let t of s.getDirectories())yield*e(t,o(l,t),o(d,t))}(this,s(e.outDir),s(e.declarationDir))}copyToDirectory(e,t){let r="string"==typeof e?e:e.getPath();return this.copy(T.FileUtils.pathJoin(r,this.getBaseName()),t)}copy(e,t){let r=this.getPath(),i=this._context.fileSystemWrapper,n=this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath());return r===n?this:((t=ai(t)).includeUntrackedFiles&&i.queueCopyDirectory(r,n),this._copyInternal(n,t))}async copyImmediately(e,t){let r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);if(i===n)return await this.save(),this;t=ai(t);let s=this._copyInternal(n,t);return t.includeUntrackedFiles&&await r.copyDirectoryImmediately(i,n),await s.save(),s}copyImmediatelySync(e,t){let r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);if(i===n)return this.saveSync(),this;t=ai(t);let s=this._copyInternal(n,t);return t.includeUntrackedFiles&&r.copyDirectoryImmediatelySync(i,n),s.saveSync(),s}_copyInternal(e,t){let r=this.getPath();if(r===e)return this;let{fileSystemWrapper:i,compilerFactory:n}=this._context,s=[this,...this.getDescendantDirectories()].map(t=>({newDirPath:t===this?e:i.getStandardizedAbsolutePath(this.getRelativePathTo(t),e)})),o=this.getDescendantSourceFiles().map(t=>({sourceFile:t,newFilePath:i.getStandardizedAbsolutePath(this.getRelativePathTo(t),e),references:this._getReferencesForCopy(t)}));for(let{newDirPath:e}of s)this._context.compilerFactory.createDirectoryOrAddIfExists(e,{markInProject:this._isInProject()});for(let{sourceFile:e,newFilePath:r}of o)e._copyInternal(r,t);for(let{references:e,newFilePath:t}of o)this.getSourceFileOrThrow(t)._updateReferencesForCopyInternal(e);return n.getDirectoryFromCache(e)}moveToDirectory(e,t){let r="string"==typeof e?e:e.getPath();return this.move(T.FileUtils.pathJoin(r,this.getBaseName()),t)}move(e,t){let r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);return i===n?this:this._moveInternal(n,t,()=>r.queueMoveDirectory(i,n))}async moveImmediately(e,t){let r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);return i===n||(this._moveInternal(n,t),await r.moveDirectoryImmediately(i,n)),await this.save(),this}moveImmediatelySync(e,t){let r=this._context.fileSystemWrapper,i=this.getPath(),n=r.getStandardizedAbsolutePath(e,i);return i===n||(this._moveInternal(n,t),r.moveDirectoryImmediatelySync(i,n)),this.saveSync(),this}_moveInternal(e,t,r){let i=this.getPath();if(i===e)return this;let n=this._context.compilerFactory.getDirectoryFromCacheOnlyIfInCache(e),s=null!=n&&n._isInProject();r&&r();let o=this._context.fileSystemWrapper,a=this._context.compilerFactory,l=[this,...this.getDescendantDirectories()].map(t=>({directory:t,oldPath:t.getPath(),newDirPath:t===this?e:o.getStandardizedAbsolutePath(this.getRelativePathTo(t),e)})),d=this.getDescendantSourceFiles().map(t=>({sourceFile:t,newFilePath:o.getStandardizedAbsolutePath(this.getRelativePathTo(t),e),references:this._getReferencesForMove(t)}));for(let{directory:e,oldPath:t,newDirPath:r}of l){a.removeDirectoryFromCache(t);let i=a.getDirectoryFromCache(r);null!=i&&i._forgetOnlyThis(),e._setPathInternal(r),a.addDirectoryToCache(e)}for(let{sourceFile:e,newFilePath:r}of d)e._moveInternal(r,t);for(let{sourceFile:e,references:t}of d)e._updateReferencesForMoveInternal(t,i);return s&&this._markAsInProject(),this}clear(){let e=this.getPath();this._deleteDescendants(),this._context.fileSystemWrapper.queueDirectoryDelete(e),this._context.fileSystemWrapper.queueMkdir(e)}async clearImmediately(){let e=this.getPath();this._deleteDescendants(),await this._context.fileSystemWrapper.clearDirectoryImmediately(e)}clearImmediatelySync(){let e=this.getPath();this._deleteDescendants(),this._context.fileSystemWrapper.clearDirectoryImmediatelySync(e)}delete(){let e=this.getPath();this._deleteDescendants(),this._context.fileSystemWrapper.queueDirectoryDelete(e),this.forget()}_deleteDescendants(){for(let e of this.getSourceFiles())e.delete();for(let e of this.getDirectories())e.delete()}async deleteImmediately(){let{fileSystemWrapper:e}=this._context,t=this.getPath();this.forget(),await e.deleteDirectoryImmediately(t)}deleteImmediatelySync(){let{fileSystemWrapper:e}=this._context,t=this.getPath();this.forget(),e.deleteDirectoryImmediatelySync(t)}forget(){if(!this.wasForgotten()){for(let e of this.getSourceFiles())e.forget();for(let e of this.getDirectories())e.forget();this._forgetOnlyThis()}}_forgetOnlyThis(){this.wasForgotten()||(this._context.compilerFactory.removeDirectoryFromCache(this.getPath()),this.__context=void 0)}async save(){await this._context.fileSystemWrapper.saveForDirectory(this.getPath());let e=this.getDescendantSourceFiles().filter(e=>!e.isSaved());await Promise.all(e.map(e=>e.save()))}saveSync(){this._context.fileSystemWrapper.saveForDirectorySync(this.getPath());let e=this.getDescendantSourceFiles().filter(e=>!e.isSaved());e.forEach(e=>e.saveSync())}getRelativePathTo(e){return T.FileUtils.getRelativePathTo(this.getPath(),e instanceof nz?e.getFilePath():e instanceof ar?e.getPath():this._context.fileSystemWrapper.getStandardizedAbsolutePath(e,this.getPath()))}getRelativePathAsModuleSpecifierTo(e){let t=this._context.program.getEmitModuleResolutionKind(),r=this,i=T.FileUtils.getRelativePathTo(this.getPath(),function(){return e instanceof nz?i(e.getFilePath()):e instanceof ar?function(e){switch(t){case T.ModuleResolutionKind.Node10:if(e===r)return T.FileUtils.pathJoin(e.getPath(),"index.ts");return e.getPath();case T.ModuleResolutionKind.Classic:case T.ModuleResolutionKind.Node16:case T.ModuleResolutionKind.NodeNext:case T.ModuleResolutionKind.Bundler:return T.FileUtils.pathJoin(e.getPath(),"index.ts");default:return T.errors.throwNotImplementedForNeverValueError(t)}}(e):i(r._context.fileSystemWrapper.getStandardizedAbsolutePath(e,r.getPath()));function i(e){let i=T.FileUtils.getDirPath(e);switch(t){case T.ModuleResolutionKind.Node10:if(i===r.getPath())return e;return e.replace(/\/index?(\.d\.ts|\.ts|\.js)$/i,"");case T.ModuleResolutionKind.Classic:case T.ModuleResolutionKind.Node16:case T.ModuleResolutionKind.NodeNext:case T.ModuleResolutionKind.Bundler:return e;default:return T.errors.throwNotImplementedForNeverValueError(t)}}}()).replace(/((\.d\.ts$)|(\.[^/.]+$))/i,"");return i.startsWith("../")?i:"./"+i}getProject(){return this._context.project}wasForgotten(){return null==this.__context}_isInProject(){return this._context.inProjectCoordinator.isDirectoryInProject(this)}_markAsInProject(){this._context.inProjectCoordinator.markDirectoryAsInProject(this)}_hasLoadedParent(){return this._context.compilerFactory.containsDirectoryAtPath(T.FileUtils.getDirPath(this.getPath()))}_throwIfDeletedOrRemoved(){if(this.wasForgotten())throw new T.errors.InvalidOperationError("Cannot use a directory that was deleted, removed, or overwritten.")}_getReferencesForCopy(e){let t=e._getReferencesForCopyInternal();return t.filter(e=>!this.isAncestorOf(e[1]))}_getReferencesForMove(e){let{literalReferences:t,referencingLiterals:r}=e._getReferencesForMoveInternal();return{literalReferences:t.filter(e=>!this.isAncestorOf(e[1])),referencingLiterals:r.filter(e=>!this.isAncestorOf(e._sourceFile))}}static _isAncestorOfDir(e,t){if(t instanceof nz&&e===(t=t.getDirectory()))return!0;if(e._pathParts.length>=t._pathParts.length)return!1;for(let r=e._pathParts.length-1;r>=0;r--)if(e._pathParts[r]!==t._pathParts[r])return!1;return!0}}function ai(e){return L(e=T.ObjectUtils.clone(e||{}),"includeUntrackedFiles",!0),e}function an(e){return"string"==typeof e}class as{constructor(e,t){this.compilerFactory=e,this.fileSystemWrapper=t}addDirectoryAtPathIfExists(e,t){let r=this.compilerFactory.getDirectoryFromPath(e,t);if(null!=r){if(t.recursive)for(let r of T.FileUtils.getDescendantDirectories(this.fileSystemWrapper,e))this.compilerFactory.createDirectoryOrAddIfExists(r,t);return r}}addDirectoryAtPath(e,t){let r=this.addDirectoryAtPathIfExists(e,t);if(null==r)throw new T.errors.DirectoryNotFoundError(e);return r}createDirectoryOrAddIfExists(e,t){return this.compilerFactory.createDirectoryOrAddIfExists(e,t)}addSourceFileAtPathIfExists(e,t){return this.compilerFactory.addOrGetSourceFileFromFilePath(e,{markInProject:t.markInProject,scriptKind:void 0})}addSourceFileAtPath(e,t){let r=this.addSourceFileAtPathIfExists(e,t);if(null==r)throw new T.errors.FileNotFoundError(this.fileSystemWrapper.getStandardizedAbsolutePath(e));return r}addSourceFilesAtPaths(e,t){"string"==typeof e&&(e=[e]);let r=[],i=new Set;for(let n of this.fileSystemWrapper.globSync(e)){let e=this.addSourceFileAtPathIfExists(n,t);null!=e&&r.push(e),i.add(T.FileUtils.getDirPath(n))}for(let e of T.FileUtils.getParentMostPaths(Array.from(i)))this.addDirectoryAtPathIfExists(e,{recursive:!0,markInProject:t.markInProject});return r}}class ao{constructor(e){this.context=e,this.directoriesByPath=new T.KeyValueCache,this.sourceFilesByDirPath=new T.KeyValueCache,this.directoriesByDirPath=new T.KeyValueCache,this.orphanDirs=new T.KeyValueCache}has(e){return this.directoriesByPath.has(e)}get(e){if(!this.directoriesByPath.has(e)){for(let t of this.orphanDirs.getValues())if(T.FileUtils.pathStartsWith(t.getPath(),e))return this.createOrAddIfExists(e);return}return this.directoriesByPath.get(e)}getOrphans(){return this.orphanDirs.getValues()}getAll(){return this.directoriesByPath.getValuesAsArray()}*getAllByDepth(){let e=new T.KeyValueCache,t=0;for(let e of this.getOrphans())r(e);for(t=Math.min(...Array.from(e.getKeys()));e.getSize()>0;){for(let i of e.get(t)||[])yield i,i.getDirectories().forEach(r);e.removeByKey(t),t++}function r(r){let i=r._getDepth();if(t>i)throw Error(`For some reason a subdirectory had a lower depth than the parent directory: ${r.getPath()}`);let n=e.getOrCreate(i,()=>[]);n.push(r)}}remove(e){this.removeFromDirectoriesByDirPath(e),this.directoriesByPath.removeByKey(e),this.orphanDirs.removeByKey(e)}*getChildDirectoriesOfDirectory(e){var t;let r=null===(t=this.directoriesByDirPath.get(e))||void 0===t?void 0:t.entries();if(null!=r)for(let e of r)yield e}*getChildSourceFilesOfDirectory(e){var t;let r=null===(t=this.sourceFilesByDirPath.get(e))||void 0===t?void 0:t.entries();if(null!=r)for(let e of r)yield e}addSourceFile(e){let t=e.getDirectoryPath();this.createOrAddIfExists(t);let r=this.sourceFilesByDirPath.getOrCreate(t,()=>new T.SortedKeyValueArray(e=>e.getBaseName(),T.LocaleStringComparer.instance));r.set(e)}removeSourceFile(e){let t=T.FileUtils.getDirPath(e),r=this.sourceFilesByDirPath.get(t);null==r||(r.removeByKey(T.FileUtils.getBaseName(e)),r.hasItems()||this.sourceFilesByDirPath.removeByKey(t))}createOrAddIfExists(e){return this.has(e)?this.get(e):(this.fillParentsOfDirPath(e),this.createDirectory(e))}createDirectory(e){let t=new ar(this.context,e);return this.addDirectory(t),t}addDirectory(e){let t=e.getPath(),r=T.FileUtils.getDirPath(t),i=r===t;for(let e of this.orphanDirs.getValues()){let r=e.getPath(),i=T.FileUtils.getDirPath(r),n=i===r;n||i!==t||this.orphanDirs.removeByKey(r)}for(let n of(i||this.addToDirectoriesByDirPath(e),this.has(r)||this.orphanDirs.set(t,e),this.directoriesByPath.set(t,e),this.context.fileSystemWrapper.directoryExistsSync(t)||this.context.fileSystemWrapper.queueMkdir(t),this.orphanDirs.getValues()))e.isAncestorOf(n)&&this.fillParentsOfDirPath(n.getPath())}addToDirectoriesByDirPath(e){if(T.FileUtils.isRootDirPath(e.getPath()))return;let t=T.FileUtils.getDirPath(e.getPath()),r=this.directoriesByDirPath.getOrCreate(t,()=>new T.SortedKeyValueArray(e=>e.getBaseName(),T.LocaleStringComparer.instance));r.set(e)}removeFromDirectoriesByDirPath(e){if(T.FileUtils.isRootDirPath(e))return;let t=T.FileUtils.getDirPath(e),r=this.directoriesByDirPath.get(t);null==r||(r.removeByKey(T.FileUtils.getBaseName(e)),r.hasItems()||this.directoriesByDirPath.removeByKey(t))}fillParentsOfDirPath(e){let t=[],r=T.FileUtils.getDirPath(e);for(;e!==r;){if(e=r,r=T.FileUtils.getDirPath(e),this.directoriesByPath.has(e)){for(let e of t)this.createDirectory(e);break}t.unshift(e)}}}class aa extends T.KeyValueCache{constructor(){super(...arguments),this.forgetStack=[]}getOrCreate(e,t){return super.getOrCreate(e,()=>{let e=t();return this.forgetStack.length>0&&this.forgetStack[this.forgetStack.length-1].add(e),e})}setForgetPoint(){this.forgetStack.push(new Set)}forgetLastPoint(){let e=this.forgetStack.pop();null!=e&&this.forgetNodes(e.values())}rememberNode(e){if(e.wasForgotten())throw new T.errors.InvalidOperationError("Cannot remember a node that was removed or forgotten.");let t=!1;for(let r of this.forgetStack)if(r.delete(e)){t=!0;break}return t&&this.rememberParentOfNode(e),t}rememberParentOfNode(e){let t=e.getParentSyntaxList()||e.getParent();null!=t&&this.rememberNode(t)}forgetNodes(e){for(let t of e)t.wasForgotten()||t.getKind()===T.SyntaxKind.SourceFile||t._forgetOnlyThis()}}let al={[T.SyntaxKind.SourceFile]:nz,[T.SyntaxKind.ArrayBindingPattern]:class extends tx{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}},[T.SyntaxKind.ArrayLiteralExpression]:class extends ix{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}addElement(e,t){return this.addElements([e],t)[0]}addElements(e,t){return this.insertElements(this.compilerNode.elements.length,e,t)}insertElement(e,t,r){return this.insertElements(e,[t],r)[0]}insertElements(e,t,r={}){let i=this.getElements();e=ex(e,i.length);let n=null!=r.useNewLines?r.useNewLines:i.length>1?function(){let e=i[0].getStartLineNumber();for(let t=1;t<i.length;t++){let r=i[t].getStartLineNumber();if(e===r)return!1;e=r}return!0}():this.getStartLineNumber()!==this.getEndLineNumber(),s=n?this._getWriterWithChildIndentation():this._getWriterWithQueuedChildIndentation(),o=new t8,a=n?new tj(o):new tR(o);return a.printText(s,t),function(t){e5({parent:t.getFirstChildByKindOrThrow(T.SyntaxKind.SyntaxList),currentNodes:i,insertIndex:e,newText:s.toString(),useNewLines:n,useTrailingCommas:n&&t._context.manipulationSettings.getUseTrailingCommas()});let r=t.getElements();return eh(i,r,e,!1)}(this)}removeElement(e){let t=this.getElements();if(0===t.length)throw new T.errors.InvalidOperationError("Cannot remove an element when none exist.");let r="number"==typeof e?t[ex(e,t.length-1)]:e;ts(r)}},[T.SyntaxKind.ArrayType]:class extends sb{getElementTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.elementType)}},[T.SyntaxKind.ArrowFunction]:class extends n${getEqualsGreaterThan(){return this._getNodeFromCompilerNode(this.compilerNode.equalsGreaterThanToken)}},[T.SyntaxKind.AsExpression]:class extends iN{},[T.SyntaxKind.AssertClause]:class extends nx{setElements(e){return this.replaceWithText(t=>{let r=this._context.structurePrinterFactory.forAssertEntry();r.printAssertClause(t,e)}),this}getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}remove(){tr({children:[this],removePrecedingNewLines:!0,removePrecedingSpaces:!0})}},[T.SyntaxKind.AssertEntry]:class extends nf{getValue(){return this._getNodeFromCompilerNode(this.compilerNode.value)}set(e){return G(nf.prototype,this,e),e.value&&this.getValue().replaceWithText(e.value),this}getStructure(){return $(nf.prototype,this,{kind:t.z_b.AssertEntry,value:this.getValue().getText()})}},[T.SyntaxKind.AwaitExpression]:class extends iK{},[T.SyntaxKind.BigIntLiteral]:class extends of{getLiteralValue(){let e=this.compilerNode.text;if("undefined"==typeof BigInt)throw new T.errors.InvalidOperationError("Runtime environment does not support BigInts. Perhaps work with the text instead?");let t=e.substring(0,e.length-1);return BigInt(t)}setLiteralValue(e){if("bigint"!=typeof e)throw new T.errors.ArgumentTypeError("value","bigint",typeof e);return tl({sourceFile:this._sourceFile,start:this.getStart(),replacingLength:this.getWidth(),newText:e.toString()+"n"}),this}},[T.SyntaxKind.BindingElement]:class extends ia{getPropertyNameNodeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getPropertyNameNode(),null!=e?e:"Expected to find a property name node.",this)}getPropertyNameNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.propertyName)}},[T.SyntaxKind.BinaryExpression]:iu,[T.SyntaxKind.Block]:class extends i6{},[T.SyntaxKind.BreakStatement]:class extends i3{getLabel(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.label)}getLabelOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getLabel(),null!=e?e:"Expected to find a label.",this)}},[T.SyntaxKind.CallExpression]:class extends ib{getReturnType(){return this._context.typeChecker.getTypeAtLocation(this)}},[T.SyntaxKind.CallSignature]:class extends s8{set(e){return G(s8.prototype,this,e),this}getStructure(){return $(s8.prototype,this,{kind:t.z_b.CallSignature})}},[T.SyntaxKind.CaseBlock]:class extends i7{getClauses(){let e=this.compilerNode.clauses||[];return e.map(e=>this._getNodeFromCompilerNode(e))}removeClause(e){return e=ex(e,this.getClauses().length-1),this.removeClauses([e,e])}removeClauses(e){let t=this.getClauses();return T.errors.throwIfRangeOutOfRange(e,[0,t.length],"indexRange"),ta(t.slice(e[0],e[1]+1)),this}},[T.SyntaxKind.CaseClause]:class extends i5{remove(){ta([this])}},[T.SyntaxKind.CatchClause]:class extends i4{getBlock(){return this._getNodeFromCompilerNode(this.compilerNode.block)}getVariableDeclaration(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.variableDeclaration)}getVariableDeclarationOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getVariableDeclaration(),null!=e?e:"Expected to find a variable declaration.",this)}},[T.SyntaxKind.ClassDeclaration]:class extends si{set(e){return G(si.prototype,this,e),null!=e.extends?this.setExtends(e.extends):e.hasOwnProperty(T.nameof(e,"extends"))&&this.removeExtends(),null!=e.ctors&&(this.getConstructors().forEach(e=>e.remove()),this.addConstructors(e.ctors)),null!=e.properties&&(this.getProperties().forEach(e=>e.remove()),this.addProperties(e.properties)),null!=e.getAccessors&&(this.getGetAccessors().forEach(e=>e.remove()),this.addGetAccessors(e.getAccessors)),null!=e.setAccessors&&(this.getSetAccessors().forEach(e=>e.remove()),this.addSetAccessors(e.setAccessors)),null!=e.methods&&(this.getMethods().forEach(e=>e.remove()),this.addMethods(e.methods)),this}getStructure(){let e=this.getExtends(),r=this.isAmbient();return $(si.prototype,this,{kind:t.z_b.Class,ctors:this.getConstructors().filter(e=>r||!e.isOverload()).map(e=>e.getStructure()),methods:this.getMethods().filter(e=>r||!e.isOverload()).map(e=>e.getStructure()),properties:this.getProperties().map(e=>e.getStructure()),extends:e?e.getText():void 0,getAccessors:this.getGetAccessors().map(e=>e.getStructure()),setAccessors:this.getSetAccessors().map(e=>e.getStructure())})}extractInterface(e){let{constructors:r,properties:i,methods:n,accessors:s}=sn(this,!1),o=r.map(e=>e.getParameters().filter(e=>e.isParameterProperty())).flat().filter(e=>null!=e.getName()&&e.getScope()===t.sXi.Public);return{kind:t.z_b.Interface,name:ss(e,this),docs:this.getJsDocs().map(e=>e.getStructure()),typeParameters:this.getTypeParameters().map(e=>e.getStructure()),properties:[...o.map(e=>{let r=e.getParentOrThrow().getJsDocs().map(e=>e.getTags()).flat().filter(tx.isJSDocParameterTag).filter(t=>"param"===t.getTagName()&&t.getName()===e.getName()&&null!=t.getComment()).map(e=>e.getCommentText().trim())[0];return{kind:t.z_b.PropertySignature,docs:null==r?[]:[{kind:t.z_b.JSDoc,description:r}],name:e.getName(),type:e.getType().getText(e),hasQuestionToken:e.hasQuestionToken(),isReadonly:e.isReadonly()}}),...i.map(so),...s.map(sa)],methods:n.map(sl)}}extractStaticInterface(e){let{constructors:r,properties:i,methods:n,accessors:s}=sn(this,!0),o=ss(void 0,this);return{kind:t.z_b.Interface,name:e,properties:[...i.map(so),...s.map(sa)],methods:n.map(sl),constructSignatures:r.map(e=>({kind:t.z_b.ConstructSignature,docs:e.getJsDocs().map(e=>e.getStructure()),parameters:e.getParameters().map(e=>({...sd(e),scope:void 0,isReadonly:!1})),returnType:o}))}}},[T.SyntaxKind.ClassExpression]:class extends sc{},[T.SyntaxKind.ClassStaticBlockDeclaration]:class extends su{getName(){return"static"}isStatic(){return!0}set(e){return G(su.prototype,this,e),this}getStructure(){return $(su.prototype,this,{kind:t.z_b.ClassStaticBlock})}},[T.SyntaxKind.ConditionalType]:class extends sb{getCheckType(){return this._getNodeFromCompilerNode(this.compilerNode.checkType)}getExtendsType(){return this._getNodeFromCompilerNode(this.compilerNode.extendsType)}getTrueType(){return this._getNodeFromCompilerNode(this.compilerNode.trueType)}getFalseType(){return this._getNodeFromCompilerNode(this.compilerNode.falseType)}},[T.SyntaxKind.Constructor]:class extends sp{set(e){return G(sp.prototype,this,e),null!=e.overloads&&(this.getOverloads().forEach(e=>e.remove()),this.addOverloads(e.overloads)),this}addOverload(e){return this.addOverloads([e])[0]}addOverloads(e){return this.insertOverloads(this.getOverloads().length,e)}insertOverload(e,t){return this.insertOverloads(e,[t])[0]}insertOverloads(e,t){let r=this._context.structurePrinterFactory.forConstructorDeclaration({isAmbient:P(this)});return nX({node:this,index:e,structures:t,printStructure:(e,t)=>{r.printOverload(e,t)},getThisStructure:eg,expectedSyntaxKind:T.SyntaxKind.Constructor})}getStructure(){let e=null!=this.getImplementation(),r=this.isOverload(),i=r&&e?sg.prototype:sp.prototype;return $(i,this,e&&r?{kind:t.z_b.ConstructorOverload}:e?{kind:t.z_b.Constructor,overloads:this.getOverloads().map(e=>e.getStructure())}:{kind:t.z_b.Constructor})}},[T.SyntaxKind.ConstructorType]:class extends sI{},[T.SyntaxKind.ConstructSignature]:class extends s6{set(e){return G(s6.prototype,this,e),this}getStructure(){return $(s6.prototype,this,{kind:t.z_b.ConstructSignature})}},[T.SyntaxKind.ContinueStatement]:class extends i3{getLabel(){return null==this.compilerNode.label?void 0:this._getNodeFromCompilerNode(this.compilerNode.label)}getLabelOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getLabel(),null!=e?e:"Expected to find a label.",this)}},[T.SyntaxKind.CommaListExpression]:class extends iw{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}},[T.SyntaxKind.ComputedPropertyName]:class extends on{},[T.SyntaxKind.ConditionalExpression]:class extends iC{getCondition(){return this._getNodeFromCompilerNode(this.compilerNode.condition)}getQuestionToken(){return this._getNodeFromCompilerNode(this.compilerNode.questionToken)}getWhenTrue(){return this._getNodeFromCompilerNode(this.compilerNode.whenTrue)}getColonToken(){return this._getNodeFromCompilerNode(this.compilerNode.colonToken)}getWhenFalse(){return this._getNodeFromCompilerNode(this.compilerNode.whenFalse)}},[T.SyntaxKind.DebuggerStatement]:class extends nt{},[T.SyntaxKind.Decorator]:class extends sf{getName(){return this.getNameNode().getText()}getNameNode(){let e=this.getCallExpression();if(e)return t(e.getExpression());return t(this._getInnerExpression());function t(e){let t=tx.isPropertyAccessExpression(e)?e.getNameNode():e;if(!tx.isIdentifier(t))throw new T.errors.NotImplementedError(`Expected the decorator expression '${t.getText()}' to be an identifier. Please deal directly with 'getExpression()' on the decorator to handle more complex scenarios.`);return t}}getFullName(){let e=this.getSourceFile();return this.isDecoratorFactory()?this.getCallExpression().getExpression().getText():this.compilerNode.expression.getText(e.compilerNode)}isDecoratorFactory(){return tx.isCallExpression(this._getInnerExpression())}setIsDecoratorFactory(e){if(this.isDecoratorFactory()===e)return this;if(e){let e=this._getInnerExpression(),t=e.getText();e7({parent:this,insertPos:e.getStart(),newText:`${t}()`,replacing:{textLength:t.length},customMappings:t=>[{currentNode:e,newNode:t.expression.expression}]})}else{let e=this.getCallExpressionOrThrow(),t=e.getExpression(),r=t.getText();e7({parent:this,insertPos:e.getStart(),newText:`${r}`,replacing:{textLength:e.getWidth()},customMappings:e=>[{currentNode:t,newNode:e.expression}]})}return this}getCallExpressionOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getCallExpression(),null!=e?e:"Expected to find a call expression.",this)}getCallExpression(){let e=this._getInnerExpression();return tx.isCallExpression(e)?e:void 0}getArguments(){var e,t;return null!==(t=null===(e=this.getCallExpression())||void 0===e?void 0:e.getArguments())&&void 0!==t?t:[]}getTypeArguments(){var e,t;return null!==(t=null===(e=this.getCallExpression())||void 0===e?void 0:e.getTypeArguments())&&void 0!==t?t:[]}addTypeArgument(e){return this.getCallExpressionOrThrow().addTypeArgument(e)}addTypeArguments(e){return this.getCallExpressionOrThrow().addTypeArguments(e)}insertTypeArgument(e,t){return this.getCallExpressionOrThrow().insertTypeArgument(e,t)}insertTypeArguments(e,t){return this.getCallExpressionOrThrow().insertTypeArguments(e,t)}removeTypeArgument(e){let t=this.getCallExpression();if(null==t)throw new T.errors.InvalidOperationError("Cannot remove a type argument from a decorator that has no type arguments.");return t.removeTypeArgument(e),this}addArgument(e){return this.addArguments([e])[0]}addArguments(e){return this.insertArguments(this.getArguments().length,e)}insertArgument(e,t){return this.insertArguments(e,[t])[0]}insertArguments(e,t){return this.setIsDecoratorFactory(!0),this.getCallExpressionOrThrow().insertArguments(e,t)}removeArgument(e){let t=this.getCallExpression();if(null==t)throw new T.errors.InvalidOperationError("Cannot remove an argument from a decorator that has no arguments.");return t.removeArgument(e),this}remove(){let e=this.getStartLinePos(),t=this.getPreviousSiblingIfKind(T.SyntaxKind.Decorator);null!=t&&t.getStartLinePos()===e?tr({children:[this],removePrecedingSpaces:!0}):function(e){let{children:t}=e;if(0===t.length)return;let r=t[0].getParentSyntaxListOrThrow();r.getChildCount()===t.length?ti({children:[r],getSiblingFormatting:()=>f.None}):ti(e)}({children:[this],getSiblingFormatting:(t,r)=>r.getStartLinePos()===e?f.Space:f.Newline})}_getInnerExpression(){let e=this.getExpression();for(;tx.isParenthesizedExpression(e);)e=e.getExpression();return e}set(e){return G(sf.prototype,this,e),null!=e.name&&this.getNameNode().replaceWithText(e.name),null!=e.arguments&&(this.setIsDecoratorFactory(!0),this.getArguments().map(e=>this.removeArgument(e)),this.addArguments(e.arguments)),null!=e.typeArguments&&e.typeArguments.length>0&&(this.setIsDecoratorFactory(!0),this.getTypeArguments().map(e=>this.removeTypeArgument(e)),this.addTypeArguments(e.typeArguments)),this}getStructure(){let e=this.isDecoratorFactory();return $(sf.prototype,this,{kind:t.z_b.Decorator,name:this.getName(),arguments:e?this.getArguments().map(e=>e.getText()):void 0,typeArguments:e?this.getTypeArguments().map(e=>e.getText()):void 0})}},[T.SyntaxKind.DefaultClause]:class extends nr{remove(){ta([this])}},[T.SyntaxKind.DeleteExpression]:class extends iF{},[T.SyntaxKind.DoStatement]:class extends nn{},[T.SyntaxKind.ElementAccessExpression]:iI,[T.SyntaxKind.EmptyStatement]:class extends ns{},[T.SyntaxKind.EnumDeclaration]:class extends s1{set(e){return G(s1.prototype,this,e),null!=e.isConst&&this.setIsConstEnum(e.isConst),null!=e.members&&(this.getMembers().forEach(e=>e.remove()),this.addMembers(e.members)),this}addMember(e){return this.addMembers([e])[0]}addMembers(e){return this.insertMembers(this.getMembers().length,e)}insertMember(e,t){return this.insertMembers(e,[t])[0]}insertMembers(e,t){if(0===t.length)return[];let r=this.getMembersWithComments();e=ex(e,r.length);let i=this._getWriterWithChildIndentation(),n=this._context.structurePrinterFactory.forEnumMember();return n.printTexts(i,t),e5({parent:this.getChildSyntaxListOrThrow(),currentNodes:r,insertIndex:e,newText:i.toString(),useNewLines:!0,useTrailingCommas:this._context.manipulationSettings.getUseTrailingCommas()}),eh(r,this.getMembersWithComments(),e,!(t instanceof Array&&t.every(e=>"object"==typeof e)))}getMember(e){return C(this.getMembers(),e)}getMemberOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getMember(e),()=>_("enum member",e))}getMembers(){return this.compilerNode.members.map(e=>this._getNodeFromCompilerNode(e))}getMembersWithComments(){let e=this.compilerNode;return eD.getContainerArray(e,this.getSourceFile().compilerNode).map(e=>this._getNodeFromCompilerNode(e))}setIsConstEnum(e){return this.toggleModifier("const",e)}isConstEnum(){return null!=this.getConstKeyword()}getConstKeyword(){return this.getFirstModifierByKind(T.SyntaxKind.ConstKeyword)}getStructure(){return $(s1.prototype,this,{kind:t.z_b.Enum,isConst:this.isConstEnum(),members:this.getMembers().map(e=>e.getStructure())})}},[T.SyntaxKind.EnumMember]:class extends s2{getValue(){return this._context.typeChecker.getConstantValue(this)}setValue(e){let t;if("string"==typeof e){let r=this._context.manipulationSettings.getQuoteKind();t=r+T.StringUtils.escapeForWithinString(e,r)+r}else t=e.toString();return this.setInitializer(t),this}remove(){let e=[this],t=this.getNextSiblingIfKind(T.SyntaxKind.CommaToken);null!=t&&e.push(t),ti({children:e,getSiblingFormatting:()=>f.Newline})}set(e){return G(s2.prototype,this,e),null!=e.value?this.setValue(e.value):e.hasOwnProperty(T.nameof(e,"value"))&&null==e.initializer&&this.removeInitializer(),this}getStructure(){return $(s2.prototype,this,{kind:t.z_b.EnumMember,value:void 0})}},[T.SyntaxKind.ExportAssignment]:class extends nS{isExportEquals(){return this.compilerNode.isExportEquals||!1}setIsExportEquals(e){return this.isExportEquals()===e||(e?this.getFirstChildByKindOrThrow(T.SyntaxKind.DefaultKeyword).replaceWithText("="):this.getFirstChildByKindOrThrow(T.SyntaxKind.EqualsToken).replaceWithText("default")),this}set(e){return G(nS.prototype,this,e),null!=e.expression&&this.setExpression(e.expression),null!=e.isExportEquals&&this.setIsExportEquals(e.isExportEquals),this}getStructure(){return $(i3.prototype,this,{kind:t.z_b.ExportAssignment,expression:this.getExpression().getText(),isExportEquals:this.isExportEquals()})}},[T.SyntaxKind.ExportDeclaration]:class extends nT{isTypeOnly(){return this.compilerNode.isTypeOnly}setIsTypeOnly(e){var t;if(this.isTypeOnly()===e)return this;if(e)e7({parent:this,insertPos:(null!==(t=this.getNodeProperty("exportClause"))&&void 0!==t?t:this.getFirstChildByKindOrThrow(T.SyntaxKind.AsteriskToken)).getStart(),newText:"type "});else{let e=this.getFirstChildByKindOrThrow(T.ts.SyntaxKind.TypeKeyword);tr({children:[e],removeFollowingSpaces:!0})}return this}getNamespaceExport(){let e=this.getNodeProperty("exportClause");return null!=e&&tx.isNamespaceExport(e)?e:void 0}getNamespaceExportOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getNamespaceExport(),null!=e?e:"Expected to find a namespace export.",this)}setNamespaceExport(e){let t=this.getNodeProperty("exportClause"),r=T.StringUtils.isNullOrWhitespace(e)?"*":`* as ${e}`;if(null==t){let e=this.getFirstChildByKindOrThrow(T.SyntaxKind.AsteriskToken);e7({insertPos:e.getStart(),parent:this,newText:r,replacing:{textLength:1}})}else tx.isNamespaceExport(t)?t.getNameNode().replaceWithText(e):e7({insertPos:t.getStart(),parent:this,newText:r,replacing:{textLength:t.getWidth()}});return this}setModuleSpecifier(e){let t="string"==typeof e?e:this._sourceFile.getRelativePathAsModuleSpecifierTo(e);if(T.StringUtils.isNullOrEmpty(t))return this.removeModuleSpecifier(),this;let r=this.getModuleSpecifier();if(null==r){let e=this.getLastChildIfKind(T.SyntaxKind.SemicolonToken),r=this._context.manipulationSettings.getQuoteKind();e7({insertPos:null!=e?e.getPos():this.getEnd(),parent:this,newText:` from ${r}${t}${r}`})}else r.setLiteralValue(t);return this}getModuleSpecifier(){let e=this._getNodeFromCompilerNodeIfExists(this.compilerNode.moduleSpecifier);if(null!=e){if(!tx.isStringLiteral(e))throw new T.errors.InvalidOperationError("Expected the module specifier to be a string literal.");return e}}getModuleSpecifierValue(){let e=this.getModuleSpecifier();return null==e?void 0:e.getLiteralValue()}getModuleSpecifierSourceFileOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getModuleSpecifierSourceFile(),null!=e?e:"A module specifier source file was expected.",this)}getModuleSpecifierSourceFile(){let e=this.getLastChildByKind(T.SyntaxKind.StringLiteral);if(null==e)return;let t=e.getSymbol();if(null==t)return;let r=t.getDeclarations()[0];return null!=r&&tx.isSourceFile(r)?r:void 0}isModuleSpecifierRelative(){let e=this.getModuleSpecifierValue();return null!=e&&v.isModuleSpecifierRelative(e)}removeModuleSpecifier(){let e=this.getModuleSpecifier();if(null==e)return this;if(!this.hasNamedExports())throw new T.errors.InvalidOperationError("Cannot remove the module specifier from an export declaration that has no named exports.");return tr({children:[this.getFirstChildByKindOrThrow(T.SyntaxKind.FromKeyword),e],removePrecedingNewLines:!0,removePrecedingSpaces:!0}),this}hasModuleSpecifier(){return null!=this.getLastChildByKind(T.SyntaxKind.StringLiteral)}isNamespaceExport(){return!this.hasNamedExports()}hasNamedExports(){var e;return(null===(e=this.compilerNode.exportClause)||void 0===e?void 0:e.kind)===T.SyntaxKind.NamedExports}addNamedExport(e){return this.addNamedExports([e])[0]}addNamedExports(e){return this.insertNamedExports(this.getNamedExports().length,e)}insertNamedExport(e,t){return this.insertNamedExports(e,[t])[0]}insertNamedExports(e,t){if(!(t instanceof Function)&&T.ArrayUtils.isNullOrEmpty(t))return[];let r=this.getNamedExports(),i=this._getWriterWithIndentation(),n=this._context.structurePrinterFactory.forNamedImportExportSpecifier();e=ex(e,r.length);let s=this.getNodeProperty("exportClause");if(null==s){n.printTextsWithBraces(i,t);let e=this.getFirstChildByKindOrThrow(T.SyntaxKind.AsteriskToken);e7({insertPos:e.getStart(),parent:this,newText:i.toString(),replacing:{textLength:1}})}else s.getKind()===T.SyntaxKind.NamespaceExport?(n.printTextsWithBraces(i,t),e7({insertPos:s.getStart(),parent:this,newText:i.toString(),replacing:{textLength:s.getWidth()}})):(n.printTexts(i,t),e5({parent:this.getFirstChildByKindOrThrow(T.SyntaxKind.NamedExports).getFirstChildByKindOrThrow(T.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:i.toString(),surroundWithSpaces:this._context.getFormatCodeSettings().insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces,useTrailingCommas:!1}));let o=this.getNamedExports();return eh(r,o,e,!1)}getNamedExports(){let e=this.compilerNode.exportClause;return null==e||T.ts.isNamespaceExport(e)?[]:e.elements.map(e=>this._getNodeFromCompilerNode(e))}toNamespaceExport(){if(!this.hasModuleSpecifier())throw new T.errors.InvalidOperationError("Cannot change to a namespace export when no module specifier exists.");let e=this.getNodeProperty("exportClause");return null==e||e7({parent:this,newText:"*",insertPos:e.getStart(),replacing:{textLength:e.getWidth()}}),this}setAssertElements(e){let t=this.getAssertClause();if(t)e?t.setElements(e):t.remove();else if(e){let t=this._context.structurePrinterFactory.forAssertEntry(),r=this._context.createWriter();r.space(),t.printAssertClause(r,e),e7({parent:this,newText:r.toString(),insertPos:";"===this.getSourceFile().getFullText()[this.getEnd()-1]?this.getEnd()-1:this.getEnd()})}return this}getAssertClause(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.assertClause)}set(e){return G(nT.prototype,this,e),null!=e.namedExports?(function(e){let t;let r=e.getNodeProperty("exportClause");if(null!=r){if(0===e.getNamedExports().length)return;t=r}else t=e.getFirstChildByKindOrThrow(T.SyntaxKind.AsteriskToken);e7({parent:e,newText:"{ }",insertPos:t.getStart(),replacing:{textLength:t.getWidth()}})}(this),this.addNamedExports(e.namedExports)):e.hasOwnProperty(T.nameof(e,"namedExports"))&&null==e.moduleSpecifier&&this.toNamespaceExport(),null!=e.moduleSpecifier?this.setModuleSpecifier(e.moduleSpecifier):e.hasOwnProperty(T.nameof(e,"moduleSpecifier"))&&this.removeModuleSpecifier(),null==e.namedExports&&e.hasOwnProperty(T.nameof(e,"namedExports"))&&this.toNamespaceExport(),null!=e.namespaceExport&&this.setNamespaceExport(e.namespaceExport),null!=e.isTypeOnly&&this.setIsTypeOnly(e.isTypeOnly),e.hasOwnProperty(T.nameof(e,"assertElements"))&&this.setAssertElements(e.assertElements),this}getStructure(){var e;let r=this.getModuleSpecifier(),i=this.getAssertClause();return $(nT.prototype,this,{kind:t.z_b.ExportDeclaration,isTypeOnly:this.isTypeOnly(),moduleSpecifier:null==r?void 0:r.getLiteralText(),namedExports:this.getNamedExports().map(e=>e.getStructure()),namespaceExport:null===(e=this.getNamespaceExport())||void 0===e?void 0:e.getName(),assertElements:i?i.getElements().map(e=>e.getStructure()):void 0})}},[T.SyntaxKind.ExportSpecifier]:class extends nN{setName(e){let t=this.getNameNode();return t.getText()===e||t.replaceWithText(e),this}getName(){return this.getNameNode().getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.propertyName||this.compilerNode.name)}renameAlias(e){if(T.StringUtils.isNullOrWhitespace(e))return this.removeAliasWithRename(),this;let t=this.getAliasNode();return null==t&&(this.setAlias(this.getName()),t=this.getAliasNode()),t.rename(e),this}setAlias(e){if(T.StringUtils.isNullOrWhitespace(e))return this.removeAlias(),this;let t=this.getAliasNode();return null==t?e7({insertPos:this.getNameNode().getEnd(),parent:this,newText:` as ${e}`}):t.replaceWithText(e),this}removeAlias(){let e=this.getAliasNode();return null==e||tr({children:[this.getFirstChildByKindOrThrow(T.SyntaxKind.AsKeyword),e],removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}removeAliasWithRename(){let e=this.getAliasNode();return null==e||(e.rename(this.getName()),this.removeAlias()),this}getAliasNode(){if(null!=this.compilerNode.propertyName)return this._getNodeFromCompilerNode(this.compilerNode.name)}isTypeOnly(){return this.compilerNode.isTypeOnly}setIsTypeOnly(e){return this.isTypeOnly()===e||(e?e7({insertPos:this.getStart(),parent:this,newText:"type "}):tr({children:[this.getFirstChildByKindOrThrow(T.ts.SyntaxKind.TypeKeyword)],removeFollowingSpaces:!0})),this}getExportDeclaration(){return this.getFirstAncestorByKindOrThrow(T.SyntaxKind.ExportDeclaration)}getLocalTargetSymbolOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getLocalTargetSymbol(),null!=e?e:"The export specifier's local target symbol was expected.",this)}getLocalTargetSymbol(){return this._context.typeChecker.getExportSpecifierLocalTargetSymbol(this)}getLocalTargetDeclarations(){var e,t;return null!==(t=null===(e=this.getLocalTargetSymbol())||void 0===e?void 0:e.getDeclarations())&&void 0!==t?t:[]}remove(){let e=this.getExportDeclaration(),t=e.getNamedExports();t.length>1?ts(this):e.hasModuleSpecifier()?e.toNamespaceExport():e.remove()}set(e){return G(nN.prototype,this,e),null!=e.isTypeOnly&&this.setIsTypeOnly(e.isTypeOnly),null!=e.name&&this.setName(e.name),null!=e.alias?this.setAlias(e.alias):e.hasOwnProperty(T.nameof(e,"alias"))&&this.removeAlias(),this}getStructure(){let e=this.getAliasNode();return $(tx.prototype,this,{kind:t.z_b.ExportSpecifier,alias:e?e.getText():void 0,name:this.getNameNode().getText(),isTypeOnly:this.isTypeOnly()})}},[T.SyntaxKind.ExpressionWithTypeArguments]:class extends sE{},[T.SyntaxKind.ExpressionStatement]:class extends no{},[T.SyntaxKind.ExternalModuleReference]:class extends nK{getReferencedSourceFileOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getReferencedSourceFile(),null!=e?e:"Expected to find the referenced source file.",this)}isRelative(){let e=this.getExpression();return!!(null!=e&&tx.isStringLiteral(e))&&v.isModuleSpecifierRelative(e.getLiteralText())}getReferencedSourceFile(){let e=this.getExpression();if(null==e)return;let t=e.getSymbol();if(null!=t)return v.getReferencedSourceFileFromSymbol(t)}},[T.SyntaxKind.QualifiedName]:class extends tx{getLeft(){return this._getNodeFromCompilerNode(this.compilerNode.left)}getRight(){return this._getNodeFromCompilerNode(this.compilerNode.right)}},[T.SyntaxKind.ForInStatement]:class extends na{getInitializer(){return this._getNodeFromCompilerNode(this.compilerNode.initializer)}},[T.SyntaxKind.ForOfStatement]:class extends nl{getInitializer(){return this._getNodeFromCompilerNode(this.compilerNode.initializer)}},[T.SyntaxKind.ForStatement]:class extends nd{getInitializer(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.initializer)}getInitializerOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getInitializer(),null!=e?e:"Expected to find an initializer.",this)}getCondition(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.condition)}getConditionOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getCondition(),null!=e?e:"Expected to find a condition.",this)}getIncrementor(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.incrementor)}getIncrementorOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getIncrementor(),null!=e?e:"Expected to find an incrementor.",this)}},[T.SyntaxKind.FunctionDeclaration]:class extends nZ{addOverload(e){return this.addOverloads([e])[0]}addOverloads(e){return this.insertOverloads(this.getOverloads().length,e)}insertOverload(e,t){return this.insertOverloads(e,[t])[0]}insertOverloads(e,t){let r=this.getName(),i=this._context.structurePrinterFactory.forFunctionDeclaration({isAmbient:this.isAmbient()});return nX({node:this,index:e,structures:t,printStructure:(e,t)=>{i.printOverload(e,r,t)},getThisStructure:em,expectedSyntaxKind:T.SyntaxKind.FunctionDeclaration})}remove(){this.isOverload()?tr({children:[this],removeFollowingSpaces:!0,removeFollowingNewLines:!0}):to([...this.getOverloads(),this])}set(e){return G(nZ.prototype,this,e),null!=e.overloads&&(this.getOverloads().forEach(e=>e.remove()),this.addOverloads(e.overloads)),this}getStructure(){let e=this.isOverload(),r=this.getImplementation(),i=e&&r?nY.prototype:nZ.prototype;return $(i,this,r&&e?{kind:t.z_b.FunctionOverload}:r?{kind:t.z_b.Function,overloads:this.getOverloads().map(e=>e.getStructure())}:{kind:t.z_b.Function})}},[T.SyntaxKind.FunctionExpression]:class extends n0{},[T.SyntaxKind.FunctionType]:class extends sP{},[T.SyntaxKind.GetAccessor]:class extends sm{set(e){return G(sm.prototype,this,e),this}getSetAccessor(){let e=this.getName(),t=this.isStatic();return this.getParentOrThrow().forEachChild(r=>{if(tx.isSetAccessorDeclaration(r)&&r.getName()===e&&r.isStatic()===t)return r})}getSetAccessorOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getSetAccessor(),null!=e?e:()=>`Expected to find a corresponding set accessor for ${this.getName()}.`,this)}getStructure(){return $(sm.prototype,this,{kind:t.z_b.GetAccessor})}},[T.SyntaxKind.HeritageClause]:class extends tx{getTypeNodes(){var e,t;return null!==(t=null===(e=this.compilerNode.types)||void 0===e?void 0:e.map(e=>this._getNodeFromCompilerNode(e)))&&void 0!==t?t:[]}getToken(){return this.compilerNode.token}removeExpression(e){let t=this.getTypeNodes(),r="number"==typeof e?t[ex(e,t.length-1)]:e;if(1===t.length){let e=this.getParentSyntaxListOrThrow().getChildren();1===e.length?tr({children:[e[0].getParentSyntaxListOrThrow()],removePrecedingSpaces:!0}):tr({children:[this],removePrecedingSpaces:!0})}else ts(r);return this}},[T.SyntaxKind.Identifier]:oo,[T.SyntaxKind.IfStatement]:class extends nc{getThenStatement(){return this._getNodeFromCompilerNode(this.compilerNode.thenStatement)}getElseStatement(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.elseStatement)}remove(){let e=[];tx.isIfStatement(this.getParentOrThrow())&&e.push(this.getPreviousSiblingIfKindOrThrow(T.SyntaxKind.ElseKeyword)),e.push(this),to(e)}},[T.SyntaxKind.ImportClause]:class extends nb{isTypeOnly(){return this.compilerNode.isTypeOnly}setIsTypeOnly(e){if(this.isTypeOnly()===e)return this;if(e)e7({parent:this,insertPos:this.getStart(),newText:"type "});else{let e=this.getFirstChildByKindOrThrow(T.ts.SyntaxKind.TypeKeyword);tr({children:[e],removeFollowingSpaces:!0})}return this}getDefaultImportOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getDefaultImport(),null!=e?e:"Expected to find a default import.",this)}getDefaultImport(){return this.getNodeProperty("name")}getNamedBindingsOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getNamedBindings(),null!=e?e:"Expected to find an import declaration's named bindings.",this)}getNamedBindings(){return this.getNodeProperty("namedBindings")}getNamespaceImportOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getNamespaceImport(),null!=e?e:"Expected to find a namespace import.",this)}getNamespaceImport(){let e=this.getNamedBindings();if(null!=e&&tx.isNamespaceImport(e))return e.getNameNode()}getNamedImports(){let e=this.getNamedBindings();return null!=e&&tx.isNamedImports(e)?e.getElements():[]}},[T.SyntaxKind.ImportDeclaration]:class extends nw{isTypeOnly(){var e,t;return null!==(t=null===(e=this.getImportClause())||void 0===e?void 0:e.isTypeOnly())&&void 0!==t&&t}setIsTypeOnly(e){let t=this.getImportClause();if(null==t){if(!e)return this;throw new T.errors.InvalidOperationError("Cannot set an import as type only when there is no import clause.")}return t.setIsTypeOnly(e),this}setModuleSpecifier(e){let t="string"==typeof e?e:this._sourceFile.getRelativePathAsModuleSpecifierTo(e);return this.getModuleSpecifier().setLiteralValue(t),this}getModuleSpecifier(){let e=this._getNodeFromCompilerNode(this.compilerNode.moduleSpecifier);if(!tx.isStringLiteral(e))throw new T.errors.InvalidOperationError("Expected the module specifier to be a string literal.");return e}getModuleSpecifierValue(){return this.getModuleSpecifier().getLiteralValue()}getModuleSpecifierSourceFileOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getModuleSpecifierSourceFile(),null!=e?e:"A module specifier source file was expected.",this)}getModuleSpecifierSourceFile(){let e=this.getModuleSpecifier().getSymbol();if(null!=e)return v.getReferencedSourceFileFromSymbol(e)}isModuleSpecifierRelative(){return v.isModuleSpecifierRelative(this.getModuleSpecifierValue())}setDefaultImport(e){if(T.StringUtils.isNullOrWhitespace(e))return this.removeDefaultImport();let t=this.getDefaultImport();if(null!=t)return t.replaceWithText(e),this;let r=this.getFirstChildByKindOrThrow(T.SyntaxKind.ImportKeyword),i=this.getImportClause();return null==i?e7({insertPos:r.getEnd(),parent:this,newText:` ${e} from`}):e7({insertPos:r.getEnd(),parent:i,newText:` ${e},`}),this}renameDefaultImport(e){if(T.StringUtils.isNullOrWhitespace(e))return this.removeDefaultImport();let t=this.getDefaultImport();return null!=t?t.rename(e):this.setDefaultImport(e),this}getDefaultImportOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getDefaultImport(),null!=e?e:"Expected to find a default import.",this)}getDefaultImport(){var e,t;return null!==(t=null===(e=this.getImportClause())||void 0===e?void 0:e.getDefaultImport())&&void 0!==t?t:void 0}setNamespaceImport(e){if(T.StringUtils.isNullOrWhitespace(e))return this.removeNamespaceImport();let t=this.getNamespaceImport();if(null!=t)return t.rename(e),this;if(this.getNamedImports().length>0)throw new T.errors.InvalidOperationError("Cannot add a namespace import to an import declaration that has named imports.");let r=this.getDefaultImport();return null!=r?e7({insertPos:r.getEnd(),parent:this.getImportClause(),newText:`, * as ${e}`}):e7({insertPos:this.getFirstChildByKindOrThrow(T.SyntaxKind.ImportKeyword).getEnd(),parent:this,newText:` * as ${e} from`}),this}removeNamespaceImport(){let e=this.getNamespaceImport();return null==e||tr({children:(function(){let t=this.getDefaultImport();return null==t?[this.getImportClauseOrThrow(),this.getLastChildByKindOrThrow(T.SyntaxKind.FromKeyword)]:[t.getNextSiblingIfKindOrThrow(T.SyntaxKind.CommaToken),e]}).call(this),removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}removeDefaultImport(){let e=this.getImportClause();if(null==e)return this;let t=e.getDefaultImport();if(null==t)return this;let r=1===e.getChildCount();return r?tr({children:[e,e.getNextSiblingIfKindOrThrow(T.SyntaxKind.FromKeyword)],removePrecedingSpaces:!0,removePrecedingNewLines:!0}):tr({children:[t,t.getNextSiblingIfKindOrThrow(T.SyntaxKind.CommaToken)],removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}getNamespaceImportOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getNamespaceImport(),null!=e?e:"Expected to find a namespace import.",this)}getNamespaceImport(){var e,t;return null!==(t=null===(e=this.getImportClause())||void 0===e?void 0:e.getNamespaceImport())&&void 0!==t?t:void 0}addNamedImport(e){return this.addNamedImports([e])[0]}addNamedImports(e){return this.insertNamedImports(this.getNamedImports().length,e)}insertNamedImport(e,t){return this.insertNamedImports(e,[t])[0]}insertNamedImports(e,t){if(!(t instanceof Function)&&T.ArrayUtils.isNullOrEmpty(t))return[];let r=this.getNamedImports(),i=this._getWriterWithQueuedIndentation(),n=this._context.structurePrinterFactory.forNamedImportExportSpecifier(),s=this.getImportClause();if(e=ex(e,r.length),0===r.length){if(n.printTextsWithBraces(i,t),null==s)e7({insertPos:this.getFirstChildByKindOrThrow(T.SyntaxKind.ImportKeyword).getEnd(),parent:this,newText:` ${i.toString()} from`});else if(null!=this.getNamespaceImport())throw nC();else if(null!=s.getNamedBindings()){let e=s.getNamedBindingsOrThrow();e7({insertPos:e.getStart(),replacing:{textLength:e.getWidth()},parent:s,newText:i.toString()})}else e7({insertPos:this.getDefaultImport().getEnd(),parent:s,newText:`, ${i.toString()}`})}else{if(null==s)throw new T.errors.NotImplementedError("Expected to have an import clause.");n.printTexts(i,t),e5({parent:s.getFirstChildByKindOrThrow(T.SyntaxKind.NamedImports).getFirstChildByKindOrThrow(T.SyntaxKind.SyntaxList),currentNodes:r,insertIndex:e,newText:i.toString(),surroundWithSpaces:this._context.getFormatCodeSettings().insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces,useTrailingCommas:!1})}let o=this.getNamedImports();return eh(r,o,e,!1)}getNamedImports(){var e,t;return null!==(t=null===(e=this.getImportClause())||void 0===e?void 0:e.getNamedImports())&&void 0!==t?t:[]}removeNamedImports(){let e=this.getImportClause();if(null==e)return this;let t=e.getNamedBindings();if(null==t||t.getKind()!==T.SyntaxKind.NamedImports)return this;let r=this.getDefaultImport();if(null!=r){let e=r.getNextSiblingIfKindOrThrow(T.SyntaxKind.CommaToken);return tr({children:[e,t]}),this}let i=e.getNextSiblingIfKindOrThrow(T.SyntaxKind.FromKeyword);return tr({children:[e,i],removePrecedingSpaces:!0}),this}getImportClauseOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getImportClause(),null!=e?e:"Expected to find an import clause.",this)}getImportClause(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.importClause)}setAssertElements(e){let t=this.getAssertClause();if(t)e?t.setElements(e):t.remove();else if(e){let t=this._context.structurePrinterFactory.forAssertEntry(),r=this._context.createWriter();r.space(),t.printAssertClause(r,e),e7({parent:this,newText:r.toString(),insertPos:";"===this.getSourceFile().getFullText()[this.getEnd()-1]?this.getEnd()-1:this.getEnd()})}return this}getAssertClause(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.assertClause)}set(e){return G(nw.prototype,this,e),null!=e.defaultImport?this.setDefaultImport(e.defaultImport):e.hasOwnProperty(T.nameof(e,"defaultImport"))&&this.removeDefaultImport(),e.hasOwnProperty(T.nameof(e,"namedImports"))&&this.removeNamedImports(),null!=e.namespaceImport?this.setNamespaceImport(e.namespaceImport):e.hasOwnProperty(T.nameof(e,"namespaceImport"))&&this.removeNamespaceImport(),null!=e.namedImports&&(function(e){let t=e.getNodeProperty("importClause"),r=e._getWriterWithQueuedChildIndentation(),i=e._context.structurePrinterFactory.forNamedImportExportSpecifier();i.printTextsWithBraces(r,[]);let n=r.toString();if(null!=e.getNamespaceImport())throw nC();if(null==t){e7({insertPos:e.getFirstChildByKindOrThrow(T.SyntaxKind.ImportKeyword).getEnd(),parent:e,newText:` ${n} from`});return}let s=t.getNamedBindings();if(null!=s){e7({parent:t,newText:n,insertPos:s.getStart(),replacing:{textLength:s.getWidth()}});return}let o=t.getDefaultImport();null!=o&&e7({insertPos:o.getEnd(),parent:t,newText:`, ${n}`})}(this),this.addNamedImports(e.namedImports)),null!=e.moduleSpecifier&&this.setModuleSpecifier(e.moduleSpecifier),null!=e.isTypeOnly&&this.setIsTypeOnly(e.isTypeOnly),e.hasOwnProperty(T.nameof(e,"assertElements"))&&this.setAssertElements(e.assertElements),this}getStructure(){let e=this.getNamespaceImport(),r=this.getDefaultImport(),i=this.getAssertClause();return $(nw.prototype,this,{kind:t.z_b.ImportDeclaration,isTypeOnly:this.isTypeOnly(),defaultImport:r?r.getText():void 0,moduleSpecifier:this.getModuleSpecifier().getLiteralText(),namedImports:this.getNamedImports().map(e=>e.getStructure()),namespaceImport:e?e.getText():void 0,assertElements:i?i.getElements().map(e=>e.getStructure()):void 0})}},[T.SyntaxKind.ImportEqualsDeclaration]:class extends nF{isTypeOnly(){var e;return null!==(e=this.compilerNode.isTypeOnly)&&void 0!==e&&e}setIsTypeOnly(e){if(this.isTypeOnly()===e)return this;if(e)e7({parent:this,insertPos:this.getNameNode().getStart(),newText:"type "});else{let e=this.getFirstChildByKindOrThrow(T.ts.SyntaxKind.TypeKeyword);tr({children:[e],removeFollowingSpaces:!0})}return this}getModuleReference(){return this._getNodeFromCompilerNode(this.compilerNode.moduleReference)}isExternalModuleReferenceRelative(){let e=this.getModuleReference();return!!tx.isExternalModuleReference(e)&&e.isRelative()}setExternalModuleReference(e){let t="string"==typeof e?e:this._sourceFile.getRelativePathAsModuleSpecifierTo(e),r=this.getModuleReference();return tx.isExternalModuleReference(r)&&null!=r.getExpression()?r.getExpressionOrThrow().replaceWithText(e=>e.quote(t)):r.replaceWithText(e=>e.write("require(").quote(t).write(")")),this}getExternalModuleReferenceSourceFileOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getExternalModuleReferenceSourceFile(),null!=e?e:"Expected to find an external module reference's referenced source file.",this)}getExternalModuleReferenceSourceFile(){let e=this.getModuleReference();if(tx.isExternalModuleReference(e))return e.getReferencedSourceFile()}},[T.SyntaxKind.ImportSpecifier]:class extends n_{setName(e){let t=this.getNameNode();return t.getText()===e||t.replaceWithText(e),this}getName(){return this.getNameNode().getText()}getNameNode(){var e;return this._getNodeFromCompilerNode(null!==(e=this.compilerNode.propertyName)&&void 0!==e?e:this.compilerNode.name)}renameAlias(e){if(T.StringUtils.isNullOrWhitespace(e))return this.removeAliasWithRename(),this;let t=this.getAliasNode();return null==t&&(this.setAlias(this.getName()),t=this.getAliasNode()),t.rename(e),this}setAlias(e){if(T.StringUtils.isNullOrWhitespace(e))return this.removeAlias(),this;let t=this.getAliasNode();return null==t?e7({insertPos:this.getNameNode().getEnd(),parent:this,newText:` as ${e}`}):t.replaceWithText(e),this}removeAlias(){let e=this.getAliasNode();return null==e||tr({children:[this.getFirstChildByKindOrThrow(T.SyntaxKind.AsKeyword),e],removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}removeAliasWithRename(){let e=this.getAliasNode();return null==e||(e.rename(this.getName()),this.removeAlias()),this}getAliasNode(){if(null!=this.compilerNode.propertyName)return this._getNodeFromCompilerNode(this.compilerNode.name)}isTypeOnly(){return this.compilerNode.isTypeOnly}setIsTypeOnly(e){return this.isTypeOnly()===e||(e?e7({insertPos:this.getStart(),parent:this,newText:"type "}):tr({children:[this.getFirstChildByKindOrThrow(T.ts.SyntaxKind.TypeKeyword)],removeFollowingSpaces:!0})),this}getImportDeclaration(){return this.getFirstAncestorByKindOrThrow(T.SyntaxKind.ImportDeclaration)}remove(){let e=this.getImportDeclaration(),t=e.getNamedImports();t.length>1?ts(this):e.removeNamedImports()}set(e){return G(n_.prototype,this,e),null!=e.isTypeOnly&&this.setIsTypeOnly(e.isTypeOnly),null!=e.name&&this.setName(e.name),null!=e.alias?this.setAlias(e.alias):e.hasOwnProperty(T.nameof(e,"alias"))&&this.removeAlias(),this}getStructure(){let e=this.getAliasNode();return $(n_.prototype,this,{kind:t.z_b.ImportSpecifier,name:this.getName(),alias:e?e.getText():void 0,isTypeOnly:this.isTypeOnly()})}},[T.SyntaxKind.ImportType]:class extends sC{setArgument(e){let t=this.getArgument();if(tx.isLiteralTypeNode(t)){let r=t.getLiteral();if(tx.isStringLiteral(r))return r.setLiteralValue(e),this}return t.replaceWithText(t=>t.quote(e),this._getWriterWithQueuedChildIndentation()),this}getArgument(){return this._getNodeFromCompilerNode(this.compilerNode.argument)}setQualifier(e){let t=this.getQualifier();if(null!=t)t.replaceWithText(e,this._getWriterWithQueuedChildIndentation());else{let t=this.getFirstChildByKindOrThrow(T.SyntaxKind.CloseParenToken);e7({insertPos:t.getEnd(),parent:this,newText:this._getWriterWithQueuedIndentation().write(".").write(e).toString()})}return this}getQualifierOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getQualifier(),null!=e?e:()=>`Expected to find a qualifier for the import type: ${this.getText()}`,this)}getQualifier(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.qualifier)}getAssertions(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.assertions)}getAssertionsOrThrow(e){return T.errors.throwIfNullOrUndefined(this._getNodeFromCompilerNodeIfExists(this.compilerNode.assertions),null!=e?e:"Could not find import type assertion container.",this)}},[T.SyntaxKind.ImportTypeAssertionContainer]:class extends tx{getAssertClause(){return this._getNodeFromCompilerNode(this.compilerNode.assertClause)}isMultiline(){var e;return null!==(e=this.compilerNode.multiLine)&&void 0!==e&&e}},[T.SyntaxKind.IndexedAccessType]:class extends sb{getObjectTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.objectType)}getIndexTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.indexType)}},[T.SyntaxKind.IndexSignature]:class extends s7{getKeyName(){return this.getKeyNameNode().getText()}setKeyName(e){T.errors.throwIfWhitespaceOrNotString(e,"name"),this.getKeyName()!==e&&this.getKeyNameNode().replaceWithText(e,this._getWriterWithQueuedChildIndentation())}getKeyNameNode(){let e=this.compilerNode.parameters[0];return this._getNodeFromCompilerNode(e.name)}getKeyType(){return this.getKeyNameNode().getType()}setKeyType(e){T.errors.throwIfWhitespaceOrNotString(e,"type");let t=this.getKeyTypeNode();return t.getText()===e||t.replaceWithText(e,this._getWriterWithQueuedChildIndentation()),this}getKeyTypeNode(){let e=this.compilerNode.parameters[0];return this._getNodeFromCompilerNode(e.type)}set(e){return G(s7.prototype,this,e),null!=e.keyName&&this.setKeyName(e.keyName),null!=e.keyType&&this.setKeyType(e.keyType),this}getStructure(){let e=this.getKeyTypeNode();return $(s7.prototype,this,{kind:t.z_b.IndexSignature,keyName:this.getKeyName(),keyType:e.getText()})}},[T.SyntaxKind.InferType]:class extends sb{getTypeParameter(){return this._getNodeFromCompilerNode(this.compilerNode.typeParameter)}},[T.SyntaxKind.InterfaceDeclaration]:class extends s5{getBaseTypes(){return this.getType().getBaseTypes()}getBaseDeclarations(){return this.getType().getBaseTypes().map(e=>{var t,r;return null!==(r=null===(t=e.getSymbol())||void 0===t?void 0:t.getDeclarations())&&void 0!==r?r:[]}).flat()}getImplementations(){return this.getNameNode().getImplementations()}set(e){return G(s5.prototype,this,e),this}getStructure(){return $(s5.prototype,this,{kind:t.z_b.Interface})}},[T.SyntaxKind.IntersectionType]:class extends sb{getTypeNodes(){return this.compilerNode.types.map(e=>this._getNodeFromCompilerNode(e))}},[T.SyntaxKind.JSDocAllType]:class extends sk{},[T.SyntaxKind.JSDocAugmentsTag]:class extends sW{},[T.SyntaxKind.JSDocAuthorTag]:class extends sW{},[T.SyntaxKind.JSDocCallbackTag]:class extends sW{},[T.SyntaxKind.JSDocClassTag]:class extends sW{},[T.SyntaxKind.JSDocDeprecatedTag]:class extends sW{},[T.SyntaxKind.JSDocEnumTag]:class extends sW{},[T.SyntaxKind.JSDocFunctionType]:class extends sj{},[T.SyntaxKind.JSDocImplementsTag]:class extends sW{},[T.SyntaxKind.JSDocLink]:class extends tx{},[T.SyntaxKind.JSDocLinkCode]:class extends tx{},[T.SyntaxKind.JSDocLinkPlain]:class extends tx{},[T.SyntaxKind.JSDocMemberName]:class extends tx{},[T.SyntaxKind.JSDocNamepathType]:class extends sk{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}},[T.SyntaxKind.JSDocNameReference]:class extends tx{getName(){return this._getNodeFromCompilerNode(this.compilerNode.name)}},[T.SyntaxKind.JSDocNonNullableType]:class extends sk{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}isPostfix(){return this.compilerNode.postfix}},[T.SyntaxKind.JSDocNullableType]:class extends sk{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}isPostfix(){return this.compilerNode.postfix}},[T.SyntaxKind.JSDocOptionalType]:class extends sk{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}},[T.SyntaxKind.JSDocOverrideTag]:class extends sW{},[T.SyntaxKind.JSDocParameterTag]:class extends sV{},[T.SyntaxKind.JSDocPrivateTag]:class extends sW{},[T.SyntaxKind.JSDocPropertyTag]:class extends s${},[T.SyntaxKind.JSDocProtectedTag]:class extends sW{},[T.SyntaxKind.JSDocPublicTag]:class extends sW{},[T.SyntaxKind.JSDocReturnTag]:class extends sG{},[T.SyntaxKind.JSDocReadonlyTag]:class extends sW{},[T.SyntaxKind.JSDocThrowsTag]:class extends sY{},[T.SyntaxKind.JSDocOverloadTag]:class extends sU{},[T.SyntaxKind.JSDocSatisfiesTag]:class extends sQ{},[T.SyntaxKind.JSDocSeeTag]:class extends sq{},[T.SyntaxKind.JSDocSignature]:class extends sk{getTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}},[T.SyntaxKind.JSDocTag]:class extends sW{},[T.SyntaxKind.JSDocTemplateTag]:class extends sX{getConstraint(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.constraint)}getConstraintOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getConstraint(),null!=e?e:"Expected to find the JS doc template tag's constraint.",this)}},[T.SyntaxKind.JSDocText]:class extends tx{},[T.SyntaxKind.JSDocThisTag]:class extends sZ{},[T.SyntaxKind.JSDocTypeExpression]:class extends sb{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}},[T.SyntaxKind.JSDocTypeLiteral]:class extends sk{isArrayType(){return this.compilerNode.isArrayType}getPropertyTags(){return this.compilerNode.jsDocPropertyTags?this.compilerNode.jsDocPropertyTags.map(e=>this._getNodeFromCompilerNode(e)):void 0}},[T.SyntaxKind.JSDocTypeTag]:class extends sW{getTypeExpression(){let e=this.compilerNode.typeExpression;if(null==e||e.pos!==e.end)return this._getNodeFromCompilerNodeIfExists(this.compilerNode.typeExpression)}},[T.SyntaxKind.JSDocTypedefTag]:class extends sW{},[T.SyntaxKind.JSDocUnknownType]:class extends sk{},[T.SyntaxKind.JSDocVariadicType]:class extends sk{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}},[T.SyntaxKind.JsxAttribute]:class extends ol{getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}setName(e){return this.getNameNode().replaceWithText(t=>{"object"==typeof e?this._context.structurePrinterFactory.forJsxNamespacedName().printText(t,e):t.write(e)}),this}getInitializerOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getInitializer(),null!=e?e:`Expected to find an initializer for the JSX attribute '${this.getNameNode().getText()}'`,this)}getInitializer(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.initializer)}setInitializer(e){let t=M(this._getWriterWithQueuedIndentation(),e);if(T.StringUtils.isNullOrWhitespace(t))return this.removeInitializer(),this;let r=this.getInitializer();return null!=r?r.replaceWithText(t):e7({insertPos:this.getNameNode().getEnd(),parent:this,newText:`=${t}`}),this}removeInitializer(){let e=this.getInitializer();return null==e||tr({children:[e.getPreviousSiblingIfKindOrThrow(T.SyntaxKind.EqualsToken),e],removePrecedingSpaces:!0,removePrecedingNewLines:!0}),this}remove(){tr({children:[this],removePrecedingNewLines:!0,removePrecedingSpaces:!0})}set(e){return G(ol.prototype,this,e),null!=e.name&&this.setName(e.name),null!=e.initializer?this.setInitializer(e.initializer):e.hasOwnProperty(T.nameof(e,"initializer"))&&this.removeInitializer(),this}getStructure(){let e=this.getInitializer(),r=this.getNameNode();return $(ol.prototype,this,{name:r instanceof oo?r.getText():r.getStructure(),kind:t.z_b.JsxAttribute,initializer:null==e?void 0:e.getText()})}},[T.SyntaxKind.JsxClosingElement]:class extends od{},[T.SyntaxKind.JsxClosingFragment]:class extends id{},[T.SyntaxKind.JsxElement]:class extends oc{getJsxChildren(){return this.compilerNode.children.map(e=>this._getNodeFromCompilerNode(e))}getOpeningElement(){return this._getNodeFromCompilerNode(this.compilerNode.openingElement)}getClosingElement(){return this._getNodeFromCompilerNode(this.compilerNode.closingElement)}setBodyText(e){let t=tp(this._getWriterWithIndentation(),e);return ou(this,t),this}setBodyTextInline(e){let t=this._getWriterWithQueuedChildIndentation();return W(t,e),t.isLastNewLine()&&(t.setIndentationLevel(Math.max(0,this.getIndentationLevel()-1)),t.write("")),ou(this,t.toString()),this}set(e){if(G(oc.prototype,this,e),null!=e.attributes){let t=this.getOpeningElement();t.getAttributes().forEach(e=>e.remove()),t.addAttributes(e.attributes)}if(null!=e.children)throw new T.errors.NotImplementedError("Setting JSX children is currently not implemented. Please open an issue if you need this.");return null!=e.bodyText?this.setBodyText(e.bodyText):e.hasOwnProperty(T.nameof(e,"bodyText"))&&this.setBodyTextInline(""),null!=e.name&&(this.getOpeningElement().getTagNameNode().replaceWithText(e.name),this.getClosingElement().getTagNameNode().replaceWithText(e.name)),this}getStructure(){let e=this.getOpeningElement(),r=$(oc.prototype,this,{kind:t.z_b.JsxElement,name:e.getTagNameNode().getText(),attributes:e.getAttributes().map(e=>e.getStructure()),children:void 0,bodyText:tg(this)});return delete r.children,r}},[T.SyntaxKind.JsxExpression]:class extends oh{},[T.SyntaxKind.JsxFragment]:class extends ix{getJsxChildren(){return this.compilerNode.children.map(e=>this._getNodeFromCompilerNode(e))}getOpeningFragment(){return this._getNodeFromCompilerNode(this.compilerNode.openingFragment)}getClosingFragment(){return this._getNodeFromCompilerNode(this.compilerNode.closingFragment)}},[T.SyntaxKind.JsxNamespacedName]:class extends op{getNamespaceNode(){return this._getNodeFromCompilerNode(this.compilerNode.namespace)}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}set(e){return this.getNamespaceNode().replaceWithText(e.namespace),this.getNameNode().replaceWithText(e.name),this}getStructure(){return{namespace:this.getNamespaceNode().getText(),name:this.getNameNode().getText()}}},[T.SyntaxKind.JsxOpeningElement]:class extends og{},[T.SyntaxKind.JsxOpeningFragment]:class extends id{},[T.SyntaxKind.JsxSelfClosingElement]:class extends om{set(e){return G(om.prototype,this,e),this}getStructure(){return $(om.prototype,this,{kind:t.z_b.JsxSelfClosingElement})}},[T.SyntaxKind.JsxSpreadAttribute]:class extends oy{remove(){tr({children:[this],removePrecedingNewLines:!0,removePrecedingSpaces:!0})}set(e){return G(oy.prototype,this,e),null!=e.expression&&this.setExpression(e.expression),this}getStructure(){return $(oy.prototype,this,{kind:t.z_b.JsxSpreadAttribute,expression:this.getExpression().getText()})}},[T.SyntaxKind.JsxText]:class extends ox{containsOnlyTriviaWhiteSpaces(){let e=this.compilerNode;return"boolean"==typeof e.containsOnlyWhiteSpaces?e.containsOnlyWhiteSpaces:this.compilerNode.containsOnlyTriviaWhiteSpaces}},[T.SyntaxKind.LabeledStatement]:class extends nu{getLabel(){return this._getNodeFromCompilerNode(this.compilerNode.label)}getStatement(){return this._getNodeFromCompilerNode(this.compilerNode.statement)}},[T.SyntaxKind.LiteralType]:class extends sb{getLiteral(){let e=this.compilerNode.literal;return this._getNodeFromCompilerNode(e)}},[T.SyntaxKind.MappedType]:class extends sb{getNameTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.nameType)}getNameTypeNodeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getNameTypeNode(),null!=e?e:"Type did not exist.",this)}getReadonlyToken(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.readonlyToken)}getReadonlyTokenOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getReadonlyToken(),null!=e?e:"Readonly token did not exist.",this)}getQuestionToken(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.questionToken)}getQuestionTokenOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getQuestionToken(),null!=e?e:"Question token did not exist.",this)}getTypeParameter(){return this._getNodeFromCompilerNode(this.compilerNode.typeParameter)}getTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}getTypeNodeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getTypeNode(),null!=e?e:"Type did not exist, but was expected to exist.",this)}},[T.SyntaxKind.MetaProperty]:class extends iv{getKeywordToken(){return this.compilerNode.keywordToken}},[T.SyntaxKind.MethodDeclaration]:n6,[T.SyntaxKind.MethodSignature]:class extends s4{set(e){return G(s4.prototype,this,e),this}getStructure(){return $(s4.prototype,this,{kind:t.z_b.MethodSignature})}},[T.SyntaxKind.ModuleBlock]:class extends nI{},[T.SyntaxKind.ModuleDeclaration]:class extends nP{getName(){let e=this.getNameNodes();return e instanceof Array?e.map(e=>e.getText()).join("."):e.getText()}setName(e){let r="Please open an issue if you really need this and I'll up the priority.";if(e.indexOf(".")>=0)throw new T.errors.NotImplementedError(`Not implemented to set a namespace name to a name containing a period. ${r}`);let i=this.getNameNodes();if(i instanceof Array){if(i.length>1)throw new T.errors.NotImplementedError(`Not implemented to set a namespace name that uses dot notation. ${r}`);"global"!==e&&nD(this),T.StringUtils.isQuoted(e)&&(this.hasNamespaceKeyword()&&this.setDeclarationKind(t.y7J.Module),this.hasDeclareKeyword()||this.setHasDeclareKeyword(!0)),i[0].replaceWithText(e)}else i.replaceWithText(e);return this}rename(e,t){if(e.indexOf(".")>=0)throw new T.errors.NotSupportedError("Cannot rename a namespace name to a name containing a period.");let r=this.getNameNodes();if(r instanceof Array){if(r.length>1)throw new T.errors.NotSupportedError(`Cannot rename a namespace name that uses dot notation. Rename the individual nodes via .${T.nameof(this,"getNameNodes")}()`);"global"!==e&&nD(this),r[0].rename(e,t)}else tb(r,T.StringUtils.stripQuotes(e),t);return this}getNameNodes(){let e=this.getNameNode();if(tx.isStringLiteral(e))return e;{let e=[],t=this;do e.push(this._getNodeFromCompilerNode(t.compilerNode.name)),t=t.getFirstChildByKind(T.SyntaxKind.ModuleDeclaration);while(null!=t);return e}}hasNamespaceKeyword(){return this.getDeclarationKind()===t.y7J.Namespace}hasModuleKeyword(){return this.getDeclarationKind()===t.y7J.Module}setDeclarationKind(e){if(this.getDeclarationKind()===e)return this;if(e===t.y7J.Global){let e=this.getDeclarationKindKeyword();this.getNameNode().replaceWithText("global"),null!=e&&tr({children:[e],removeFollowingNewLines:!0,removeFollowingSpaces:!0})}else{let t=this.getDeclarationKindKeyword();null!=t?t.replaceWithText(e):e7({parent:this,insertPos:this.getNameNode().getStart(),newText:e+" "})}return this}getDeclarationKind(){let e=this.getFlags();return(e&T.ts.NodeFlags.GlobalAugmentation)!=0?t.y7J.Global:(e&T.ts.NodeFlags.Namespace)!=0?t.y7J.Namespace:t.y7J.Module}getDeclarationKindKeyword(){return this.getFirstChild(e=>e.getKind()===T.SyntaxKind.NamespaceKeyword||e.getKind()===T.SyntaxKind.ModuleKeyword)}set(e){return null!=e.name&&"global"!==e.name&&nD(this),G(nP.prototype,this,e),null!=e.declarationKind&&this.setDeclarationKind(e.declarationKind),this}getStructure(){return $(nP.prototype,this,{kind:t.z_b.Module,declarationKind:this.getDeclarationKind()})}_getInnerBody(){let e=this.getBody();for(;null!=e&&tx.isBodyable(e)&&null==e.compilerNode.statements;)e=e.getBody();return e}},[T.SyntaxKind.NamedExports]:class extends nv{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}},[T.SyntaxKind.NamedImports]:class extends nO{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}},[T.SyntaxKind.NamedTupleMember]:class extends sD{getTypeNode(){return super.getTypeNode()}removeType(){throw new T.errors.InvalidOperationError("Cannot remove the type of a named tuple member.")}},[T.SyntaxKind.NamespaceExport]:class extends nA{setName(e){let t=this.getNameNode();return t.getText()===e||t.replaceWithText(e),this}getName(){return this.getNameNode().getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}},[T.SyntaxKind.NamespaceImport]:class extends nL{setName(e){let t=this.getNameNode();return t.getText()===e||t.replaceWithText(e),this}getName(){return this.getNameNode().getText()}getNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.name)}},[T.SyntaxKind.NewExpression]:class extends iO{},[T.SyntaxKind.NonNullExpression]:class extends iA{},[T.SyntaxKind.NotEmittedStatement]:class extends nh{},[T.SyntaxKind.NoSubstitutionTemplateLiteral]:class extends o_{getLiteralValue(){return this.compilerNode.text}setLiteralValue(e){let t=this.getChildIndex(),r=this.getParentSyntaxList()||this.getParentOrThrow();return tl({sourceFile:this._sourceFile,start:this.getStart()+1,replacingLength:this.getWidth()-2,newText:e}),r.getChildAtIndex(t)}},[T.SyntaxKind.NumericLiteral]:class extends ow{getLiteralValue(){let e=this.compilerNode.text;return e.indexOf(".")>=0?parseFloat(e):parseInt(e,10)}setLiteralValue(e){return tl({sourceFile:this._sourceFile,start:this.getStart(),replacingLength:this.getWidth(),newText:e.toString(10)}),this}},[T.SyntaxKind.ObjectBindingPattern]:class extends tx{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}},[T.SyntaxKind.ObjectLiteralExpression]:class extends iM{getPropertyOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getProperty(e),()=>_("property",e))}getProperty(e){let t;return t="string"==typeof e?t=>null!=t[T.nameof("getName")]&&t.getName()===e:e,this.getProperties().find(t)}getProperties(){return this.compilerNode.properties.map(e=>this._getNodeFromCompilerNode(e))}getPropertiesWithComments(){let e=eD.getContainerArray(this.compilerNode,this.getSourceFile().compilerNode);return e.map(e=>this._getNodeFromCompilerNode(e))}_getAddIndex(){let e=eD.getContainerArray(this.compilerNode,this.getSourceFile().compilerNode);return e.length}addProperty(e){return this.insertProperties(this._getAddIndex(),[e])[0]}addProperties(e){return this.insertProperties(this._getAddIndex(),e)}insertProperty(e,t){return this.insertProperties(e,[t])[0]}insertProperties(e,t){let r=this.getPropertiesWithComments();e=ex(e,r.length);let i=this._getWriterWithChildIndentation(),n=this._context.structurePrinterFactory.forObjectLiteralExpressionProperty();return n.printTexts(i,t),e5({parent:this.getChildSyntaxListOrThrow(),currentNodes:r,insertIndex:e,newText:i.toString(),useNewLines:!0,useTrailingCommas:this._context.manipulationSettings.getUseTrailingCommas()}),eh(r,this.getPropertiesWithComments(),e,!0)}addPropertyAssignment(e){return this.addPropertyAssignments([e])[0]}addPropertyAssignments(e){return this.insertPropertyAssignments(this._getAddIndex(),e)}insertPropertyAssignment(e,t){return this.insertPropertyAssignments(e,[t])[0]}insertPropertyAssignments(e,t){return this._insertProperty(e,t,()=>this._context.structurePrinterFactory.forPropertyAssignment())}addShorthandPropertyAssignment(e){return this.addShorthandPropertyAssignments([e])[0]}addShorthandPropertyAssignments(e){return this.insertShorthandPropertyAssignments(this._getAddIndex(),e)}insertShorthandPropertyAssignment(e,t){return this.insertShorthandPropertyAssignments(e,[t])[0]}insertShorthandPropertyAssignments(e,t){return this._insertProperty(e,t,()=>this._context.structurePrinterFactory.forShorthandPropertyAssignment())}addSpreadAssignment(e){return this.addSpreadAssignments([e])[0]}addSpreadAssignments(e){return this.insertSpreadAssignments(this._getAddIndex(),e)}insertSpreadAssignment(e,t){return this.insertSpreadAssignments(e,[t])[0]}insertSpreadAssignments(e,t){return this._insertProperty(e,t,()=>this._context.structurePrinterFactory.forSpreadAssignment())}addMethod(e){return this.addMethods([e])[0]}addMethods(e){return this.insertMethods(this._getAddIndex(),e)}insertMethod(e,t){return this.insertMethods(e,[t])[0]}insertMethods(e,t){return this._insertProperty(e,t,()=>this._context.structurePrinterFactory.forMethodDeclaration({isAmbient:!1}))}addGetAccessor(e){return this.addGetAccessors([e])[0]}addGetAccessors(e){return this.insertGetAccessors(this._getAddIndex(),e)}insertGetAccessor(e,t){return this.insertGetAccessors(e,[t])[0]}insertGetAccessors(e,t){return this._insertProperty(e,t,()=>this._context.structurePrinterFactory.forGetAccessorDeclaration({isAmbient:!1}))}addSetAccessor(e){return this.addSetAccessors([e])[0]}addSetAccessors(e){return this.insertSetAccessors(this._getAddIndex(),e)}insertSetAccessor(e,t){return this.insertSetAccessors(e,[t])[0]}insertSetAccessors(e,t){return this._insertProperty(e,t,()=>this._context.structurePrinterFactory.forSetAccessorDeclaration({isAmbient:!1}))}_insertProperty(e,t,r){e=ex(e,this._getAddIndex());let i=this._getWriterWithChildIndentation(),n=new tj(r()),s=this.getPropertiesWithComments();return n.printText(i,t),e5({parent:this.getFirstChildByKindOrThrow(T.SyntaxKind.SyntaxList),currentNodes:s,insertIndex:e,newText:i.toString(),useNewLines:!0,useTrailingCommas:this._context.manipulationSettings.getUseTrailingCommas()}),eh(s,this.getPropertiesWithComments(),e,!1)}},[T.SyntaxKind.OmittedExpression]:class extends iR{},[T.SyntaxKind.Parameter]:class extends n1{isRestParameter(){return null!=this.compilerNode.dotDotDotToken}isParameterProperty(){return null!=this.getScope()||this.isReadonly()||this.hasOverrideKeyword()}setIsRestParameter(e){return this.isRestParameter()===e||(e?(n2(this),e7({insertPos:this.getNameNode().getStart(),parent:this,newText:"..."})):tr({children:[this.getDotDotDotTokenOrThrow()]})),this}isOptional(){return null!=this.compilerNode.questionToken||this.isRestParameter()||this.hasInitializer()}remove(){ts(this)}set(e){return G(n1.prototype,this,e),null!=e.isRestParameter&&this.setIsRestParameter(e.isRestParameter),this}getStructure(){return $(n1.prototype,this,{kind:t.z_b.Parameter,isRestParameter:this.isRestParameter()})}setHasQuestionToken(e){return e&&n2(this),super.setHasQuestionToken(e),this}setInitializer(e){return n2(this),super.setInitializer(e),this}setType(e){return n2(this),super.setType.call(this,e),this}},[T.SyntaxKind.ParenthesizedExpression]:class extends iJ{},[T.SyntaxKind.ParenthesizedType]:class extends sb{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}setType(e){return this.getTypeNode().replaceWithText(e),this}},[T.SyntaxKind.PartiallyEmittedExpression]:class extends ij{},[T.SyntaxKind.PostfixUnaryExpression]:class extends iU{getOperatorToken(){return this.compilerNode.operator}getOperand(){return this._getNodeFromCompilerNode(this.compilerNode.operand)}},[T.SyntaxKind.PrefixUnaryExpression]:class extends iV{getOperatorToken(){return this.compilerNode.operator}getOperand(){return this._getNodeFromCompilerNode(this.compilerNode.operand)}},[T.SyntaxKind.PrivateIdentifier]:class extends oa{},[T.SyntaxKind.PropertyAccessExpression]:iG,[T.SyntaxKind.PropertyAssignment]:class extends iW{removeInitializer(){let e=this.getInitializerOrThrow(),t=e.getPreviousSiblingIfKindOrThrow(T.SyntaxKind.ColonToken),r=this.getChildIndex(),i=this._sourceFile.getFullText(),n=this.getStart(),s=i.substring(n,t.getPos())+i.substring(e.getEnd(),this.getEnd()),o=this.getParentSyntaxList()||this.getParentOrThrow();return e7({insertPos:n,newText:s,parent:o,replacing:{textLength:this.getWidth()}}),o.getChildAtIndexIfKindOrThrow(r,T.SyntaxKind.ShorthandPropertyAssignment)}setInitializer(e){let t=this.getInitializerOrThrow();return e7({insertPos:t.getStart(),newText:M(this._getWriterWithQueuedChildIndentation(),e),parent:this,replacing:{textLength:t.getWidth()}}),this}set(e){if(G(iW.prototype,this,e),null!=e.initializer)this.setInitializer(e.initializer);else if(e.hasOwnProperty(T.nameof(e,"initializer")))return this.removeInitializer();return this}getStructure(){let e=this.getInitializerOrThrow(),r=$(iW.prototype,this,{kind:t.z_b.PropertyAssignment,initializer:e.getText()});return delete r.hasQuestionToken,r}},[T.SyntaxKind.PropertyDeclaration]:class extends sy{hasAccessorKeyword(){return this.hasModifier(T.SyntaxKind.AccessorKeyword)}setHasAccessorKeyword(e){return this.toggleModifier("accessor",e)}set(e){return G(sy.prototype,this,e),null!=e.hasAccessorKeyword&&this.setHasAccessorKeyword(e.hasAccessorKeyword),this}remove(){let e=this.getParentOrThrow();if(e.getKind()===T.SyntaxKind.ClassDeclaration)super.remove();else throw new T.errors.NotImplementedError(`Not implemented parent syntax kind: ${e.getKindName()}`)}getStructure(){return $(sy.prototype,this,{kind:t.z_b.Property,hasAccessorKeyword:this.hasAccessorKeyword()})}},[T.SyntaxKind.PropertySignature]:class extends oe{set(e){return G(oe.prototype,this,e),this}getStructure(){return $(oe.prototype,this,{kind:t.z_b.PropertySignature})}},[T.SyntaxKind.RegularExpressionLiteral]:class extends oC{getLiteralValue(){let e=this.compilerNode.text,t=/^\/(.*)\/([^\/]*)$/.exec(e);return new RegExp(t[1],t[2])}setLiteralValue(e,t){let r;return"string"==typeof e?r=e:(r=e.source,t=e.flags),tl({sourceFile:this._sourceFile,start:this.getStart(),replacingLength:this.getWidth(),newText:`/${r}/${t||""}`}),this}},[T.SyntaxKind.RestType]:class extends sb{getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}},[T.SyntaxKind.ReturnStatement]:class extends np{},[T.SyntaxKind.SatisfiesExpression]:class extends iQ{},[T.SyntaxKind.SetAccessor]:class extends sx{set(e){return G(sx.prototype,this,e),this}getGetAccessor(){let e=this.getName(),t=this.isStatic();return this.getParentOrThrow().forEachChild(r=>{if(tx.isGetAccessorDeclaration(r)&&r.getName()===e&&r.isStatic()===t)return r})}getGetAccessorOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getGetAccessor(),null!=e?e:()=>`Expected to find a corresponding get accessor for ${this.getName()}.`,this)}getStructure(){return $(sx.prototype,this,{kind:t.z_b.SetAccessor})}},[T.SyntaxKind.ShorthandPropertyAssignment]:class extends iz{hasObjectAssignmentInitializer(){return null!=this.compilerNode.objectAssignmentInitializer}getObjectAssignmentInitializerOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getObjectAssignmentInitializer(),null!=e?e:"Expected to find an object assignment initializer.",this)}getObjectAssignmentInitializer(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.objectAssignmentInitializer)}getEqualsTokenOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getEqualsToken(),null!=e?e:"Expected to find an equals token.",this)}getEqualsToken(){let e=this.compilerNode.equalsToken;if(null!=e)return this._getNodeFromCompilerNode(e)}removeObjectAssignmentInitializer(){return this.hasObjectAssignmentInitializer()&&tr({children:[this.getEqualsTokenOrThrow(),this.getObjectAssignmentInitializerOrThrow()],removePrecedingSpaces:!0}),this}setInitializer(e){let t=this.getParentSyntaxList()||this.getParentOrThrow(),r=this.getChildIndex();return e7({insertPos:this.getStart(),newText:this.getText()+`: ${e}`,parent:t,replacing:{textLength:this.getWidth()}}),t.getChildAtIndexIfKindOrThrow(r,T.SyntaxKind.PropertyAssignment)}set(e){return G(iz.prototype,this,e),this}getStructure(){let e=$(iz.prototype,this,{kind:t.z_b.ShorthandPropertyAssignment});return delete e.hasQuestionToken,e}},[T.SyntaxKind.SpreadAssignment]:class extends iB{set(e){return G(iB.prototype,this,e),this}getStructure(){return $(iB.prototype,this,{kind:t.z_b.SpreadAssignment,expression:this.getExpression().getText()})}},[T.SyntaxKind.SpreadElement]:class extends iq{},[T.SyntaxKind.StringLiteral]:class extends oF{getLiteralValue(){return this.compilerNode.text}setLiteralValue(e){return tl({sourceFile:this._sourceFile,start:this.getStart()+1,replacingLength:this.getWidth()-2,newText:T.StringUtils.escapeForWithinString(e,this.getQuoteKind())}),this}getQuoteKind(){return"'"===this.getText()[0]?t.ZiB.Single:t.ZiB.Double}},[T.SyntaxKind.SwitchStatement]:class extends ng{getCaseBlock(){return this._getNodeFromCompilerNode(this.compilerNode.caseBlock)}getClauses(){return this.getCaseBlock().getClauses()}removeClause(e){return this.getCaseBlock().removeClause(e)}removeClauses(e){return this.getCaseBlock().removeClauses(e)}},[T.SyntaxKind.SyntaxList]:class extends tx{addChildText(e){return this.insertChildText(this.getChildCount(),e)}insertChildText(e,t){let r=this.getChildCount(),i=this._context.manipulationSettings.getNewLineKindAsString(),n=this.getParentOrThrow();e=ex(e,r);let s=this!==n.getChildSyntaxList(),o=M(s?n._getWriterWithQueuedChildIndentation():n._getWriterWithChildIndentation(),t);if(0===o.length)return[];s?0===e?o+=" ":o=" "+o:0===e&&tx.isSourceFile(n)?o.endsWith("\n")||(o+=i):(o=i+o,!tx.isSourceFile(n)&&e===r&&o.endsWith("\n")&&(o=o.replace(/\r?\n$/,"")));let a=ed(e,this,this.getChildren());e7({insertPos:a,newText:o,parent:this});let l=this.getChildren();return eh(r,l,e,!0)}},[T.SyntaxKind.TaggedTemplateExpression]:class extends iy{getTag(){return this._getNodeFromCompilerNode(this.compilerNode.tag)}getTemplate(){return this._getNodeFromCompilerNode(this.compilerNode.template)}removeTag(){var e;let t=null!==(e=this.getParentSyntaxList())&&void 0!==e?e:this.getParentOrThrow(),r=this.getChildIndex(),i=this.getTemplate();return e7({customMappings:(e,t)=>[{currentNode:i,newNode:e.getChildren(t)[r]}],parent:t,insertPos:this.getStart(),newText:this.getTemplate().getText(),replacing:{textLength:this.getWidth(),nodes:[this]}}),t.getChildAtIndex(r)}},[T.SyntaxKind.TemplateExpression]:class extends oI{getHead(){return this._getNodeFromCompilerNode(this.compilerNode.head)}getTemplateSpans(){return this.compilerNode.templateSpans.map(e=>this._getNodeFromCompilerNode(e))}setLiteralValue(e){var t;let r=this.getChildIndex(),i=null!==(t=this.getParentSyntaxList())&&void 0!==t?t:this.getParentOrThrow();return tl({sourceFile:this._sourceFile,start:this.getStart()+1,replacingLength:this.getWidth()-2,newText:e}),i.getChildAtIndex(r)}},[T.SyntaxKind.TemplateHead]:class extends oE{},[T.SyntaxKind.TemplateLiteralType]:class extends sb{getHead(){return this._getNodeFromCompilerNode(this.compilerNode.head)}getTemplateSpans(){return this.compilerNode.templateSpans.map(e=>this._getNodeFromCompilerNode(e))}setLiteralValue(e){var t;let r=this.getChildIndex(),i=null!==(t=this.getParentSyntaxList())&&void 0!==t?t:this.getParentOrThrow();return tl({sourceFile:this._sourceFile,start:this.getStart()+1,replacingLength:this.getWidth()-2,newText:e}),i.getChildAtIndex(r)}},[T.SyntaxKind.TemplateMiddle]:class extends oP{},[T.SyntaxKind.TemplateSpan]:class extends oD{getLiteral(){return this._getNodeFromCompilerNode(this.compilerNode.literal)}},[T.SyntaxKind.TemplateTail]:class extends ov{},[T.SyntaxKind.ThisType]:class extends sb{},[T.SyntaxKind.ThrowStatement]:class extends nm{},[T.SyntaxKind.TryStatement]:class extends ny{getTryBlock(){return this._getNodeFromCompilerNode(this.compilerNode.tryBlock)}getCatchClause(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.catchClause)}getCatchClauseOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getCatchClause(),null!=e?e:"Expected to find a catch clause.",this)}getFinallyBlock(){if(null!=this.compilerNode.finallyBlock&&0!==this.compilerNode.finallyBlock.getFullWidth())return this._getNodeFromCompilerNode(this.compilerNode.finallyBlock)}getFinallyBlockOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getFinallyBlock(),null!=e?e:"Expected to find a finally block.",this)}},[T.SyntaxKind.TupleType]:class extends sb{getElements(){return this.compilerNode.elements.map(e=>this._getNodeFromCompilerNode(e))}},[T.SyntaxKind.TypeAliasDeclaration]:class extends sv{set(e){return G(sv.prototype,this,e),this}getStructure(){return $(sv.prototype,this,{kind:t.z_b.TypeAlias,type:this.getTypeNodeOrThrow().getText()})}},[T.SyntaxKind.TypeAssertionExpression]:class extends iZ{},[T.SyntaxKind.TypeLiteral]:class extends sO{},[T.SyntaxKind.TypeOperator]:class extends sb{getOperator(){return this.compilerNode.operator}getTypeNode(){return this._getNodeFromCompilerNode(this.compilerNode.type)}},[T.SyntaxKind.TypeParameter]:class extends sA{isConst(){return this.hasModifier(T.SyntaxKind.ConstKeyword)}setIsConst(e){return this.toggleModifier("const",e)}getConstraint(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.constraint)}getConstraintOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getConstraint(),null!=e?e:"Expected to find the type parameter's constraint.",this)}setConstraint(e){if(e=this.getParentOrThrow()._getTextWithQueuedChildIndentation(e),T.StringUtils.isNullOrWhitespace(e))return this.removeConstraint(),this;let t=this.getConstraint();if(null!=t)return t.replaceWithText(e),this;let r=this.getNameNode();return e7({parent:this,insertPos:r.getEnd(),newText:` extends ${e}`}),this}removeConstraint(){return sL(this.getConstraint(),T.SyntaxKind.ExtendsKeyword),this}getDefault(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.default)}getDefaultOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getDefault(),null!=e?e:"Expected to find the type parameter's default.",this)}setDefault(e){if(e=this.getParentOrThrow()._getTextWithQueuedChildIndentation(e),T.StringUtils.isNullOrWhitespace(e))return this.removeDefault(),this;let t=this.getDefault();if(null!=t)return t.replaceWithText(e),this;let r=this.getConstraint()||this.getNameNode();return e7({parent:this,insertPos:r.getEnd(),newText:` = ${e}`}),this}removeDefault(){return sL(this.getDefault(),T.SyntaxKind.EqualsToken),this}setVariance(e){return this.toggleModifier("in",(e&t.xrt.In)!=0),this.toggleModifier("out",(e&t.xrt.Out)!=0),this}getVariance(){let e=t.xrt.None;return this.hasModifier(T.SyntaxKind.InKeyword)&&(e|=t.xrt.In),this.hasModifier(T.SyntaxKind.OutKeyword)&&(e|=t.xrt.Out),e}remove(){let e=this.getParentSyntaxListOrThrow(),t=e.getChildrenOfKind(T.SyntaxKind.TypeParameter);1===t.length?function(){let t=[e.getPreviousSiblingIfKindOrThrow(T.SyntaxKind.LessThanToken),e,e.getNextSiblingIfKindOrThrow(T.SyntaxKind.GreaterThanToken)];tr({children:t})}():ts(this)}set(e){return G(sA.prototype,this,e),null!=e.isConst&&this.setIsConst(e.isConst),null!=e.constraint?this.setConstraint(e.constraint):e.hasOwnProperty(T.nameof(e,"constraint"))&&this.removeConstraint(),null!=e.default?this.setDefault(e.default):e.hasOwnProperty(T.nameof(e,"default"))&&this.removeDefault(),null!=e.variance&&this.setVariance(e.variance),this}getStructure(){let e=this.getConstraint(),r=this.getDefault();return $(sA.prototype,this,{kind:t.z_b.TypeParameter,isConst:this.isConst(),constraint:null!=e?e.getText({trimLeadingIndentation:!0}):void 0,default:r?r.getText({trimLeadingIndentation:!0}):void 0,variance:this.getVariance()})}},[T.SyntaxKind.TypePredicate]:class extends sb{getParameterNameNode(){return this._getNodeFromCompilerNode(this.compilerNode.parameterName)}hasAssertsModifier(){return null!=this.compilerNode.assertsModifier}getAssertsModifier(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.assertsModifier)}getAssertsModifierOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getAssertsModifier(),null!=e?e:"Expected to find an asserts modifier.",this)}getTypeNode(){return this._getNodeFromCompilerNodeIfExists(this.compilerNode.type)}getTypeNodeOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getTypeNode(),null!=e?e:"Expected to find a type node.",this)}},[T.SyntaxKind.TypeQuery]:class extends sC{getExprName(){return this._getNodeFromCompilerNode(this.compilerNode.exprName)}},[T.SyntaxKind.TypeReference]:class extends sC{getTypeName(){return this._getNodeFromCompilerNode(this.compilerNode.typeName)}},[T.SyntaxKind.UnionType]:class extends sb{getTypeNodes(){return this.compilerNode.types.map(e=>this._getNodeFromCompilerNode(e))}},[T.SyntaxKind.VariableDeclaration]:class extends oO{remove(){let e=this.getParentOrThrow();switch(e.getKind()){case T.SyntaxKind.VariableDeclarationList:!function(t){let r=e.getParentIfKindOrThrow(T.SyntaxKind.VariableStatement),i=r.getDeclarations();1===i.length?r.remove():ts(t)}(this);break;case T.SyntaxKind.CatchClause:tr({children:[this.getPreviousSiblingIfKindOrThrow(T.SyntaxKind.OpenParenToken),this,this.getNextSiblingIfKindOrThrow(T.SyntaxKind.CloseParenToken)],removePrecedingSpaces:!0});break;default:throw new T.errors.NotImplementedError(`Not implemented for syntax kind: ${e.getKindName()}`)}}getVariableStatementOrThrow(e){return T.errors.throwIfNullOrUndefined(this.getVariableStatement(),null!=e?e:"Expected the grandparent to be a variable statement.",this)}getVariableStatement(){let e=this.getParentOrThrow().getParentOrThrow();return tx.isVariableStatement(e)?e:void 0}set(e){return G(oO.prototype,this,e),this}getStructure(){return $(oO.prototype,this,{kind:t.z_b.VariableDeclaration})}},[T.SyntaxKind.VariableDeclarationList]:class extends oA{getDeclarations(){return this.compilerNode.declarations.map(e=>this._getNodeFromCompilerNode(e))}getDeclarationKind(){let e=this.compilerNode.flags;return e&T.ts.NodeFlags.Let?t.bDp.Let:(e&T.ts.NodeFlags.AwaitUsing)===T.ts.NodeFlags.AwaitUsing?t.bDp.AwaitUsing:(e&T.ts.NodeFlags.Using)===T.ts.NodeFlags.Using?t.bDp.Using:e&T.ts.NodeFlags.Const?t.bDp.Const:t.bDp.Var}getDeclarationKindKeywords(){let e=this.getDeclarationKind();switch(e){case t.bDp.Const:return[this.getFirstChildByKindOrThrow(T.SyntaxKind.ConstKeyword)];case t.bDp.Let:return[this.getFirstChildByKindOrThrow(T.SyntaxKind.LetKeyword)];case t.bDp.Var:return[this.getFirstChildByKindOrThrow(T.SyntaxKind.VarKeyword)];case t.bDp.Using:return[this.getFirstChildByKindOrThrow(T.SyntaxKind.UsingKeyword)];case t.bDp.AwaitUsing:let r=this.getFirstChildByKindOrThrow(T.SyntaxKind.AwaitKeyword),i=r.getNextSiblingIfKindOrThrow(T.SyntaxKind.UsingKeyword);return[r,i];default:return T.errors.throwNotImplementedForNeverValueError(e)}}setDeclarationKind(e){if(this.getDeclarationKind()===e)return this;let t=this.getDeclarationKindKeywords(),r=t[0].getStart(),i=t[t.length-1].getEnd();return e7({insertPos:r,newText:e,parent:this,replacing:{textLength:i-r}}),this}addDeclaration(e){return this.addDeclarations([e])[0]}addDeclarations(e){return this.insertDeclarations(this.getDeclarations().length,e)}insertDeclaration(e,t){return this.insertDeclarations(e,[t])[0]}insertDeclarations(e,t){let r=this._getWriterWithQueuedChildIndentation(),i=new tR(this._context.structurePrinterFactory.forVariableDeclaration()),n=this.compilerNode.declarations.length;return e=ex(e,n),i.printText(r,t),e5({parent:this.getFirstChildByKindOrThrow(T.SyntaxKind.SyntaxList),currentNodes:this.getDeclarations(),insertIndex:e,newText:r.toString(),useTrailingCommas:!1}),eh(n,this.getDeclarations(),e,!1)}},[T.SyntaxKind.VariableStatement]:class extends nJ{getDeclarationList(){return this._getNodeFromCompilerNode(this.compilerNode.declarationList)}getDeclarations(){return this.getDeclarationList().getDeclarations()}getDeclarationKind(){return this.getDeclarationList().getDeclarationKind()}getDeclarationKindKeywords(){return this.getDeclarationList().getDeclarationKindKeywords()}setDeclarationKind(e){return this.getDeclarationList().setDeclarationKind(e)}addDeclaration(e){return this.getDeclarationList().addDeclaration(e)}addDeclarations(e){return this.getDeclarationList().addDeclarations(e)}insertDeclaration(e,t){return this.getDeclarationList().insertDeclaration(e,t)}insertDeclarations(e,t){return this.getDeclarationList().insertDeclarations(e,t)}set(e){if(G(nJ.prototype,this,e),null!=e.declarationKind&&this.setDeclarationKind(e.declarationKind),null!=e.declarations){let t=this.getDeclarations();this.addDeclarations(e.declarations),t.forEach(e=>e.remove())}return this}getStructure(){return $(nJ.prototype,this,{kind:t.z_b.VariableStatement,declarationKind:this.getDeclarationKind(),declarations:this.getDeclarations().map(e=>e.getStructure())})}},[T.SyntaxKind.JSDoc]:class extends sK{isMultiLine(){return this.getText().includes("\n")}getTags(){var e,t;return null!==(t=null===(e=this.compilerNode.tags)||void 0===e?void 0:e.map(e=>this._getNodeFromCompilerNode(e)))&&void 0!==t?t:[]}getInnerText(){return sN(this.getText())}getComment(){return null==this.compilerNode.comment?void 0:"string"==typeof this.compilerNode.comment?this.compilerNode.comment:this.compilerNode.comment.map(e=>this._getNodeFromCompilerNodeIfExists(e))}getCommentText(){return"string"==typeof this.compilerNode.comment?this.compilerNode.comment:T.ts.getTextOfJSDocComment(this.compilerNode.comment)}getDescription(){var e,t;let r=this.getSourceFile().getFullText(),i=null!==(t=null===(e=this.getTags()[0])||void 0===e?void 0:e.getStart())&&void 0!==t?t:this.getEnd()-2,n=function(e){let t=e.getStart()+3;return r.charCodeAt(t)===w.SPACE?t+1:t}(this);return sN(r.substring(n,Math.max(n,function(){let e=es(r,i,e=>e===w.NEWLINE||!T.StringUtils.isWhitespaceCharCode(e)&&e!==w.ASTERISK);return es(r,e,e=>e!==w.NEWLINE&&e!==w.CARRIAGE_RETURN)}())))}setDescription(e){let t=this.getTags(),r=this.getStart()+3,i=t.length>0?es(this._sourceFile.getFullText(),t[0].getStart(),e=>e===w.ASTERISK)-1:this.getEnd()-2;return!function(e){let{replacePos:t,replacingLength:r,newText:i,parent:n}=e;e6(n._sourceFile,new eZ({insertPos:t,replacingLength:r,newText:i}),new eG().getForParentRange({parent:n,start:t,end:t+i.length}))}({parent:this,newText:(function(){var t,r;let i=this.getIndentationText(),n=this._context.manipulationSettings.getNewLineKindAsString(),s=M(this._getWriter(),e).split(/\r?\n/),o=0===s[0].length,a=1===s.length&&(null!==(r=null===(t=this.compilerNode.tags)||void 0===t?void 0:t.length)&&void 0!==r?r:0)===0,l=a?s[0]:s.map(e=>0===e.length?`${i} *`:`${i} * ${e}`).slice(o?1:0).join(n);return a?" "+l+" ":n+l+n+i+" "}).call(this),replacePos:r,replacingLength:i-r}),this}addTag(e){return this.addTags([e])[0]}addTags(e){var t,r;return this.insertTags(null!==(r=null===(t=this.compilerNode.tags)||void 0===t?void 0:t.length)&&void 0!==r?r:0,e)}insertTag(e,t){return this.insertTags(e,[t])[0]}insertTags(e,t){if(T.ArrayUtils.isNullOrEmpty(t))return[];let r=this._getWriterWithQueuedIndentation(),i=this.getTags();if(e=ex(e,i.length),0!==i.length||this.isMultiLine()){let n=this._context.structurePrinterFactory.forJSDocTag({printStarsOnNewLine:!0});r.newLine().write(" * "),n.printTexts(r,t),r.newLine().write(" *"),r.conditionalWrite(e<i.length," ");let s=(function(){let t=e<i.length?i[e].getStart():this.getEnd()-2,r=this.getStart()+3;return Math.max(r,es(this.getSourceFile().getFullText(),t,e=>!T.StringUtils.isWhitespaceCharCode(e)&&e!==w.ASTERISK))}).call(this),o=(function(){return e<i.length?i[e].getStart():this.getEnd()-1}).call(this);e7({parent:this,insertPos:s,replacing:{textLength:o-s},newText:r.toString()})}else{let e=this._context.structurePrinterFactory.forJSDoc();this.replaceWithText(r=>{e.printText(r,{description:this.getDescription(),tags:t})})}return eh(i,this.getTags(),e,!1)}remove(){tr({children:[this],removeFollowingSpaces:!0,removeFollowingNewLines:!0})}set(e){return(G(sK.prototype,this,e),null!=e.tags)?this.replaceWithText(t=>{var r;this._context.structurePrinterFactory.forJSDoc().printText(t,{description:null!==(r=e.description)&&void 0!==r?r:this.getDescription(),tags:e.tags})}):(null!=e.description&&this.setDescription(e.description),this)}getStructure(){return $(sK.prototype,this,{kind:t.z_b.JSDoc,description:this.getDescription(),tags:this.getTags().map(e=>e.getStructure())})}},[T.SyntaxKind.TypeOfExpression]:class extends iY{},[T.SyntaxKind.WhileStatement]:class extends nj{},[T.SyntaxKind.WithStatement]:class extends nU{getStatement(){return this._getNodeFromCompilerNode(this.compilerNode.statement)}},[T.SyntaxKind.YieldExpression]:class extends i1{},[T.SyntaxKind.SemicolonToken]:tx,[T.SyntaxKind.AnyKeyword]:id,[T.SyntaxKind.BooleanKeyword]:id,[T.SyntaxKind.FalseKeyword]:class extends oT{getLiteralValue(){return oK(this)}setLiteralValue(e){return oN(this,e)}},[T.SyntaxKind.ImportKeyword]:class extends iE{},[T.SyntaxKind.InferKeyword]:tx,[T.SyntaxKind.NeverKeyword]:tx,[T.SyntaxKind.NullKeyword]:class extends ob{},[T.SyntaxKind.NumberKeyword]:id,[T.SyntaxKind.ObjectKeyword]:id,[T.SyntaxKind.StringKeyword]:id,[T.SyntaxKind.SymbolKeyword]:id,[T.SyntaxKind.SuperKeyword]:class extends iH{},[T.SyntaxKind.ThisKeyword]:class extends iX{},[T.SyntaxKind.TrueKeyword]:class extends oS{getLiteralValue(){return oK(this)}setLiteralValue(e){return oN(this,e)}},[T.SyntaxKind.UndefinedKeyword]:id,[T.SyntaxKind.VoidExpression]:class extends i0{}};class ad{constructor(e){this.context=e,this.sourceFileCacheByFilePath=new Map,this.diagnosticCache=new T.WeakCache,this.definitionInfoCache=new T.WeakCache,this.documentSpanCache=new T.WeakCache,this.diagnosticMessageChainCache=new T.WeakCache,this.jsDocTagInfoCache=new T.WeakCache,this.signatureCache=new T.WeakCache,this.symbolCache=new T.WeakCache,this.symbolDisplayPartCache=new T.WeakCache,this.referencedSymbolEntryCache=new T.WeakCache,this.referencedSymbolCache=new T.WeakCache,this.referencedSymbolDefinitionInfoCache=new T.WeakCache,this.typeCache=new T.WeakCache,this.typeParameterCache=new T.WeakCache,this.nodeCache=new aa,this.sourceFileAddedEventContainer=new T.EventContainer,this.sourceFileRemovedEventContainer=new T.EventContainer,this.documentRegistry=new T.DocumentRegistry(e.fileSystemWrapper),this.directoryCache=new ao(e),this.context.compilerOptions.onModified(()=>{let e=Array.from(this.sourceFileCacheByFilePath.values());for(let t of e)tc({sourceFile:t,newFilePath:t.getFilePath()})})}*getSourceFilesByDirectoryDepth(){for(let e of this.getDirectoriesByDepth())yield*e.getSourceFiles()}getSourceFilePaths(){return this.sourceFileCacheByFilePath.keys()}getChildDirectoriesOfDirectory(e){return this.directoryCache.getChildDirectoriesOfDirectory(e)}getChildSourceFilesOfDirectory(e){return this.directoryCache.getChildSourceFilesOfDirectory(e)}onSourceFileAdded(e,t=!0){t?this.sourceFileAddedEventContainer.subscribe(e):this.sourceFileAddedEventContainer.unsubscribe(e)}onSourceFileRemoved(e){this.sourceFileRemovedEventContainer.subscribe(e)}createSourceFile(e,t,r){if("string"==typeof(t=t instanceof Function?M(this.context.createWriter(),t):t||""))return this.createSourceFileFromText(e,t,r);let i=this.context.createWriter(),n=this.context.structurePrinterFactory.forSourceFile({isAmbient:".d.ts"===T.FileUtils.getExtension(e)});return n.printText(i,t),this.createSourceFileFromText(e,i.toString(),r)}createSourceFileFromText(e,t,r){return(e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e),!0===r.overwrite)?this.createOrOverwriteSourceFileFromText(e,t,r):(this.throwIfFileExists(e,"Did you mean to provide the overwrite option?"),this.createSourceFileFromTextInternal(e,t,r))}throwIfFileExists(e,t){if(this.containsSourceFileAtPath(e)||this.context.fileSystemWrapper.fileExistsSync(e))throw t=null==t?"":t+" ",new T.errors.InvalidOperationError(`${t}A source file already exists at the provided file path: ${e}`)}createOrOverwriteSourceFileFromText(e,t,r){e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e);let i=this.addOrGetSourceFileFromFilePath(e,r);return null!=i?(i.getChildren().forEach(e=>e.forget()),this.replaceCompilerNode(i,this.createCompilerSourceFileFromText(e,t,r.scriptKind)),i):this.createSourceFileFromTextInternal(e,t,r)}getSourceFileFromCacheFromFilePath(e){return e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e),this.sourceFileCacheByFilePath.get(e)}addOrGetSourceFileFromFilePath(e,t){e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e);let r=this.sourceFileCacheByFilePath.get(e);if(null==r){let i=this.context.fileSystemWrapper.readFileIfExistsSync(e,this.context.getEncoding());null!=i&&(this.context.logger.log(`Loaded file: ${e}`),(r=this.createSourceFileFromTextInternal(e,i,t))._setIsSaved(!0))}return null!=r&&t.markInProject&&r._markAsInProject(),r}containsSourceFileAtPath(e){return e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e),this.sourceFileCacheByFilePath.has(e)}containsDirectoryAtPath(e){return e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e),this.directoryCache.has(e)}getSourceFileForNode(e){let t=e;for(;t.kind!==T.SyntaxKind.SourceFile;){if(null==t.parent)return;t=t.parent}return this.getSourceFile(t,{markInProject:!1})}hasCompilerNode(e){return this.nodeCache.has(e)}getExistingNodeFromCompilerNode(e){return this.nodeCache.get(e)}getNodeFromCompilerNode(e,t){if(e.kind===T.SyntaxKind.SourceFile)return this.getSourceFile(e,{markInProject:!1});return this.nodeCache.getOrCreate(e,()=>{let e=r.call(this);return i.call(this,e),e});function r(){if(null!=e._commentKind)return eF.isCommentStatement(e)?new ne(this.context,e,t):eF.isCommentClassElement(e)?new sh(this.context,e,t):eF.isCommentTypeElement(e)?new s9(this.context,e,t):eF.isCommentObjectLiteralElement(e)?new ik(this.context,e,t):eF.isCommentEnumMember(e)?new s0(this.context,e,t):T.errors.throwNotImplementedForNeverValueError(e);let r=al[e.kind]||tx;return new r(this.context,e,t)}function i(r){if(null!=e.parent){let r=this.getNodeFromCompilerNode(e.parent,t);r._wrappedChildCount++}let i=r._getParentSyntaxListIfWrapped();if(null!=i&&i._wrappedChildCount++,e.kind===T.SyntaxKind.SyntaxList){let e=0;for(let t of r._getChildrenInCacheIterator())e++;r._wrappedChildCount=e}}}createSourceFileFromTextInternal(e,t,r){let i=T.StringUtils.hasBom(t);i&&(t=T.StringUtils.stripBom(t));let n=this.getSourceFile(this.createCompilerSourceFileFromText(e,t,r.scriptKind),r);return i&&(n._hasBom=!0),n}createCompilerSourceFileFromText(e,t,r){return this.documentRegistry.createOrUpdateSourceFile(e,this.context.compilerOptions.get(),T.ts.ScriptSnapshot.fromString(t),r)}getSourceFile(e,t){var r;let i=!1,n=null!==(r=this.sourceFileCacheByFilePath.get(e.fileName))&&void 0!==r?r:this.nodeCache.getOrCreate(e,()=>{let r=new nz(this.context,e);return t.markInProject||this.context.inProjectCoordinator.setSourceFileNotInProject(r),this.addSourceFileToCache(r),i=!0,r});return t.markInProject&&n._markAsInProject(),i&&this.sourceFileAddedEventContainer.fire(n),n}addSourceFileToCache(e){this.sourceFileCacheByFilePath.set(e.getFilePath(),e),this.context.fileSystemWrapper.removeFileDelete(e.getFilePath()),this.directoryCache.addSourceFile(e)}getDirectoryFromPath(e,t){e=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e);let r=this.directoryCache.get(e);return null==r&&this.context.fileSystemWrapper.directoryExistsSync(e)&&(r=this.directoryCache.createOrAddIfExists(e)),null!=r&&t.markInProject&&r._markAsInProject(),r}createDirectoryOrAddIfExists(e,t){let r=this.directoryCache.createOrAddIfExists(e);return null!=r&&t.markInProject&&r._markAsInProject(),r}getDirectoryFromCache(e){return this.directoryCache.get(e)}getDirectoryFromCacheOnlyIfInCache(e){return this.directoryCache.has(e)?this.directoryCache.get(e):void 0}getDirectoriesByDepth(){return this.directoryCache.getAllByDepth()}getOrphanDirectories(){return this.directoryCache.getOrphans()}getSymbolDisplayPart(e){return this.symbolDisplayPartCache.getOrCreate(e,()=>new o9(e))}getType(e){return(e.flags&T.TypeFlags.TypeParameter)===T.TypeFlags.TypeParameter?this.getTypeParameter(e):this.typeCache.getOrCreate(e,()=>new o4(this.context,e))}getTypeParameter(e){return this.typeParameterCache.getOrCreate(e,()=>new ae(this.context,e))}getSignature(e){return this.signatureCache.getOrCreate(e,()=>new oL(this.context,e))}getSymbol(e){return this.symbolCache.getOrCreate(e,()=>new ok(this.context,e))}getDefinitionInfo(e){return this.definitionInfoCache.getOrCreate(e,()=>new oU(this.context,e))}getDocumentSpan(e){return this.documentSpanCache.getOrCreate(e,()=>new oj(this.context,e))}getReferencedSymbolEntry(e){return this.referencedSymbolEntryCache.getOrCreate(e,()=>new o3(this.context,e))}getReferencedSymbol(e){return this.referencedSymbolCache.getOrCreate(e,()=>new o0(this.context,e))}getReferencedSymbolDefinitionInfo(e){return this.referencedSymbolDefinitionInfoCache.getOrCreate(e,()=>new o1(this.context,e))}getDiagnostic(e){return this.diagnosticCache.getOrCreate(e,()=>null!=e.start?new oG(this.context,e):new o$(this.context,e))}getDiagnosticWithLocation(e){return this.diagnosticCache.getOrCreate(e,()=>new oG(this.context,e))}getDiagnosticMessageChain(e){return this.diagnosticMessageChainCache.getOrCreate(e,()=>new oV(e))}getJSDocTagInfo(e){return this.jsDocTagInfoCache.getOrCreate(e,()=>new sH(e))}replaceCompilerNode(e,t){let r=e instanceof tx?e.compilerNode:e,i=e instanceof tx?e:this.nodeCache.get(e);r.kind===T.SyntaxKind.SourceFile&&r.fileName!==t.fileName?(this.removeCompilerNodeFromCache(r),i._replaceCompilerNodeFromFactory(t),this.nodeCache.set(t,i),this.addSourceFileToCache(i),this.sourceFileAddedEventContainer.fire(i)):(this.nodeCache.replaceKey(r,t),null!=i&&i._replaceCompilerNodeFromFactory(t))}removeNodeFromCache(e){this.removeCompilerNodeFromCache(e.compilerNode)}removeCompilerNodeFromCache(e){if(this.nodeCache.removeByKey(e),e.kind===T.SyntaxKind.SourceFile){let t=this.context.fileSystemWrapper.getStandardizedAbsolutePath(e.fileName);this.directoryCache.removeSourceFile(t);let r=this.sourceFileCacheByFilePath.get(t);this.sourceFileCacheByFilePath.delete(t),this.documentRegistry.removeSourceFile(t),null!=r&&this.sourceFileRemovedEventContainer.fire(r)}}addDirectoryToCache(e){this.directoryCache.addDirectory(e)}removeDirectoryFromCache(e){this.directoryCache.remove(e)}forgetNodesCreatedInBlock(e){let t;this.nodeCache.setForgetPoint();let r=!1;try{var i;if(t=e((...e)=>{for(let t of e)this.nodeCache.rememberNode(t)}),tx.isNode(t)&&this.nodeCache.rememberNode(t),i=t,null!=i&&"function"==typeof i.then)return r=!0,t.then(e=>(tx.isNode(e)&&this.nodeCache.rememberNode(e),this.nodeCache.forgetLastPoint(),e))}finally{r||this.nodeCache.forgetLastPoint()}return t}}class ac{constructor(e){this.compilerFactory=e,this.notInProjectFiles=new Set,e.onSourceFileRemoved(e=>{this.notInProjectFiles.delete(e)})}setSourceFileNotInProject(e){this.notInProjectFiles.add(e),e._inProject=!1}markSourceFileAsInProject(e){this.isSourceFileInProject(e)||(this._internalMarkSourceFileAsInProject(e),this.notInProjectFiles.delete(e))}markSourceFilesAsInProjectForResolution(){let e="/node_modules/",t=this.compilerFactory,r=[],i=[];for(let n of[...this.notInProjectFiles.values()])!function(r){let i=r.getFilePath(),n=i.toLowerCase().lastIndexOf(e);if(-1===n)return!0;let s=i.substring(0,n+e.length-1),o=t.getDirectoryFromCacheOnlyIfInCache(s);if(null!=o&&o._isInProject())return!0;let a=r.getDirectory();for(;null!=a&&a.getPath()!==s;){if(a._isInProject())return!0;a=t.getDirectoryFromCacheOnlyIfInCache(T.FileUtils.getDirPath(a.getPath()))}return!1}(n)?i.push(n):(this._internalMarkSourceFileAsInProject(n),this.notInProjectFiles.delete(n),r.push(n));return{changedSourceFiles:r,unchangedSourceFiles:i}}_internalMarkSourceFileAsInProject(e){e._inProject=!0,this.markDirectoryAsInProject(e.getDirectory())}isSourceFileInProject(e){return!0===e._inProject}setDirectoryAndFilesAsNotInProjectForTesting(e){for(let t of e.getDirectories())this.setDirectoryAndFilesAsNotInProjectForTesting(t);for(let t of e.getSourceFiles())delete t._inProject,this.notInProjectFiles.add(t);delete e._inProject}markDirectoryAsInProject(e){if(this.isDirectoryInProject(e))return;let t=this,r=this.compilerFactory;e._inProject=!0,function(e){let i=Array.from(function* e(i){if(T.FileUtils.isRootDirPath(i.getPath()))return;let n=T.FileUtils.getDirPath(i.getPath()),s=r.getDirectoryFromCacheOnlyIfInCache(n);null==s||(yield s,t.isDirectoryInProject(s)||(yield*e(s)))}(e)),n=i[i.length-1];if(null!=n&&t.isDirectoryInProject(n))for(let e of i)e._inProject=!0}(e)}isDirectoryInProject(e){return!0===e._inProject}}class au{constructor(e){this._getFormatCodeSettings=e}getFormatCodeSettings(){return this._getFormatCodeSettings()}forInitializerExpressionableNode(){return new tk}forModifierableNode(){return new tM}forReturnTypedNode(e){return new tW(e)}forTypedNode(e,t){return new tz(e,t)}forClassDeclaration(e){return new tG(this,e)}forClassMember(e){return new tX(this,e)}forClassStaticBlockDeclaration(){return new tZ(this)}forConstructorDeclaration(e){return new tY(this,e)}forGetAccessorDeclaration(e){return new t0(this,e)}forMethodDeclaration(e){return new t1(this,e)}forPropertyDeclaration(){return new t2(this)}forSetAccessorDeclaration(e){return new t3(this,e)}forDecorator(){return new t9(this)}forJSDoc(){return new t6(this)}forJSDocTag(e){return new t7(this,e)}forEnumDeclaration(){return new t5(this)}forEnumMember(){return new t4(this)}forObjectLiteralExpressionProperty(){return new re(this)}forPropertyAssignment(){return new rt(this)}forShorthandPropertyAssignment(){return new rr(this)}forSpreadAssignment(){return new ri(this)}forFunctionDeclaration(e){return new rn(this,e)}forParameterDeclaration(){return new rs(this)}forCallSignatureDeclaration(){return new ro(this)}forConstructSignatureDeclaration(){return new ra(this)}forIndexSignatureDeclaration(){return new rl(this)}forInterfaceDeclaration(){return new rd(this)}forMethodSignature(){return new rc(this)}forPropertySignature(){return new ru(this)}forTypeElementMemberedNode(){return new rh(this)}forTypeElementMember(){return new rp(this)}forJsxAttributeDecider(){return new rg(this)}forJsxAttribute(){return new rm(this)}forJsxChildDecider(){return new ry(this)}forJsxElement(){return new rx(this)}forJsxNamespacedName(){return new rf(this)}forJsxSelfClosingElement(){return new rS(this)}forJsxSpreadAttribute(){return new rT(this)}forAssertEntry(){return new rN(this)}forExportAssignment(){return new rK(this)}forExportDeclaration(){return new rb(this)}forImportDeclaration(){return new rw(this)}forModuleDeclaration(e){return new rC(this,e)}forNamedImportExportSpecifier(){return new rF(this)}forSourceFile(e){return new r_(this,e)}forStatementedNode(e){return new rI(this,e)}forStatement(e){return new rE(this,e)}forVariableStatement(){return new rP(this)}forTypeAliasDeclaration(){return new rD(this)}forTypeParameterDeclaration(){return new rv(this)}forVariableDeclaration(){return new rO(this)}}nM([T.Memoize],au.prototype,"forInitializerExpressionableNode",null),nM([T.Memoize],au.prototype,"forModifierableNode",null),nM([T.Memoize],au.prototype,"forReturnTypedNode",null),nM([T.Memoize],au.prototype,"forTypedNode",null),nM([T.Memoize],au.prototype,"forClassDeclaration",null),nM([T.Memoize],au.prototype,"forClassMember",null),nM([T.Memoize],au.prototype,"forClassStaticBlockDeclaration",null),nM([T.Memoize],au.prototype,"forConstructorDeclaration",null),nM([T.Memoize],au.prototype,"forGetAccessorDeclaration",null),nM([T.Memoize],au.prototype,"forMethodDeclaration",null),nM([T.Memoize],au.prototype,"forPropertyDeclaration",null),nM([T.Memoize],au.prototype,"forSetAccessorDeclaration",null),nM([T.Memoize],au.prototype,"forDecorator",null),nM([T.Memoize],au.prototype,"forJSDoc",null),nM([T.Memoize],au.prototype,"forJSDocTag",null),nM([T.Memoize],au.prototype,"forEnumDeclaration",null),nM([T.Memoize],au.prototype,"forEnumMember",null),nM([T.Memoize],au.prototype,"forObjectLiteralExpressionProperty",null),nM([T.Memoize],au.prototype,"forPropertyAssignment",null),nM([T.Memoize],au.prototype,"forShorthandPropertyAssignment",null),nM([T.Memoize],au.prototype,"forSpreadAssignment",null),nM([T.Memoize],au.prototype,"forFunctionDeclaration",null),nM([T.Memoize],au.prototype,"forParameterDeclaration",null),nM([T.Memoize],au.prototype,"forCallSignatureDeclaration",null),nM([T.Memoize],au.prototype,"forConstructSignatureDeclaration",null),nM([T.Memoize],au.prototype,"forIndexSignatureDeclaration",null),nM([T.Memoize],au.prototype,"forInterfaceDeclaration",null),nM([T.Memoize],au.prototype,"forMethodSignature",null),nM([T.Memoize],au.prototype,"forPropertySignature",null),nM([T.Memoize],au.prototype,"forTypeElementMemberedNode",null),nM([T.Memoize],au.prototype,"forTypeElementMember",null),nM([T.Memoize],au.prototype,"forJsxAttributeDecider",null),nM([T.Memoize],au.prototype,"forJsxAttribute",null),nM([T.Memoize],au.prototype,"forJsxChildDecider",null),nM([T.Memoize],au.prototype,"forJsxElement",null),nM([T.Memoize],au.prototype,"forJsxNamespacedName",null),nM([T.Memoize],au.prototype,"forJsxSelfClosingElement",null),nM([T.Memoize],au.prototype,"forJsxSpreadAttribute",null),nM([T.Memoize],au.prototype,"forAssertEntry",null),nM([T.Memoize],au.prototype,"forExportAssignment",null),nM([T.Memoize],au.prototype,"forExportDeclaration",null),nM([T.Memoize],au.prototype,"forImportDeclaration",null),nM([T.Memoize],au.prototype,"forModuleDeclaration",null),nM([T.Memoize],au.prototype,"forNamedImportExportSpecifier",null),nM([T.Memoize],au.prototype,"forSourceFile",null),nM([T.Memoize],au.prototype,"forStatementedNode",null),nM([T.Memoize],au.prototype,"forStatement",null),nM([T.Memoize],au.prototype,"forVariableStatement",null),nM([T.Memoize],au.prototype,"forTypeAliasDeclaration",null),nM([T.Memoize],au.prototype,"forTypeParameterDeclaration",null),nM([T.Memoize],au.prototype,"forVariableDeclaration",null);class ah{get project(){if(null==this._project)throw new T.errors.InvalidOperationError("This operation is not permitted in this context.");return this._project}constructor(e){this.logger=new B,this.manipulationSettings=new A,this._project=e.project,this.fileSystemWrapper=e.fileSystemWrapper,this._compilerOptions=e.compilerOptionsContainer,this.compilerFactory=new ad(this),this.inProjectCoordinator=new ac(this.compilerFactory),this.structurePrinterFactory=new au(()=>this.manipulationSettings.getFormatCodeSettings()),this.lazyReferenceCoordinator=new j(this.compilerFactory),this.directoryCoordinator=new as(this.compilerFactory,e.fileSystemWrapper),this._languageService=e.createLanguageService?new o5({context:this,configFileParsingDiagnostics:e.configFileParsingDiagnostics,resolutionHost:e.resolutionHost&&e.resolutionHost(this.getModuleResolutionHost(),()=>this.compilerOptions.get()),skipLoadingLibFiles:e.skipLoadingLibFiles,libFolderPath:e.libFolderPath}):void 0,null!=e.typeChecker&&(T.errors.throwIfTrue(e.createLanguageService,"Cannot specify a type checker and create a language service."),this._customTypeChecker=new o6(this),this._customTypeChecker._reset(()=>e.typeChecker))}get compilerOptions(){return this._compilerOptions}get languageService(){if(null==this._languageService)throw this.getToolRequiredError("language service");return this._languageService}get program(){if(null==this._languageService)throw this.getToolRequiredError("program");return this.languageService.getProgram()}get typeChecker(){if(null!=this._customTypeChecker)return this._customTypeChecker;if(null==this._languageService)throw this.getToolRequiredError("type checker");return this.program.getTypeChecker()}hasLanguageService(){return null!=this._languageService}getEncoding(){return this.compilerOptions.getEncoding()}getFormatCodeSettings(){return this.manipulationSettings.getFormatCodeSettings()}getUserPreferences(){return this.manipulationSettings.getUserPreferences()}resetProgram(){this.languageService._reset()}createWriter(){let e=this.manipulationSettings.getIndentationText();return new K.default({newLine:this.manipulationSettings.getNewLineKindAsString(),indentNumberOfSpaces:e===t.xI4.Tab?void 0:e.length,useTabs:e===t.xI4.Tab,useSingleQuote:this.manipulationSettings.getQuoteKind()===t.ZiB.Single})}getPreEmitDiagnostics(e){let t=T.ts.getPreEmitDiagnostics(this.program.compilerObject,null==e?void 0:e.compilerNode);return t.map(e=>this.compilerFactory.getDiagnostic(e))}getSourceFileContainer(){return{addOrGetSourceFileFromFilePath:(e,t)=>{var r;return Promise.resolve(null===(r=this.compilerFactory.addOrGetSourceFileFromFilePath(e,t))||void 0===r?void 0:r.compilerNode)},addOrGetSourceFileFromFilePathSync:(e,t)=>{var r;return null===(r=this.compilerFactory.addOrGetSourceFileFromFilePath(e,t))||void 0===r?void 0:r.compilerNode},containsDirectoryAtPath:e=>this.compilerFactory.containsDirectoryAtPath(e),containsSourceFileAtPath:e=>this.compilerFactory.containsSourceFileAtPath(e),getSourceFileFromCacheFromFilePath:e=>{let t=this.compilerFactory.getSourceFileFromCacheFromFilePath(e);return null==t?void 0:t.compilerNode},getSourceFilePaths:()=>this.compilerFactory.getSourceFilePaths(),getSourceFileVersion:e=>this.compilerFactory.documentRegistry.getSourceFileVersion(e),getChildDirectoriesOfDirectory:e=>{let t=[];for(let r of this.compilerFactory.getChildDirectoriesOfDirectory(e))t.push(r.getPath());return t}}}getModuleResolutionHost(){return T.createModuleResolutionHost({transactionalFileSystem:this.fileSystemWrapper,getEncoding:()=>this.getEncoding(),sourceFileContainer:this.getSourceFileContainer()})}getToolRequiredError(e){return new T.errors.InvalidOperationError(`A ${e} is required for this operation. This might occur when manipulating or getting type information from a node that was not added to a Project object and created via createWrappedNode. Please submit a bug report if you don't believe a ${e} should be required for this operation.`)}}function ap(e){return t(e[0])&&t(e[e.length-1])&&(e=e.substring(1,e.length-1)),`"${e}"`;function t(e){return'"'===e||"'"===e}}nM([T.Memoize],ah.prototype,"getSourceFileContainer",null),nM([T.Memoize],ah.prototype,"getModuleResolutionHost",null),new au(()=>{throw new T.errors.NotImplementedError("Not implemented scenario for getting code format settings when using a writer function. Please open an issue.")});let{InvalidOperationError:ag,FileNotFoundError:am,ArgumentError:ay,ArgumentNullOrWhitespaceError:ax,ArgumentOutOfRangeError:af,ArgumentTypeError:aS,BaseError:aT,DirectoryNotFoundError:aN,NotImplementedError:aK,NotSupportedError:ab,PathNotFoundError:aw}=T.errors;Object.defineProperty(t,"C$L",{enumerable:!0,get:function(){return T.LanguageVariant}}),Object.defineProperty(t,"hVH",{enumerable:!0,get:function(){return T.ScriptKind}}),Object.defineProperty(t,"H7j",{enumerable:!0,get:function(){return T.ScriptTarget}}),Object.defineProperty(t,"lGB",{enumerable:!0,get:function(){return T.SyntaxKind}}),t.IKL=class{constructor(e={}){var t,r,i,n,s;!function(){if(null!=e.fileSystem&&e.useInMemoryFileSystem)throw new T.errors.InvalidOperationError("Cannot provide a file system when specifying to use an in-memory file system.")}();let o=e.useInMemoryFileSystem?new T.InMemoryFileSystemHost:null!==(r=e.fileSystem)&&void 0!==r?r:new T.RealFileSystemHost,a=new T.TransactionalFileSystem({fileSystem:o,skipLoadingLibFiles:e.skipLoadingLibFiles,libFolderPath:e.libFolderPath}),l=null==e.tsConfigFilePath?void 0:new T.TsConfigResolver(a,a.getStandardizedAbsolutePath(e.tsConfigFilePath),null!=e.compilerOptions&&null!==(s=e.compilerOptions.charset)&&void 0!==s?s:"utf-8"),d={...null!==(n=null==l?void 0:l.getCompilerOptions())&&void 0!==n?n:{},...null!==(i=e.compilerOptions)&&void 0!==i?i:{}},c=new T.CompilerOptionsContainer;c.set(d),this._context=new ah({project:this,compilerOptionsContainer:c,fileSystemWrapper:a,createLanguageService:!0,resolutionHost:e.resolutionHost,configFileParsingDiagnostics:null!==(t=null==l?void 0:l.getErrors())&&void 0!==t?t:[],skipLoadingLibFiles:e.skipLoadingLibFiles,libFolderPath:e.libFolderPath}),null!=e.manipulationSettings&&this._context.manipulationSettings.set(e.manipulationSettings),null==l||!0===e.skipAddingFilesFromTsConfig||(this._addSourceFilesForTsConfigResolver(l,d),e.skipFileDependencyResolution||this.resolveSourceFileDependencies())}get manipulationSettings(){return this._context.manipulationSettings}get compilerOptions(){return this._context.compilerOptions}resolveSourceFileDependencies(){let e=new Set,t=t=>e.add(t),{compilerFactory:r,inProjectCoordinator:i}=this._context;r.onSourceFileAdded(t);try{this.getProgram().compilerObject}finally{r.onSourceFileAdded(t,!1)}let n=i.markSourceFilesAsInProjectForResolution();for(let t of n.changedSourceFiles)e.add(t);for(let t of n.unchangedSourceFiles)e.delete(t);return Array.from(e.values())}addDirectoryAtPathIfExists(e,t={}){return this._context.directoryCoordinator.addDirectoryAtPathIfExists(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{...t,markInProject:!0})}addDirectoryAtPath(e,t={}){return this._context.directoryCoordinator.addDirectoryAtPath(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{...t,markInProject:!0})}createDirectory(e){return this._context.directoryCoordinator.createDirectoryOrAddIfExists(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{markInProject:!0})}getDirectoryOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getDirectory(e),null!=t?t:()=>`Could not find a directory at the specified path: ${this._context.fileSystemWrapper.getStandardizedAbsolutePath(e)}`)}getDirectory(e){let{compilerFactory:t}=this._context;return t.getDirectoryFromCache(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e))}getDirectories(){return Array.from(this._getProjectDirectoriesByDirectoryDepth())}getRootDirectories(){let{inProjectCoordinator:e}=this._context,t=[];for(let r of this._context.compilerFactory.getOrphanDirectories())for(let i of function* t(r){if(e.isDirectoryInProject(r)){yield r;return}for(let e of r._getDirectoriesIterator())yield*t(e)}(r))t.push(i);return t}addSourceFilesAtPaths(e){return this._context.directoryCoordinator.addSourceFilesAtPaths(e,{markInProject:!0})}addSourceFileAtPathIfExists(e){return this._context.directoryCoordinator.addSourceFileAtPathIfExists(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{markInProject:!0})}addSourceFileAtPath(e){return this._context.directoryCoordinator.addSourceFileAtPath(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),{markInProject:!0})}addSourceFilesFromTsConfig(e){let t=new T.TsConfigResolver(this._context.fileSystemWrapper,this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),this._context.getEncoding());return this._addSourceFilesForTsConfigResolver(t,t.getCompilerOptions())}_addSourceFilesForTsConfigResolver(e,t){let r=e.getPaths(t),i=r.filePaths.map(e=>this.addSourceFileAtPath(e));for(let e of r.directoryPaths)this.addDirectoryAtPathIfExists(e);return i}createSourceFile(e,t,r){return this._context.compilerFactory.createSourceFile(this._context.fileSystemWrapper.getStandardizedAbsolutePath(e),null!=t?t:"",{...null!=r?r:{},markInProject:!0})}removeSourceFile(e){let t=e.wasForgotten();return e.forget(),!t}getSourceFileOrThrow(e){let t=this.getSourceFile(e);if(null!=t)return t;if("string"==typeof e){let t=T.FileUtils.standardizeSlashes(e);if(T.FileUtils.pathIsAbsolute(t)||t.indexOf("/")>=0){let e=this._context.fileSystemWrapper.getStandardizedAbsolutePath(t);throw new T.errors.InvalidOperationError(`Could not find source file in project at the provided path: ${e}`)}throw new T.errors.InvalidOperationError(`Could not find source file in project with the provided file name: ${e}`)}throw new T.errors.InvalidOperationError("Could not find source file in project based on the provided condition.")}getSourceFile(e){let t=function(t){if(e instanceof Function)return e;let r=T.FileUtils.standardizeSlashes(e);return T.FileUtils.pathIsAbsolute(r)||r.indexOf("/")>=0?t.getStandardizedAbsolutePath(r):e=>T.FileUtils.pathEndsWith(e.getFilePath(),r)}(this._context.fileSystemWrapper);return"string"==typeof t?this._context.compilerFactory.getSourceFileFromCacheFromFilePath(t):T.IterableUtils.find(this._getProjectSourceFilesByDirectoryDepth(),t)}getSourceFiles(e){let{compilerFactory:t,fileSystemWrapper:r}=this._context,i=this._getProjectSourceFilesByDirectoryDepth();return"string"==typeof e||e instanceof Array?Array.from(function*(){let n=Array.from(function*(){for(let e of i)yield e.getFilePath()}()),s=T.matchGlobs(n,e,r.getCurrentDirectory());for(let e of s)yield t.getSourceFileFromCacheFromFilePath(r.getStandardizedAbsolutePath(e))}()):Array.from(i)}*_getProjectSourceFilesByDirectoryDepth(){let{compilerFactory:e,inProjectCoordinator:t}=this._context;for(let r of e.getSourceFilesByDirectoryDepth())t.isSourceFileInProject(r)&&(yield r)}*_getProjectDirectoriesByDirectoryDepth(){let{compilerFactory:e,inProjectCoordinator:t}=this._context;for(let r of e.getDirectoriesByDepth())t.isDirectoryInProject(r)&&(yield r)}getAmbientModule(e){return e=ap(e),this.getAmbientModules().find(t=>t.getName()===e)}getAmbientModuleOrThrow(e,t){return T.errors.throwIfNullOrUndefined(this.getAmbientModule(e),null!=t?t:()=>`Could not find ambient module with name: ${ap(e)}`)}getAmbientModules(){return this.getTypeChecker().getAmbientModules()}async save(){await this._context.fileSystemWrapper.flush(),await Promise.all(this._getUnsavedSourceFiles().map(e=>e.save()))}saveSync(){for(let e of(this._context.fileSystemWrapper.flushSync(),this._getUnsavedSourceFiles()))e.saveSync()}enableLogging(e=!0){this._context.logger.setEnabled(e)}_getUnsavedSourceFiles(){return Array.from(function*(e){for(let t of e)t.isSaved()||(yield t)}(this._context.compilerFactory.getSourceFilesByDirectoryDepth()))}getPreEmitDiagnostics(){return this._context.getPreEmitDiagnostics()}getLanguageService(){return this._context.languageService}getProgram(){return this._context.program}getTypeChecker(){return this._context.typeChecker}getFileSystem(){return this._context.fileSystemWrapper.getFileSystem()}emit(e={}){return this._context.program.emit(e)}emitSync(e={}){return this._context.program.emitSync(e)}emitToMemory(e={}){return this._context.program.emitToMemory(e)}getCompilerOptions(){return this._context.compilerOptions.get()}getConfigFileParsingDiagnostics(){return this.getProgram().getConfigFileParsingDiagnostics()}createWriter(){return this._context.createWriter()}forgetNodesCreatedInBlock(e){return this._context.compilerFactory.forgetNodesCreatedInBlock(e)}formatDiagnosticsWithColorAndContext(e,t={}){return T.ts.formatDiagnosticsWithColorAndContext(e.map(e=>e.compilerObject),{getCurrentDirectory:()=>this._context.fileSystemWrapper.getCurrentDirectory(),getCanonicalFileName:e=>e,getNewLine:()=>{var e;return null!==(e=t.newLineChar)&&void 0!==e?e:T.runtime.getEndOfLine()}})}getModuleResolutionHost(){return this._context.getModuleResolutionHost()}}}}]);