(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{62219:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return r(8919)}])},8919:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return L}});var t=r(52322),i=r(2784),n=r(8939),a=r(84291),l=r(66306),o=r(60545),d=r(43115),_=r(47057),c=r(24293),p=r(16196),x=r(10836),u=r(11561),f=r(98838),h=r(6289),m=r(6429),b=r(94801),g=r(7123),j=r(20273),w=r(53726),v=r(65884),y=r(39097),N=r.n(y),E=r(28447),P=r(9393),$=r(5632),S=r(11444);let Z="  is_Separator _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _btc-2122800589 _brc-2122800589 _bbc-2122800589 _blc-2122800589 _btw-0px _brw-0px _bbw-1px _blw-0px _fg-1 _h-0px _mah-0px _bbs-solid _bts-solid _bls-solid _brs-solid _transform-d0t1394298074 ";function z(e){return(0,t.jsx)(d.T,{children:(0,t.jsx)(v.H,{title:"Protofy",description:"Made with love from Barcelona",footer:null,children:(0,t.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 _ox-hidden _oy-hidden ",children:(0,t.jsxs)(_.Z,{containerProps:{f:1},sectionProps:{index:0,p:0},children:[(0,t.jsx)(c.Z,{}),(0,t.jsx)(p.Z,{t:"20vh"}),(0,t.jsx)(x.Z,{children:(0,t.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _mt--10vh ",children:(0,t.jsx)(u.Z,{children:(0,t.jsx)(f.Z,{children:(0,t.jsx)(k,{})})})})})]})})})})}function k(){let[e,s]=(0,i.useState)(""),[r,d]=(0,i.useState)(""),[_,c]=(0,i.useState)(""),[p,x]=(0,i.useState)(!1),u=(0,i.useRef)(null),[f,v]=(0,i.useState)((0,h.E)("pending")),[y,z]=(0,m.kP)(),[k,C]=(0,m.Tt)(),I=(0,$.useRouter)();(0,i.useEffect)(()=>{var e;null===(e=u.current)||void 0===e||e.focus()},[]),(0,i.useEffect)(()=>{if(f.isLoaded&&f.data){let e=(0,b.ed)(f.data.session.user,f.data.session.token);z(e),C(f.data.context)}},[f]),(0,i.useEffect)(()=>{if(y.loggedIn){var e,s;I.push(null!==(s=null===(e=I.query)||void 0===e?void 0:e.return)&&void 0!==s?s:"/")}},[y]);let L=async s=>{s.preventDefault(),g.g.register(e,r,_,v)};return(0,t.jsx)("div",{className:"  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center _jc-center _pt-1481558214 _pr-1481558214 _pb-1481558214 _pl-1481558214 ",children:(0,t.jsxs)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _fs-0 _miw-300px _maw-320px _jc-441309761 _pt-1481558214 _pr-1481558214 _pb-1481558214 _pl-1481558214 _gap-1316330145 ",children:[(0,t.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _mb-1316330145 ",children:(0,t.jsx)(j.K,{o:.9,children:(0,t.jsx)(E.j,{className:"tamagui-icon",width:120,height:130.4})})}),!!f.isError&&(0,t.jsx)(w.q,{children:(0,t.jsx)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body ",children:(0,P.e)(f.error)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.sL,{mx:"$4",jc:"center",space:!0,ai:"center",children:[(0,t.jsx)("div",{className:Z}),(0,t.jsx)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016078 _ls-167743997 _fos-229441158 _lh-222976511 _ussel-auto font_body ",children:"Create a new account"}),(0,t.jsx)("div",{className:Z})]}),(0,t.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",children:(0,t.jsx)("form",{onSubmit:L,children:(0,t.jsxs)(n.FA,{space:"$2",mt:"$5",children:[(0,t.jsx)(a.II,{id:"sign-up-email-input",...(0,P.X)("username",f),ref:u,autoComplete:"email",placeholder:"Email",value:e,onChange:e=>s(e.nativeEvent.text),required:!0}),(0,t.jsx)(a.II,{id:"sign-up-password-input",...(0,P.X)("password",f),autoComplete:"password-new",secureTextEntry:!0,placeholder:"Password",value:r,onChange:e=>d(e.nativeEvent.text),required:!0}),(0,t.jsx)(a.II,{id:"sign-up-repassword-input",autoComplete:"password-new",secureTextEntry:!0,placeholder:"Repeat Password",value:_,onChange:e=>c(e.nativeEvent.text),required:!0}),(0,t.jsx)(l.zx,{id:"sign-up-btn",type:"submit",loading:f.isLoading,disabled:f.isLoading||!r.length||!_.length||!e.length,mt:"$5",children:y.loggedIn||f.isLoading?(0,t.jsx)(o.$,{}):"Sign up"})]})})})]}),(0,t.jsx)(n.FA,{space:"$2",children:(0,t.jsx)(S.Theme,{name:"alt2",children:(0,t.jsxs)("p",{className:"  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016078 _ls-167743997 _fos-229441158 _lh-222976511 _ussel-auto _ta-center font_body ",children:["Already registered?"," ",(0,t.jsx)(N(),{id:"sign-in-link",href:"/auth/login",style:{fontWeight:"800"},children:"Sign in."})]})})})]})})}r(85398);var C=r(97729),I=r.n(C);function L(e){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I(),{children:(0,t.jsx)("title",{children:"Protofy - Sign Up"})}),(0,t.jsx)(z,{...e})]})}},24293:function(e,s,r){"use strict";var t=r(52322),i=r(8939),n=r(2784);let a=n.forwardRef((e,s)=>{let{height:r=521,o:n=.08,direction:a="up",...l}=e;return(0,t.jsx)(i.FA,{ref:s,className:"bg-grid mask-gradient-"+a,fullscreen:!0,top:"auto",height:r,left:-1e3,right:-1e3,flex:1,pe:"none",o:n,...l})});s.Z=a},11561:function(e,s,r){"use strict";var t=r(52322),i=r(8939),n=r(2784);let a=n.forwardRef((e,s)=>(0,t.jsxs)(i.FA,{ref:s,pos:"relative",elevation:"$4",py:"$4",pt:"$6",pb:"$10",zIndex:1,...e,children:[(0,t.jsx)("div",{className:"  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-absolute _mih-0px _miw-0px _fs-0 _t-0px _l-0px _r-0px _b-0px _bg-549765480 _zi--1 _o-0d0t2546 _btw-1px _btc-2122800589 _bts-solid "}),e.children]}));s.Z=a,r(55288)},98838:function(e,s,r){"use strict";var t=r(52322),i=r(2784),n=r(65919),a=r(8939);let l=i.forwardRef((e,s)=>(0,t.jsx)(n._k,{ref:s,children:(0,t.jsx)(a.sL,{flex:1,overflow:"hidden",maxWidth:"100%",space:"$8",flexWrap:"nowrap",px:"$2",mb:-8,$sm:{flexDirection:"column"},$gtSm:{px:"$6"},...e,children:e.children})}));s.Z=l},20273:function(e,s,r){"use strict";r.d(s,{K:function(){return a}});var t=r(52322),i=r(2784),n=r(8939);let a=i.forwardRef((e,s)=>{let{children:r,...i}=e;return(0,t.jsx)(n.FA,{ref:s,tag:"span",className:"unselectable",alignSelf:"center",marginVertical:-10,pressStyle:{opacity:1,scaleY:-1},hoverStyle:{opacity:.8},...i,children:r})})},47057:function(e,s,r){"use strict";var t=r(52322),i=r(2784),n=r(8939),a=r(91838);let l=i.forwardRef((e,s)=>(0,t.jsx)(n.FA,{ref:s,flex:1,...e,children:(0,t.jsx)(a.I,{children:e.children})}));s.Z=l},16196:function(e,s,r){"use strict";var t=r(52322),i=r(2784),n=r(8939);let a=i.forwardRef((e,s)=>(0,t.jsx)(n.FA,{ref:s,o:.75,pos:"absolute",t:0,l:0,r:0,h:2e3,className:"hero-blur",...e}));s.Z=a},7123:function(e,s,r){"use strict";r.d(s,{g:function(){return d}});var t=r(48115),i=r(30195);i.z.object({username:i.z.string().email(),password:i.z.string()});let n=i.z.object({username:i.z.string().email(),password:i.z.string().min(6),rePassword:i.z.any()}),a=n.refine(e=>e.password===e.rePassword,{message:"Passwords do not match",path:["password"]}),l=i.z.object({type:i.z.string().min(1)});i.z.object({...n.omit({rePassword:!0}).shape,...l.shape});var o=r(6289);let d={login:async(e,s,r)=>t.bl.post("/adminapi/v1/auth/login",{username:e,password:s},r),register:async(e,s,r,i)=>{try{a.parse({username:e,password:s,rePassword:r})}catch(e){i((0,o.E)("error",null,e.flatten()));return}return t.bl.post("/adminapi/v1/auth/register",{username:e,password:s,rePassword:r},i)}}},28447:function(e,s,r){"use strict";r.d(s,{j:function(){return i}});var t=r(52322);let i=e=>{let{color:s,...r}=e;return(0,t.jsxs)("svg",{width:600,height:652.32,id:"Capa_1","data-name":"Capa 1",viewBox:"0 0 600 652.32",...r,children:[(0,t.jsxs)("defs",{children:[(0,t.jsxs)("style",{children:[".cls-1 {\n                  fill: none;\n              }",".cls-2 {\n                  clip-path: url(#clip-path);\n              }",".cls-3 {\n                  fill-rule: evenodd;\n              }"]}),(0,t.jsx)("clipPath",{id:"clip-path",children:(0,t.jsx)("rect",{className:"cls-1",width:"600",height:"652.32"})})]}),(0,t.jsx)("g",{fill:"var(--colorHover)",className:"cls-2",children:(0,t.jsx)("path",{className:"cls-3",d:"M315.78,134.26h0l158.65,91.6v200.6L300.7,526.76,127,426.46V225.86L300.7,125.55Zm0,199.53v56.77H285.63V333.32L238,306.75l14.69-26.33,48.54,27,47.46-27,14.86,26.23ZM300.7,160.36l-143.58,82.9V409.05L300.7,492l143.59-82.9V243.26Z"})})]})}},55288:function(){},85398:function(){}},function(e){e.O(0,[3057,1004,9774,2888,179],function(){return e(e.s=62219)}),_N_E=e.O()}]);