(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6736],{6984:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/groups",function(){return n(31237)}])},31237:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return _}});var t=n(52322),r=n(3559),s=n(30195),o=n(40214),i=n(13997),l=n(50897),u=n(79562),d=n(1888),c=n(42783),p=n(48115),m=n(1201),g=n(2784),w=n(6289),h=n(26887);let f={},k="/adminapi/v1/groups",v="/adminapi/v1/workspaces";var b={groups:{component:e=>{var a,n;let{pageState:d,initialItems:b,pageSession:x,extraData:y}=e;(0,m.G)(()=>"At this moment the user is browsing the group management page. The group management page allows to list, create, read, update and delete groups, groups contain privileges (admin true/false) and are associated to users when creating users, in the field 'type'.\n      A group has a name, the privilege level (admin true/false), and a 0 or more workspaces associated. A workspace is a menu for the admin panel. If the user has more than one workspace, the admin panel will show a select list in the topbar to switch between workspaces.\n      "+((null==b?void 0:b.isLoaded)?"Currently the system returned the following information: "+JSON.stringify(b.data):""));let[_,j]=(0,g.useState)(null!==(a=null==y?void 0:y.workspaces)&&void 0!==a?a:(0,w.E)("pending"));return(0,h.a)(e=>{p.bl.get(v,e)},j,null==y?void 0:y.workspaces),(0,t.jsx)(o.D,{title:"Groups",pageSession:x,children:(0,t.jsx)(i.V,{integratedChat:!0,enableAddToInitialData:!0,disableViewSelector:!0,defaultView:"list",rowIcon:c.Q,sourceUrl:k,initialItems:b,numColumnsForm:1,name:"group",extraFieldsForms:{workspaces:s.z.array(s.z.union([s.z.literal(""),s.z.literal("")])).generateOptions(()=>{var e;return null===(e=_.data)||void 0===e?void 0:e.items.map(e=>e.name)}).after("name")},columns:l.Z.columns(l.Z.column("name","name",!0,void 0,!0,"250px"),l.Z.column("workspaces","workspaces",!1,e=>Object.keys(null!==(n=null==e?void 0:e.workspaces)&&void 0!==n?n:[]).length?Object.keys(e.workspaces).map((a,n)=>(0,t.jsx)(u.A,{ml:n?"$2":"$0",text:e.workspaces[a],color:"$color5"},a)):(0,t.jsx)(u.A,{text:"empty",color:"$gray5"}),!0,"200px")),model:r.d,pageState:d,icons:f,dataTableCardProps:{itemMinWidth:300}})})},getServerSideProps:(0,d.eq)(k,["admin"],{},async()=>({workspaces:await p.bl.get(v)}))}},x=n(97729),y=n.n(x);function _(e){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y(),{children:(0,t.jsx)("title",{children:"Protofy - Groups"})}),(0,t.jsx)(b.groups.component,{...e})]})}},3559:function(e,a,n){"use strict";n.d(a,{d:function(){return i}});var t=n(30195),r=n(75370),s=n(54283);let o=r.V_.object({name:t.z.string().label("name").hint("user, admin, ...").static().id().search(),workspaces:t.z.array(t.z.string()).hidden(),permissions:t.z.array(t.z.string()).optional(),admin:t.z.boolean().optional()}),i=s.$.createDerived("GroupModel",o)}},function(e){e.O(0,[8641,8081,4733,1335,8873,2859,6313,3950,9331,4092,9927,6116,9498,1967,5619,9884,995,1004,4152,9107,767,1773,8859,4305,9774,2888,179],function(){return e(e.s=6984)}),_N_E=e.O()}]);