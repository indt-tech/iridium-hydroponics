(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2029],{48313:function(o){function C(o){var C=Error("Cannot find module '"+o+"'");throw C.code="MODULE_NOT_FOUND",C}C.keys=function(){return[]},C.resolve=C,C.id=48313,o.exports=C},45765:function(o,C,j){"use strict";j.d(C,{W:function(){return eB},B:function(){return eH}});var w=j(52322),L=j(25237),S=j.n(L),P=j(72405);let D=S()(()=>j.e(9831).then(j.bind(j,99831)),{loadableGenerated:{webpack:()=>[99831]}}),E=S()(()=>j.e(2522).then(j.bind(j,22522)),{loadableGenerated:{webpack:()=>[22522]}}),Z=S()(()=>j.e(4110).then(j.bind(j,54110)),{loadableGenerated:{webpack:()=>[54110]}});S()(()=>j.e(9786).then(j.bind(j,49786)),{loadableGenerated:{webpack:()=>[49786]}});let N=S()(()=>j.e(3179).then(j.bind(j,43179)),{loadableGenerated:{webpack:()=>[43179]}}),T=S()(()=>j.e(7256).then(j.bind(j,47256)),{loadableGenerated:{webpack:()=>[47256]}}),z=S()(()=>j.e(3393).then(j.bind(j,73393)),{loadableGenerated:{webpack:()=>[73393]}}),O=S()(()=>j.e(6687).then(j.bind(j,96687)),{loadableGenerated:{webpack:()=>[96687]}}),I=S()(()=>j.e(4838).then(j.bind(j,24838)),{loadableGenerated:{webpack:()=>[24838]}}),W=S()(()=>j.e(1342).then(j.bind(j,81342)),{loadableGenerated:{webpack:()=>[81342]}}),F=S()(()=>j.e(612).then(j.bind(j,90612)),{loadableGenerated:{webpack:()=>[90612]}}),H=S()(()=>j.e(5385).then(j.bind(j,65385)),{loadableGenerated:{webpack:()=>[65385]}});S()(()=>j.e(2973).then(j.bind(j,42973)),{loadableGenerated:{webpack:()=>[42973]}}),S()(()=>j.e(2633).then(j.bind(j,92633)),{loadableGenerated:{webpack:()=>[92633]}});let B=S()(()=>j.e(3699).then(j.bind(j,13699)),{loadableGenerated:{webpack:()=>[13699]}}),R=S()(()=>j.e(3737).then(j.bind(j,53737)),{loadableGenerated:{webpack:()=>[53737]}}),A=S()(()=>j.e(3681).then(j.bind(j,43681)),{loadableGenerated:{webpack:()=>[43681]}}),M=S()(()=>j.e(8491).then(j.bind(j,28491)),{loadableGenerated:{webpack:()=>[28491]}}),J=S()(()=>j.e(7334).then(j.bind(j,47334)),{loadableGenerated:{webpack:()=>[47334]}}),$=S()(()=>j.e(1587).then(j.bind(j,21587)),{loadableGenerated:{webpack:()=>[21587]}}),K=S()(()=>j.e(7763).then(j.bind(j,37763)),{loadableGenerated:{webpack:()=>[37763]}}),V=S()(()=>j.e(8546).then(j.bind(j,58546)),{loadableGenerated:{webpack:()=>[58546]}}),G=[{id:"esp32dev",type:"ArrayLiteralExpression",check:(o,C)=>"ArrayLiteralExpression"==o.type&&'"esp32dev"'==C["element-1"],getComponent:(o,C,j)=>(0,w.jsx)(E,{color:Y("esp32dev"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:'"esp32dev"'}),hidden:!0,nonDeletable:!0},{id:"Wifi",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("wifi"))},getComponent:(o,C,j)=>(0,w.jsx)(D,{color:Y("Wifi"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"wifi",param1:'"SSID"',param2:'"PASSWORD"',param3:'"none"'})},{id:"Mqtt",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("mqtt"))},getComponent:(o,C,j)=>(0,w.jsx)(Z,{color:Y("Mqtt"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"mqtt",param1:'"BROKERADDRESS"',param2:'"1883"'})},{id:"Relay",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("relay"))},getComponent:(o,C,j)=>(0,w.jsx)(z,{color:Y("Relay"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"relay",param1:'""',param2:'"ALWAYS_OFF"'})},{id:"GPIOSwitch",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("GPIOSwitch"))},getComponent:(o,C,j)=>(0,w.jsx)(O,{color:Y("GPIOSwitch"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"GPIOSwitch",param1:'""',param2:'"ALWAYS_OFF"'})},{id:"BinarySensor",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("binarySensor"))},getComponent:(o,C,j)=>(0,w.jsx)(N,{color:Y("BinarySensor"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"binarySensor",param1:'""'})},{id:"NeopixelsBus",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("neopixelsBus"))},getComponent:(o,C,j)=>(0,w.jsx)(T,{color:Y("NeopixelsBus"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"neopixelsBus",param1:'""',param2:"16",param3:'"GRB"',param4:'"WS2811"',param5:'"ALWAYS_ON"',param6:'"1s"',param7:"0",param8:!1,param9:!1,param10:!1,param11:!1,param12:!1,param13:!1,param14:!1,param15:!1,param16:!1,param17:!1,param18:!1})},{id:"ADCSensor",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("adcSensor"))},getComponent:(o,C,j)=>(0,w.jsx)(I,{color:Y("ADCSensor"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"adcSensor",param1:'"analogic"',param2:'"30s"',param3:'"auto"'})},{id:"I2cBus",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("i2cBus"))},getComponent:(o,C,j)=>(0,w.jsx)(W,{color:Y("I2cBus"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"i2cBus",param1:'""',param2:"22",param3:!0})},{id:"UARTBus",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("uartBus"))},getComponent:(o,C,j)=>(0,w.jsx)(J,{color:Y("UARTBus"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"uartBus",param1:'""',param2:"17",param3:'"9600"'})},{id:"PCA9685",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("pca9685"))},getComponent:(o,C,j)=>(0,w.jsx)(F,{color:Y("PCA9685"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"pca9685",param1:'""',param2:"1000",param3:!1,param4:"0x40",param5:'""'})},{id:"Ethernet",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("ethernet"))},getComponent:(o,C,j)=>(0,w.jsx)(H,{color:Y("Ethernet"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"ethernet",param1:'"LAN8720"',param2:"23",param3:"18",param4:'"GPIO17_OUT"',param5:"0",param6:"12"})},{id:"TempHumidity",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("tempHumidity"))},getComponent:(o,C,j)=>(0,w.jsx)(B,{color:Y("TempHumidity"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"tempHumidity",param1:'"temperaturehumidity"',param2:'"DHT22"',param3:'"60s"'})},{id:"MicrofirePhEcTemp",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("microfirePhEcTemp"))},getComponent:(o,C,j)=>(0,w.jsx)(R,{color:Y("MicrofirePhEcTemp"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"microfirePhEcTemp",param1:'"phectemp"',param2:22,param3:'"60s"'})},{id:"HX711",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("hx711"))},getComponent:(o,C,j)=>(0,w.jsx)(K,{color:Y("HX711"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"hx711",param1:'""',param2:"",param3:'"128"',param4:'"60s"'})},{id:"A4988",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("a4988"))},getComponent:(o,C,j)=>(0,w.jsx)(V,{color:Y("A4988"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"a4988",param1:'""',param2:'""',param3:'"250 steps/s"',param4:'"none"',param5:'"inf"',param6:'"inf"'})},{id:"MPU6050",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("mpu6050"))},getComponent:(o,C,j)=>(0,w.jsx)($,{color:Y("MPU6050"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"mpu6050",param1:'""',param2:'""',param3:'"0x68"',param4:'"30s"'})},{id:"SEN55",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("sen55"))},getComponent:(o,C,j)=>(0,w.jsx)(A,{color:Y("SEN55"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"sen55",param1:'""',param2:'""',param3:'"0x69"',param4:'"30s"'})},{id:"MHZ19",type:"CallExpression",check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("mhz19"))},getComponent:(o,C,j)=>(0,w.jsx)(M,{color:Y("MHZ19"),node:o,nodeData:C,children:j}),getInitialData:()=>({to:"mhz19",param1:'""',param2:'""',param3:'"30s"'})}],U=G.length,Y=o=>{let C=G.findIndex(C=>C.id==o),j=(0,P.o9)(C,U);return j};var X=G.map(o=>({...o,capabilities:["esphome"]})),Q=JSON.parse('[{"id":"BigTitle","title":"BigTitle","path":"*","type":"JsxElement","filter":{"name":"BigTitle"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]}]},{"id":"ButtonSimple","title":"ButtonSimple","path":"*","type":"JsxElement","filter":{"name":"ButtonSimple"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"theme","field":"prop-theme","staticLabel":true,"type":"color-theme","section":"layout"},{"label":"textColor","field":"prop-textColor","staticLabel":true,"type":"color","section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"size","field":"prop-size","staticLabel":true,"type":"range-theme","section":"dimensions"},{"label":"circular","field":"prop-circular","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"chromeless","field":"prop-chromeless","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"prop","data":[{"label":"onPress","field":"prop-onPress","staticLabel":true}]}]},{"id":"Container","title":"Container","path":"*","type":"JsxElement","filter":{"name":"Container"},"body":[{"type":"custom-field","data":[{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"flexDirection","field":"prop-flexDirection","type":"alignment-flex","staticLabel":true,"section":"layout"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"custom-field","data":[]},{"type":"child","data":[]}]},{"id":"Center","title":"Center","path":"*","type":"JsxElement","filter":{"name":"Center"},"body":[{"type":"custom-field","data":[{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"flexDirection","field":"prop-flexDirection","type":"alignment-flex","staticLabel":true,"section":"layout"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"custom-field","data":[]},{"type":"child","data":[]}]},{"id":"Image","title":"Image","path":"*","type":"JsxElement","filter":{"name":"Image"},"body":[{"type":"api","data":{"label":"url","field":"prop-url","apiUrl":"adminapi/v1/files//apps/next/public","list":"return res.isDir ? undefined : res.name"}},{"type":"link","data":{"text":"Need to upload a file?","url":"admin/files?path=/apps/next/public"}},{"type":"custom-field","data":[{"label":"resizeMode","field":"prop-resizeMode","staticLabel":true,"type":"select","data":["center","contain","cover","repeat","stretch"],"section":"dimensions"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"opacity","field":"prop-opacity","staticLabel":true,"type":"range","data":{"max":1,"step":0.1},"section":"decoration"}]}]},{"id":"VStack","title":"VStack","path":"*","type":"JsxElement","filter":{"name":"VStack"},"body":[{"type":"custom-field","data":[{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"VCenterStack","title":"VCenterStack","path":"*","type":"JsxElement","filter":{"name":"VCenterStack"},"body":[{"type":"custom-field","data":[{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"HCenterStack","title":"HCenterStack","path":"*","type":"JsxElement","filter":{"name":"HCenterStack"},"body":[{"type":"custom-field","data":[{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"HStack","title":"HStack","path":"*","type":"JsxElement","filter":{"name":"HStack"},"body":[{"type":"custom-field","data":[{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"color"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"},{"label":"border","field":"prop-border","staticLabel":true,"type":"input","section":"decoration"},{"label":"borderRadius","field":"prop-borderRadius","staticLabel":true,"type":"range-theme","section":"decoration"},{"label":"elevation","field":"prop-elevation","staticLabel":true,"type":"toggle-boolean","section":"decoration"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"Spacer","title":"Spacer","path":"*","type":"JsxElement","filter":{"name":"Spacer"},"body":[{"type":"custom-field","data":[{"label":"size","field":"prop-size","staticLabel":true,"type":"range-theme","section":"layout"}]},{"type":"child","data":[],"disableAdd":true}]},{"id":"Page","title":"Page","path":"*","type":"JsxElement","filter":{"name":"Page"},"body":[{"type":"custom-field","data":[{"label":"title","field":"prop-title","staticLabel":true,"type":"input","section":"basic"},{"label":"bgColor","field":"prop-backgroundColor","staticLabel":true,"type":"color","section":"basic"},{"label":"justifyContent","field":"prop-justifyContent","type":"alignment-content","staticLabel":true,"section":"layout"},{"label":"alignItems","field":"prop-alignItems","type":"alignment-items","staticLabel":true,"section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"gap","field":"prop-gap","staticLabel":true,"type":"range-theme","section":"decoration"}]},{"type":"child","data":[]}]},{"id":"Head1","title":"Head1","path":"*","type":"JsxElement","filter":{"name":"Head1"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"Head2","title":"Head2","path":"*","type":"JsxElement","filter":{"name":"Head2"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"Head3","title":"Head3","path":"*","type":"JsxElement","filter":{"name":"Head3"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"Text","title":"Text","path":"*","type":"JsxElement","filter":{"name":"Text"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"color","field":"prop-color","type":"color","staticLabel":true,"section":"basic"},{"label":"fontSize","field":"prop-fontSize","staticLabel":true,"type":"range-theme","section":"basic"},{"label":"fontStyle","field":"prop-fontStyle","staticLabel":true,"type":"select","data":["normal","italic"],"section":"basic"},{"label":"fontWeight","field":"prop-fontWeight","staticLabel":true,"type":"select","data":["100","200","300","400","500","600","700","800","900","bold","normal"],"section":"basic"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"RainbowText","title":"RainbowText","path":"*","type":"JsxElement","filter":{"name":"RainbowText"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"textAlign","field":"prop-textAlign","staticLabel":true,"type":"alignment-text","section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"BlockTitle","title":"BlockTitle","path":"*","type":"JsxElement","filter":{"name":"BlockTitle"},"body":[{"type":"custom-field","data":[{"label":"title","field":"prop-title","staticLabel":true,"type":"input","section":"basic"},{"label":"subtitle","field":"prop-subtitle","staticLabel":true,"type":"input","section":"basic"},{"label":"titleColor","field":"prop-titleColor","type":"color","staticLabel":true,"section":"basic"},{"label":"subtitleColor","field":"prop-subtitleColor","type":"color","staticLabel":true,"section":"basic"},{"label":"space","field":"prop-space","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"margin","field":"prop-margin","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"padding","field":"prop-padding","staticLabel":true,"type":"range-theme","section":"layout"},{"label":"alignSelf","field":"prop-alignSelf","staticLabel":true,"type":"alignment-items","section":"layout"},{"label":"flexDirection","field":"prop-flexDirection","type":"alignment-flex","staticLabel":true,"section":"layout"},{"label":"width","field":"prop-width","staticLabel":true,"type":"input","section":"dimensions"},{"label":"height","field":"prop-height","staticLabel":true,"type":"input","section":"dimensions"}]},{"type":"prop","data":[]}]},{"id":"DefaultLayout","title":"DefaultLayout","path":"*","type":"JsxElement","filter":{"name":"DefaultLayout"},"body":[{"type":"custom-field","data":[{"label":"headerTitle","field":"prop-headerTitle","staticLabel":true,"type":"input","section":"basic"},{"label":"title","field":"prop-title","staticLabel":true,"type":"input","section":"basic"},{"label":"description","field":"prop-description","staticLabel":true,"type":"input","section":"basic"},{"label":"tintSwitcher","field":"prop-tintSwitcher","staticLabel":true,"type":"toggle-boolean","section":"conf"},{"label":"themeSwitcher","field":"prop-themeSwitcher","staticLabel":true,"type":"toggle-boolean","section":"conf"}]},{"type":"child","data":[]}]},{"id":"MainButton","title":"MainButton","path":"*","type":"JsxElement","filter":{"name":"MainButton"},"body":[{"type":"child","data":[{"label":"caption","field":"child-1","type":"child"}],"disableAdd":true},{"type":"custom-field","data":[{"label":"margin","field":"prop-margin"},{"label":"padding","field":"prop-padding"}]},{"type":"prop","data":[{"label":"color","field":"prop-color","static":true,"type":"colorPicker"},{"label":"textColor","field":"prop-textColor","static":true,"type":"colorPicker"}]}]},{"id":"GithubIcon","title":"GithubIcon","path":"*","type":"JsxElement","filter":{"name":"GithubIcon"},"body":[{"type":"custom-field","data":[{"label":"color","field":"prop-color","staticLabel":true,"type":"color"},{"label":"height","field":"prop-height","type":"range-px","staticLabel":true},{"label":"width","field":"prop-width","type":"range-px","staticLabel":true}]},{"type":"child","data":[]}]},{"id":"DiscordIcon","title":"DiscordIcon","path":"*","type":"JsxElement","filter":{"name":"DiscordIcon"},"body":[{"type":"custom-field","data":[{"label":"color","field":"prop-color","staticLabel":true,"type":"color"},{"label":"height","field":"prop-height","type":"range-px","staticLabel":true},{"label":"width","field":"prop-width","type":"range-px","staticLabel":true}]},{"type":"child","data":[]}]},{"id":"TwitterIcon","title":"TwitterIcon","path":"*","type":"JsxElement","filter":{"name":"TwitterIcon"},"body":[{"type":"custom-field","data":[{"label":"color","field":"prop-color","staticLabel":true,"type":"color"},{"label":"height","field":"prop-height","type":"range-px","staticLabel":true},{"label":"width","field":"prop-width","type":"range-px","staticLabel":true}]},{"type":"child","data":[]}]}]'),ee=[],et=j(90530),el=j(27145);let ei=o=>{let{node:C={},nodeData:j={},children:L}=o,S=[{label:"Response text",field:"param1",type:"input",static:!0}];return(0,w.jsx)(et.Node,{icon:el.Z,node:C,isPreview:!C.id,title:"Api Response",color:"#FFDF82",id:C.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:(0,w.jsx)(et.NodeParams,{id:C.id,params:S})})};var ea={id:"res.send",type:"CallExpression",category:"api",keywords:["api","rest","http","trigger","automation","response"],check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("res.send"))},getComponent:(o,C,j)=>(0,w.jsx)(ei,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"res.send",param1:'"Response"'})},eo=j(32253),en=j(29114);let er=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,w.jsxs)(et.Node,{icon:en.Z,node:o,isPreview:!(null==o?void 0:o.id),title:"Fetch",id:o.id,color:"#A5D6A7",skipCustom:!0,children:[(0,w.jsx)(et.NodeParams,{id:o.id,params:[{label:"Method",field:"param1",type:"select",data:['"get"','"post"'],static:!0}]}),(0,w.jsx)(et.NodeParams,{id:o.id,params:[{label:"Path",field:"param2",type:"input"}]}),(null==C?void 0:C.param1)=='"post"'&&(0,w.jsx)(et.NodeParams,{id:o.id,params:[{label:"Body",field:"param5",type:"input"}]}),(0,w.jsx)(et.NodeParams,{id:o.id,params:[{label:"Data Key",field:"param3",type:"input"}]}),(0,w.jsx)(et.NodeParams,{id:o.id,params:[{label:"Use admin token",field:"param4",type:"boolean"}]})]})};var eu={id:"Fetch",type:"CallExpression",check:(o,C)=>"CallExpression"==o.type&&"context.fetch"==C.to,getComponent:er,category:"api",keywords:["api","rest","http","automation","fetch","get","post"],getInitialData:()=>({to:"context.fetch",param1:'"get"',param2:'"/api/v1/"',param3:"",param4:!1,param5:"",await:!0})},ec=j(2784),ep=j(64346);let ef=o=>{let{node:C={},nodeData:j={},children:L}=o,S=[{label:"Level",static:!0,field:"to",type:"select",data:["logger.trace","logger.debug","logger.info","logger.warn","logger.error","logger.fatal"]},{label:"Message",field:"param2"},{label:"Data",field:"param1"}];return(0,w.jsx)(et.Node,{icon:ep.Z,node:C,isPreview:!C.id,title:"Logger",color:"#82d0ff",id:C.id,skipCustom:!0,children:(0,w.jsx)(et.NodeParams,{id:C.id,params:S})})};var eh={id:"logger",type:"CallExpression",category:"common",keywords:["logger","log","console","debug"],check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("logger."))},getComponent:(o,C,j)=>(0,w.jsx)(ef,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"logger.info",param1:"{}",param2:'"message"'})},eg=j(34716);let em=[eg.Z,eo.Z,eu,eh,ea];var ev=em,ex=j(48115),ey=j(14093);let eb=o=>{let C={};return null==o||o.forEach(o=>{var j;let w=null==o?void 0:null===(j=o.subsystem)||void 0===j?void 0:j.filter(o=>{var C;return(null==o?void 0:o.actions)&&(null==o?void 0:null===(C=o.actions)||void 0===C?void 0:C.length)}).map(o=>'"'+o.name+'"');C['"'+o.name+'"']=w}),C},eC=o=>{let C={};return o.forEach(o=>{var j;let w='"'+o.name+'"',L={};null===(j=o.subsystem)||void 0===j||j.forEach(o=>{var C;null===(C=o.actions)||void 0===C||C.forEach(C=>{L['"'+o.name+'"']=L['"'+o.name+'"']||[],L['"'+o.name+'"'].push('"'+C.name+'"')})}),C[w]=L}),C},ej=o=>null==o?void 0:o.map(o=>'"'+o.name+'"'),ew=o=>{var C,j,L,S,D,E,Z,N;let{node:T={},nodeData:z={},children:O}=o,I=(0,P.we)(6),[W,F]=(0,ec.useState)([]),[H,B]=(0,ec.useState)(!1),R=z.param1,A=z.param2,M=z.param3,J=async o=>{var C,j,w,L;let S=null===(C=o.filter(o=>o.name===(null==R?void 0:R.replaceAll('"',"")))[0])||void 0===C?void 0:C.subsystem,P=null==S?void 0:null===(j=S.filter(o=>o.name===A.replaceAll('"',""))[0])||void 0===j?void 0:j.actions,D=null==P?void 0:null===(L=P.filter(o=>o.name===M.replaceAll('"',""))[0])||void 0===L?void 0:null===(w=L.payload)||void 0===w?void 0:w.value;B(!!D)},$=async()=>{let{data:o}=await ex.bl.get("/adminapi/v1/devices"),C=o.items;F([...C]),J(C)};(0,ec.useEffect)(()=>{$()},[]),(0,ec.useEffect)(()=>{J(W)},[M]);let K=[{label:"Device name",field:"param1",type:"selectWithDefault",static:!0,selectedIndex:null!==(S=null===(C=ej(W))||void 0===C?void 0:C.indexOf(R))&&void 0!==S?S:0,data:W?ej(W):['"none"']},{label:"Component",field:"param2",type:"selectWithDefault",static:!0,selectedIndex:null!==(D=null===(j=eb(W)[R])||void 0===j?void 0:j.indexOf(A))&&void 0!==D?D:0,data:W?null!==(E=eb(W)[R])&&void 0!==E?E:[]:['"none"']},{label:"Action",field:"param3",type:"selectWithDefault",static:!0,selectedIndex:W&&eC(W)[R]?null!==(Z=null===(L=eC(W)[R][A])||void 0===L?void 0:L.indexOf(M))&&void 0!==Z?Z:[]:0,data:W&&eC(W)[R]?null!==(N=eC(W)[R][A])&&void 0!==N?N:[]:['"none"']}],V=[{label:"Action payload",field:"param4",type:"input",static:!0}];return(0,w.jsxs)(et.Node,{icon:ey.Z,node:T,isPreview:!T.id,title:"Device Action",color:I,id:T.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,w.jsx)(et.NodeParams,{id:T.id,params:K}),H?(0,w.jsx)(w.Fragment,{}):(0,w.jsx)(et.NodeParams,{id:T.id,params:V})]})};var eL={id:"devicePub",type:"CallExpression",category:"ioT",keywords:["automation","esp32","device","iot"],check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("context.devicePub"))},getComponent:(o,C,j)=>(0,w.jsx)(ew,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"context.devicePub",param1:'"none"',param2:'"none"',param3:'"none"'})},ek=j(71338);let eS=o=>{let C={};return null==o||o.forEach(o=>{var j;let w=null==o?void 0:null===(j=o.subsystem)||void 0===j?void 0:j.filter(o=>{var C;return(null==o?void 0:o.monitors)&&(null==o?void 0:null===(C=o.monitors)||void 0===C?void 0:C.length)}).map(o=>'"'+o.name+'"');C['"'+o.name+'"']=w}),C},eP=o=>{let C={};return o.forEach(o=>{var j;let w='"'+o.name+'"',L={};null===(j=o.subsystem)||void 0===j||j.forEach(o=>{var C;null===(C=o.monitors)||void 0===C||C.forEach(C=>{L['"'+o.name+'"']=L['"'+o.name+'"']||[],L['"'+o.name+'"'].push('"'+C.name+'"')})}),C[w]=L}),console.log("DeviceSubsystemsMonitors: ",C),C},e_=o=>null==o?void 0:o.map(o=>'"'+o.name+'"'),eD=o=>{var C,j,L,S,D,E,Z,N;let{node:T={},nodeData:z={},children:O}=o,I=(0,P.we)(7),[W,F]=(0,ec.useState)([]),H=z.param1,B=z.param2,R=z.param3,A=async()=>{let{data:o}=await ex.bl.get("/adminapi/v1/devices");console.log("Readed deviceSub items: ",o);let C=null==o?void 0:o.items;F([...C])};(0,ec.useEffect)(()=>{A()},[]);let M=[{label:"Device name",field:"param1",type:"selectWithDefault",static:!0,selectedIndex:null!==(S=null===(C=e_(W))||void 0===C?void 0:C.indexOf(H))&&void 0!==S?S:0,data:W?e_(W):['"none"']},{label:"Component",field:"param2",type:"selectWithDefault",static:!0,selectedIndex:null!==(D=null===(j=eS(W)[H])||void 0===j?void 0:j.indexOf(B))&&void 0!==D?D:0,data:W?null!==(E=eS(W)[H])&&void 0!==E?E:[]:['"none"']},{label:"Monitor",field:"param3",type:"selectWithDefault",static:!0,selectedIndex:W&&eP(W)[H]?null!==(Z=null===(L=eP(W)[H][B])||void 0===L?void 0:L.indexOf(R))&&void 0!==Z?Z:[]:0,data:W&&eP(W)[H]?null!==(N=eP(W)[H][B])&&void 0!==N?N:[]:['"none"']}];return(0,w.jsxs)(et.Node,{icon:ek.Z,node:T,isPreview:!T.id,title:"Device Listener",color:I,id:T.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,w.jsx)(et.NodeParams,{id:T.id,params:M}),(0,w.jsxs)("div",{style:{marginTop:"35px"},children:[(0,w.jsx)(et.FlowPort,{id:T.id,type:"output",label:"On (message, topic)",style:{top:"225px"},handleId:"request"}),(0,w.jsx)(et.FallbackPort,{node:T,port:"param4",type:"target",fallbackPort:"request",portType:"_",preText:"(message,topic) => ",postText:""})]})]})};var eE={id:"deviceSub",type:"CallExpression",category:"ioT",keywords:["automation","esp32","device","iot","trigger"],check:(o,C)=>{var j;return"CallExpression"==o.type&&(null===(j=C.to)||void 0===j?void 0:j.startsWith("context.deviceSub"))},getComponent:(o,C,j)=>(0,w.jsx)(eD,{node:o,nodeData:C,children:j}),filterChildren:(0,et.filterCallback)("4"),restoreChildren:(0,et.restoreCallback)("4"),getInitialData:()=>({to:"context.deviceSub",param1:'"none"',param2:'"none"',param3:'"none"',param4:"(message,topic) =>"})};let eZ=[eL,eE];var eN={api:eZ},eT={api:[]};let ez=o=>{let{node:C={},nodeData:j={},children:L}=o,S=(0,P.we)(55);return(0,w.jsxs)(et.Node,{icon:ek.Z,node:C,isPreview:!C.id,title:"On Event",color:S,id:C.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,w.jsx)(et.NodeParams,{id:C.id,params:[{label:"Event Path",field:"param3",type:"input"}]}),(0,w.jsx)(et.NodeParams,{id:C.id,params:[{label:"From",field:"param4",type:"input"}]}),(0,w.jsxs)("div",{style:{paddingBottom:"30px"},children:[(0,w.jsx)(et.FlowPort,{id:C.id,type:"input",label:"On Event (event)",style:{top:"170px"},handleId:"request"}),(0,w.jsx)(et.FallbackPort,{node:C,port:"param2",type:"target",fallbackPort:"request",portType:"_",preText:"(event) => ",postText:""})]})]})};var eO={id:"onEventMask",type:"CallExpression",category:"automation",keywords:["automation","event","trigger"],check:(o,C)=>"CallExpression"==o.type&&"context.onEvent"==C.to&&'"device"'!=C.param4&&"'device'"!=C.param4,getComponent:(o,C,j)=>(0,w.jsx)(ez,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"context.onEvent",param1:"context",param2:"(event) =>",param3:'""',param4:'""'}),filterChildren:(0,et.filterCallback)(),restoreChildren:(0,et.restoreCallback)()};let eI=o=>{let{node:C={},nodeData:j={},children:L}=o,S=(0,P.we)(45);return(0,w.jsxs)(et.Node,{icon:ek.Z,node:C,isPreview:!C.id,title:"On Device Event",color:S,id:C.id,skipCustom:!0,disableInput:!0,disableOutput:!0,children:[(0,w.jsx)(et.NodeParams,{id:C.id,params:[{label:"Event Path",field:"param3",type:"input"}]}),(0,w.jsx)("div",{style:{height:"20px"}}),(0,w.jsxs)("div",{style:{paddingBottom:"30px"},children:[(0,w.jsx)(et.FlowPort,{id:C.id,type:"input",label:"On Event (event)",style:{top:"170px"},handleId:"request"}),(0,w.jsx)(et.FallbackPort,{node:C,port:"param2",type:"target",fallbackPort:"request",portType:"_",preText:"(event) => ",postText:""})]}),(0,w.jsx)("div",{style:{height:"50px"}})]})};var eW={api:[eO,{id:"onDeviceEventMask",type:"CallExpression",category:"ioT",keywords:["automation","esp32","device","iot","trigger"],check:(o,C)=>"CallExpression"==o.type&&"context.onEvent"==C.to&&'"device"'==C.param4,getComponent:(o,C,j)=>(0,w.jsx)(eI,{node:o,nodeData:C,children:j}),getInitialData:()=>({to:"context.onEvent",param1:"context",param2:"(event) =>",param3:'""',param4:'"device"'}),filterChildren:(0,et.filterCallback)(),restoreChildren:(0,et.restoreCallback)()}]};let eF={devices:["devices","deviceDefinitions","deviceBoards","deviceCores","deviceSdks"],visualui:["visualui"],apis:["apis"]},eH=(o,C)=>{let j=o.split("/"),w=j[j.length-1],L=JSON.stringify(C);return eF.devices.includes(w)?X:eF.visualui.includes(w)||L&&eF.visualui.find(o=>L.includes(o))?[]:eF.apis.includes(w)?[...eT.api,...eW.api,...ev,...eN.api]:[]},eB=(o,C)=>{let j=o.split("/"),w=j[j.length-1],L=JSON.stringify(C);return eF.visualui.includes(w)||L&&eF.visualui.find(o=>L.includes(o))?[...Q,...ee,...et.BaseJSMasks]:[...ee]}},89711:function(o,C,j){"use strict";j.d(C,{l:function(){return eI}});var w,L=j(52322),S=j(30195);let P=S.z.object({action:S.z.string(),domain:S.z.string(),data:S.z.any()}),D=(o,C,j)=>(P.parse({action:o,domain:C,data:j}),{action:o,domain:C,data:j});var E=j(10836),Z=j(8939),N=j(2784),T=j(74634),z=j(56359),O=j(64129),I=j(60545),W=j(52026),F=j(5632),H=j(43260),B=j(96666),R=j(6289),A=j(57643),M=j(48115),J=j(26887);let $=(o,C)=>{let[j,w]=(0,N.useState)((0,R.E)("pending"));return(0,A.rf)(()=>{w((0,R.E)("pending"))},[o]),(0,J.a)(C=>M.bl.get("/adminapi/v1/files/"+o.replace(/\/+/g,"/"),C,!0),w,j,!C),[j,w]};var K=j(95753),V=j(60892),G=j(50042),U=j(32878),Y=j(16399),X=j(27911),Q=j(45054),ee=j(94484),et=j(91838);function el(o,C,j){let w,L,S;if(0===C)w=L=S=j;else{let P=(o,C,j)=>(j<0&&(j+=1),j>1&&(j-=1),j<1/6)?o+(C-o)*6*j:j<.5?C:j<2/3?o+(C-o)*(2/3-j)*6:o,D=j<.5?j*(1+C):j+C-j*C,E=2*j-D;w=P(E,D,o+1/3),L=P(E,D,o),S=P(E,D,o-1/3)}return[Math.round(255*w),Math.round(255*L),Math.round(255*S)]}function ei(o){let C=o.match(/^hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)$/i);if(!C)return null;let[j,w,L]=[C[1]/360,C[2]/100,C[3]/100],[S,P,D]=el(j,w,L);return"#".concat((16777216+(S<<16)+(P<<8)+D).toString(16).slice(1).toUpperCase())}let ea=o=>{let{path:C="",sourceCode:j,onChange:w=()=>{},onSave:S=()=>{},onEscape:P=()=>{},...D}=o,{resolvedTheme:E}=(0,Y.P)(),Z=(0,X.Ik)(),N="myCustomTheme",T=(0,W.useTheme)(),{tint:z}=(0,ee.d5)(),O=T[z+"10"].val;O=O.startsWith("hsl")?ei(O):O,Z&&Z.editor.defineTheme(N,{base:"dark"===E?"vs-dark":"vs",inherit:!0,rules:[{token:"keyword",foreground:O},{token:"punctuation",foreground:O}],colors:{"editor.background":"dark"===E?"#151515":"#FFFFFF"}});let I=(o,C)=>{C.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0}),C.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0})};return S&&(0,Q.Z)(["s","S"],o=>{("s"===o.key||"S"===o.key)&&(o.ctrlKey||o.metaKey)&&(o.preventDefault(),S())}),P&&(0,Q.Z)(["Escape"],o=>{"Escape"===o.key&&(o.preventDefault(),P())}),(0,L.jsx)(et.I,{children:(0,L.jsx)(X.ZP,{onMount:I,path:C,theme:Z?N:void 0,value:j,onChange:w,...D})})};var eo=j(25237),en=j.n(eo),er=j(1201),eu=j(28554),ec=j(45765),ep=j(20477);j(15153),(0,j(53596).j)();let ef=function(o,C){let j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,w=o.getDescendantsOfKind(ep.lGB.CallExpression),L=w.find(o=>{let j=o.getArguments(),w=o.getExpression();return w.getKind()===ep.lGB.Identifier&&"Protofy"===w.getText()&&j.length&&j[0].getText()==C});return L?L.getArguments()[j]:void 0},eh=o=>{let C=new ep.IKL({useInMemoryFileSystem:!0});return C.createSourceFile("_temp1.tsx",o,{overwrite:!0})};!function(o){o[o.DEFAULT=0]="DEFAULT",o[o.NAMED=1]="NAMED"}(w||(w={}));var eg=j(28261),em=j.n(eg),ev=j(29691),ex=j.n(ev),ey=j(39684);let eb=o=>{let{message:C}=(0,ey.mU)("notifications/event/create/#");if(C&&C.message&&o)try{let j=JSON.parse(C.message);if(o.path&&j.path!=o.path||o.from&&j.from!=o.from)return}catch(o){console.error("Error parsing message from mqtt: ",o)}return C},eC=(o,C)=>{let j=eb(C);(0,N.useEffect)(()=>{j&&o(j)},[j])},ej="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _mih-0px _miw-0px _fs-0 _o-0 _t--200000px _pos-absolute ",ew="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _mih-0px _miw-0px _fs-0 _pos-absolute _r-20px _t--32px ",eL="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _mt-30px _fg-1 _w-10037 ",ek="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1 _w-10037 ",eS=en()(()=>Promise.all([j.e(4546),j.e(9610),j.e(7175)]).then(j.bind(j,57175)),{loadableGenerated:{webpack:()=>[57175]},loading:()=>(0,L.jsxs)(E.Z,{children:[(0,L.jsx)(I.$,{size:"large",scale:3,top:-50}),"Loading"]}),ssr:!1}),eP=o=>{let{extraIcons:C,name:j,path:w}=o,[S,P]=$(w);console.log("file content: ",S);let D=S.isLoaded?JSON.parse(S.data):"";return(0,L.jsx)(B.Z,{waitForLoading:1e3,atom:S,children:(0,L.jsx)("div",{className:ek,children:(0,L.jsx)(H.I,{extraIcons:C,hideDeleteIcon:!0,itemCardProps:{topBarProps:{top:-10,backgroundColor:"transparent"}},minimal:!0,f:1,backgroundColor:"transprent",onDelete:()=>{},onSave:o=>{},json:D,name:j})})},w)},e_=o=>{let{checkStatus:C=()=>!0,defaultState:j="available",path:w,getContent:S,positionStyle:P,onSave:D=()=>{}}=o,[E,T]=(0,N.useState)(j),z=o=>{T(j),D()};eC(z,{path:"services/api/start"}),(0,A.Yz)(()=>{C()&&"unavailable"==E&&T("available")},250);let O=async()=>{T("loading");let o=S();await M.bl.post("/adminapi/v1/files/"+w.replace(/\/+/g,"/"),{content:o}),w.startsWith("/packages/app/bundles/custom/apis/")||(T(j),D())};return(0,L.jsxs)(Z.sL,{position:"absolute",...P,children:["loading"!=E&&(0,L.jsx)(K.q,{disabled:"unavailable"==E,onPress:O,children:(0,L.jsx)(V.v,{color:"var(--color)",size:"$1"})}),"loading"==E&&(0,L.jsx)(I.$,{color:"$color",opacity:.5,size:17})]})},eD=o=>{let{extraIcons:C,isFull:j,path:w,isModified:S,setIsModified:P}=o,[D,E]=$(w),[Z,T]=(0,N.useState)(""),[z,O]=(0,N.useState)(!1),I=(0,N.useRef)(!1),H=(0,N.useRef)(""),R=(0,N.useRef)(""),M=(0,F.useRouter)(),J=(0,W.useTheme)(),V=(0,ee.d5)().tint,[X,Q]=(0,er.G)((o,C,j)=>{let L=o.startsWith("/code"),S="The user is viewing a sourceCode file named: ".concat(w,". The content of the sourceFile is: ").concat(H.current),P=L?"\nThe user has generated a request to change the sourceCode content. You need to fulfill the request. Reply only with source code with prefix: [code] and nothing else. Your response will be used directly to replace the content of the sourceFile, but adaptaed to what the user requested.\nFor example, if the final code you decide to generate is \"console.log('test');\" then your anser should be [code]console.log('test');\nKeep the original sourcecode comments when generating new code;\nIf you are unable to generate the source code (too ambiguous/unespecific/whaterver reason), explain why in natural language, but do not include [code] at the beginning.\nRemember to generate a response for the request that is only sourceCode and prefixed with [code]. Your response will be used to feed another program, that expects just [code] and sourceCode.\nIf you include anything else in your message (like reasonings or natural language) it will be considered that you are rejecting the request, and the reasons will be shown to the user.\n            ":"";return P+S},()=>(0,er.MT)({cmd:"/code",format:"sourceCode",action:"generates a source code solution in source code format of the current file."}));(0,A.rf)(()=>{if(console.log("Response prompt: ",X),X.startsWith("[code]")){console.log("Replacing code with updated code");let o=X.substring(6);T(o),H.current=o}},[X]),(0,N.useEffect)(()=>{if(D.isLoaded){let o=eh(D.data),C=ef(o,'"code"');C&&ep.is9.isArrowFunction(C)?(H.current=C.getBodyText(),I.current=!0):(I.current=!1,H.current=D.data),R.current=H.current,O(!0)}},[D]);let{resolvedTheme:et}=(0,Y.P)(),[el,ei]=(0,N.useState)("flow");return(0,L.jsx)(B.Z,{atom:D,children:(0,L.jsxs)("div",{className:eL,children:[(0,L.jsxs)("div",{className:ew,children:["code"==el?(0,L.jsx)(K.q,{onPress:()=>ei("flow"),children:(0,L.jsx)(G.h,{color:"var(--color)",size:"$1"})}):(0,L.jsx)(K.q,{onPress:()=>ei("code"),children:(0,L.jsx)(U.E,{color:"var(--color)",size:"$1"})}),(0,L.jsx)(e_,{onSave:()=>R.current=H.current,checkStatus:()=>H.current!=R.current,defaultState:"unavailable",path:w,getContent:()=>{if(I.current){let o=eh(D.data),C=ef(o,'"code"').getBody();C.replaceWithText("{\n"+H.current+"\n}");let j=ex().format(o.getFullText(),{quoteProps:"consistent",parser:"typescript",plugins:[em()]});if(j)return j}return H.current},positionStyle:{position:"relative"}}),C]}),"code"==el?(0,L.jsx)(ea,{path:w,darkMode:"dark"==et,sourceCode:Z||H.current,onChange:o=>{H.current=o}}):(0,L.jsx)(eu.Z,{isModified:S,customComponents:(0,ec.B)(M.pathname,M.query),onEdit:o=>{H.current=o},setIsModified:P,setSourceCode:o=>{o.current=o},sourceCode:Z||H.current,path:w,themeMode:et,primaryColor:"dark"==et?J[V+"8"].val:J[V+"7"].val}),(0,L.jsx)("div",{className:ej,children:(0,L.jsx)(eu.Z,{preload:!0,primary:"#f00"})})]})})},eE=o=>{let{path:C}=o,[j]=$(C),w=(0,N.useRef)(""),{resolvedTheme:S}=(0,Y.P)();return(0,N.useEffect)(()=>{j.isLoaded&&(w.current=j.data)},[j]),(0,L.jsx)(B.Z,{waitForLoading:1e3,atom:j,children:(0,L.jsxs)("div",{className:eL,children:[(0,L.jsx)(e_,{path:C,getContent:()=>w.current,positionStyle:{right:55,top:-33}}),(0,L.jsx)(ea,{path:C,darkMode:"dark"==S,sourceCode:j.data,onChange:o=>{w.current=o}})]})},C)},eZ=o=>{let{action:C,domain:j,data:w}=o,{mime:S}=w,P=S?S.split("/")[0]:"text",D=("/adminapi/v1/files/"+w.path).replace(/\/+/g,"/");return"application/json"==S?{component:(0,L.jsx)(eP,{...w}),supportIcons:!0}:"application/javascript"==S||"video/mp2t"==S||w.path.endsWith(".tsx")?{component:(0,L.jsx)(eD,{...w}),supportIcons:!0}:"model/gltf-binary"==S?{component:(0,L.jsx)(eS,{path:D}),widget:"text"}:"text"==P||"application"==P?{component:(0,L.jsx)(eE,{path:w.path}),widget:"text"}:"image"==P?{component:(0,L.jsx)("img",{src:D}),widget:"image"}:void 0};j(78260);let eN=o=>{let C;if(C=eZ(o))return C},eT="  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _mih-0px _miw-0px _fs-0 _pos-absolute _r-15px _t-17px ",ez="  is_H4 _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _tt-230632953 _ff-299667014 _fow-233016233 _ls-167744152 _fos-229441313 _lh-222976666 _ussel-auto _pos-absolute _l-15px _t-10px font_heading ",eO="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _h-20px ";(0,z._5)({iconComponent:O.K}),z.p$.ToggleHiddenFiles.option.defaultValue=!1;let eI=o=>{let{isFull:C,hideCloseIcon:j,isModified:w=!1,setIsModified:S=()=>{},icons:P=[],currentFile:N,currentFileName:z,...O}=o,I=(0,T.P)(N),W=eN(D("open","files",{isModified:w,isFull:C,extraIcons:P,name:z,path:N,mime:I}));return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{className:eO}),(0,L.jsx)(Z.FA,{flex:1,alignItems:"center",justifyContent:"center",...O,children:W?W.component:(0,L.jsx)(E.Z,{children:"No viewer exists for this file type"})}),(0,L.jsx)("h4",{className:ez,children:z}),W&&W.supportIcons||j?null:(0,L.jsx)("div",{className:eT,children:P})]})};j(62321)},28554:function(o,C,j){"use strict";var w=j(52322),L=j(25237),S=j.n(L);j(2784);let P=S()(()=>Promise.resolve().then(j.bind(j,90530)).then(o=>o.FlowFactory),{loadableGenerated:{webpack:()=>[90530]},loading:()=>(0,w.jsx)("div",{children:"Loading..."}),ssr:!1});C.Z=o=>(0,w.jsx)(P,{...o})},32253:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52322),protoflow__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(90530),protolib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(48115),_barrel_optimize_names_Plug_lucide_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(29114);let ApiMask=function(){let node=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},nodeData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},nodeParams=[{label:"Type",field:"to",type:"select",data:["app.get","app.post"],static:!0}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(protoflow__WEBPACK_IMPORTED_MODULE_1__.Node,{icon:_barrel_optimize_names_Plug_lucide_react__WEBPACK_IMPORTED_MODULE_2__.Z,node:node,isPreview:!(null==node?void 0:node.id),title:"Api Endpoint",id:node.id,color:"#A5D6A7",skipCustom:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.NodeParams,{id:node.id,params:nodeParams}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.NodeParams,{id:node.id,params:[{label:"Path",field:"param1",type:"input"}]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{paddingBottom:"30px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.FlowPort,{id:node.id,type:"input",label:"On Request (req, res)",style:{top:"170px"},handleId:"request"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.FallbackPort,{node:node,port:"param2",type:"target",fallbackPort:"request",portType:"_",preText:"async (req, res) => ",postText:""})]}),nodeData&&"app.get"==nodeData.to&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.Button,{label:"Make request",onPress:()=>{protolib__WEBPACK_IMPORTED_MODULE_3__.bl.get(eval(nodeData.param1))}})]})};__webpack_exports__.Z={id:"CloudApi",type:"CallExpression",category:"api",keywords:["api","rest","http","trigger","automation"],check:(o,C)=>{var j,w;return"CallExpression"==o.type&&((null===(j=C.param2)||void 0===j?void 0:j.startsWith("async (req,res) =>"))||(null===(w=C.param2)||void 0===w?void 0:w.startsWith("(req,res) =>")))&&("app.get"==C.to||"app.post"==C.to)},getComponent:ApiMask,filterChildren:(0,protoflow__WEBPACK_IMPORTED_MODULE_1__.filterCallback)(),restoreChildren:(0,protoflow__WEBPACK_IMPORTED_MODULE_1__.restoreCallback)(),getInitialData:()=>({to:"app.get",param1:'"/api/v1/"',param2:"async (req,res) =>"})}},34716:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52322),protoflow__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(90530),protolib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(48115),_barrel_optimize_names_Plug_lucide_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29114),protoflow_src_diagram_Theme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72405);let Automation=function(){let node=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},nodeData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},color=(0,protoflow_src_diagram_Theme__WEBPACK_IMPORTED_MODULE_2__.we)(9);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(protoflow__WEBPACK_IMPORTED_MODULE_1__.Node,{icon:_barrel_optimize_names_Plug_lucide_react__WEBPACK_IMPORTED_MODULE_3__.Z,node:node,isPreview:!(null==node?void 0:node.id),title:"Automation",id:node.id,color:color,skipCustom:!0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.NodeParams,{id:node.id,params:[{label:"Name",static:!0,field:"param3",type:"input",pre:o=>o.replace(/['"]+/g,""),post:o=>'"'+o+'"'}]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.FlowPort,{id:node.id,type:"input",label:"On run (params)",style:{top:"130px"},handleId:"request"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.FallbackPort,{node:node,port:"param2",type:"target",fallbackPort:"request",portType:"_",preText:"async (params) => ",postText:""})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(protoflow__WEBPACK_IMPORTED_MODULE_1__.Button,{style:{marginTop:"60px"},label:"Run",onPress:()=>{protolib__WEBPACK_IMPORTED_MODULE_4__.bl.get("/api/v1/automations/"+eval(nodeData.param3))}})]})};__webpack_exports__.Z={id:"Automation",type:"CallExpression",check:(o,C)=>{var j,w;return"CallExpression"==o.type&&((null===(j=C.param2)||void 0===j?void 0:j.startsWith("async (params) =>"))||(null===(w=C.param2)||void 0===w?void 0:w.startsWith("(params) =>")))&&"context.automation"==C.to},category:"automation",keywords:["automation","trigger"],getComponent:Automation,filterChildren:(0,protoflow__WEBPACK_IMPORTED_MODULE_1__.filterCallback)(),restoreChildren:(0,protoflow__WEBPACK_IMPORTED_MODULE_1__.restoreCallback)(),getInitialData:()=>({to:"context.automation",param1:"app",param2:"async (params) =>",param3:'""'})}},96666:function(o,C,j){"use strict";var w=j(52322),L=j(52026),S=j(60545),P=j(29897),D=j(2784),E=j(91838),Z=j(57643);let N="  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-1316330238 _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto _o-0d0t646 font_body ",T="  _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 ",z=D.forwardRef((o,C)=>{let{forceLoad:j,waitForLoading:z=250,spinnerSize:O,atom:I,error:W=null,loading:F=null,children:H,loadingText:B,...R}=o,[A,M]=(0,D.useState)(!z);if((0,Z.KS)(()=>M(!0),z),j)return H;if(null==I?void 0:I.isError){var J,$;return W||(0,w.jsx)(P.Z,{details:null!==($=null===(J=I.error)||void 0===J?void 0:J.result)&&void 0!==$?$:I.error})}return(null==I?void 0:I.isLoaded)?H:A?F||(0,w.jsxs)(L.Stack,{ref:C,mt:"$10",ai:"center",jc:"center",f:1,...R,children:[(0,w.jsx)(E.I,{children:(0,w.jsx)(S.$,{color:"$color6",size:null!=O?O:"large"})}),(0,w.jsx)("div",{className:T,children:B&&(0,w.jsx)("p",{className:N,children:B})})]}):(0,w.jsx)(w.Fragment,{})});C.Z=z,j(91092)},43260:function(o,C,j){"use strict";j.d(C,{I:function(){return Y}});var w=j(52322),L=j(52026),S=j(86838),P=j(66306),D=j(8939),E=j(60545),Z=j(94484),N=j(61773),T=j(47343),z=j(57441),O=j(13742),I=j(2784),W=j(40914),F=j(13043),H=j(6289),B=j(95753);let R="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _pt-1481558400 _pr-1481558400 _pb-1481558400 _pl-1481558400 _mah--1px _ox-hidden _oy-hidden _transform-1529299154 ",A="  _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px ",M="  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-1481558152 _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto font_body ",J="  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center _jc-center _pt-1316330238 _pr-1316330238 _pb-1316330238 _pl-1316330238 ",$="  _o-0hover-0d0t846 _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _mr-1481558152 _o-0d0t546 _cur-pointer ",K="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _cur-pointer ",V="  _ai-stretch _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _l--1036 ",G="  is_Paragraph _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr--536 _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 _ussel-auto _fg-1 _fs-1 _fb-auto _o-0d0t846 font_body ",U="  _dsp-flex _fd-row _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _jc-flex-start _ai-center _pr-1481558152 _pl-1481558152 _w-10037 ",Y=I.forwardRef((o,C)=>{var j;let{compact:Y=!1,innerContainerProps:X={},extraIcons:Q=[],iconProps:ee={},itemCardProps:et={},minimal:el,json:ei,name:ea,onSave:eo=o=>{},onDelete:en=()=>{},hideDeleteIcon:er,isTemplate:eu=!1,...ec}=o,{tint:ep}=(0,Z.d5)(),[ef,eh]=(0,I.useState)(eu),[eg,em]=(0,I.useState)(ei),[ev,ex]=(0,I.useState)(0),[ey,eb]=(0,I.useState)((0,H.E)("pending")),[eC,ej]=(0,I.useState)(ei),[ew,eL]=(0,I.useState)(!1),ek=()=>{ex(o=>o+1),em(eC),eh(!ef)},eS=async()=>{ex(o=>o+1),eh(!ef),ej(eg),eb(await eo(eg))},eP=o=>{em(o)},e_=(0,I.useMemo)(()=>(0,w.jsx)(F.Z,{compact:Y,onChange:eP,editable:ef,data:eg,collapsible:!0},ev),[Y,ev,eP,ef,eg]);return(0,w.jsx)(L.Stack,{ref:C,...ec,children:(0,w.jsx)(W.q,{topBarOutSideScrollArea:el,backgroundColor:null!==(j=ec.backgroundColor)&&void 0!==j?j:"$color1",...et,elevation:el?0:1,borderWidth:el?0:1,pointerEvents:"none",pointerEventsControls:"none",topBar:(0,w.jsx)(L.Theme,{name:ep,children:(0,w.jsxs)("div",{className:U,children:[(0,w.jsx)("p",{className:G,children:el?"":ea}),(0,w.jsx)(L.Theme,{reset:!0,children:(0,w.jsxs)("div",{className:V,children:[er?null:(0,w.jsxs)(S.J2,{onOpenChange:eL,open:ew,placement:"bottom-end",children:[eu?null:(0,w.jsx)(S.J2.Trigger,{children:(0,w.jsx)("div",{onClick:()=>eL(!0),className:K,children:(0,w.jsx)("div",{className:$,children:(0,w.jsx)(O.V,{size:"$1"})})})}),(0,w.jsx)(S.J2.Content,{padding:0,space:0,top:"$2",children:(0,w.jsxs)("div",{className:J,children:[(0,w.jsx)("p",{className:M,children:(0,w.jsx)("span",{className:A,children:"Are you sure?"})}),(0,w.jsxs)(P.zx,{onPress:()=>{en(ea)&&eL(!1)},children:[(0,w.jsx)(O.V,{size:"$1",color:"var(--red10)"})," Delete"]})]})})]}),(0,w.jsxs)(D.sL,{...ee,children:[ef?(0,w.jsx)(B.q,{paddingHorizontal:"$3",onPress:()=>{eu?en(ea,eu):ek()},children:(0,w.jsx)(z.X,{color:"var(--red9)",size:"$1"})}):null,ef?(0,w.jsx)(B.q,{onPress:eS,children:(0,w.jsx)(N.J,{color:"var(--color9)",size:"$1"})}):(0,w.jsx)(B.q,{onPress:()=>eh(!ef),children:(0,w.jsx)(T.H,{size:"$1"})}),Q]})]})})]})}),children:(0,w.jsx)(L.Stack,{f:1,...X,children:(0,w.jsx)(L.Theme,{name:ep,children:(0,w.jsx)("div",{className:R,children:(null==ey?void 0:ey.isLoading)?(0,w.jsx)(E.$,{}):(null==ey?void 0:ey.isError)?(0,w.jsx)("span",{className:A,children:"ERROR"}):e_})})})})})});j(97752)},29897:function(o,C,j){"use strict";var w=j(52322),L=j(41473),S=j(8939),P=j(2784);let D="  _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _col-1094904378 ",E="  is_H2 _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _tt-230633015 _ff-299667014 _fow-233016295 _ls-167744214 _fos-229441375 _lh-222976728 _ussel-auto font_heading ",Z=P.forwardRef((o,C)=>{let{msg:j="Error loading content from server",details:P=""}=o;return(0,w.jsxs)(S.FA,{flex:1,alignItems:"center",justifyContent:"center",space:"$4",ref:C,children:[(0,w.jsx)(L.u,{size:"$7"}),(0,w.jsx)("h2",{className:E,children:j}),(0,w.jsx)("span",{className:D,children:P})]})});C.Z=Z,j(77733)},95753:function(o,C,j){"use strict";j.d(C,{q:function(){return S}});var w=j(52322),L=j(8939);let S=o=>(0,w.jsx)(L.sL,{paddingHorizontal:"$3",opacity:o.disabled?.2:.5,cursor:o.disabled?"default":"pointer",hoverStyle:{opacity:o.disabled?.2:.8},...o,...o.disabled?{onPress:()=>{}}:{},children:o.children})},40914:function(o,C,j){"use strict";j.d(C,{q:function(){return O}});var w=j(52322),L=j(2784),S=j(8939),P=j(22287),D=j(10836),E=j(6712);let Z="  is_SizableText _col-675002279 _dsp-inline _bxs-border-box _ww-break-word _mt-0px _mr-0px _mb-0px _ml-0px _ff-299667014 _fow-233016140 _ls-167744059 _fos-229441220 _lh-222976573 font_body ",N="  _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-0 _ai-center ",T="  is_Separator _ai-stretch _dsp-flex _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _btc-2122800589 _brc-2122800589 _bbc-2122800589 _blc-2122800589 _btw-0px _brw-0px _bbw-1px _blw-0px _fg-1 _h-0px _mah-0px _mb--1px _bbs-solid _bts-solid _bls-solid _brs-solid _transform-d0t1394298074 ",z="  _fd-column _fb-auto _bxs-border-box _pos-relative _mih-0px _miw-0px _fs-1 _fg-1  _dsp-flex _ai-stretch ",O=(0,L.memo)(L.forwardRef((o,C)=>{let{containerElement:j=S.FA,topBarOutSideScrollArea:O=!1,bottomBarProps:I={},bottomBar:W,topBarProps:F={},topBar:H,children:B,imageProps:R={},image:A=null,hasPicture:M,theme:J,alt:$,onHoverSection:K,pointerEvents:V,pointerEventsControls:G,...U}=o,[Y,X]=(0,L.useState)(!1);return(0,w.jsxs)("div",{ref:C,className:z,children:[O&&H?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(S.sL,{zi:1e3,w:"100%",bc:"$backgroundHover",btrr:18,btlr:18,jc:"center",...F,children:H}),(0,w.jsx)("div",{className:T})]}):null,L.createElement(j,{borderWidth:1,borderColor:"$borderColor",backgroundColor:"$color1",br:"$7",p:0,ai:"stretch",elevation:"$2",overflow:"hidden",...U},[!O&&H?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(S.sL,{zi:1e3,w:"100%",px:"$2",py:"$2",bc:"$backgroundHover",btrr:18,btlr:18,space:"$5",jc:"center",...F,children:H}),(0,w.jsx)("div",{className:T})]}):null,(0,w.jsx)("div",{className:N,children:M?(0,w.jsx)(D.Z,{children:A&&A.src&&!Y?(0,w.jsx)(P.E,{onError:()=>X(!0),btrr:20,btlr:20,top:-20,source:{uri:A.src,width:A.width,height:A.height}}):(0,w.jsxs)(S.FA,{o:.2,btrr:20,btlr:20,width:null==A?void 0:A.width,height:null==A?void 0:A.height,jc:"center",ai:"center",children:[(0,w.jsx)(E.L,{}),(0,w.jsx)("span",{className:Z,children:"No photo"})]})}):(0,w.jsx)(w.Fragment,{})}),B,W?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:T}),(0,w.jsx)(S.sL,{zi:1e3,w:"100%",px:"$2",py:"$2",bc:"$backgroundHover",bbrr:17,bblr:17,ai:"center",space:"$5",jc:"center",pointerEvents:V,...I,children:W})]}):null])]})}));j(34719)},90530:function(o,C,j){"use strict";j.r(C),j.d(C,{AddPropButton:function(){return S.Z},BaseJSMasks:function(){return O.U},Button:function(){return R.Z},CustomEdge:function(){return D.Z},Diagram:function(){return Z.Z},FallbackPort:function(){return W.Z},FlowConstructor:function(){return L.e},FlowFactory:function(){return L.Z},FlowPort:function(){return w._t},FlowStoreContext:function(){return z.p},HandleOutput:function(){return w.IS},Node:function(){return w.ZP},NodeParams:function(){return w.kz},NodeTypes:function(){return P.$},PORT_TYPES:function(){return E.LL},Panel:function(){return B.s_},connectNodes:function(){return H.Nl},createNode:function(){return E.dS},filterCallback:function(){return I.HO},filterCallbackProp:function(){return I.J6},generateId:function(){return F.O},getId:function(){return E.zv},isHandleConnected:function(){return T.SY},layouts:function(){return N.Z},restoreCallback:function(){return I.Qq},restoreCallbackProp:function(){return I.Ey},useFlowsStore:function(){return z.g}});var w=j(30690),L=j(73073),S=j(96169),P=j(2003),D=j(47544),E=j(43134),Z=j(12041),N=j(64352),T=j(53600),z=j(45823),O=j(64920),I=j(50317),W=j(84571),F=j(18292),H=j(45927),B=j(85716),R=j(43055)},96169:function(o,C,j){"use strict";var w=j(52322),L=j(2784),S=j(18292),P=j(45823),D=j(43055);C.Z=o=>{let{nodeData:C,id:j,type:E="Param",style:Z={},keyId:N=null,label:T=null}=o,z=(0,L.useContext)(P.p),O=z(o=>o.setNodeData),I={Attribute:"attr",Method:"meth",Case:"case",Element:"element",Component:"element",Import:"import",param:"param",Prop:"prop",Child:"child",Union:"union"},W=I[E]||"param";N=null!==N?N:W+"-"+(0,S.O)();let F=()=>{if(["child","case","element","union"].includes(W)){var o,w;N=W+"-"+(null!==(w=(null===(o=Object.keys(C))||void 0===o?void 0:o.filter(o=>o.startsWith("".concat(W,"-"))).length)+1)&&void 0!==w?w:1)}O(j,{...C,[N]:""})};return(0,w.jsx)(D.Z,{onPress:F,label:null!=T?T:"Add ".concat(E),style:Z})}},43055:function(o,C,j){"use strict";var w=j(52322),L=j(2784),S=j(72405);function P(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[w,S]=L.useState(C),P=()=>S(o),D=()=>S(C);return{style:{...w,customStyle:j},onMouseEnter:P,onMouseLeave:D}}C.Z=o=>{let{onPress:C,label:j,style:L={}}=o,D={width:"50%",margin:"15px",border:"0px solid transparent",borderRadius:"8px",color:(0,S.ZP)("interactiveColor"),padding:"10px 15px",cursor:"pointer",transition:"background-color 0.3s ease",display:"flex",position:"relative",alignSelf:"center",textAlign:"center",alignItems:"stretch",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",textDecoration:"none",zIndex:"0",fontFamily:"Jost-Regular",fontSize:(0,S.ZP)("nodeFontSize"),...L},E=P({...D,backgroundColor:(0,S.ZP)("interactiveHoverColor")},{...D,backgroundColor:"transparent"},L);return(0,w.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,w.jsx)("button",{onClick:C,...E,children:j})})}},47544:function(o,C,j){"use strict";j.d(C,{Z:function(){return Z}});var w=j(52322),L=j(2784),S=j(85716),P=j(72405);function D(o){let{id:C,sourceX:j,sourceY:L,targetX:D,targetY:E,sourcePosition:Z,targetPosition:N,style:T={},markerEnd:z,targetHandleId:O,sourceHandleId:I,selected:W,color:F,children:H}=o,B=j===D,R=L===E,[A]=(0,S.OQ)({sourceX:B?j+1e-4:j,sourceY:R?L+1e-4:L,sourcePosition:Z,targetX:D,targetY:E,targetPosition:N});(0,P.ZP)("nodeBorderWidth");let M=(0,P.ZP)("nodeEdgeWidth"),J=(0,P.ZP)("nodeEdgeStyle");return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("path",{id:C,strokeWidth:W?2*M:M,stroke:F,className:"react-flow__edge",d:A,fill:"none",strokeDasharray:J}),(0,w.jsx)("path",{id:C,className:"react-flow__edge-interaction",d:A,strokeOpacity:"0",strokeWidth:"20",fill:"none"}),H]})}var E=j(45823);function Z(o){var C,j;let Z=arguments.length>1&&void 0!==arguments[1]&&arguments[1],N=(0,L.useContext)(E.p),T=N(o=>o.setMenu),z=N(C=>null!==(j=C.nodeData[o.source])&&void 0!==j?j:{}),[O,I,W]=(0,S.OQ)({sourceX:o.sourceX,sourceY:o.sourceY,sourcePosition:o.sourcePosition,targetX:o.targetX,targetY:o.targetY,targetPosition:o.targetPosition}),F=C=>{T("open",[C.clientX,C.clientY],{edgeId:o.id,type:"edge",sourceHandle:o.sourceHandleId,source:o.source,targetHandle:o.targetHandleId,target:o.target})},H=null!=z&&null!==(C=z._metadata)&&void 0!==C&&!!C.layouted,B={...o,color:(0,P.ZP)("edgeColor")},R=(0,P.ZP)("edgeColor"),A=(0,P.ZP)("plusColor"),M=(0,P.ZP)("portSize"),J=(0,P.ZP)("flowOutputColor");return H?(0,w.jsx)(D,{...B,children:Z?(0,w.jsxs)("g",{transform:"translate(".concat(I,", ").concat(W,")"),children:[(0,w.jsx)("rect",{style:{cursor:"pointer",pointerEvents:"all",strokeWidth:"1px",stroke:R,fill:J},onClick:F,x:-10,y:-10,width:M,ry:M,rx:M,height:M}),(0,w.jsx)("text",{style:{fontWeight:600,pointerEvents:"none",userSelect:"none",fill:A,fontSize:"17px"},y:5,x:-6,children:"+"})]}):null}):null}},84571:function(o,C,j){"use strict";var w=j(52322),L=j(2784),S=j(45823);let P=o=>{let{node:C,port:j,type:P,fallbackPort:D,portType:E,preText:Z,postText:N,fallbackText:T=""}=o,z=(0,L.useContext)(S.p),O=z(o=>o.setNodeData),I=z(o=>o.nodeData[null==C?void 0:C.id]);return(0,L.useEffect)(()=>{C&&C.id&&!(null==I?void 0:I.hasOwnProperty("_fallBack"))&&O(C.id,{...I,_fallBack:[{port:j,type:P,fallbackPort:D,portType:E,fallbackText:T,preText:Z,postText:N}]})},[null==C?void 0:C.id,I]),(0,w.jsx)(w.Fragment,{})};C.Z=P},73073:function(o,C,j){"use strict";j.d(C,{e:function(){return eO},Z:function(){return ez}});var w=j(52322);j(18803),j(43579),j(95280);var L=j(56334),S=j(52998),P=j(50558),D=j(2784),E=j(85716),Z=j(43134),N=j(85067),T=j.n(N);function z(o,C){var j=T().diff(o,C);return null==j?void 0:j.filter(o=>!(["E","N"].includes(o.kind)&&"hidden"===o.path[1]))}var O=j(2003),I=j(45823),W=j(18292),F=j(64509),H=j(94533),B=j(72405),R=j(45927),A=j(38880),M=j(33361);let J=259,$=500,K=100,V=50,G=o=>{let C=(0,B.ZP)("borderWidthSelected"),j=(0,B.ZP)("borderColorSelected"),L=(0,B.ZP)("borderRadiusSelected"),S=(0,B.ZP)("boxShadowSelected");return(0,w.jsx)("div",{style:{display:"flex",border:o.isSelected?"".concat(C,"px solid ").concat(j):"0px solid transparent",borderRadius:L+"px",alignItems:"stretch",backgroundColor:"rgba(0, 0, 0, 0)",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",margin:"0px",minHeight:"0px",minWidth:"0px",padding:"0px",position:"relative",textDecoration:"none",boxShadow:o.isSelected?S:"none",zIndex:"0"},children:o.children})},U=o=>{let{index:C,node:j,addElement:L,isSelected:S,realIndex:P}=o;return(0,w.jsx)("div",{onClick:()=>L(j.type,j),style:{display:-1==P?"none":void 0,marginBottom:"10px",borderRadius:"12px"},children:(0,w.jsx)(G,{isSelected:S,children:j.getComponent({type:j.type},{},null,j)})},C)},Y=(0,F.Ic)(o=>{var C,j;let{enabledNodes:L=["*"],hideBaseComponents:S,customComponents:P=[],diagramNodes:N,setNodeData:T,nodeData:z,edges:F,takeSnapshot:Y=()=>null,reactFlowWrapper:X=null,topics:Q,onAddNode:ee=(o,C,j)=>null,onEditDiagram:et=(o,C,j)=>{}}=o,el=(0,D.useRef)(),ei=(0,D.useRef)(),ea=(0,D.useRef)(),[eo,en]=(0,D.useState)(""),[er,eu]=(0,D.useState)(0),ec=(0,D.useContext)(I.p),ep=ec(o=>o.menuState),ef=ec(o=>o.menuPosition),eh=ec(o=>o.menuOpener),eg=ec(o=>o.setMenu),{project:em,setViewport:ev,getViewport:ex}=(0,M.vM)(),{publish:ey}=Q,eb=()=>{var o=ef[1]-30;return o<70?70:o+$+K<(null==X?void 0:X.current.offsetHeight)?o:(null==X?void 0:X.current.offsetHeight)-$-K},eC=()=>{var o=ef[0]-110;return(null==X?void 0:X.current)?o<100||(null==X?void 0:X.current.offsetWidth)-J-K<100?100:o+J+K<(null==X?void 0:X.current.offsetWidth)?o:(null==X?void 0:X.current.offsetWidth)-J-K:100},ej=Object.fromEntries(Object.entries(O.Z).filter(o=>{let[C,j]=o;return L.includes(C)||L.includes("*")})),ew=P.filter(o=>L.includes(o.type)||L.includes("*")),eL=eh.targetHandle?eh.targetHandle.replace(eh.target,"").slice(1):null,ek=Object.keys(ej).map(o=>{var C;return{node:null!==(C=ej[o].type)&&void 0!==C?C:ej[o],key:o}});eo&&(ek=ek.filter(o=>{let C=[...o.node.keyWords,o.node.name];return null==C?void 0:C.map(o=>o.toLowerCase()).join().includes(eo.toLowerCase())}));let eS=ew;eo&&(eS=ew.filter(o=>o.id.toLowerCase().includes(eo.toLowerCase().trim())||o.keywords&&o.keywords.join().toLowerCase().includes(eo.toLowerCase().trim())));let eP=[...eS.map((o,C)=>{var j;return{type:o.type,category:null!==(j=o.category)&&void 0!==j?j:"custom",addElement:()=>eE(o.type,o),render:()=>{let j=eS.findIndex(C=>C.id.toLowerCase().trim()==o.id.toLowerCase().trim()),L=j==er;return o.hidden?null:(0,w.jsx)(U,{index:C,addElement:eE,isSelected:L,node:o,realIndex:j})}}}),...S?[]:ek.map((o,C)=>{var j;return{type:o.node,category:null!==(j=o.node.category)&&void 0!==j?j:"javascript",addElement:()=>eE(o.key),render:()=>(0,w.jsx)("div",{onClick:()=>eE(o.key),style:{marginBottom:"10px"},children:(0,w.jsx)(G,{isSelected:eS.length+C==er,children:D.createElement(o.node,{type:o.key})})},C)}})],e_=eP.reduce((o,C)=>(o[C.category]||(o[C.category]=[]),o[C.category].push(C),o),{}),eD="open"!=ep?{top:"-5000px"}:{top:eb()+"px",left:eC()+"px"},eE=async(o,C)=>{Y(),en("");let j=o+Z.LL.flow+(0,W.O)(),w=em({x:eC(),y:ef[1]});var L,S=(0,Z.dS)([w.x,w.y-70],o,j,{},!0,{},{}),P=[],D={},E=[];if(C&&T(j,D=C.getInitialData()),"edge"==eh.type){let C=null!==(L=ej[o].type)&&void 0!==L?L:ej[o],w=C.defaultHandle;P.push(...(0,R.Yc)(eh,j,w)),E.push(eh.edgeId)}else{let o=eh.target,C={animated:!1,id:(0,W.O)(),source:j,sourceHandle:j+"-output",target:o,targetHandle:eh.targetHandle,type:"custom"};P.push(C),z[o].hasOwnProperty(eL)||T(o,{[eL]:void 0}),ee(S[0],C,D)}let O=F.filter(o=>!E.includes(o.id)).concat(P),I=N.concat(S);eg("closed");let H=(o,C)=>{if(!C)return;let w=ex(),L=o.find(o=>o.id==S[0].id),P=document.getElementById(j),D=-L.position.x,E=-L.position.y;if(!P)return;let Z=P.querySelector("input:first-of-type");Z&&(Z.focus(),eZ(D,E,w.zoom));let N=P.querySelector("div > [role='button']:first-of-type");N&&(N.focus(),eZ(D,E,w.zoom))};et(I,O,H)},eZ=(0,D.useCallback)((o,C,j)=>{},[ev]),eN=()=>{eP[er]&&eP[er].addElement()},eT=o=>{let C=44;"Enter"==o.key?eN():"ArrowDown"==o.key&&er<eS.length+ek.length-1?(eu(er+1),ea.current.scrollBy({top:C,behavior:"smooth"})):"ArrowUp"==o.key&&er>0?(eu(er-1),ea.current.scrollBy({top:-C,behavior:"smooth"})):eu(0)};(0,D.useEffect)(()=>{if("closed"!=ep)try{null==ei||ei.current.focus()}catch(o){console.error("error focusing element. ",o)}ey("menuState",{state:ep})},[ep]);let ez=(0,B.ZP)("textColor"),eO=(0,B.ZP)("nodeBackgroundColor"),eI=(0,B.ZP)("inputBorder"),eW=(0,B.ZP)("highlightInputBackgroundColor");return(0,w.jsxs)(E.s_,{position:"top-left",children:[(0,w.jsx)("div",{onClick:()=>eg("closed"),style:{display:"closed"==ep?"none":"flex",height:"100vh",width:"100vw",position:"absolute"}}),(0,w.jsx)("div",{style:{display:"flex",flexDirection:"column",height:$,margin:"0px",position:"absolute",border:"1px solid grey",borderRadius:"10px",...eD},children:(0,w.jsxs)("div",{ref:el,style:{flexGrow:1,width:J,backgroundColor:eO,borderRadius:"10px",paddingBottom:"20px",padding:"10px",border:"".concat((0,B.ZP)("borderWidth"),"px solid ").concat((0,B.ZP)("borderColor"))},children:[(0,w.jsxs)("div",{style:{height:V},children:[(0,w.jsx)("input",{ref:ei,style:{fontFamily:"Jost-Regular",padding:"8px",border:eI,display:"flex",flex:1,width:"100%",boxSizing:"border-box",fontSize:"14px",backgroundColor:eW,borderRadius:"6px",borderWidth:"0px",outline:"none",paddingLeft:"32px",color:ez},value:eo,onKeyDown:eT,onChange:o=>en(o.target.value),placeholder:"search node"}),(0,w.jsx)(A.Z,{color:"#57534e",size:20,style:{marginRight:"-5px",marginLeft:"8px",position:"absolute",top:18}})]}),(0,w.jsx)("div",{ref:ea,className:".list-protoflow",style:{height:"calc(".concat($,"px - ").concat(V,"px - 22px)"),overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column",paddingRight:(null==ea?void 0:null===(C=ea.current)||void 0===C?void 0:C.scrollHeight)>(null==ea?void 0:null===(j=ea.current)||void 0===j?void 0:j.clientHeight)?"10px":"0px"},children:Object.keys(e_).map((o,C)=>(0,w.jsxs)("div",{children:[(0,w.jsx)(H.Z,{style:{fontSize:"16px",fontFamily:"Jost-Medium",marginLeft:"10px"},children:o.charAt(0).toUpperCase()+o.slice(1)}),(0,w.jsx)("div",{style:{marginTop:"12px"},children:e_[o].map((o,C)=>o.render())})]},C))})]})})]})});var X=Y,Q=j(47544),ee=j(41051),et=j(53544),el=j(1674),ei=j(39036),ea=j(64352);let eo=async function(o,C,j,w,L,S){let P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,D=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,E=C.map(o=>({...o})),{nodes:Z,edges:N,metadata:T}="device"!=o?await ea.Z[null!=o?o:"code"](E,j,S(E)):await ea.Z[o](E,j,S(E),D);return await P(T),await w(Z),await L(j),{layoutedNodes:Z,layoutedEdges:N,metadata:T}},en=o=>{let{layout:C,hasChanges:j,onReload:L,onSave:S,onShowCode:P,getFirstNode:E}=o,Z=25,N=(0,D.useContext)(I.p),T=N(o=>o.saveStatus);return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"row",margin:"auto",right:0,left:0,justifyContent:"center",marginTop:"20px"},children:[S?(0,w.jsx)("div",{onClick:()=>S(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"error"==T?"#EF4444":j?"#373737":"#BFBFBF",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:"loading"==T?(0,w.jsxs)("div",{id:"spinner",className:"lds-ring",children:[(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{})]}):"error"==T?(0,w.jsx)(ee.Z,{color:"white",size:Z}):(0,w.jsx)(et.Z,{color:"white",size:Z})}):null,P?(0,w.jsx)("div",{onClick:()=>P(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:(0,w.jsx)(el.Z,{color:"white",size:Z})}):null,L?(0,w.jsx)("div",{onClick:()=>L(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:(0,w.jsx)(ei.Z,{color:"white",size:Z})}):null]})})};var er=en,eu=j(64920),ec=j(12041),ep=j(20477),ef=j(29392),eh=j(50317),eg=j(30690),em=j(84571),ev=j(43055),ex=o=>{let{href:C,...j}=o;return(0,w.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,w.jsx)("a",{target:"_blank",href:C,style:{color:(0,B.ZP)("interactiveColor"),padding:"10px 15px",cursor:"pointer",display:"flex",flexDirection:"column",fontFamily:"Jost-Regular",fontSize:(0,B.ZP)("nodeFontSize")},onMouseEnter:o=>{o.currentTarget.style.textDecorationLine="underline"},onMouseLeave:o=>{o.currentTarget.style.textDecorationLine=""},children:j.children})})},ey=j(64346),eb=j(38519),eC=j(96169),ej=j(54398);let ew={CallExpression:ey.Z,JsxElement:el.Z,JsxSelfClosingElement:el.Z},eL=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=(arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0),[L,S]=D.useState(""),[P,E]=D.useState(),Z=(0,B.H)(o.type),N=j.data.body.find(o=>"api"==o.type);return N&&(0,D.useEffect)(()=>{let o=N.data.apiUrl;fetch(o).then(o=>o.json()).then(o=>{E(o)})},[]),(0,w.jsx)(eg.ZP,{icon:ew[o.type],node:o,isPreview:!o.id,title:j.data.title,id:o.id,color:Z,skipCustom:!0,children:j.data.body.map(D=>{switch(D.type){case"params":return(0,w.jsx)(eg.kz,{id:o.id,params:D.params});case"spacer":return(0,w.jsx)("div",{style:{marginBottom:D.params.height}});case"output":return(0,w.jsx)(eg._t,{id:o.id,type:"output",label:D.params.label,style:null!==(E=D.params.style)&&void 0!==E?E:{},handleId:D.params.handleId});case"redirect":return(0,w.jsx)(em.Z,{node:o,port:D.params.port,type:"target",fallbackPort:D.params.fallbackPort,portType:"_",preText:D.params.preText,postText:D.params.postText});case"api":{let j=Function("res",null===(Z=D.data)||void 0===Z?void 0:Z.list),L=null!==(T=null==P?void 0:null===(N=P.map(j))||void 0===N?void 0:N.filter(o=>o))&&void 0!==T?T:[],S=D.data.field;return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(ej.Z,{node:o,nodeData:C,item:{field:S,label:D.data.label,type:"input",data:{options:L}}})})}case"link":return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(ex,{target:"_blank",href:D.data.url,children:D.data.text})});case"button":return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ev.Z,{onPress:async()=>{let o=Function("data","\n                                    return (async () => {\n                                        ".concat(D.params.onPress,"\n                                    })();\n                                ")),j=await o(C);S(j),console.log("result: ",j)},label:D.params.label}),L&&D.params.displayResult?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("textarea",{style:{width:"100%",height:"150px",fontSize:"20px"},children:JSON.stringify(L)})}):null]});case"child":{let j=Object.keys(C).filter(o=>o.startsWith("child-")).map((o,C)=>{var j;let w=null===(j=D.data)||void 0===j?void 0:j.find(C=>C.field===o);return{label:w?w.label:"Child"+(C+1),field:o,fieldType:"child",deleteable:!w}});return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(eg.kz,{id:o.id,params:j}),D.disableAdd?null:(0,w.jsx)(eC.Z,{id:o.id,type:"Child",nodeData:C})]})}case"prop":{let L=Object.keys(C).filter(o=>o.startsWith("prop-")).map((o,C)=>({label:o.substr(5),field:o,fieldType:"prop",deleteable:!0})),S=j.data.body.find(o=>"redirect"==o.type),P=null==S?void 0:null===(z=S.params)||void 0===z?void 0:z.port,E=j.data.body.find(o=>"custom-field"==o.type),Z=(0,eb.aP)(j.data.body);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(eg.kz,{id:o.id,params:D.data}),(0,w.jsx)(eg.kz,{id:o.id,params:L.filter(o=>!Z.includes(o.field)||!E).filter(o=>!D.data.find(C=>C.field==o.field)&&o.field!=P)}),D.disableAdd?null:(0,w.jsx)(eC.Z,{id:o.id,type:"Prop",nodeData:C})]})}case"custom-field":{let j="Props",L=D.data.reduce((o,C)=>{var w,L,S=null!==(w=C.section)&&void 0!==w?w:j;return o[S]=[...null!==(L=o[S])&&void 0!==L?L:[],C],o},{});var E,Z,N,T,z,O=Object.keys(L);let S=O.indexOf(j);return -1!==S&&(O.splice(S,1),O.push(j)),(0,w.jsx)(w.Fragment,{children:O.map((S,P)=>{let D=S==j?"":S;return(0,w.jsxs)("div",{children:[L[S].map((j,L)=>(0,w.jsx)(eb.ly,{item:j,node:o,nodeData:C},L)),D?(0,w.jsx)("div",{style:{borderBottom:"1px solid "+(0,B.ZP)("separatorColor"),margin:"20px 22px"}}):null]},P)})})}}})})};eL.check=(o,C,j)=>{let w;var L=o.type,S=!1;switch(L){case"JsxElement":case"JsxSelfClosingElement":if(j.initialData){var P,D,E,Z=null===(E=j.body)||void 0===E?void 0:null===(D=E.find(o=>"prop"==o.type))||void 0===D?void 0:null===(P=D.props)||void 0===P?void 0:P.map(o=>null==o?void 0:o.field),N=Object.keys(C);S=(null==Z?void 0:Z.filter(o=>!N.includes(o)).length)==0}else S=!0;w=(o.type==j.type||"JsxSelfClosingElement"==o.type)&&C.name==j.id&&S;break;default:w=o.type==j.type&&new RegExp(j.filter.to).test(C.to);for(let o=0;j.filter.params&&w&&o<j.filter.params.length;o++)w=new RegExp(j.filter.params[o]).test(C["param"+(o+1)])}return w};var ek=eL,eS={CallExpression:ek,JsxElement:ek};let eP={filterCallback:eh.HO,restoreCallback:eh.Qq,filterCallbackProp:eh.J6,restoreCallbackProp:eh.Ey},e_=o=>{var C;let j=void 0===(C=Function(o))?void 0:C.call(eP);return j},eD=o=>{var C,j;let w={data:o,id:o.id,type:o.type,check:(j,w)=>(null!==(C=eS[o.type])&&void 0!==C?C:ek).check(j,w,o),getComponent:null!==(j=eS[o.type])&&void 0!==j?j:ek,getInitialData:()=>o.initialData};return o.filterChildren&&(w.filterChildren=e_(o.filterChildren)),o.restoreChildren&&(w.restoreChildren=e_(o.restoreChildren)),w};var eE=eD;let eZ=o=>{var C,j,L;let{dataNotify:S=()=>{},disableDots:P=!1,bgColor:N="transparent",onShowCode:F=null,sourceCode:H,onSave:B,onPlay:R,onReload:A,disableStart:J=!1,getFirstNode:$=o=>o.find(o=>o.id&&o.id.startsWith("SourceFile")),customComponents:K=[],hideBaseComponents:V=!1,positions:G,topics:U,flowId:Y,display:ee=!0,enableCommunicationInterface:et,children:el,showActionsBar:ei=!1,zoomOnDoubleClick:ea=!0,onSelectionChange:en=()=>{},onEdit:eh=()=>{},config:eg={},themeMode:em="light",theme:ev={},primaryColor:ex="#F7B500",disableMiniMap:ey=!0,bridgeNode:eb=!1,onViewPortChange:eC=()=>{},defaultViewPort:ej={x:100,y:window.innerHeight/4,zoom:.8},path:ew="Start",mode:eL="js",nodePreview:ek="flow",metadata:eS={},defaultSelected:eP=()=>void 0}=o,{data:e_,publish:eD}=U,eZ=(0,D.useContext)(I.p),eN=(0,D.useRef)(null),eT=eZ(o=>o.setError),ez=eZ(o=>o.clearError),eO=eZ(o=>o.setDataNotify),eI=eZ(o=>o.initialEdges),eW=eZ(o=>o.setInitialEdges),eF=eZ(o=>o.initialNodes),eH=eZ(o=>o.setInitialNodes),eB=eZ(o=>o.setSaveStatus),eR=eZ(o=>o.setNodeData),eA=eZ(o=>o.setNodesData),eM=eZ(o=>o.setMetadata),eJ=eZ(o=>o.setCurrentPath),e$=eZ(o=>o.setNodesMetaData),eK=eZ(o=>o.clearNodesData),eV=eZ(o=>o.appendCustomComponents),eq=eZ(o=>o.customComponents),eG=eZ(o=>o.nodeData),eU=eZ(o=>o.menuState),eY=[...K,...null!==(L=null==eg?void 0:null===(C=eg.masks)||void 0===C?void 0:C.map(o=>eE(o)))&&void 0!==L?L:[]].filter(o=>o),eX=(0,D.useMemo)(()=>O.$,[]),eQ=(0,D.useMemo)(()=>({custom:o=>(0,Q.Z)(o,eb)}),[]),e0={nodePreview:ek,flowsHeight:null===(j=eN.current)||void 0===j?void 0:j.offsetHeight},[e1,e2,e5]=(0,M.ui)(eF,e0),[e4,e3,e6]=(0,M.XD)(eI,e0),[e7,e8]=(0,D.useState)(!1),[e9,te]=(0,D.useState)((0,ef.Yg)(eG)),tt=(0,D.useRef)(!1),tl=(0,D.useCallback)(o=>e3(C=>(0,M.Df)(o,C)),[e3]),ti=async()=>{eK();let{nodes:o,edges:C,nodeDataTable:j}=await td();eA(j),te((0,ef.Yg)(j)),e2(o),e3(C),eW(C),eH(o)},ta=o=>"json"==eL?"("+o+")":o,to="json"==eL?"elk":"device"==eL?"device":"code",tn=()=>"json"==eL?["ObjectLiteralExpression","ArrayLiteralExpression"]:["*"],tr="json"==eL?o=>o.find(o=>o.id&&o.id.startsWith("ObjectLiteralExpression")):$,td=async()=>{let o;let C=new ep.IKL({useInMemoryFileSystem:!0,manipulationSettings:{indentationText:ep.xI4.Tab},compilerOptions:{target:ep.H7j.Latest,scriptKind:ep.hVH.TSX,languageVariant:ep.C$L.JSX}}),j=C.createSourceFile("_temp1.tsx",ta(H),{overwrite:!0});if("json"==eL){var w,L;let o=null===(L=j.getStatements()[0])||void 0===L?void 0:null===(w=L.getExpression())||void 0===w?void 0:w.getExpression();o&&(j=o)}let S=(o,C,j,w)=>{if(!C(o))return j(o,w,[]);let L=[];return o.forEachChild(o=>{L=L.concat(S(o,C,j,[]))}),j(o,w,L)},P={},D=[],E={},N=S(j,C=>{let j=eX[C.getKindName()];if(j){var w;let L=null!==(w=j.type)&&void 0!==w?w:j;if(L.isShadow&&L.isShadow(C,P,eL,D)||o||(o=(0,Z.zv)(C)),L.skipTraversal)return!1}return!0},(o,C,j)=>{let w=eX[o.getKindName()];if((null===(N=o.getParent())||void 0===N?void 0:N.getKindName())=="CatchClause"&&"VariableDeclaration"==o.getKindName())return;var L,S=!0;if(w){let j=null!==(z=w.type)&&void 0!==z?z:w;if(j.getData){E[(0,Z.zv)(o)]={};var N,T,z,O,I=j.getData(o,P,E,D,eL);I={...E[(0,Z.zv)(o)],...I,_astNode:o},E[(0,Z.zv)(o)]=I,P[(0,Z.zv)(o)]=I;let C=(0,eu.Z)({type:o.getKindName()},null!==(O=E[(0,Z.zv)(o)])&&void 0!==O?O:{},eY);eR((0,Z.zv)(o),I),(null==C?void 0:C.nonDeletable)&&(S=!1)}if((!j.isShadow||!j.isShadow(o,P,eL,D))&&(!j.checkCreate||j.checkCreate(o,P))&&("SourceFile"!=o.getKindName()||!J)){let j=(0,Z.dS)([0,0],o.getKindName(),(0,Z.zv)(o),null,"SourceFile"!=o.getKindName()&&S,D,E[(0,Z.zv)(o)]);C=C.concat(j),P[(0,Z.zv)(o)]={type:"node",value:j[0]}}}P[(0,Z.zv)(o)]||(0==o.getChildren().length?P[(0,Z.zv)(o)]={type:"data",value:o.getText(),_astNode:o}:P[(0,Z.zv)(o)]=o.forEachDescendant(o=>P[(0,Z.zv)(o)]));let W=(0,eu.Z)(null===(T=P[(0,Z.zv)(o)])||void 0===T?void 0:T.value,null!==(L=E[(0,Z.zv)(o)])&&void 0!==L?L:{},eY),F=(o,C)=>{E[o]=C};W&&W.filterChildren&&F((0,Z.zv)(o),{...E[(0,Z.zv)(o)],_initialNodes:j,_initialEdges:JSON.parse(JSON.stringify(D))});let H=w&&w.type?w.type:w,B=[...C,...W&&W.filterChildren?W.filterChildren(o,j,D,E,F):j];return H&&H.filterChildren?H.filterChildren(o,B,D,E,F):B},[]).filter(o=>o),T=N;return eg&&eg.layers&&eg.layers.length&&(T=[...T,...eg.layers.map(o=>{var C;let j="Layer_"+(0,W.O)();return E[j]=o,(0,Z.dS)(null!==(C=o.position)&&void 0!==C?C:[0,0],"Layer",j,{},!1,[],{})[0]})]),{nodes:T,edges:D,nodeDataTable:E}},ts=o=>e1.reduce((C,j)=>{var w;let L=(0,eu.Z)(j,null!==(w=o[j.id])&&void 0!==w?w:{},eY);if(L&&L.restoreChildren){let w=L.restoreChildren(j,C.nodes,o[j.id]._initialNodes,C.edges,eI,o);return w.nodeData||(w.nodeData=C.nodeData),w}return C},{nodes:e1,edges:e4,nodeData:o}),tu=async o=>{var C;let j=ts(Object.assign({},eG));ez();try{C=(0,Z.c8)(j.nodes,j.edges,j.nodeData,tr,eL),eW(j.edges),eH(j.nodes);let w=e1.map(o=>({id:o.id,position:o.position}));!o&&B&&(null==e1?void 0:e1.length)&&B(C,w,{nodesData:eG,nodes:e1})}catch(S){let o=S.codeFrame.split("\n").find(o=>o.startsWith("> ")).split("|");o.shift();let C=S.loc.start.column,j=o.join("|").substr(1,C),w=j.lastIndexOf("/* JSFLOWID("),L=j.substring(w+12).split(")")[0];eB("error"),eT(L)}return C},tc=async()=>{try{let o=await tu();R&&R(o)}catch(o){console.error(o)}},tp=o=>o.map(o=>{let{draggable:C,height:j,width:w,position:L,selected:S,positionAbsolute:P,dragging:D,data:E,...Z}=o,{layouted:N,...T}=E||{layouted:1};return{...Z,data:T}}),tf=async()=>{await e3([]),await e2([]),A?A():ti()},th=(o,C)=>{if(et){var j=C.nodeId,w=C.param,L=C.value;try{L=JSON.parse(L)}catch(o){}switch(o){case"delete-node":let I=C,W=I.map(o=>o.id),F=e4.find(o=>W.includes(o.source));S=null==F?void 0:F.target;let H=F?null===(D=e1.find(o=>o.id==F.source))||void 0===D?void 0:D.type:null===(E=I.find(o=>o.id==W[0]))||void 0===E?void 0:E.type;if(P={action:"delete-node",nodesToDelete:W,deletedNodeType:H},"JsxElement"==H){let o=F?Number(F.targetHandle.split("child-")[1]):null;if(eG[S]){let{data:C}=(0,ef.ap)(eG[S],o);eA({...eG,[S]:C})}}eD("flow/editor",P);break;case"delete-data":P={action:"delete-data",nodeId:j,param:w},eD("flow/editor",P);break;case"add-node":let B=C.newEdge,R=C.initialData,A=null==R?void 0:R.name,M=null===(N=C.node)||void 0===N?void 0:N.type;j=C.node.id,S=B.target,w=B.targetHandle.split(S+"-")[1];let J={...eG,[j]:{...R}};P={...P,action:"add-node",nodeId:j,type:M,nodeName:A,parent:S};let $=(0,ef.wo)(e1,e4.concat(B),J,j,M);if("JsxElement"==M){let o=(null==w?void 0:w.startsWith("child"))?Number(w.split("child-")[1]):void 0;P={...P,childrenPos:o-1},eA(J={...J,[S]:{...J[S],["child-"+o]:$}})}else{let o,C,j=B.targetHandle.split(S)[1],w=j.slice(0,1),L=j.slice(1),O=J[S];if(w==Z.LL.flow){let j=null===(T=O._fallBack)||void 0===T?void 0:T.find(o=>o.fallbackPort==L&&o.portType==w),Z=(null==j?void 0:j.preText)+$+(null==j?void 0:j.postText);var S,P,D,E,N,T,z=Z.indexOf("=");if(-1===z)return;o=Z.substring(0,z).trim(),C=Z.substring(z+1).trim()}else if(w==Z.LL.data){let j=O[L];o=null==j?void 0:j.key,C=$}P={...P,data:{isAncestorJsxElement:!0,key:o,value:C}}}eD("flow/editor",P);break;case"add-data":var O=!!C.isProp;P={action:"add-data",nodeId:j,param:w,value:L,isProp:O},eD("flow/editor",P);break;case"edit-data":P={action:"edit-data",nodeId:j,param:w,value:L,deleteKey:C.deleteKey},eD("flow/editor",P);break;default:console.error("Communication sender error. Invalid action ".concat(o))}}},tg=o=>{if(o)return o.startsWith("prop-")?o.split("prop-")[1]:o.startsWith("child-")?"children":o},tm=o=>{let C=e4.find(C=>C.targetHandle==o);return C},tv=()=>{if(!et)return;let o=(0,ef.Yg)(eG);if(!Object.keys(e9).length)return;let C=T().diff(e9,o);if(C&&!(C.length>1)){if(C.find(o=>"E"==o.kind)){var j,w,L,S;let o,P;let D=C.find(o=>"E"==o.kind),E=D.path[0];if(!e9[E])return;let N=E+Z.LL.data+D.path[1];if(tm(N))return;let T=null===(j=e1.find(o=>o.id==E))||void 0===j?void 0:j.type,z={nodeId:E};if("JsxElement"==T||"JsxSelfClosingElement"==T){let C;if("key"==D.path[2]){P=D.rhs;let j=D.lhs,L=D.path[1];o=null===(w=eG[E][L])||void 0===w?void 0:w.value,C=!0,z={...z,deleteKey:j}}else{if(P=tg(D.path[1]),void 0==(o=D.rhs)||!P||"object"==typeof o||"kind"==D.path[2])return;(C=!P.includes("child"))&&(P=null!==(S=null===(L=eG[E]["prop-"+P])||void 0===L?void 0:L.key)&&void 0!==S?S:P)}z={...z,param:P,value:o,isProp:C}}else{let o=(0,ef.U7)(E,e4);if(o){P=o.split("-")[2],E=o.split("-")[0];let C=o.split("_")[0],j=(0,ef.Nb)(e1,e4,eG,E,C,P);z={...z,nodeId:E,param:P,value:j,isProp:!0}}}th("edit-data",z)}else if(C.find(o=>"N"==o.kind)){let o;let j=C.find(o=>"N"==o.kind),w=j.path[0];if(!e9[w])return;let L=null===(P=e1.find(o=>o.id==w))||void 0===P?void 0:P.type,S=j.path[1];if("JsxElement"==L||"JsxSelfClosingElement"==L){let C=j.rhs;"object"==typeof C&&(S=S.split("-")[0]+"-"+C.key,C=C.value),S=tg(S);let L=w+Z.LL.data+j.path[1];if(tm(L)||void 0==C||!S)return;let P=!S.includes("child");o={nodeId:w,param:S,value:C,isProp:P}}else{let C=(0,ef.U7)(w,e4);var P,D=null==C?void 0:C.indexOf("-");if(-1===D||!C)return;let j=C.slice(D+1),L=C.split("-")[0],S=C.split("_")[0],E=eG[L],Z=E[j].key,N=(0,ef.Nb)(e1,e4,eG,L,S,Z);o={nodeId:L,param:Z,value:N,isProp:!0}}th("add-data",o)}else if(C.find(o=>"D"==o.kind)){let o=C.find(o=>"D"==o.kind),j=o.path[0],w=o.lhs.key;th("delete-data",{nodeId:j,param:w})}}},tx=o=>{var C;let j=null===(C=o[0])||void 0===C?void 0:C.type,w=["ObjectLiteralExpression","ArrowFunction","CallExpression"].includes(j)||o.length<=1;if(!o||!o.length||w)return H;let L=o[0];if(!L)return H;let S=O.$[L.type];S.type&&(S=S.type);let P=S.dump(L,e1,e4,eG);return(0,Z.jE)(P,eL)},ty=async()=>{try{let o=await tu(!0);void 0!==o?eh(o):console.error("There was an error in the code, not emitting")}catch(o){}};if((0,D.useEffect)(()=>{let o=z(tp(eI),tp(e4)),C=z(tp(eF),tp(e1)),j=e1.filter(o=>{var C;return o.id!=(null===(C=$(e1))||void 0===C?void 0:C.id)&&!e4.find(C=>C.source==o.id)&&!o.draggable});j.length&&e2(e1.map(o=>j.find(C=>C.id==o.id)?{...o,draggable:!0}:o));let w=e1.filter(o=>{var C;return o.id!=(null===(C=$(e1))||void 0===C?void 0:C.id)&&e4.find(C=>C.source==o.id)&&o.draggable});w.length&&e2(e1.map(o=>w.find(C=>C.id==o.id)?{...o,draggable:!1}:o)),C&&C.length||o&&o.length?(o&&!C&&(eo(to,e1,e4,e2,e3,tr,e$,eG),tt.current=!0,eW(e4)),ei||ty(),e8(!0)):e8(!1),eB(null)},[e1,e4]),(0,D.useEffect)(()=>{eO(S)},[S]),(0,D.useEffect)(()=>{var o;(null===(o=e_[Y+"/play"])||void 0===o?void 0:o.ts)&&tc()},[e_[Y+"/play"]]),(0,D.useEffect)(()=>{eJ(ew)},[ew]),et){let o={edges:e4,nodeData:eG,nodes:e1,setEdges:e3,createNode:Z.dS,setNodeData:eR,setNodes:e2,setNodesData:eA,deleteNodes:ef._l,onSaveNodes:tu,_customComponents:eY,flowId:Y,data:e_};et(o)}return(0,D.useEffect)(()=>{eY.length!=eq.length&&eV(eY),eM(eS)},[eY.length]),(0,D.useEffect)(()=>{H&&ti()},[H]),(0,D.useEffect)(()=>{let o=(0,ef.Yg)(eG),C=z(e9,o);(null==C?void 0:C.length)&&(e8(!0),tv(),te(o),e1.length&&!ei&&ty())},[eG]),(0,D.useEffect)(()=>{e1&&e1.length&&e1.filter(o=>o.width&&o.height).length==e1.length&&(eo(to,e1,e4,e2,e3,tr,e$,eG),tt.current=!0)},[e1.reduce((o,C)=>o+=C.id+" "+(C.width&&C.height?"1":"0")+",","")]),window.reLayout=()=>{eo(to,e1,e4,e2,e3,tr,e$,eG)},(0,w.jsx)("div",{ref:eN,style:{height:"100%",width:"100%"},children:ee?(0,w.jsxs)(ec.Z,{primaryColor:ex,defaultSelected:eP,onViewPortChange:eC,defaultViewPort:ej,themeMode:em,onSelectionChange:o=>en(tx(o),o),nodeTypes:eX,nodes:e1,edges:e4,zoomOnDoubleClick:ea,onNodesChange:e5,onEdgesChange:e6,onNodesDelete:o=>th("delete-node",o),onConnect:tl,edgeTypes:eQ,onInit:()=>{},style:{backgroundColor:N},nodePreview:ek,onNodeInitializationStatusChange:o=>{o&&tt.current&&eo(to,e1,e4,e2,e3,tr,e$,eG)},componentsMenu:"closed"!=eU?(0,w.jsx)(X,{enabledNodes:tn(),onEditDiagram:async(o,C,j)=>{e2(o),e3(C)},edges:e4,diagramNodes:e1,setNodes:e2,setEdges:e3,setNodeData:eR,nodeData:eG,style:{position:"absolute",top:"0px",left:"0px"},hideBaseComponents:V,customComponents:eY,onAddNode:(o,C,j)=>th("add-node",{node:o,newEdge:C,initialData:j})}):(0,w.jsx)(w.Fragment,{}),disableDots:P,disableMiniMap:ey,theme:ev,children:[el,ei?(0,w.jsx)(E.s_,{position:"top-center",children:(0,w.jsx)(er,{getFirstNode:tr,layout:to,onSave:tu,onReload:A?tf:null,onShowCode:F||null,hasChanges:e7})}):null]}):(0,w.jsx)(w.Fragment,{})})},eN=o=>{let C=(0,D.useMemo)(I.g,[]);return(0,w.jsx)(I.p.Provider,{value:C,children:(0,w.jsx)(eT,{children:(0,w.jsx)(eZ,{...o})})})},eT=o=>{let{children:C}=o,[j,D]=(0,L.U)();return(0,w.jsx)(S.G,{onChangeTheme:o=>{D(o)},children:(0,w.jsx)(P.z,{disableRootThemeClass:!0,defaultTheme:j,children:C})})};var ez=o=>{let C=(0,F.Ic)(eN,{topics:[o.flowId+"/play",o.flowId+"/ui","savenodes"]});return o.path&&(o.path.endsWith(".json")?o.mode="json":(o.path.endsWith("yml")||o.path.endsWith("yaml"))&&(o.mode="yaml")),(0,w.jsx)(F.US,{children:(0,w.jsx)(C,{...o})})};let eO=o=>(0,F.Ic)(eN,{topics:[o+"/play",o+"/ui","savenodes"]})},30690:function(o,C,j){"use strict";j.d(C,{FW:function(){return Q},IS:function(){return ea},_t:function(){return en},kz:function(){return eo},sS:function(){return ee}});var w=j(52322),L=j(2784),S=j(85716),P=j(41447),D=j(94533);j(2003);var E=j(43134),Z=j(64920),N=j(50902),T=j(59336),z=j(53600),O=j(64509),I=j(45823),W=j(77044),F=j(6226),H=j(72405),B=j(57451),R=j(33248),A=j(60884),M=j(88724),J=j(11001),$=j(13153),K=j(63044),V=j(95602),G=j(86486),U=j(43911),Y=j(33361),X=j(69685);let Q=(o,C,j)=>j.find(j=>j.targetHandle=="".concat(o).concat(E.LL.data).concat(C)),ee=55,et=o=>{let{id:C,left:j=!1,field:S}=o,P=(0,L.useContext)(I.p),D=P(o=>o.deletePropNodeData),E=()=>{D(C,S)};return(0,w.jsx)("div",{id:"deleteButton-"+C+S,style:{display:"flex",alignSelf:"center",cursor:"pointer"},onClick:E,children:(0,w.jsx)(M.Z,{size:(0,H.ZP)("nodeFontSize"),color:(0,H.ZP)("colorError"),style:{marginRight:j?"7px":"2px"}})})},el=o=>{let{id:C,disabled:j,post:S=o=>o,pre:D=o=>o,onBlur:E,field:Z,children:N,style:T={},editing:z=!1}=o,O=(0,L.useContext)(I.p),W=O(o=>o.setNodeData),{setNodes:F}=(0,Y.vM)(),B=O(o=>null!==(A=o.nodeData[C])&&void 0!==A?A:{}),R=O(o=>o.dataNotify);var A,M=D(B[Z]);let[J,$]=L.useState(M),K=(0,H.ZP)("nodeFontSize"),V=L.useRef();L.useEffect(()=>{if(V.current&&z){var o;null===(o=V.current)||void 0===o||o.focus()}},[z]);let G=o=>{R({...o,notifyId:B._dataNotifyId})};(0,L.useEffect)(()=>{$(M)},[B[Z]]);let U=()=>{F(o=>{let j=[...o];j=j.map(o=>(o.hasOwnProperty("selected")&&delete o.selected,o));let w=j.findIndex(o=>o.id==C);return j[w]={...j[w],selected:!0},j})},X=()=>{j||(W(C,{...B,[Z]:S(J)}),G({id:C,paramField:Z,newValue:J})),E&&E(J)};return(0,w.jsx)("div",{className:"nodrag",style:{flex:1},children:(0,w.jsxs)("div",{style:{flex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,w.jsx)(P.Z,{ref:V,onFocus:U,onBlur:X,readOnly:j,style:{fontSize:K+"px",fontWeight:"medium",...T},value:J,placeholder:"default",onChange:o=>$(o.target.value)}),N]})})},ei=o=>{var C,j,P,Z,O,B;let{id:R,param:M,index:Q=0,portId:ee=null,editing:ei=!1,onRequestEdit:ea=o=>{},onCancelEdit:eo=()=>{}}=o,er=(0,L.useContext)(I.p),eu=er(o=>o.setNodeData),ec=er(o=>o.dataNotify);er(o=>o.deletePropNodeData);let ep=er(o=>null!==(Z=o.nodeData[R])&&void 0!==Z?Z:{}),ef=(0,Y.yt)(),eh=ef.find(o=>o.targetHandle=="".concat(R).concat(E.LL.data).concat(M.field)),eg="child"==M.fieldType,em="parameter"==M.fieldType,ev="prop"==M.fieldType,ex=L.useRef(),ey=L.useRef(),eb=M.pre?M.pre:o=>o,eC=M.post?M.post:o=>o,ej=M.keyPre?M.keyPre:o=>o,ew=M.keyPost?M.keyPost:o=>o,eL=(0,H.ZP)("inputBorder"),ek=(0,H.ZP)("textColor"),eS=(0,H.ZP)("inputBackgroundColor"),eP=(0,H.ZP)("interactiveColor"),e_=(0,H.ZP)("nodeFontSize"),eD=o=>{ec({...o,notifyId:ep._dataNotifyId})},[eE,eZ]=L.useState(!1),eN=o=>"string"==typeof o||o instanceof String?"true"==o:o,[eT,ez]=L.useState(eN(ep[M.field])),eO=(null===(C=M.data)||void 0===C?void 0:C.min)!=void 0?M.data.min:0,eI=null===(j=M.data)||void 0===j?void 0:j.defaultValue,eW=null!==(B=null!==(O=null===(P=ep[M.field])||void 0===P?void 0:P.value)&&void 0!==O?O:ep[M.field])&&void 0!==B?B:null!=eI?eI:eO,[eF,eH]=L.useState(eb(eW)),eB=o=>{var C,j,S,P,E,Z,z,O,I,W,H;switch(M.type){case"selectWithDefault":let B=o=>{eu(R,{...ep,[M.field]:(0,X.Jf)(null==o?void 0:o.value,M.field,ep)}),eD({id:R,paramField:M.field,newValue:null==o?void 0:o.value})},Y=null===(C=M.data)||void 0===C?void 0:C.map((o,C)=>{var j=(null==o?void 0:o.color)?{color:o.color}:{};return{label:null!=o?o:"default",value:o,...j}});return(0,w.jsx)("div",{style:{flex:1,zIndex:1e3},children:(0,w.jsx)(A.Z,{onChange:B,defaultValue:{value:M.data[M.selectedIndex],label:M.data[M.selectedIndex]},options:Y})});case"select":let Q=o=>{eu(R,{...ep,[M.field]:(0,X.Jf)(null==o?void 0:o.value,M.field,ep)}),eD({id:R,paramField:M.field,newValue:null==o?void 0:o.value})},ee=null===(j=M.data)||void 0===j?void 0:j.map((o,C)=>{var j=(null==o?void 0:o.color)?{color:o.color}:{};return{label:null!=o?o:"default",value:o,...j}});return(0,w.jsx)("div",{style:{flex:1,zIndex:1e3},children:(0,w.jsx)(A.Z,{onChange:Q,defaultValue:{value:(0,X.oe)(M.field,ep),label:(0,X.oe)(M.field,ep)},options:ee})});case"select-multi":let et=o=>{let C=o.map(o=>o.value.replace(/"/g,""));eu(R,{...ep,dataValues:C}),eD({id:R,paramField:M.field,newValue:C})},ei={control:(o,C)=>({...o,backgroundColor:eS,borderColor:C.isSelected?eL:"transparent",textColor:ek,width:"fit-content"}),singleValue:(o,C)=>{let{data:j}=C;return{...o,fontSize:"12px",minWidth:"95px",textAlign:"left",color:ek}},menu:o=>({...o,color:ek,backgroundColor:eS})},ea=null===(S=M.data)||void 0===S?void 0:S.map((o,C)=>{var j=o.color?{color:o.color}:{};return{label:o,value:o,...j}}),eo=o=>N.c.DropdownIndicator&&(0,w.jsxs)(N.c.DropdownIndicator,{...o,children:[" ",(0,w.jsx)(J.Z,{size:"15px"})," "]});return(0,w.jsx)("div",{style:{zIndex:1e3},children:(0,w.jsx)(T.ZP,{components:{DropdownIndicatorMulti:eo},menuPlacement:"top",onChange:et,className:"nodrag",options:ea,styles:ei,isMulti:!0})});case"colorPicker":let en=ep[M.field]?eb(ep[M.field]):"#404040";return(0,w.jsxs)("div",{style:{cursor:"pointer"},children:[(0,w.jsx)("div",{style:{width:"36px",height:"36px",backgroundColor:en,border:eE?e$+" solid "+eJ:"1px #cccccc solid",borderRadius:5},onClick:()=>{eZ(!eE)}}),(0,w.jsx)("div",{style:{cursor:"pointer",position:"absolute",zIndex:1100},children:eE?(0,w.jsx)(F.xS,{className:"nodrag",color:en,onChangeComplete:o=>{eD({id:R,paramField:M.field,newValue:{r:o.rgb.r,g:o.rgb.g,b:o.rgb.b,a:o.rgb.a}}),eu(R,{...ep,[M.field]:(0,X.Jf)(o.hex,M.field,ep)})}}):null})]});case"range":let er=(null===(P=M.data)||void 0===P?void 0:P.max)!=void 0?M.data.max:100,ec=(null===(E=M.data)||void 0===E?void 0:E.step)!=void 0?null===(Z=M.data)||void 0===Z?void 0:Z.step:1;return(0,w.jsxs)(w.Fragment,{children:[M.hideLabel?null:(0,w.jsx)("div",{style:{fontSize:"14px",position:"relative",top:"3px",width:18*er.toString().length,textAlign:"left"},children:eC(eF)}),(0,w.jsx)("input",{type:"range",style:{width:"100%",marginTop:"6px",accentColor:eP,height:"5px",borderWidth:"4px solid blue",backgroundColor:eS,borderRadius:"10px"},step:ec,onChange:o=>eH(o.target.value),onMouseUp:()=>{eD({id:R,paramField:M.field,newValue:eF}),eu(R,{...ep,[M.field]:(0,X.Jf)(eC(eF),M.field,ep)})},value:eF,min:eO,max:er})]});case"boolean":return(0,w.jsx)("span",{ref:ex,children:(0,w.jsx)("input",{type:"checkbox",onChange:()=>{eD({id:R,paramField:M.field,newValue:!eT}),eu(R,{...ep,[M.field]:(0,X.Jf)(!eT,M.field,ep)}),ez(!eT)},checked:!!eT,style:{all:"revert",width:e_,margin:"2px 0px 2px 0px",accentColor:eP,transform:"scale(".concat(e_/15,")"),marginRight:"5px"}})});default:let ef=null===(z=ep[M.field])||void 0===z?void 0:z.kind,eh={StringLiteral:$.Z,NumericLiteral:K.Z,TrueKeyword:V.Z,ObjectLiteralExpression:G.Z,FalseKeyword:V.Z};return(0,w.jsxs)(w.Fragment,{children:[ef&&eh[ef]?(0,w.jsx)("div",{style:{padding:"8px",justifyContent:"center",position:"absolute",zIndex:100,cursor:"pointer"},onClick:()=>{eu(R,{...ep,[M.field]:{...ep[M.field],kind:Object.keys(eh)[(Object.keys(eh).indexOf(ef)+1)%(Object.keys(eh).length-1)]}})},children:L.createElement(eh[ef],{size:16,color:eP})}):(0,w.jsx)(w.Fragment,{}),(0,w.jsx)(el,{id:R,post:o=>{var C;return em||ev?{...ep[M.field],key:null!==(I=null===(C=ep[M.field])||void 0===C?void 0:C.key)&&void 0!==I?I:M.label,value:eC(o)}:eC(o)},pre:o=>eb(null!==(H=null!==(W=null==o?void 0:o.value)&&void 0!==W?W:o)&&void 0!==H?H:""),options:null===(O=M.data)||void 0===O?void 0:O.options,field:M.field,onBlur:M.onBlur,disabled:o||M.isDisabled,style:{marginRight:["case","child"].includes(M.fieldType)?"20px":"0px",paddingLeft:ef&&eh[ef]?"30px":void 0},children:M.error?(0,w.jsxs)("div",{style:{alignItems:"center",marginTop:"5px",display:"flex"},children:[(0,w.jsx)(U.Z,{size:"14px",color:"red",style:{alignSelf:"center",marginRight:"5px"}}),(0,w.jsx)(D.Z,{style:{color:"red",fontSize:"12px"},children:M.error})," "]}):null})]})}},eR=()=>{var o,C,j,L;let S=null!==(o=null==M?void 0:M.label)&&void 0!==o?o:M.field;return(em||ev)&&!M.static&&!M.staticLabel&&(S=ej(null!==(j=null===(C=ep[M.field])||void 0===C?void 0:C.key)&&void 0!==j?j:""),ei)?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(el,{editing:ei,id:R,post:o=>{var C,j;return{key:ew(o),value:null!==(j=null===(C=ep[M.field])||void 0===C?void 0:C.value)&&void 0!==j?j:""}},pre:()=>{var o;return ej(null!==(L=null===(o=ep[M.field])||void 0===o?void 0:o.key)&&void 0!==L?L:"")},field:M.field,onBlur:o=>{o&&eo()},style:{marginRight:"16px"}})}):(0,w.jsx)(D.Z,{adaptiveSize:!0,onClick:()=>{(em||ev)&&ea(M)},style:{marginRight:"12px",textAlign:"left",whiteSpace:"nowrap",cursor:"pointer"},children:null!=S?S:" "})},eA="default"==M.field,eM="call"==M.fieldType||"clause"==M.fieldType,eJ=(0,H.ZP)("borderColor"),e$=(0,H.ZP)("borderWidth"),eK=(0,H.ZP)("handleBorderColor");(0,H.ZP)("dataOutputColor");let eV=(0,H.ZP)("dataPort"),eq=L.useRef();return(0,w.jsxs)("div",{style:{alignItems:"stretch",flexBasis:"auto",flexShrink:0,listStyle:"none",position:"relative",display:"flex",zIndex:"select"==M.type||"colorPicker"==M.type?1100:0,flexDirection:"column"},children:[eA?null:(0,w.jsxs)("div",{ref:eq,style:{flex:1,fontSize:e_+"px",padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row",alignItems:"stretch"},children:[(0,w.jsxs)("div",{className:"handleKey",ref:ey,style:{display:"flex",flexDirection:"row",alignItems:"center",flex:2},children:[(null==M?void 0:M.deleteable)&&eg?(0,w.jsx)(et,{id:R,left:!0,field:M.field}):null,eR()]}),(0,w.jsxs)("div",{className:"handleValue",title:M.description,style:{minWidth:"180px",marginRight:"10px",display:"flex",flexDirection:"row",justifyContent:"boolean"==M.type?"flex-end":"",alignItems:"center",flex:3},children:[eB(eh),(null==M?void 0:M.deleteable)&&!eg?(0,w.jsx)(et,{id:R,field:M.field}):null]})]}),M.additionalHandlePort?(0,w.jsx)(z.iU,{type:"target",style:{top:"16px"},position:"RIGHT"==W.Hd?S.Ly.Left:S.Ly.Right,id:"".concat(null!=ee?ee:R).concat(E.LL.data).concat(M.field).concat(E.LL.data).concat(M.additionalHandlePort),allowedTypes:["data"]}):null,M.static||eM?null:(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(z.iU,{position:"RIGHT"==W.Hd?S.Ly.Left:S.Ly.Right,id:"".concat(null!=ee?ee:R).concat(E.LL.data).concat(M.field),label:"",nodeId:R,type:"target",style:{marginTop:M.additionalHandlePort?"14px":""},allowedTypes:["data"]})}),"error"==M.type?(0,w.jsx)(S.HH,{type:"source",title:W.te?"".concat(null!=ee?ee:R).concat(E.LL.data).concat(M.field):void 0,style:{width:"15px",height:"15px",backgroundColor:eV,marginRight:"-4px",border:e$+"solid "+eK},position:"RIGHT"==W.Hd?S.Ly.Left:S.Ly.Right,id:"".concat(null!=ee?ee:R).concat(E.LL.data).concat(M.field)}):null,"clause"==M.fieldType?(0,w.jsx)(en,{id:"".concat(null!=ee?ee:R).concat(E.LL.flow).concat(M.field),type:"output",style:{top:"26px"},label:eA?"Default":void 0,isConnected:!!eh}):null,"call"==M.fieldType?(0,w.jsx)(en,{id:R,handleId:"call",type:"input",style:{top:"26px"},isConnected:!!ef.find(o=>o.targetHandle=="".concat(R).concat(E.LL.flow).concat(M.field))}):null]})},ea=o=>{let{id:C,param:j,position:P=null,style:Z={},isConnected:N=!1,dataOutput:T=B.f.data}=o,{getEdges:O}=(0,Y.vM)(),F=(0,z.SY)(O(),"".concat(C).concat(E.LL.data,"output")),A=T==B.f.data?(0,H.ZP)("dataPort"):T==B.f.block?(0,H.ZP)("blockPort"):(0,H.ZP)("flowPort"),M=(0,L.useContext)(I.p),J=M(o=>o.flowInstance),$=(0,H.ZP)("portSize"),K=(0,H.ZP)("nodeBorderColor"),V=(0,H.ZP)("nodeBorderWidth");return(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"column",zIndex:222},children:[j.label?(0,w.jsx)("div",{style:{padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row"},children:(0,w.jsx)(D.Z,{style:{marginRight:"12px"},children:j.label})}):null,(0,w.jsx)(S.HH,{type:"source",style:{marginLeft:-$/4,width:$+"px",height:$+"px",backgroundColor:A,top:$/2+10,border:V+" solid "+K,...Z},position:null!=P?P:"LEFT"==W.Hd?S.Ly.Left:S.Ly.Right,title:W.te?"".concat(C).concat(E.LL.data,"output"):void 0,id:"".concat(C).concat(E.LL.data,"output"),isConnectable:!F,isValidConnection:o=>{let C=(0,R.i)(J,o.targetHandle,[]);if(-1==C.indexOf(T))return!1;let j=(0,z.SY)(O(),o.targetHandle);return!j}})]})},eo=o=>{let{mode:C="column",id:j,params:S,boxStyle:P={},children:D=null,portId:E=null}=o,[Z,N]=L.useState(""),[T,z]=L.useState(null);return(0,L.useEffect)(()=>{if((!Z||S)&&S.length&&S.find(o=>o.field==Z)||N(""),null!==T){let o=S.find(o=>!T.includes(o.field));o&&N(o.field)}z(S.map(o=>o.field))},[S]),(0,w.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:C,...P},children:[S.map((o,C)=>(0,w.jsx)(ei,{onCancelEdit:()=>N(""),editing:o.field==Z,onRequestEdit:o=>Z?null:N(o.field),id:j,param:o,index:C,portId:E},C)),D]})},en=o=>{let{id:C,type:j,style:L,handleId:P,label:D,isConnected:Z=!1,position:N=null,allowedTypes:T=["block","data","flow"]}=o,O=null!=N?N:"RIGHT"==W.Hd?S.Ly.Left:S.Ly.Right;return(0,w.jsx)(z.iU,{position:O,id:"".concat(C).concat(E.LL.flow).concat(null!=P?P:j),type:j,style:{...L,marginLeft:O==S.Ly.Left?-4:0},label:D,isConnected:Z,nodeId:C,allowedTypes:T})},er=o=>{var C,j,S,P;let{adaptiveTitleSize:D=!0,modeParams:E="column",mode:N="column",draggable:T=!0,icon:O=null,container:F=!1,title:H="",children:R,isPreview:A=!1,id:M,params:J=[],output:$={label:"",field:"value",type:"output"},color:K,node:V,skipCustom:G=!1,topics:U,style:X={},dataOutput:Q=B.f.data,contentStyle:ee={}}=o,et=(0,L.useContext)(I.p),el=et(o=>null!==(j=o.nodeData[M])&&void 0!==j?j:{}),ei=et(o=>o.customComponents),en=(0,Y.yt)();(0,z.S5)(en,M);let er=L.useRef(),eu=()=>{if(er.current){let o=er.current.querySelectorAll(".handleKey"),C=0;o.forEach(o=>{var j;let w=null===(j=o.firstElementChild)||void 0===j?void 0:j.offsetWidth;w>C&&(C=w)}),o.forEach(o=>{o.style.width=C+15+"px"})}};if((0,L.useEffect)(()=>eu(),[]),!G){let o=(0,Z.Z)(V,el,ei),C=null==o?void 0:o.getComponent(V,el,U,o);if(C)return C}let ec=!1;for(let o in R)(null===(P=R[o])||void 0===P?void 0:null===(S=P.type)||void 0===S?void 0:S.name)=="HandleOutput"&&(ec=!0);let ep={};return M||(ep.minWidth="200px"),V&&V.data&&V.data.width&&(ep.minWidth=V.data.width+"px"),V&&V.data&&V.data.height&&(ep.minHeight=V.data.height+"px"),!V.id||(null==el?void 0:null===(C=el._metadata)||void 0===C?void 0:C.layouted)||(ep.opacity="0"),(0,w.jsx)(z.ZP,{adaptiveTitleSize:D,mode:N,contentStyle:ee,draggable:T,icon:O,container:F,title:H,isPreview:A,id:M,color:K,node:V,style:{...X,...ep},headerContent:(0,w.jsx)(w.Fragment,{children:ec||A||!$?null:(0,w.jsx)(ea,{id:M,param:$,dataOutput:Q})}),children:(0,w.jsxs)("div",{ref:er,children:[W.te?(0,w.jsx)("div",{children:M}):null,!A&&J?(0,w.jsx)(eo,{mode:E,id:M,params:J}):null,A?null:R]})})};C.ZP=(0,O.Ic)(er)},12041:function(o,C,j){"use strict";j.d(C,{Z:function(){return J}});var w=j(52322),L=j(2784),S=j(85716),P=j(72347),D=j(13873),E=j(45823),Z=j(33361);let N={maxHistorySize:100,enableShortcuts:!1},T=function(){let{maxHistorySize:o=N.maxHistorySize,enableShortcuts:C=N.enableShortcuts}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,j=(0,L.useContext)(E.p),w=j(o=>o.nodeData),S=j(o=>o.setNodesData),[P,D]=(0,L.useState)([]),[T,z]=(0,L.useState)([]),{setNodes:O,setEdges:I,getNodes:W,getEdges:F,deleteElements:H}=(0,Z.vM)(),B=(0,L.useCallback)(C=>{D(j=>[...j.slice(j.length-o+1,j.length),{nodes:W(),edges:F(),nodeData:C||w}]),z([])},[W,F,o]),R=async o=>{var C,j,w,L,S=null!==(w=null===(C=P[P.length-1])||void 0===C?void 0:C.nodeData)&&void 0!==w?w:{},D=null!==(L=null===(j=T[T.length-1])||void 0===j?void 0:j.nodeData)&&void 0!==L?L:{};if((Object.keys(S).length||"undo"!=o)&&(Object.keys(D).length||"redo"!=o))return await O([])},A=(0,L.useCallback)(()=>{let o=P[P.length-1];o&&(D(o=>o.slice(0,o.length-1)),z(o=>[...o,{nodes:W(),edges:F(),nodeData:w}]),O(o.nodes),I(o.edges),Object.keys(o.nodeData).length&&S(o.nodeData))},[O,I,W,F,P,S]),M=(0,L.useCallback)(()=>{let o=T[T.length-1];o&&(z(o=>o.slice(0,o.length-1)),D(o=>[...o,{nodes:W(),edges:F(),nodeData:w}]),O(o.nodes),I(o.edges),Object.keys(o.nodeData).length&&S(o.nodeData))},[O,I,W,F,T,S]);return{undo:A,redo:M,takeSnapshot:B,canUndo:!P.length,canRedo:!T.length,clearNodes:R}};var z=T,O=j(45054),I=o=>{let{onSelectionChange:C}=o;return(0,S.AQ)({onChange:o=>{let{nodes:j,edges:w}=o;return C(j,w)}}),(0,w.jsx)(w.Fragment,{})},W=j(92467),F=j(15729);let H=(0,W.Z)(o=>({zoom:0,setZoom:C=>o((0,F.ZP)(o=>{o.zoom=C}))}));var B=o=>{let{zoom:C}=o;try{H(o=>o.setZoom),(0,S.oR)(o=>o.transform[2])}catch(o){console.error(o)}return(0,w.jsx)(w.Fragment,{})},R=j(64509);let A=L.forwardRef((o,C)=>{var j,N;let{componentsMenu:T=(0,w.jsx)(w.Fragment,{}),disableMiniMap:W=!1,disableDots:F=!1,zoomOnDoubleClick:H=!0,edgeTypes:R=[],nodeTypes:A=[],edges:M=[],nodes:J=[],onInit:$=o=>{},onNodesChange:K=()=>{},onEdgesChange:V=()=>{},onConnect:G=()=>{},style:U={},onSelectionChange:Y=()=>{},onNodeClick:X=()=>{},onNodesDelete:Q,children:ee=null,topics:et,themeMode:el="light",theme:ei={},primaryColor:ea="#ccc",defaultViewPort:eo={x:100,y:window.innerHeight/4,zoom:.8},onViewPortChange:en=()=>{},nodePreview:er="flow",defaultSelected:eu=()=>void 0,onNodeInitializationStatusChange:ec=o=>void 0}=o,ep=(0,L.useRef)(null),ef=(null===(N=ep.current)||void 0===N?void 0:null===(j=N.getBoundingClientRect())||void 0===j?void 0:j.height)>0,eh=(0,L.useContext)(E.p),eg=eh(o=>o.nodeData),em=eh(o=>o.setThemeMode),[ev,ex]=(0,L.useState)([]),{project:ey,setViewport:eb,getNodes:eC,getViewport:ej,setCenter:ew,setEdges:eL,getEdges:ek,setNodes:eS}=(0,Z.vM)(),eP=(0,S.B)();(0,L.useEffect)(()=>ec(eP),[eP]);let{undo:e_,redo:eD,takeSnapshot:eE,clearNodes:eZ}=z(),eN=(0,L.useRef)(null),eT=eh(o=>o.setMenu),ez=eh(o=>o.setNodeData),[eO,eI]=(0,L.useState)([]),{data:eW,publish:eF}=et,eH="preview"===er,eB=(0,L.useCallback)(o=>{o.preventDefault(),o.dataTransfer.dropEffect="move"},[]),eR=(0,L.useCallback)(()=>{eE()},[eE]),eA=(0,L.useCallback)(()=>{eE()},[eE]),eM=(0,L.useCallback)(o=>{Q(o),eE()},[eE,eF]),eJ=o=>{o.forEach(o=>{let C=o.target,j=eg[C],w=o.targetHandle.replace(C,"").slice(1),L=A[C.split("_")[0]];L.type&&(L=L.type),w&&(L.onDeleteConnection?ez(C,L.onDeleteConnection(j,w)):ez(C,{...j,[w]:""}))})},e$=(0,L.useCallback)(o=>{eJ(o),eE()},[eE,eg]),eK=o=>{eE(),G(o)},eV=(0,L.useCallback)((o,C)=>{eN.current=C},[]),eq=(0,L.useCallback)(o=>{var C;let j=o.target.classList.contains("react-flow__pane");j&&(null===(C=eN.current)||void 0===C?void 0:C.handleType)=="target"&&eT("open",[o.clientX,o.clientY],{target:eN.current.nodeId,targetHandle:eN.current.handleId})},[ey]),eG=()=>{eL(o=>o.map(o=>({...o,hidden:!1}))),eS(o=>o.map(o=>({...o,hidden:!1})))},eU=o=>{let C=[o],j=ek().filter(C=>C.target==o);return j.length&&j.forEach(o=>{C=C.concat(...eU(o.source))}),C},eY=o=>{let C=eU(o);eL(o=>o.map(o=>({...o,hidden:!C.includes(o.target)}))),eS(o=>o.map(o=>({...o,hidden:!C.includes(o.id)})))},eX=o=>{o&&(eL(o=>o.map(o=>({...o,hidden:!0}))),eS(C=>C.map(C=>({...C,hidden:C.id!=o}))))},eQ=(0,L.useCallback)(o=>{setTimeout(()=>{var C,j,w;let L=eC().find((C,j)=>(w=j,C.id==o));if(!L)return;let S=null===(C=ep.current)||void 0===C?void 0:C.offsetWidth;if(!S)return;let P=null===(j=ep.current)||void 0===j?void 0:j.offsetHeight,D=eH?10:50,E=L.position.x+L.width/2,Z=L.position.y+P/2-D;ew(E,Z,{zoom:1,duration:eH?1:500})},80)},[ew,er,J]),e0=()=>{switch(er){case"preview":eX(eO[0]);break;case"flow-preview":eY(eO[0]);break;case"flow":eG();break;default:console.error("Unauthorized value for nodePreview: ",er)}};(0,O.Z)(["z","Z"],async o=>{if(ef){if(("z"==o.key||"Z"==o.key)&&(o.ctrlKey||o.metaKey)&&o.shiftKey)return o.preventDefault(),await eZ("redo"),eD();if(("z"==o.key||"Z"==o.key)&&(o.ctrlKey||o.metaKey))return o.preventDefault(),await eZ("undo"),e_()}}),(0,L.useEffect)(()=>{em(el,ei,ea)},[el,ei,ea]),(0,L.useEffect)(()=>{ev.push(eg),ex(ev),ep.current&&(ep.current.nodeData=eg)},[eg]),(0,L.useEffect)(()=>{var o,C,j;if(!document.activeElement)return;let w=null===(o=document.activeElement.id)||void 0===o?void 0:o.includes("input"),L=null===(C=document.activeElement.id)||void 0===C?void 0:C.includes("select"),S=null===(j=document.activeElement.id)||void 0===j?void 0:j.includes("delete-button"),P=ev[ev.length-2];P&&(L||w||S)&&Object.keys(P).length&&eE(P)},[document.activeElement]),(0,L.useEffect)(()=>{var o;let C=null===(o=eW.zoomToNode)||void 0===o?void 0:o.id;if(C){if(eO[0]==C)return;eO[0]=C,eI([...eO])}},[eW.zoomToNode]),(0,L.useEffect)(()=>{let o=new IntersectionObserver(o=>{let[C]=o;C.isIntersecting&&!1==ep.current.open&&!eO[0]&&(eO[0]=eu(ep.current.nodeData),eI([...eO])),ep.current&&(ep.current.open=C.isIntersecting)},{threshold:.5});return ep.current&&o.observe(ep.current),()=>{o.disconnect()}},[]),(0,L.useEffect)(()=>{e0(),eQ(eO[0])},[er,eO[0]]);let e1={hideAttribution:!0};return(0,w.jsxs)("div",{style:{width:"100%",height:"100%"},ref:C,children:[(0,w.jsx)(I,{onSelectionChange:Y}),(0,w.jsx)("div",{style:{height:"100%"},ref:ep,children:(0,w.jsxs)(S.x$,{onMoveEnd:o=>en(ej()),defaultViewport:eo,proOptions:e1,nodeTypes:A,nodes:J,edges:M,zoomOnDoubleClick:H,onNodesChange:K,onEdgesChange:V,onConnectStart:eV,onConnectEnd:eq,onConnect:eK,onNodeDragStart:eR,onSelectionDragStart:eA,onNodesDelete:eM,onEdgesDelete:e$,onNodeClick:X,style:{cursor:"pointer",...U},onDragOver:eB,edgeTypes:R,zoomOnScroll:"preview"!==er,panOnDrag:"preview"!==er,minZoom:.05,maxZoom:2,onInit:o=>{$(o)},children:[W?null:(0,w.jsx)(P.a,{zoomable:!0,pannable:!0}),F?null:(0,w.jsx)(D.A,{}),(0,L.cloneElement)(T,{takeSnapshot:eE,reactFlowWrapper:ep}),ee,(0,w.jsx)(B,{zoom:eo.zoom})]})})]})}),M=o=>{var C;let j=(0,L.useRef)(null);return(0,w.jsx)(Z.NH.Provider,{value:{nodePreview:o.nodePreview,flowsHeight:null===(C=j.current)||void 0===C?void 0:C.offsetHeight},children:(0,w.jsx)(S.tV,{children:(0,w.jsx)(A,{ref:j,...o})})})};var J=L.memo((0,R.Ic)(M,{topics:["zoomToNode","flow/editor"]}))},53600:function(o,C,j){"use strict";j.d(C,{S5:function(){return M},SY:function(){return A},iU:function(){return R}});var w=j(52322),L=j(2784),S=j(94533),P=j(85716),D=j(5392),E=j.n(D),Z=j(45823),N=j(77044),T=j(33361),z=j(72405),O=j(2003),I=j(33248),W=j(34389),F=j(86130),H=j(57643);let B=o=>{var C;let{adaptiveTitleSize:j=!0,mode:P="column",draggable:D=!0,icon:T=null,container:O=!1,title:I="",children:W,isPreview:B=!1,id:R,color:A="white",node:M,headerContent:J=null,style:$={},contentStyle:K={}}=o,V=(0,L.useContext)(Z.p),G=V(o=>o.errorData),U=(0,L.useRef)(),Y=(0,L.useRef)(),X=(null==M?void 0:null===(C=M.data)||void 0===C?void 0:C.preview)=="node",Q=K,ee=R&&R==G.id,et=!R||-1==R.indexOf("_"),el=(0,z.ZP)("colorError");A=ee?el:!B&&et?E().scale([A,"white"])(.5).hex():A;let ei=E().scale([A,"black"])(.6).hex(),ea=(0,z.ZP)("titleColor"),eo=(0,z.ZP)("borderColor"),en=ee?el:eo,er=(0,z.ZP)("borderWidth"),eu=(0,z.ZP)("nodeBackgroundColor"),ec=(0,H.XI)(U),ep=(0,z.ZP)("nodeFontSize")/100*100,ef=(0,z.ZP)("selectedColor"),eh="12px ",eg="column"==P?eh+eh+" 0px 0px":eh+"0px 0px "+eh;if(M&&M.data&&M.data.flowsHeight&&X){let o=M.data.flowsHeight-20;Q.height=o+"px",Q.maxHeight=o+"px",Q.overflow="scroll",Q.overflowX="hidden"}let em=()=>X||O?"none":!B&&(null==M?void 0:M.selected)?"0px 0px 0px 2px "+ef:(0,F.p)(ec?10:3);return(0,w.jsxs)("div",{id:R,ref:U,style:{display:"flex",minHeight:B?"30px":"80px",flexDirection:P,borderRadius:13,textAlign:"center",fontSize:(0,z.ZP)("nodeFontSize"),boxShadow:em(),cursor:X?"default":void 0,...$},className:D?"":"nodrag",children:[(I||J)&&!X?(0,w.jsxs)("div",{ref:Y,style:{display:"flex",backgroundColor:A,borderRadius:B?"8px":eg,borderBottom:"column"!=P||B?"0px":er+" solid "+en,paddingBottom:"10px",justifyContent:"center"},children:[T&&"LEFT"==N.Hd?(0,w.jsx)("div",{style:{display:"flex",right:"15px",position:"absolute",top:"8px"},children:L.createElement(T,{size:R?ep:"18px",color:ei})}):null,I?(0,w.jsx)(S.Z,{style:{fontSize:R?ep:"18px",padding:"0px 10px 0px 10px",color:ea,flex:1,textAlign:"center",alignSelf:"center",position:"relative",top:"4px",fontFamily:"Jost-Medium",maxWidth:"15ch",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:I}):null,T&&"RIGHT"==N.Hd?(0,w.jsx)("div",{style:{display:"flex",left:"10px",position:"absolute",top:"8px"},children:L.createElement(T,{size:R?ep:"18px",color:ei})}):null,J]}):null,B?(0,w.jsx)(w.Fragment,{}):(0,w.jsx)("div",{className:X?"nowheel":"",style:{borderRadius:"0px 0px "+eh+eh,backgroundColor:O?"transparent":eu,flex:1,paddingTop:"0.5ch",paddingBottom:"0.5ch",...Q},children:W})]})},R=o=>{var C,j;let{id:D,type:E,style:F,label:H,isConnected:B=!1,nodeId:R,position:M=P.Ly.Right,allowedTypes:J}=o,$=(0,L.useRef)(),K=(0,L.useRef)(),V=(0,L.useContext)(Z.p),G=V(o=>o.setMenu),U=V(o=>o.flowInstance),Y=160,X=M==P.Ly.Right?"-".concat(Y,"px"):"25px",Q=(0,T.yt)(),ee=A(Q,D),et=(0,z.ZP)("portSize"),el=(0,z.ZP)("plusColor"),ei=(0,z.ZP)("nodeBorderColor"),ea=(0,z.ZP)("nodeBorderWidth"),eo=(null===(C=Q[0])||void 0===C?void 0:C.data)&&(null===(j=Q[0])||void 0===j?void 0:j.data.preview)=="node",en=()=>{G("open",[(null==K?void 0:K.current.getBoundingClientRect().right)+200,(null==K?void 0:K.current.getBoundingClientRect().top)-30],{targetHandle:D,target:R})},er=J?J.includes("block")?(0,z.ZP)("blockPort"):(0,z.ZP)("flowPort"):null;1==J.length&&J.includes("data")&&(er=(0,z.ZP)("dataPort")),L.useEffect(()=>{(0,I.c)(U,D,J)},[J]);let eu=Math.floor(-(et/3.5*1));return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(P.HH,{ref:K,tabIndex:ee?-1:0,title:N.te?D:void 0,onClick:()=>en(),onKeyDown:o=>"Enter"==o.code?en():null,type:"target",position:M,style:{backgroundColor:er,display:eo?"none":"flex",flexDirection:"row",alignItems:"center",border:ea+" solid "+ei,width:et+"px",height:et+"px",marginLeft:"",marginRight:eu+"px",cursor:"pointer",...F},id:D,isConnectable:!ee,isValidConnection:o=>{let C=o.source.split("_")[0],j=O.$[C];if(j){var w;let o=null!==(w=j.type)&&void 0!==w?w:j,C=o&&o.dataOutput?o.dataOutput:"data";if(-1==J.indexOf(C))return!1}let L=A(Q,o.sourceHandle);return!L},children:[H?(0,w.jsx)("div",{style:{display:"flex",width:"".concat(Y,"px"),marginLeft:X,zIndex:-1,justifyContent:"flex-end"},children:(0,w.jsx)(S.Z,{ref:$,style:{marginRight:"5px",textAlign:M==P.Ly.Right?"right":"left"},children:H})}):null,ee?null:(0,w.jsx)("div",{style:{pointerEvents:"none",width:et+"px",height:et+"px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,w.jsx)(W.Z,{color:el,size:10,strokeWidth:5})})]})})},A=(o,C)=>o.find(o=>o.targetHandle==C||o.sourceHandle==C),M=(o,C)=>o.find(o=>o.target==C||o.source==C);C.ZP=(0,L.memo)(B)},41447:function(o,C,j){"use strict";j.d(C,{Z:function(){return M}});var w=j(52322),L=j(2784),S=j(72405),P=j(84291),D=j(52026),E=j(6364),Z=j(56701),N=j(66754),T=j(59240);let z=function(){var o;let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$true",j=arguments.length>1?arguments[1]:void 0;if(j.props.multiline||j.props.numberOfLines>1)return O(C,j);let w=(0,Z.f)(C,j),L=(0,T.Pj)(C,{shift:-1,bounds:[2]}),S=(0,N.H)(C,j);return!D.isWeb&&S&&delete S.lineHeight,{...S,fontSize:null!==(o=S.fontSize.val)&&void 0!==o?o:S.fontSize,...w,paddingHorizontal:L}},O=function(){var o;let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$true",j=arguments.length>1?arguments[1]:void 0,{props:w}=j,L=(0,Z.f)(C,j),S=(0,N.H)(C,j),P=null!==(o=w.rows)&&void 0!==o?o:w.numberOfLines,E="number"==typeof P?P*(0,D.getVariableValue)(S.lineHeight):"auto",z=(0,T.Pj)(C,{shift:-2,bounds:[2]}),O=(0,T.Pj)(C,{shift:-1,bounds:[2]});return{...L,...S,paddingVertical:z,paddingHorizontal:O,height:E}};j(79711);let I=o=>{let{value:C}=o;return(0,w.jsx)("option",{value:C})},W=o=>{let{children:C,options:j=[],...L}=o,S="input-select-"+(0,E.Z)();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("input",{list:S,...L,style:{fontSize:L.fontSize,...L.style}}),(0,w.jsxs)("datalist",{className:"datalist",id:S,children:[C,j.map((o,C)=>(0,w.jsx)(I,{value:o},C))]})]})},F={size:"$true",fontFamily:"$body",borderWidth:1,outlineWidth:0,color:"$color",...D.isWeb?{tabIndex:0}:{focusable:!0},borderColor:"$borderColor",backgroundColor:"$background",minWidth:0,hoverStyle:{borderColor:"$borderColorHover"},focusStyle:{outlineColor:"$borderColorFocus",outlineWidth:2,outlineStyle:"solid",borderColor:"$borderColorFocus"}},H=(0,D.styled)(W,{name:"Input",acceptsClassName:!0,variants:{unstyled:{false:F},size:{"...size":z}},defaultVariants:{unstyled:!1}},{isInput:!0}),B=H.styleable((o,C)=>{let j=(0,P.kp)(o,C);return(0,w.jsx)(H,{...j})}),R=(0,D.withStaticProperties)(B,{Option:I}),A=L.forwardRef((o,C)=>{let j=(0,S.ZP)("nodeBorderColor");return(0,w.jsx)(R,{unstyled:!0,...o,ref:C,style:{fontSize:(0,S.ZP)("nodeFontSize"),fontFamily:"Jost-Regular",border:(0,S.ZP)("inputBorder"),color:o.readOnly?(0,S.ZP)("disableTextColor"):(0,S.ZP)("textColor"),backgroundColor:(0,S.ZP)("inputBackgroundColor"),padding:"0.35ch",paddingLeft:"1ch",borderRadius:"0.5ch",display:"flex",flex:1,width:"100%",boxSizing:"border-box",cursor:o.readOnly?"grab":"text",...o.style},onFocus:C=>{C.currentTarget.style.boxShadow="inset 0px 0px 0px 2px "+j,o.onFocus&&o.onFocus(C)},onBlur:C=>{C.currentTarget.style.boxShadow="",o.onBlur&&o.onBlur(C)},children:o.children})});var M=A},60884:function(o,C,j){"use strict";var w=j(52322);j(2784);var L=j(72405),S=j(81395);let P=o=>{var C;let j=C=>{let j=C.target.value;o.onChange({label:j,value:j})};return(0,w.jsxs)("div",{style:{position:"relative"},children:[(0,w.jsx)("select",{value:o.defaultValue.value,onClick:j,onChange:j,style:{width:"100%",boxSizing:"border-box",backgroundColor:(0,L.ZP)("inputBackgroundColor"),color:(0,L.ZP)("textColor"),fontFamily:"Jost-Regular",fontSize:(0,L.ZP)("nodeFontSize"),border:(0,L.ZP)("inputBorder"),padding:"0.35ch",paddingLeft:"1ch",paddingRight:"1ch",flex:1,display:"flex",borderRadius:"0.5ch",appearance:"none"},children:null===(C=o.options)||void 0===C?void 0:C.map(o=>(0,w.jsx)("option",{value:o.value,children:o.label},o.label))}),(0,w.jsx)(S.Z,{style:{position:"absolute",right:"10px",top:(0,L.ZP)("nodeFontSize")/2}})]})};C.Z=P},94533:function(o,C,j){"use strict";var w=j(52322);j(2784);var L=j(72405);let S=o=>{let C=(0,L.ZP)("nodeFontSize");return(0,w.jsx)("span",{...o,style:{whiteSpace:"nowrap",textOverflow:"ellipsis",fontFamily:"Jost-Regular",paddingLeft:"0.4em",paddingRight:"0.4em",fontSize:C+"px",color:(0,L.ZP)("textColor"),...o.style},title:o.children,children:o.children})};C.Z=S},72405:function(o,C,j){"use strict";j.d(C,{H:function(){return H},o9:function(){return F},v8:function(){return R},we:function(){return B}});var w=j(2784),L=j(45823),S=j(2003),P=j(50841),D=j.n(P),E=j(55230);let Z={nodeBorderWidth:"1px",nodeFontSize:20,nodeEdgeWidth:3,nodeEdgeStyle:"7 5"};Z.portSize=20,Z.borderWidth=0,Z.borderWidthSelected=0,Z.borderRadiusSelected=13;let N="#888",T={light:{...Z,nodePalette:{gamut:{hue:20,saturation:30,value:90},custom:{}},plusColor:"#999",edgeColor:"#888",nodeBackgroundColor:"#fdfdfd",inputBackgroundColor:"white",inputBorder:"1px solid #ccc",textColor:"#666",selectedColor:"#2680EB",disableTextColor:"#ccc",interactiveColor:"#4fc2f7",interactiveHoverColor:"rgba(79, 194, 247, 0.1)",borderColor:"#888",colorError:"#EF4444",handleBorderColor:"white",flowOutputColor:"white",dataOutputColor:"black",highlightInputBackgroundColor:"#F1F1F1",blockPort:"#fefefe",flowPort:"#fefefe",dataPort:"#fefefe",nodeBorderColor:"#aaa",titleColor:"#333",containerColor:"#00000005",separatorColor:"#D4D4D4",borderColorSelected:"#222",boxShadowSelected:""},dark:{...Z,nodePalette:{gamut:{hue:20,saturation:60,value:90},custom:{}},plusColor:"white",handleBorderColor:"black",edgeColor:N,nodeBackgroundColor:"#303030",inputBackgroundColor:"#404040",inputBorder:"0",textColor:"#e5e5e5",selectedColor:"#2680EB",disableTextColor:"grey",interactiveColor:"#4772b3",interactiveHoverColor:"#252525",borderColor:N,colorError:"#EF4444",flowOutputColor:"grey",dataOutputColor:"black",highlightInputBackgroundColor:"#222222",blockPort:"black",flowPort:"grey",dataPort:"grey",nodeBorderColor:N,titleColor:"black",containerColor:"#FFFFFF05",separatorColor:"#424242",borderColorSelected:"white",boxShadowSelected:""}},z=function(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,j=(0,w.useContext)(L.p),S=j(o=>o.themeMode),P=j(o=>o.themeOverride),D={...T[S],...P};try{let C=D[o];return C}catch(o){return C}},O=Object.keys(S.Z),I=O.length,W=(o,C,j)=>{let w=Math.max(void 0!==o?O.indexOf(o):j,0),L=100*(I/(w+1))+C.hue%100;return"#"+D().hsv.hex(L,C.saturation,C.value)},F=(o,C)=>{let j=z("nodePalette",{}),w=j.gamut;var L=o<0?0:o;let S=100*(C/(L+1))+w.hue%100;return"#"+D().hsv.hex(S,w.saturation,w.value)},H=o=>{let C=z("nodePalette",{});return o&&C.custom[o]?C.custom[o]:W(o,C.gamut)},B=o=>{let C=z("nodePalette",{});return W(void 0,C.gamut,o)},R=()=>{let o=z("nodePalette",{}),C=(0,w.useContext)(L.p),j=C(o=>o.primaryColor),S=C(o=>o.themeMode);return"dark"==S?"#"+D().hsv.hex((0,E.Vi)(j).hue(),o.gamut.saturation-10,o.gamut.value+5):"#"+D().hsv.hex((0,E.Vi)(j).hue(),o.gamut.saturation,o.gamut.value)};C.ZP=z},64352:function(o,C,j){"use strict";j.d(C,{Z:function(){return ee}});var w=j(96325),L=j.n(w),S=j(77044);let P={"elk.algorithm":"layered","elk.direction":S.Hd,"elk.layered.considerModelOrder.strategy":"NODES_AND_EDGES","elk.hierarchyHandling":"SEPARATE_CHILDREN","elk.layered.crossingMinimization.forceNodeModelOrder":!0,"elk.layered.crossingMinimization.strategy":"LAYER_SWEEP","elk.layered.spacing.nodeNodeBetweenLayers":"350","elk.spacing.nodeNode":"160"},D=function(o){var C;arguments.length>1&&void 0!==arguments[1]&&arguments[1];let j=arguments.length>2?arguments[2]:void 0,w=j.filter(C=>C.target==o.id).length,L=40*Math.max(0,w-1);return{layoutOptions:(null===(C=o.children)||void 0===C?void 0:C.length)?P:{},id:o.id,width:o.width+L,height:o.height,children:o.children?o.children.map((o,C)=>D(o,C,j)):[]}},E=async(o,C,j)=>{let w=new(L()),S={id:"root",layoutOptions:{...P,"elk.hierarchyHandling":"INCLUDE_CHILDREN"},children:o.map(o=>D(o,0,C)),edges:[]},E=o=>{let j=[],w=(o,L,S)=>{let P={...o};if(delete P.children,S&&(P.parentNode=S),j.push(P),o.children&&o.children.length){let j=C.find(C=>C.source==o.children[0].id);if(j){let w=JSON.parse(JSON.stringify(j));w.source=o.id,w.sourceHandle=o.id+"-output",C.push(w)}o.children.forEach(C=>w(C,L,o.id))}};return o.forEach(o=>w(o,S,null)),j},Z=E(o);C.filter(o=>Z.find(C=>C&&C.id==o.source)&&Z.find(C=>C&&C.id==o.target)).sort((o,C)=>{let j=o.targetHandle.split("_"),w=C.targetHandle.split("_"),L=j[j.length-1],S=w[w.length-1];if(L.startsWith("block")&&S.startsWith("block")&&o.target==C.target){let o=parseInt(L.substr(5),10),C=parseInt(S.substr(5),10);return o-C}return 0}).forEach((o,C)=>{S.edges.push({id:o.id,sources:[o.source],targets:[o.target]})}),await w.layout(S),S.children[0];var N={};let T=o=>o.forEach(o=>{let C=Z.find(C=>C.id==o.id);if(C){N[C.id]={layouted:!0};let j=o.x,w=o.y;C.position={x:j,y:w},o.children&&o.children.length&&(C.data.height=o.height,C.data.width=o.width)}o&&o.children&&T(o.children)});return T(S.children),{nodes:Z,edges:C,metadata:N}};var Z=E,N=j(2003);let T=(o,C,j)=>{let w=o.filter(o=>C.find(C=>C.source==o.id&&C.target==j.id)).map(o=>({node:o,edge:C.find(C=>C.source==o.id&&C.target==j.id)}));return w},z=1,O=1,I=120,W=100;function F(o){return new Promise(C=>setTimeout(C,o))}let H=function(o,C,j){var w,L,S;let P,D,E=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0},Z=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},F=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{x:0},B=T(o,C,j),R=N.$[j.type];if(j.position={x:E.x,y:E.y},j.data={...j.data,layouted:!0},R){let o=null!==(w=R.type)&&void 0!==w?w:R;o&&o.getPosition&&(E=o.getPosition(E,j.type))}let A=E.y,M=E.x,J=j.width;if(R){let o=null!==(L=R.type)&&void 0!==L?L:R;o&&o.getWidth&&(J=o.getWidth(j))}let $=z,K=O;if(R){let o=null!==(S=R.type)&&void 0!==S?S:R;if(o&&o.getSpacingFactor){let{factorX:C,factorY:w}=o.getSpacingFactor(j);$=C,K=w}}let V=J+I*$;E.x+=V;let G=[],U=0;B.forEach(async w=>{if(R){var L;let o=null!==(L=R.type)&&void 0!==L?L:R;o&&o.getChildPosition&&(E=o.getChildPosition(j,E,{x:M,y:A},w,j.type))}P={...E},D={x:0},H(o,C,w.node,E,Z,D),G.push({pos:{...P},delta:{x:P.x-j.position.x,y:P.y-A},width:D.x-F.x,height:E.y-A,node:w}),D.x>U&&(U=D.x)}),F.x+=V+U,Z[j.id]={layouted:!0,childWidth:F.x,childHeight:E.y-A,childHeights:G},E.x-=J+I*$;let Y="Block"==j.type||"CaseClause"==j.type||"DefaultClause"==j.type?Z[j.id].childHeight?Z[j.id].childHeight+100:0:j.height;return E.y+=E.y-A>Y+W*K?0:Y+W*K-(E.y-A),Z},B=async(o,C,j)=>{let w=o.map(o=>({...o}));await F(1);let L=H(w,C,j);return await F(1),{nodes:w,edges:C,metadata:L}};var R=B;let A=(o,C,j)=>{let w=o.filter(o=>C.find(C=>C.source==o.id&&C.target==j.id)).map(o=>({node:o,edge:C.find(C=>C.source==o.id&&C.target==j.id)}));return w},M=1,J=1,$=120,K=100;function V(o){return new Promise(C=>setTimeout(C,o))}function G(o){var C;return Object.keys(o).forEach(j=>{o[j]._devicePositioning&&(C={id:j,...o[j]})}),C}function U(o,C){let j=o.filter(o=>o.source==C);return j[0]}let Y=[],X=function(o,C,j,w){let L,S,P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0},D=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{x:0};console.log("----- ENTER ON computeLayout -----"),console.log("Nodes: ",o),console.log("Edges: ",C),console.log("Node: ",j);let Z=A(o,C,j),T=N.$[j.type];var z,O,I,W="n";let F=G(w);if(j.id!=(null==F?void 0:F.id)){let o=U(C,j.id);console.log("nodePositionReference: ",W=F._devicePositioning.filter(C=>{if(C)return C.includes(o.targetHandle.split("element-")[1])})[0].split("-")[1])}if(j.position={x:"r"==W?-1500+P.x:P.x,y:P.y},j.data={...j.data,layouted:!0},Y.push({node:j}),console.log("Metas: ",Y),T){let o=null!==(z=T.type)&&void 0!==z?z:T;o&&o.getPosition&&(P=o.getPosition(P,j.type))}let H=P.y,B=P.x,R=j.width;if(T){let o=null!==(O=T.type)&&void 0!==O?O:T;o&&o.getWidth&&(R=o.getWidth(j))}let V=M,Q=J;if(T){let o=null!==(I=T.type)&&void 0!==I?I:T;if(o&&o.getSpacingFactor){let{factorX:C,factorY:w}=o.getSpacingFactor(j);V=C,Q=w}}let ee=R+$*V;P.x+=ee;let et=[],el=0;Z.forEach(async Z=>{if(T){var N;let o=null!==(N=T.type)&&void 0!==N?N:T;o&&o.getChildPosition&&(P=o.getChildPosition(j,P,{x:B,y:H},Z,j.type))}L={...P},S={x:0},X(o,C,Z.node,w,P,D,S),et.push({pos:{...L},delta:{x:L.x-j.position.x,y:L.y-H},width:S.x-E.x,height:P.y-H,node:Z}),S.x>el&&(el=S.x)}),E.x+=ee+el,D[j.id]={layouted:!0,childWidth:E.x,childHeight:P.y-H,childHeights:et},P.x-=R+$*V;let ei="Block"==j.type||"CaseClause"==j.type||"DefaultClause"==j.type?D[j.id].childHeight?D[j.id].childHeight+100:0:j.height;return P.y+=P.y-H>ei+K*Q?0:ei+K*Q-(P.y-H),D},Q=async(o,C,j,w)=>{let L=o.map(o=>({...o}));console.log("Enter computeLayout: ",L,C,j);let S=X(L,C,j,w);return console.log("Returning from computeLayout: ",S),await V(1),{nodes:L,edges:C,metadata:S}};var ee={elk:Z,code:R,device:Q}},54398:function(o,C,j){"use strict";j.d(C,{D:function(){return W}});var w=j(52322),L=j(2784),S=j(72405),P=j(45823),D=j(38519),E=j(13153),Z=j(63044),N=j(95602),T=j(86486),z=j(73429),O=j(41447),I=j(69685);let W=()=>["input"];C.Z=o=>{var C;let{nodeData:j={},item:W,node:F}=o,H=(0,L.useContext)(P.p),B=H(o=>o.setNodeData),{field:R,label:A,type:M,menuActions:J}=W,$=j[R],K=(0,I.oe)(R,j),[V,G]=(0,L.useState)(K),U={StringLiteral:E.Z,NumericLiteral:Z.Z,TrueKeyword:N.Z,ObjectLiteralExpression:T.Z,FalseKeyword:N.Z,Identifier:z.Z},Y=Object.keys(U).filter(o=>"Identifier"!=o),X=Y[0],Q=null!==(C=null==$?void 0:$.kind)&&void 0!==C?C:X,ee=o=>{B(F.id,{...j,[R]:(0,I.Jf)(o,R,j)})},et=()=>{B(F.id,{...j,[R]:{...$,kind:Y[(Y.indexOf(Q)+1)%(Y.length-1)]}})},el=()=>{{var o;let C=Y.includes(Q),j="detailed"==(0,I.Ql)(R);return(0,w.jsxs)(w.Fragment,{children:[U[Q]&&j?(0,w.jsx)("div",{style:{padding:"8px",justifyContent:"center",position:"absolute",zIndex:100,cursor:C?"pointer":""},onClick:C?et:null,children:L.createElement(U[Q],{size:16,color:C?(0,S.ZP)("interactiveColor"):(0,S.ZP)("disableTextColor")})}):(0,w.jsx)(w.Fragment,{}),(0,w.jsx)(O.Z,{onBlur:()=>ee(V),style:{fontSize:(0,S.ZP)("nodeFontSize"),fontWeight:"medium",paddingLeft:j?"38px":void 0},options:null===(o=W.data)||void 0===o?void 0:o.options,value:V,placeholder:"default",onChange:o=>G(o.target.value)})]})}};return(0,w.jsx)(D.Jf,{label:A,input:el(),menuActions:J})}},38519:function(o,C,j){"use strict";j.d(C,{Jf:function(){return eL},ly:function(){return ew},Ep:function(){return ej},aP:function(){return eC}});var w=j(52322),L=j(2784),S=j(72405),P=j(94533),D=j(45823),E=j(34854),Z=j(47416),N=j(76588),T=j(51619),z=j(62200),O=j(34550),I=j(27995),W=j(34498),F=j(40971),H=j(11059),B=j(51801),R=j(35034),A=j(3368),M=j(76515),J=j(12966),$=j(33511),K=j(97894),V=j(69685);let G=()=>["alignment-text","alignment-items","alignment-flex","alignment-content"];var U=o=>{let{nodeData:C={},item:j,node:P}=o,G=(0,L.useContext)(D.p),U=G(o=>o.setNodeData),Y=G(o=>o.deletePropNodeData),X=(0,S.ZP)("interactiveColor"),Q=(0,S.ZP)("disableTextColor"),{field:ee,label:et,type:el,fieldType:ei,menuActions:ea}=j,eo=ee.replace(ei+"-",""),en=(0,V.oe)(ee,C),er=eu();function eu(){var o,j;let w="0deg",L=!!(null===(j=C["prop-flexDirection"])||void 0===j?void 0:null===(o=j.value)||void 0===o?void 0:o.startsWith("row"));return L&&(w="alignItems"==eo?"90deg":"-90deg"),w}let ec=o=>en==o?X:Q,ep=o=>{en==o?Y(P.id,ee):U(P.id,{...C,[ee]:(0,V.Jf)(o,ee,C)})},ef=o=>{let{icon:C,name:j,rotate:S="0deg"}=o;return(0,w.jsx)("div",{title:j,style:{cursor:"pointer",rotate:S},onClick:()=>ep(j),children:L.createElement(C,{color:ec(j)})})},eh=()=>{switch(el){case"alignment-text":return(0,w.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,w.jsx)(ef,{icon:E.Z,name:"left"}),(0,w.jsx)(ef,{icon:Z.Z,name:"center"}),(0,w.jsx)(ef,{icon:N.Z,name:"right"}),(0,w.jsx)(ef,{icon:T.Z,name:"justify"})]});case"alignment-items":return(0,w.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,w.jsx)(ef,{rotate:er,icon:z.Z,name:"start"}),(0,w.jsx)(ef,{rotate:er,icon:O.Z,name:"center"}),(0,w.jsx)(ef,{rotate:er,icon:I.Z,name:"end"}),(0,w.jsx)(ef,{rotate:er,icon:W.Z,name:"stretch"})]});case"alignment-flex":return(0,w.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,w.jsx)(ef,{icon:F.Z,name:"row"}),(0,w.jsx)(ef,{icon:H.Z,name:"row-reverse"}),(0,w.jsx)(ef,{icon:B.Z,name:"column"}),(0,w.jsx)(ef,{icon:R.Z,name:"column-reverse"})]});case"alignment-content":return(0,w.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,w.jsx)(ef,{rotate:er,icon:A.Z,name:"start"}),(0,w.jsx)(ef,{rotate:er,icon:M.Z,name:"center"}),(0,w.jsx)(ef,{rotate:er,icon:J.Z,name:"end"}),(0,w.jsx)(ef,{rotate:er,icon:$.Z,name:"space-between"}),(0,w.jsx)(ef,{rotate:er,icon:K.Z,name:"space-around"})]})}};return(0,w.jsx)(eL,{label:et,input:eh(),menuActions:ea})},Y=j(6226),X=j(41447),Q=j(86838),ee=j(2350),et=j(25228),el=j(16399);let ei=o=>{let{onPress:C=o=>{},selected:j=!1,...L}=o;return(0,w.jsx)("div",{onClick:C,style:{padding:"5px",backgroundColor:j?(0,S.ZP)("interactiveColor"):(0,S.ZP)("inputBackgroundColor"),display:"flex",alignContent:"center",alignItems:"center"},...L})},ea=()=>["color","color-theme"];var eo=o=>{var C;let{nodeData:j={},node:E,item:Z}=o,{resolvedTheme:N}=(0,el.P)(),T=null!=N?N:"light",z=T.charAt(0).toUpperCase()+T.slice(1),O="10"+z,I=(0,L.useContext)(D.p),W=I(o=>o.setNodeData),F=I(o=>o.metadata),H=null==F?void 0:null===(C=F.tamagui)||void 0===C?void 0:C.color,B=(0,S.ZP)("nodeFontSize"),R=(0,S.ZP)("textColor"),A=["blue","gray","green","orange","pink","purple","red","yellow"],{field:M,label:J,type:$,menuActions:K}=Z,G=(0,V.oe)(M,j),[U,ea]=(0,L.useState)(G),[eo,er]=L.useState(!1),eu=()=>{var o,C,j;return G?"color-theme"==$?null===(o=H[G+O])||void 0===o?void 0:o.val:null!==(j=null===(C=H[G+z])||void 0===C?void 0:C.val)&&void 0!==j?j:G:""},ec={default:{card:{background:"transparent",border:"0px",boxShadow:"none"}}},ep=o=>{o&&(W(E.id,{...j,[M]:(0,V.Jf)(o,M,j)}),ea(o))},ef=()=>{if("color-theme"===$){let o=A.map(o=>{var C;return null===(C=H[o+O])||void 0===C?void 0:C.val});return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{style:{width:"100%",padding:"6px"},children:(0,w.jsx)(P.Z,{style:{fontFamily:"Jost-Medium",fontSize:"16px",paddingLeft:0,alignSelf:"flex-start"},children:"Choose a Theme"})}),(0,w.jsx)(Y.Lf,{styles:ec,triangle:"hide",onChangeComplete:o=>{let C=en(o.hsl),j=Object.keys(H).find(o=>H[o].val==C&&o.endsWith(O)&&!o.startsWith("$")),w=null==j?void 0:j.replace(O,"");ep(null!=w?w:o.hex)},width:"220px",colors:o})]})}{let[o,C]=L.useState("theme"),j=A.map(o=>Object.keys(H).filter(C=>C.startsWith(o)&&C.endsWith(z)).map(o=>H[o].val)).flat(1);return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{style:{height:"380px"},children:[(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",padding:"6px"},children:[(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,w.jsx)(P.Z,{style:{fontFamily:"Jost-Medium",fontSize:"16px",paddingLeft:0},children:"Choose a Color"}),(0,w.jsx)(P.Z,{style:{color:"gray",fontSize:"14px",paddingLeft:0,textAlign:"left"},children:"theme"==o?"Theme Color":"Custom Color"})]}),(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"row",borderRadius:"6px",overflow:"hidden",height:"28px"},children:[(0,w.jsx)(ei,{selected:"theme"==o,onPress:()=>C("theme"),children:(0,w.jsx)(ee.Z,{size:"16px",color:(0,S.ZP)("textColor"),fillOpacity:0})}),(0,w.jsx)(ei,{selected:"custom"==o,onPress:()=>C("custom"),children:(0,w.jsx)(et.Z,{size:"16px",color:(0,S.ZP)("textColor"),fillOpacity:0})})]})]}),"theme"==o?(0,w.jsx)("div",{style:{height:"280px",marginTop:"5px",overflowY:"scroll"},children:(0,w.jsx)(Y.Lf,{styles:ec,triangle:"hide",onChangeComplete:o=>{let C=en(o.hsl),j=Object.keys(H).find(o=>H[o].val==C&&o.endsWith(z)),w=null==j?void 0:j.replace(z,"");ep(null!=w?w:o.hex)},width:"220px",colors:j})}):(0,w.jsx)(Y.xS,{color:U,onChangeComplete:o=>{ep(o.hex)},styles:{default:{picker:{background:"transparent",border:"0px",boxShadow:"none",width:"210px"}}}})]})})}};return(0,w.jsx)(eL,{label:J,menuActions:K,input:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(Q.J2,{onOpenChange:er,open:eo,placement:"left-start",children:[(0,w.jsx)(Q.J2.Trigger,{children:(0,w.jsx)("div",{style:{width:"28px",height:"28px",cursor:"pointer",backgroundColor:eu(),borderRadius:4,zIndex:10,position:"absolute",marginLeft:"5px",border:G?"":"1px solid "+R,top:"13px"}})}),(0,w.jsx)(Q.J2.Content,{marginRight:"20px",space:0,width:"250px",shadowRadius:"$4",shadowColor:"black",shadowOpacity:.6,bc:(0,S.ZP)("nodeBackgroundColor"),children:ef()})]}),(0,w.jsx)(X.Z,{onBlur:()=>ep(U),style:{fontSize:B+"px",fontWeight:"medium",paddingLeft:"38px"},value:U,placeholder:"default",onChange:o=>ea(o.target.value)})]})})};function en(o){let{h:C,s:j,l:w,a:L}=o,S=Math.round(C),P=1==j?100:(100*j).toFixed(1),D=(100*w).toFixed(1),E="hsl(".concat(S,", ").concat(P,"%, ").concat(D,"%)");return E}let er=()=>["range-theme","range-px","range"];var eu=o=>{var C,j,P,E,Z,N,T,z,O,I,W,F;let{nodeData:H={},item:B,node:R}=o,A=(0,L.useContext)(D.p),M=A(o=>o.setNodeData),J={"range-theme":{pre:o=>"$"==o[0]?o.split("$")[1]:o,post:o=>"$"+o,max:20,min:0,kind:"StringLiteral"},"range-px":{pre:o=>"p"==o[o.length-2]&&"x"==o[o.length-1]?o.slice(0,-2):o,post:o=>o+"px",max:100,min:0,kind:"StringLiteral"},default:{pre:o=>o,post:o=>o,max:100,min:0,step:1,kind:"NumericLiteral"}},{field:$,label:K,type:G,data:U,menuActions:Y}=B,X=(0,V.oe)($,H),Q={...J[G],...U},ee=null!==(T=null==Q?void 0:Q.pre)&&void 0!==T?T:null===(C=J.default)||void 0===C?void 0:C.pre,et=null!==(z=null==Q?void 0:Q.post)&&void 0!==z?z:null===(j=J.default)||void 0===j?void 0:j.post,el=null!==(O=null==Q?void 0:Q.max)&&void 0!==O?O:null===(P=J.default)||void 0===P?void 0:P.max,ei=null!==(I=null==Q?void 0:Q.min)&&void 0!==I?I:null===(E=J.default)||void 0===E?void 0:E.min,ea=null!==(W=null==Q?void 0:Q.step)&&void 0!==W?W:null===(Z=J.default)||void 0===Z?void 0:Z.step,eo=null!==(F=null==Q?void 0:Q.kind)&&void 0!==F?F:null===(N=J.default)||void 0===N?void 0:N.kind,en=o=>{M(R.id,{...H,[$]:(0,V.Jf)(o,$,H,{kind:eo})})},er=()=>{let o="D.",C=null!=X?X:o,[j,P]=L.useState(ee(C)),D=X?j:o;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{style:{fontSize:"14px",position:"relative",top:"3px",width:18*el.toString().length,textAlign:"left",color:(0,S.ZP)("textColor")},children:et(D)}),(0,w.jsx)("input",{type:"range",style:{width:"100%",marginTop:"6px",accentColor:X?(0,S.ZP)("interactiveColor"):(0,S.ZP)("disableTextColor"),height:"5px",borderWidth:"4px solid blue",backgroundColor:(0,S.ZP)("separatorColor"),borderRadius:"10px"},step:ea,onChange:o=>P(o.target.value),onMouseUp:()=>en(et(j)),value:D,min:ei,max:el})]})};return(0,w.jsx)(eL,{label:K,input:er(),menuActions:Y})},ec=j(8939),ep=j(66306);let ef=()=>["toggle-boolean"];var eh=o=>{let{nodeData:C={},item:j,node:E}=o,Z=(0,L.useContext)(D.p),N=Z(o=>o.setNodeData),{resolvedTheme:T}=(0,el.P)(),{field:z,label:O,type:I,menuActions:W}=j,F=(0,V.oe)(z,C),H=o=>{N(E.id,{...C,[z]:(0,V.Jf)(o,z,C,{kind:"FalseKeyword"})})},B=(0,S.ZP)("inputBorder").split(" ")[0],R=(0,S.ZP)("inputBorder").split(" ")[2],A=o=>{let{defaultValue:C=!1,values:j}=o;return(0,w.jsx)(ec.sL,{width:"100%",height:"38px",space:"4px",paddingHorizontal:"2px",backgroundColor:(0,S.ZP)("inputBackgroundColor"),borderWidth:B,borderColor:R,alignItems:"center",justifyContent:"space-around",borderRadius:"$2",children:j.map(o=>(0,w.jsx)(M,{defaultValue:C,itemValue:o,onPress:H}))})},M=o=>{let{itemValue:C,onPress:j,defaultValue:L=!1}=o,D=F==C,E="light"==T;return(0,w.jsx)(ep.zx,{onPress:()=>j(C),f:1,chromeless:!D,backgroundColor:D&&E?R:void 0,size:"$3",height:"34px",borderRadius:"$1",fontSize:"$4",children:(0,w.jsx)(P.Z,{style:{color:D?D&&E?(0,S.ZP)("textColor"):"":(0,S.ZP)("disableTextColor")},children:C?"true":"false"})})},J=()=>(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(A,{values:[!1,!0]})});return(0,w.jsx)(eL,{label:O,input:J(),menuActions:W})},eg=j(54398),em=j(60884);let ev=()=>["select"];var ex=o=>{let{nodeData:C={},item:j,node:S}=o,P=(0,L.useContext)(D.p),E=P(o=>o.setNodeData),{field:Z,label:N,type:T,data:z,menuActions:O}=j,I=(0,V.oe)(Z,C),W=(null!=z?z:[]).map(o=>({label:o,value:o})),F=o=>{E(S.id,{...C,[Z]:(0,V.Jf)(o,Z,C)})},H=()=>(0,w.jsx)("div",{style:{width:"100%"},children:(0,w.jsx)(em.Z,{onChange:o=>F(o.value),defaultValue:{value:I,label:I},options:W})});return(0,w.jsx)(eL,{label:N,input:H(),menuActions:O})},ey=j(11006),eb=j(9944);let eC=o=>{var C,j;let w=null!==(j=null===(C=o.find(o=>"custom-field"==o.type))||void 0===C?void 0:C.data)&&void 0!==j?j:[],L=w.map(o=>o.field);return[...L]},ej=()=>{let o=G(),C=ea(),j=er(),w=ef(),L=(0,eg.D)(),S=ev();return[...o,...C,...j,...w,...L,...S]},ew=o=>{let{item:C,node:j,nodeData:S}=o,P=(0,L.useContext)(D.p),E=P(o=>o.deletePropNodeData);var Z,N,T={...C,menuActions:[{text:"Default Value",icon:ey.Z,action:()=>{E(j.id,C.field)}}]};switch((null===(Z=S[C.field])||void 0===Z?void 0:Z.kind)=="Identifier"&&(T.type="input"),(null!==(N=T.type)&&void 0!==N?N:"").split("-")[0]){case"alignment":return(0,w.jsx)(U,{node:j,item:T,nodeData:S});case"color":return(0,w.jsx)(eo,{node:j,item:T,nodeData:S});case"range":return(0,w.jsx)(eu,{node:j,item:T,nodeData:S});case"toggle":return(0,w.jsx)(eh,{node:j,item:T,nodeData:S});case"select":return(0,w.jsx)(ex,{node:j,item:T,nodeData:S});case"input":return(0,w.jsx)(eg.Z,{node:j,item:T,nodeData:S});default:return(0,w.jsx)(w.Fragment,{})}},eL=o=>{let{label:C,input:j,menuActions:D}=o,E=(0,S.ZP)("nodeFontSize"),[Z,N]=L.useState(!1);return(0,w.jsx)("div",{style:{alignItems:"stretch",flexBasis:"auto",flexShrink:0,listStyle:"none",position:"relative",display:"flex",flexDirection:"column"},children:(0,w.jsxs)("div",{style:{fontSize:E+"px",padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row",alignItems:"stretch"},children:[(0,w.jsx)("div",{className:"handleKey",style:{display:"flex",flexDirection:"row",alignItems:"center",flex:2,overflow:"hidden"},children:(0,w.jsx)(P.Z,{title:C,style:{textOverflow:"ellipsis",overflow:"hidden"},children:C})}),(0,w.jsx)("div",{className:"handleValue",style:{minWidth:"180px",marginRight:"10px",display:"flex",flexDirection:"row",alignItems:"center",flex:3},children:j}),D?(0,w.jsxs)(Q.J2,{onOpenChange:N,open:Z,placement:"left",children:[(0,w.jsx)(Q.J2.Trigger,{children:(0,w.jsx)("div",{onClick:()=>N(!0),style:{padding:"4px",justifyContent:"center",cursor:"pointer",position:"absolute",right:0,alignSelf:"center",zIndex:10},children:(0,w.jsx)(eb.Z,{size:16,color:(0,S.ZP)("textColor")})})}),(0,w.jsx)(Q.J2.Content,{padding:0,space:0,shadowRadius:"$4",shadowColor:"black",shadowOpacity:.6,bc:(0,S.ZP)("nodeBackgroundColor"),children:D.map((o,C)=>(0,w.jsxs)(ec.sL,{gap:"$2",ml:"$1",o:1,br:"$5",ai:"center",p:"$3",als:"flex-start",cursor:"pointer",onPress:C=>{o.action(),N(!1)},hoverStyle:{backgroundColor:(0,S.ZP)("interactiveColor")},children:[L.createElement(o.icon,{size:"16px",strokeWidth:2}),(0,w.jsx)(P.Z,{style:{fontSize:"16px",fontFamily:"Jost-Medium"},children:o.text})]},C))})]}):(0,w.jsx)(w.Fragment,{})]})})}},45927:function(o,C,j){"use strict";j.d(C,{Nl:function(){return P},Yc:function(){return E},m1:function(){return D}});var w=j(6364),L=j(43134),S=j(18292);let P=(o,C,j,L)=>({id:(0,w.Z)(),source:o,sourceHandle:C,target:j,targetHandle:L,animated:!1,type:"custom"}),D=(o,C,j,w)=>!!w.find(w=>{let S=w.sourceHandle==(0,L.zv)(o)+j+C||w.targetHandle==(0,L.zv)(o)+j+C;return S}),E=(o,C,j)=>{var w=[];let L={id:(0,S.O)(),source:C,sourceHandle:C+"-output",target:o.target,targetHandle:o.targetHandle,type:"custom"};if(w.push(L),j){let L={id:(0,S.O)(),source:o.source,sourceHandle:o.sourceHandle,target:C,targetHandle:C+j,type:"custom"};w.push(L)}return w}},29392:function(o,C,j){"use strict";j.d(C,{MR:function(){return D},Nb:function(){return F},U7:function(){return W},Yg:function(){return O},_l:function(){return z},ap:function(){return P},cV:function(){return E},lh:function(){return N},lm:function(){return Z},ro:function(){return T},wo:function(){return I}});var w=j(2003),L=j(18292),S=j(20477);let P=function(){let o,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j=arguments.length>1?arguments[1]:void 0,w=Object.keys(C).reduce((w,L)=>{if(!L.startsWith("child-"))return{...w,[L]:C[L]};{let S=Number(L.split("child-")[1]);return S===j?(o=C[L],w):S>j?{...w,["child-"+(S-1)]:C[L]}:{...w,[L]:C[L]}}},{});return{data:w,deletedElementData:o}},D=(o,C,j)=>{var w,L=null===(w=Object.keys(o))||void 0===w?void 0:w.filter(o=>o.startsWith("child-")).length;return[...Object.keys(o),"child-"+(L+1)].reduce((w,L)=>{if(L.startsWith("child-")){let S=Number(L.split("child-")[1]);if(S===C)return{...w,["child-"+C]:j};if(S>C)return{...w,["child-"+S]:o["child-"+(S-1)]}}return{...w,[L]:o[L]}},{})},E=function(o,C,j,w){let S=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,P=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,D=[];if(o.forEach(o=>{let C={...o},L=Number(C.targetHandle.split(j+"-child-")[1]),E=Number(C.targetHandle.split(S+"-child-")[1]);L?L>w?(C.targetHandle=j+"-child-"+(L-1),D.push(C)):L<w&&D.push(C):(E&&E>P-1&&(C.targetHandle=S+"-child-"+(E+1)),D.push(C))}),S&&P){let o={id:(0,L.O)(),targetHandle:S+"-child-"+P,target:S,source:C,sourceHandle:C+"-output",animated:!1,type:"custom"};D.push(o)}return D},Z=(o,C,j,w)=>{let S=[];o.forEach(o=>{let C={...o};if(C.targetHandle.startsWith(j+"-child-")&&!(C.targetHandle.split(j+"-child-")[1]<w)){let o=C.targetHandle.split(j+"-child-")[1];o>=w&&(C.targetHandle=j+"-child-"+(Number(o)+1),S.push(C))}else S.push(C)});let P={id:(0,L.O)(),targetHandle:j+"-child-"+w,target:j,source:C,sourceHandle:C+"-output",animated:!1,type:"custom"};return S.push(P),S},N=(o,C,j,w)=>{let L=[];return o.forEach(o=>{let S={...o},P=S.targetHandle.split(C+"-child-")[1];S.targetHandle.startsWith(C+"-child-")&&-1!=w.findIndex(o=>o+1===Number(P))&&(S.targetHandle=C+"-child-"+(j+(w.findIndex(o=>o+1===Number(P))+1))),L.push(S)}),L},T=(o,C,j)=>{let w={...o};return C.forEach((C,L)=>{w["child-"+(j+L+1)]=o["child-"+(C+1)]}),w},z=(o,C,j,w,L)=>{let S;w.forEach(C=>{o.includes(C.target)&&o.push(C.source)});var D=w.filter(j=>o.includes(j.source)&&j.target==C);let Z={...L};return S=w,D.forEach(o=>{let w=o?Number(o.targetHandle.split("child-")[1]):null;S=E(S,j,C,w);let{data:D}=P(L[C],w);Z[C]=D}),{updatedEdges:S,newNodeData:Z}},O=o=>Object.keys(o).reduce((C,j)=>{let w=o[j],L=Object.keys(w).reduce((o,C)=>(C.startsWith("_")||"connections"==C||"SourceFile_0_0"==C||(o={...o,[C]:w[C]}),o),{});return C={...C,[j]:L}},{}),I=(o,C,j,L,S)=>{var P=w.$[S].type;let D=null==P?void 0:P.dump({id:L,type:S},o,C,j);return D},W=(o,C)=>{let j=C.find(C=>C.source==o);if(!j)return;let w=j.targetHandle,L="JsxElement"===w.split("_")[0];return L?w:W(j.target,C)},F=(o,C,j,w,L,P)=>{var D,E,Z,N;let T=I(o,C,j,w,L),z=H(T),O=null===(Z=z.getFirstDescendantByKind(S.lGB.JsxElement))||void 0===Z?void 0:null===(E=Z.getOpeningElement())||void 0===E?void 0:null===(D=E.getAttributes())||void 0===D?void 0:D.find(o=>(null==o?void 0:o.getName)&&o.getName()==P),W=null==O?void 0:null===(N=O.getInitializer())||void 0===N?void 0:N.getText();return W},H=function(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customCode.tsx",j=new S.IKL({useInMemoryFileSystem:!0,manipulationSettings:{indentationText:S.xI4.Tab},compilerOptions:{target:S.H7j.Latest,scriptKind:S.hVH.TSX,languageVariant:S.C$L.JSX}}),w=j.createSourceFile(C,o,{overwrite:!0});return w}},18292:function(o,C,j){"use strict";j.d(C,{O:function(){return L}});var w=j(6364);let L=()=>(0,w.Z)().replace(/-/g,"")},50317:function(o,C,j){"use strict";j.d(C,{Ey:function(){return E},HO:function(){return P},J6:function(){return S},Qq:function(){return D}});var w=j(43134),L=j(45927);let S=()=>(o,C,j)=>{var S,P,D,E=[],Z=[],N=null===(S=j.find(C=>C.target==(0,w.zv)(o)))||void 0===S?void 0:S.source;E.push(N);var T=null===(P=j.find(o=>o.target==N))||void 0===P?void 0:P.source;E.push(T);var z=null===(D=j.find(o=>o.target==T))||void 0===D?void 0:D.source;return z&&Z.push(z),null==Z||Z.forEach(C=>j.push((0,L.Nl)(C,C+"-output",(0,w.zv)(o),(0,w.zv)(o)+"_request"))),C.filter(o=>!(null==E?void 0:E.includes(null==o?void 0:o.id)))},P=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2";return(C,j,S)=>{var P;let D=null===(P=S.find(j=>j.targetHandle==(0,w.zv)(C)+"-param"+o))||void 0===P?void 0:P.source,E=S.find(o=>o.targetHandle==D+"_call");return E&&(console.log("new edge: ",(0,L.Nl)((0,w.zv)(C),(0,w.zv)(C)+"_request",E.target,E.targetHandle)),S.push((0,L.Nl)(E.source,E.sourceHandle,(0,w.zv)(C),(0,w.zv)(C)+"_request"))),j.filter(o=>(null==o?void 0:o.id)!=D)}},D=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2";return(C,j,w,L,S)=>{let P=S.find(j=>j.targetHandle==C.id+"-param"+o),D=[],E=[];if(P){let o=null==w?void 0:w.find(o=>o.id==P.source);o&&E.push(o),D=S.filter(C=>C.source==(null==o?void 0:o.id)||C.target==(null==o?void 0:o.id))}return{nodes:[...E,...j],edges:[...D,...L]}}},E=()=>(o,C,j,w,L)=>{let S=[],P=[];if(L&&j){let C=L.find(C=>C.target==o.id),D=w.find(o=>o.target==(null==C?void 0:C.source)),E=w.find(o=>o.target==(null==D?void 0:D.source));if(C&&D&&E){let o=j.find(o=>o.id==(null==C?void 0:C.source)),w=j.find(o=>o.id==(null==D?void 0:D.source)),Z=j.find(o=>o.id==(null==E?void 0:E.source));P.push(o),P.push(w),P.push(Z),S=L.filter(C=>C.source==(null==o?void 0:o.id)||C.target==(null==o?void 0:o.id)||C.source==(null==w?void 0:w.id)||C.target==(null==w?void 0:w.id)||C.source==(null==Z?void 0:Z.id)||C.target==(null==Z?void 0:Z.id))}}return{nodes:[...P,...C],edges:[...S,...w]}}},43134:function(o,C,j){"use strict";j.d(C,{LL:function(){return W},Su:function(){return F},Tz:function(){return H},ah:function(){return B},c8:function(){return z},dS:function(){return T},jE:function(){return O},uC:function(){return R},zv:function(){return I}});var w=j(45927),L=j(2003),S=j(18292),P=j(28261),D=j.n(P),E=j(29691),Z=j.n(E);let N=!1,T=(o,C,j,w,P,D,E)=>{let Z={id:null!=j?j:(0,S.O)(),position:{x:o[0],y:o[1]},data:null!=w?w:{},type:C,deletable:P,selectable:P,draggable:!1};return L.$[C]&&L.$[C].onCreate?L.$[C].onCreate(Z,D,E):[Z]};function z(o,C,j,w,S){let P=w(o,j);if(!P)return"";let D=L.$[P.type];D.type&&(D=D.type);let E=D.dump(P,o,C,j,null,"json"!=S,"full");if("json"==S){let o=JSON.stringify(JSON.parse(E),null,4);return o}let Z=O(E,S);if(Z){let w=D.dump(P,o,C,j,null,!1,"full");return O(w,S)}return""}function O(o,C){let j=Z().format(o,{quoteProps:"consistent",parser:"typescript",plugins:[D()]});return j}function I(o){try{return o.getKindName()+"_"+o._compilerNode.pos+"_"+o._compilerNode.end}catch(C){return o}}let W={flow:"_",data:"-"};function F(o,C,j,S,P,D,E){let Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,T=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[W.data,W.data];if(!o||!j)return"";try{let O=I(o),W=I(j),F=P[O],B=P[W];if(F||(F={type:"node",value:{id:O}}),B||(B={type:"node",value:{id:W}}),"node"==F.type){if(E.push((0,w.Nl)(F.value.id,"".concat(F.value.id).concat(T[0]).concat(C),B.value.id,"".concat(B.value.id).concat(T[1]).concat(S))),N)return"";var z=L.$[O.split("_")[0]];if(!z)return"";z=z.type?z.type:z;let o=Object.keys(P).filter(o=>P[o]&&"node"==P[o].type).map(o=>P[o].value),j=z.dump({id:O,type:O.split("_")[0]},o,E,D);return j.replace(/(\r\n|\n|\r)/gm,"")}if(Z&&F._astNode)try{D[W]["trivia-"+Z]=H(F._astNode)}catch(o){}return F?F.value:""}catch(w){return console.error("Error connecting nodes: ",w,o,C,j,S),""}}function H(o){let C=o.getFullText();return o.getLeadingTriviaWidth()?C.substring(0,o.getLeadingTriviaWidth()):""}function B(o,C){var j,w;return(null!==(j=o["trivia-"+C])&&void 0!==j?j:" ")+(null!==(w=o[C])&&void 0!==w?w:"")}function R(o,C,j,w,S,P,D,E){let Z=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,N=arguments.length>9&&void 0!==arguments[9]&&arguments[9],T=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"partial",z=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,O=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{},I=arguments.length>13&&void 0!==arguments[13]&&arguments[13],W="source"==C?"sourceHandle":"targetHandle",F=P.find(C=>C[W]==o.id+w+j&&C.source);if(F){let o=D.find(o=>o.id==("target"==C?F.source:F.target));if(!o)return S;let j=L.$[o.type];j.type&&(j=j.type);let w=N?"/* JSFLOWID("+(o&&o.id?o.id:"")+") */":"",W="";if(O.fromFile=!1,j){if(!I&&E[o.id]&&E[o.id]._astNode){let C=E[o.id]._astNode;O.fromFile=!0,W=H(C),O.content=W}let C=j.dump(o,D,P,E,Z,N,T,z,W);return w+("full"==T?W:"")+C}}return S}},33248:function(o,C,j){"use strict";j.d(C,{c:function(){return S},i:function(){return L}});let w=!0;w&&(window.flowMemory={});let L=(o,C,j)=>w?window.flowMemory[o]?window.flowMemory[o][C]:j:[],S=(o,C,j)=>{w&&(window.flowMemory[o]||(window.flowMemory[o]={}),window.flowMemory[o][C]=j)}},86130:function(o,C,j){"use strict";function w(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o<0&&(o=0);let L=o/10,S=.2*L,P=.14*L,D=.12*L;return"0px 3px 5px -1px rgba(".concat(C,",").concat(j,",").concat(w,",").concat(S,"), \n            0px 6px 10px 0px rgba(").concat(C,",").concat(j,",").concat(w,",").concat(P,"), \n            0px 1px 18px 0px rgba(").concat(C,",").concat(j,",").concat(w,",").concat(D,")")}j.d(C,{p:function(){return w}})},57451:function(o,C,j){"use strict";var w;j.d(C,{f:function(){return w}}),function(o){o.block="block",o.flow="flow",o.data="data",o.spread="spread",o.method="method",o.jsx="jsx",o.binding="binding"}(w||(w={}))},1594:function(o,C,j){"use strict";j.d(C,{$N:function(){return G},GT:function(){return U}});var w=j(52322),L=j(2784),S=j(43134),P=j(30690),D=j(45823),E=j(96169),Z=j(20477),N=j(1674),T=j(77044),z=j(99272),O=j(8939),I=j(66306),W=j(84291),F=j(97732),H=j(72405),B=j(10956),R=j(88724),A=j(81395),M=j(83030),J=j(38519),$=o=>{let{nodeData:C,maskType:j}=o,S=Object.keys(C).filter(o=>o.startsWith("prop")).map(o=>({label:C[o].key,field:C[o].key,fieldType:"prop",staticLabel:!0})),[P,D]=(0,L.useState)(S),[E,Z]=(0,L.useState)(void 0),[N,T]=(0,L.useState)(""),F=[void 0,...(0,J.Ep)()],R=()=>{Z(""),T("")},A=()=>{if(N){var o={label:N,field:N,fieldType:"prop",staticLabel:!0};E&&(o.type=E),P.push(o),D([...P]),R()}},M=(o,C,j)=>{var w=[...P];"field"==C&&(w[o].label=j),"type"==C&&"default"==j?delete w[o][C]:w[o][C]=j,D(w)},$=o=>{let C=P.filter(C=>C.field!=o);D(C)},G=o=>{o||(D(S),R())},U=()=>{let o=P.map(o=>({...o,field:"prop-"+o.field})),w=o.filter(o=>o.type),L=o.filter(o=>!o.type);fetch("/adminapi/v1/mask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:C.name,title:C.name,path:"*",type:j,filter:{name:C.name},body:[{type:"custom-field",data:w},{type:"prop",data:L},{type:"child",data:[]}]})}).then(o=>o.json()).then(o=>console.log(o))};return(0,w.jsxs)(z.Vq,{modal:!0,onOpenChange:G,children:[(0,w.jsx)(z.Vq.Trigger,{asChild:!0,children:(0,w.jsx)(O.FA,{justifyContent:"center",children:(0,w.jsx)(I.zx,{chromeless:!0,alignSelf:"center",theme:"blue",mb:"$3",children:(0,w.jsx)(B.Z,{fillOpacity:0,color:(0,H.ZP)("interactiveColor")})})})}),(0,w.jsxs)(z.Vq.Portal,{zIndex:999999999,overflow:"hidden",children:[(0,w.jsx)(z.Vq.Overlay,{}),(0,w.jsxs)(z.Vq.Content,{bordered:!0,elevate:!0,animateOnly:["transform","opacity"],enterStyle:{x:0,y:-20,opacity:0,scale:.9},exitStyle:{x:0,y:10,opacity:0,scale:.95},gap:"$4",maxWidth:600,children:[(0,w.jsx)(z.Vq.Title,{children:"Create a mask"}),(0,w.jsx)(z.Vq.Description,{children:'When you click on create, a mask will be generated for the "'+C.name+'" component. Any unsaved changes will be lost.'}),(0,w.jsx)(z.Vq.Description,{children:"Properties: "}),(0,w.jsxs)(O.FA,{children:[(0,w.jsx)(O.FA,{overflow:"scroll",maxHeight:"$18",overflowX:"hidden",children:P.map((o,C)=>(0,w.jsx)(K,{onChange:M,index:C,item:o,selectItems:F,onDelete:$}))}),(0,w.jsxs)(O.sL,{gap:"$3",alignItems:"center",children:[(0,w.jsx)(W.II,{value:N,onChangeText:T,placeholder:"prop name..."}),(0,w.jsx)(V,{value:E,onValueChange:Z,items:F}),(0,w.jsx)(I.zx,{size:"$4",onPress:A,theme:"blue",children:"Add"})]})]}),(0,w.jsx)(z.Vq.Close,{displayWhenAdapted:!0,asChild:!0,children:(0,w.jsx)(I.zx,{theme:"blue",onPress:U,children:"Create"})})]})]})]})};let K=o=>{let{item:C,selectItems:j,onChange:S,index:P,onDelete:D}=o,[E,Z]=(0,L.useState)(C.field);return(0,w.jsxs)(O.sL,{gap:"$3",marginBottom:"$3",children:[(0,w.jsx)(W.II,{value:E,onBlur:()=>S(P,"field",E),onChangeText:Z,placeholder:"prop name..."}),(0,w.jsx)(V,{value:null==C?void 0:C.type,onValueChange:o=>S(P,"type",o),items:j}),(0,w.jsx)(I.zx,{size:"$4",onPress:()=>D(C.field),icon:R.Z})]},C.field)},V=o=>{let{value:C,onValueChange:j,items:S}=o;return(0,w.jsxs)(F.Ph,{value:null!=C?C:"default",onValueChange:j,disablePreventBodyScroll:!0,children:[(0,w.jsx)(F.Ph.Trigger,{width:220,iconAfter:A.Z,children:(0,w.jsx)(F.Ph.Value,{placeholder:"default"})}),(0,w.jsx)(F.Ph.Content,{zIndex:9999999999,children:(0,w.jsx)(F.Ph.Viewport,{children:(0,w.jsxs)(F.Ph.Group,{children:[(0,w.jsx)(F.Ph.Label,{children:"Types"}),(0,L.useMemo)(()=>S.map((o,C)=>{var j;let L=null!=o?o:"default";return(0,w.jsxs)(F.Ph.Item,{index:C,value:null!==(j=null==o?void 0:o.toLowerCase())&&void 0!==j?j:"default",children:[(0,w.jsx)(F.Ph.ItemText,{children:L}),(0,w.jsx)(F.Ph.ItemIndicator,{marginLeft:"auto",children:(0,w.jsx)(M.Z,{size:16})})]},o)}),[S])]})})})]})},G=o=>{let C="JsxSelfClosingElement"==o,j=o=>{var C;let{id:j,type:S}=o,Z=(0,L.useContext)(D.p),z=Z(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),O=(0,H.H)(S),I=[{label:"TagName",static:!0,field:"name",type:"input",description:"JsxElement name"}],W=Object.keys(z).filter(o=>o.startsWith("prop-")).map((o,C)=>({label:o.substr(5),field:o,fieldType:"prop",deleteable:!0})),F=Object.keys(z).filter(o=>o.startsWith("child-")).map((o,C)=>({label:"Child"+(C+1),field:o,fieldType:"child",deleteable:!0})),B=I.concat(W),R=F;return(0,w.jsxs)(P.ZP,{headerContent:(0,w.jsx)("div",{children:"hello"}),icon:N.Z,node:o,isPreview:!j,title:"<x ...></x>",id:j,color:O,children:[T.r0&&(0,w.jsx)($,{nodeData:z,maskType:"JsxElement"}),(0,w.jsx)(P.kz,{id:j,params:B}),(0,w.jsx)(E.Z,{id:j,nodeData:z,type:"Prop"}),(0,w.jsx)(P.kz,{id:j,params:R}),(0,w.jsx)(E.Z,{id:j,nodeData:z,type:"Child"})]})};return j.category="react",j.keyWords=["jsx","jsxelement","react","tsx","fragment","selfclosed"],j.getData=(o,j,w,L)=>{var P,D,E,N;let T={name:C?null==o?void 0:null===(P=o.getTagNameNode())||void 0===P?void 0:P.getText():null==o?void 0:null===(E=o.getOpeningElement())||void 0===E?void 0:null===(D=E.getTagNameNode())||void 0===D?void 0:D.getText()},z=C?null==o?void 0:o.getAttributes():null==o?void 0:null===(N=o.getOpeningElement())||void 0===N?void 0:N.getAttributes(),O=null==z?void 0:z.reduce((C,P,D)=>{let E,Z,N;if("JsxSpreadAttribute"==P.getKindName())Z="prop-spreaded-"+D,E="",N={value:P.getText()};else{var T,z=null==P?void 0:P.getInitializer();N=X(z),Z="prop-"+(E=P.getNameNode().getText()),N||(N={value:null!==(T=(0,S.Su)(null==z?void 0:z.getExpression(),"output",o,Z,j,w,L,Z))&&void 0!==T?T:""})}return{...C,[Z]:{key:null!=E?E:"",...N}}},{}),I=o.getChildrenOfKind(Z.lGB.SyntaxList)[0],W=C?[]:I.getChildren(),F=W.filter(o=>["JsxElement","JsxSelfClosingElement","JsxExpression","JsxFragment","JsxText"].includes(o.getKindName())&&o.getText()),H=null==F?void 0:F.reduce((C,P,D)=>{let E="child-".concat(D+1);return{...C,[E]:(0,S.Su)(P,"output",o,E,j,w,L,E)}},{});return{...T,...O,...H}},j.dump=function(o,j,w,L){var P,D,E,Z,N;let T=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],O=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",I=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,W=null!==(E=L[o.id])&&void 0!==E?E:{},F=null==W?void 0:W.name,H=null!==(Z=null===(P=W._fallBack)||void 0===P?void 0:P.reduce((C,P)=>{let D=(0,S.uC)(o,P.type,P.fallbackPort,P.portType,null,w,j,L,T,!1,"full");return C=D?C+(P.preText+D+P.postText)+" ":C+P.fallbackText+" "},""))&&void 0!==Z?Z:"",B=null!==(N=null===(D=W._fallBack)||void 0===D?void 0:D.map(o=>o.port))&&void 0!==N?N:[],R=Object.keys(W).filter(o=>o.startsWith("prop-")&&!B.includes(o)).reduce((C,P)=>{var D,E,Z,N,F,H;let B;if(P.startsWith("prop-spreaded"))B=(0,S.uC)(o,"target",P,S.LL.data,null!==(E=null===(D=W[P])||void 0===D?void 0:D.value)&&void 0!==E?E:"",w,j,L,T,z,O,I);else{let D;let E=null!==(N=null===(Z=W[P])||void 0===Z?void 0:Z.key)&&void 0!==N?N:P.replace("prop-",""),R=Y(W[P]);if(R)D=R;else{let C=(0,S.uC)(o,"target",P,S.LL.data,null!==(H=null===(F=W[P])||void 0===F?void 0:F.value)&&void 0!==H?H:"",w,j,L,T,z,O,I);D=C?"{"+C+"}":void 0}if(B=D?"".concat(E,"=").concat(D," "):"".concat(E),!E)return C}return C+B},""),A=Object.keys(W).filter(o=>o.startsWith("child-")).reduce((C,P)=>{var D;return C+"	"+(0,S.uC)(o,"target",P,S.LL.data,null!==(D=W[P])&&void 0!==D?D:"",w,j,L,T,z,O,I)+"\n"},""),M=C?"/>":">\n".concat(A,"</").concat(F,">");return"<".concat(F," ")+H+R+M+(0,S.uC)(o,"source","output",S.LL.flow,"",w,j,L,T,z,O,I)},j};function U(o){switch(typeof o){case"number":return"NumericLiteral";case"string":return"StringLiteral";case"boolean":return"TrueKeyword";case"object":return Array.isArray(o)?"ArrayLiteralExpression":"ObjectLiteralExpression"}}function Y(o){if(!o)return;let C=o.kind;var j=o.value;switch(C){case"StringLiteral":return'"'+j+'"';case"NumericLiteral":case"TrueKeyword":case"FalseKeyword":case"Identifier":break;default:return}return"{"+j+"}"}function X(o){let C;var j,w=null==o?void 0:o.getKindName();if("StringLiteral"===w)C=null==o?void 0:o.getLiteralValue(),j=w;else{let w=null==o?void 0:o.getExpression();switch(j=null==w?void 0:w.getKindName()){case"StringLiteral":case"NumericLiteral":case"TrueKeyword":case"FalseKeyword":C=w.getLiteralValue();break;case"Identifier":C=w.getText();break;default:return}}return{value:C,kind:j}}G("JsxElement")},64920:function(o,C,j){"use strict";j.d(C,{U:function(){return w}});let w=[{id:"ActionFetch",title:"ActionFetch",path:"*",type:"CallExpression",filter:{to:"actionFetch"},body:[{type:"api",data:{label:"url",field:"param1",apiUrl:"api/v1/endpoints",list:"return `'` + res.path + `'`"}},{type:"link",data:{text:"Need to create an API?",url:"/admin/apis"}}],initialData:{to:"actionFetch",param1:""}}],L=(o,C,j)=>{if(!o)return null;let w=null==j?void 0:j.find(j=>j.check(o,C));return w||null};C.Z=L},2003:function(o,C,j){"use strict";j.d(C,{$:function(){return tA},Z:function(){return tM}});var w=j(52322),L=j(2784),S=j(43134),P=j(30690),D=j(96169),E=j(45823),Z=j(76066),N=j(72405),T=j(20477);let z=o=>{var C;let{id:j,type:S}=o,T=(0,N.H)(S),z=(0,L.useContext)(E.p),O=z(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),I=Object.keys(O).filter(o=>o.startsWith("param")),W=I.reduce((o,C)=>{let j=parseInt(C.replace(/\D/g,""),10)>o?parseInt(C.replace(/\D/g,""),10):o;return j},1)+1,F=[{label:"To",field:"to",type:"input",description:"Identifier name. Leave empty to access current scope"}].concat(I.map((o,C)=>({label:"Params[".concat(C+1,"]"),field:o,type:"input",deleteable:!0})));return(0,w.jsxs)(P.ZP,{icon:Z.Z,node:o,isPreview:!j,title:(O.to?O.to:"x")+"("+I.map(o=>O[o]?O[o]:"...").join(",")+")",id:j,color:T,children:[(0,w.jsx)(P.kz,{id:j,params:F}),(0,w.jsx)(P.kz,{id:j,params:[{label:"Await",field:"await",type:"boolean",static:!0}]}),(0,w.jsx)(D.Z,{keyId:"param"+W,id:j,nodeData:O})]})};function O(o){if(!o)return"";let C=o.getSourceFile().getFullText(),j=o.getLastChild();if(j&&"CloseParenToken"===j.getKindName()){let o=j.getLeadingTriviaWidth(),w=C.substring(j.getPos(),j.getPos()+o);return w}return""}z.keyWords=["call","function","execute"],z.category="common",z.defaultHandle=S.LL.data+"to",z.getData=(o,C,j,w)=>{let L=o.getParent();return{to:(0,S.Su)(o.getExpression(),"output",o,"to",C,j,w,"to"),await:L&&L.getKind()===T.lGB.AwaitExpression,...o.getArguments().reduce((L,P,D)=>({...L,["param"+(D+1)]:(0,S.Su)(P,"output",o,"param"+(D+1),C,j,w,"param"+(D+1))}),{})}},z.dump=function(o,C,j,w){var L,P;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,E=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=null!==(L=w[o.id])&&void 0!==L?L:{},z=Object.keys(T).sort(),I=z.filter(o=>o.startsWith("param")).sort((o,C)=>o.localeCompare(C,"en",{numeric:!0})).map(L=>{let P;let z=T._fallBack?T._fallBack.find(o=>o.port==L):null;if(z){let L=(0,S.uC)(o,z.type,z.fallbackPort,z.portType,null,j,C,w,D,E,Z,N);P=L?z.preText+L+z.postText:z.fallbackText}else P=(0,S.uC)(o,"target",L,S.LL.data,(0,S.ah)(T,L),j,C,w,D,E,Z,N);return P}),W=(0,S.uC)(o,"target","to",S.LL.data,null!==(P=null==T?void 0:T.to)&&void 0!==P?P:"",j,C,w,D,E,Z,N);return W?(T.await?"await ":"")+W+"("+I.join(",")+O(T._astNode)+")":""+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,D,E,Z,N)};var I=(0,L.memo)(z),W=j(85716),F=j(51442),H=j(38757);let B=o=>{let C=o=>"="==o?"setLeft":"left",j=j=>{var S,D,Z;let{id:T,type:z}=j,O=(0,N.H)(z),I={"+":"operator","-":"operator","*":"operator","/":"operator","%":"operator","<=":"operator","==":"operator","===":"operator","!=":"operator","!==":"operator",">=":"operator","||":"operator","&&":"operator","|":"operator","&":"operator",">":"operator","<":"operator","**":"operator","**=":"operator","-=":"operator","+=":"operator","/=":"operator","*=":"operator","=":"set",".":"property",instanceof:"operator","??":"operator"},B={operator:"Value",set:"Value",property:"Property"},R=(0,L.useContext)(E.p),A=R(o=>null!==(S=o.nodeData[T])&&void 0!==S?S:{}),M=(0,W.Mi)(),J=I[null!==(D=A.operator)&&void 0!==D?D:o],$=null!==(Z=A.operator)&&void 0!==Z?Z:o,K=[{label:"operator"==J?"Value":"Variable",field:C($),type:"input",fieldType:A.leftType}];return"operator"==J&&K.push({field:"operator",type:"select",data:["+","-","*","/",">","<","<=","==","!=","===","!==",">=","||","&&","|","&","instanceof",""],static:!0}),K.push({label:B[J],field:"right",type:"input",fieldType:A.rightType}),(0,w.jsx)(P.ZP,{icon:"operator"==J?F.Z:H.Z,node:j,isPreview:!T,title:"operator"==J?(!(0,P.FW)(T,C($),M)&&A[C($)]?A[C($)]:"...")+(A.operator?" "+A.operator+" ":" + ")+(!(0,P.FW)(T,"right",M)&&A.right?A.right:"..."):J,id:T,params:K,color:O})};return j.keyWords=["+","-","*","/",">","<","<=","==","!=","===","!==",">=","||","&&","|","&","set","operator","set","property","instanceof"],j.category="operators",j.defaultHandle=S.LL.data+C(o),j.getData=(o,j,w,L)=>{let P=o.getOperatorToken().getText();return{operator:P,[C(P)]:(0,S.Su)(o.getLeft(),"output",o,C(P),j,w,L,C(P)),right:(0,S.Su)(o.getRight(),"output",o,"right",j,w,L,"right"),leftType:o.getLeft().getKindName(),rightType:o.getRight().getKindName(),operatorTrivia:(0,S.Tz)(o.getOperatorToken())}},j.dump=function(j,w,L,P){var D;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,z=P[j.id],O=null!==(D=z.operator)&&void 0!==D?D:o,I=(0,S.uC)(j,"target",C(O),S.LL.data,z[C(O)],L,w,P,E,Z,N,T,{},!0),W=(0,S.uC)(j,"target","right",S.LL.data,(0,S.ah)(z,"right"),L,w,P,E,Z,N,T);return I+(void 0!==z.operatorTrivia&&"full"==N?z.operatorTrivia:"")+O+W+(0,S.uC)(j,"source","output",S.LL.flow,"",L,w,P,E,Z,N,T)},j};B("+");let R=o=>{let C=C=>{var j,S;let{id:D,type:Z}=C,T=(0,N.H)(Z),z=(0,L.useContext)(E.p),O=z(o=>null!==(j=o.nodeData[D])&&void 0!==j?j:{}),I=null!==(S=O.type)&&void 0!==S?S:o;(0,W.Mi)();let F=Object.keys(O).filter(o=>o.startsWith("declarationName")),B=F.length?F:["declarationName1"];console.log("mobx: ",O);let R=[{label:"Type",field:"type",type:"select",data:["let","const","var"],static:!0}].concat(B.reduce((o,C,j)=>o=(o=o.concat({label:"Variable "+(j>0?"(".concat(j+1,")"):""),field:C,type:"input",static:"const"!=I})).concat({label:"Value "+(j>0?"(".concat(j+1,")"):""),field:"value".concat(j+1),fieldType:"input"}),[]),{label:"Export",field:"export",type:"boolean",static:!0});return(0,w.jsx)(P.ZP,{icon:H.Z,node:C,isPreview:!D,title:((null==O?void 0:O.export)?"export ":"")+I+" "+B.map(o=>O[o]).join(","),id:D,params:R,color:T})};C.category="identifiers",C.keyWords=["const","let","var"],C.getData=(o,C,j,w)=>{let L=o.getChildren()[0].getText(),P=o.getDeclarations().reduce((L,P,D)=>{let E=P.getInitializer(),Z=P.getName(),N=P.getTypeNode(),T=P.getChildren(),z=T.length>2?(0,S.Tz)(T[1]):" ",O="value".concat(D+1),I="declarationName".concat(D+1),W="type".concat(D+1),F={[I]:Z,["opTrivia".concat(D+1)]:z};return E&&(F={...F,[O]:(0,S.Su)(E,"output",o,O,C,j,w,O)}),N&&(F={...F,[W]:N.getText()}),{...L,...F}},{});return{type:L,...P,export:!!o.getParent().getModifiers&&!!o.getParent().getModifiers().find(o=>"export"==o.getText())}};let j=o=>o?":"+o.trim():"";return C.dump=function(C,w,L,P){let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,E=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=P[C.id];var z,O=Object.keys(T).filter(o=>o.startsWith("declarationName"));if(!O.length)return"";let I=O.reduce((o,z,I)=>{let W="value".concat(I+1),F="type".concat(I+1),H="opTrivia".concat(I+1),B=(0,S.uC)(C,"target",W,S.LL.data,(0,S.ah)(T,W),L,w,P,D,E,Z,N);return console.log("value in vardec: ["+B+"]"),o+T[z]+j(T[F])+(""===B||void 0===B||" "==B?"":(void 0!==T[H]?T[H]:" ")+"="+B)+(O.length==I+1?"":", ")},"");return(T.export?"export ":"")+(null!==(z=T.type)&&void 0!==z?z:o)+" "+I},C},A=R("const");var M=(0,L.memo)(A),J=j(56881);let $=o=>{let{id:C,type:j}=o,L=(0,N.H)(j),S=[{label:"Name",field:"name",type:"input"},{label:"Property",field:"prop",type:"input"}];return(0,w.jsx)(P.ZP,{icon:J.Z,node:o,isPreview:!C,title:"property",color:L,id:C,params:S})};$.category="operators",$.keyWords=["property"],$.getData=(o,C,j,w)=>{let L=o.getNameNode(),P=o.getExpression();return"data"==C[(0,S.zv)(P)].type&&"data"==C[(0,S.zv)(L)].type?{type:"data",value:C[(0,S.zv)(P)].value+"."+C[(0,S.zv)(L)].value}:{name:(0,S.Su)(L,"output",o,"name",C,j,w,"name"),prop:(0,S.Su)(P,"output",o,"prop",C,j,w,"prop")}},$.checkCreate=(o,C)=>"data"!=C[(0,S.zv)(o)].type,$.dump=function(o,C,j,w){var L,P,D,E;let Z=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,N=arguments.length>5&&void 0!==arguments[5]&&arguments[5],T=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,O=w[o.id],I=null!==(P=(0,S.uC)(o,"target","name",S.LL.data,null!==(L=null==O?void 0:O.name)&&void 0!==L?L:"",j,C,w,Z,N,T,z))&&void 0!==P?P:"";return(null!==(E=(0,S.uC)(o,"target","prop",S.LL.data,null!==(D=null==O?void 0:O.prop)&&void 0!==D?D:"",j,C,w,Z,N,T,z))&&void 0!==E?E:"")+"."+I+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,Z,N,T,z)};var K=(0,L.memo)($),V=j(18292),G=j(69498);let U=o=>{var C;let{id:j,type:S}=o,Z=(0,N.H)(S),T="ArrowFunction"==S,z=(0,L.useContext)(E.p),O=z(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),I=T?[]:[{label:"Name",static:!0,field:"name",type:"input",description:"Function name"}],W=I.concat(Object.keys(O).filter(o=>o.startsWith("param-")).map((o,C)=>({label:O[o].isBindingPattern?"".concat("Params["+(C+1)+"]"):o.substr(6),field:o,fieldType:"parameter",deleteable:!0})));return(0,w.jsxs)(P.ZP,{icon:G.Z,node:o,isPreview:!j,title:T?"=>":O.name?O.name:"function",id:j,color:Z,children:[(0,w.jsx)(P.kz,{id:j,params:[{label:"Call",field:"call",fieldType:"call",type:"input"}]}),(0,w.jsx)(P.kz,{id:j,params:W}),"FunctionExpression"!=S?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(P.kz,{id:j,params:[{label:"Async",field:"async",type:"boolean",static:!0}],boxStyle:{marginTop:"40px"}}),(0,w.jsx)(P.kz,{id:j,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),O.export?(0,w.jsx)(P.kz,{id:j,params:[{label:"isDefault",field:"isDefault",type:"boolean",static:!0}]}):null]}):(0,w.jsx)("div",{style:{marginTop:"26px"}}),(0,w.jsx)(D.Z,{id:j,nodeData:O})]})};U.category="program structure",U.keyWords=["function","=>","arrow"],U.getData=(o,C,j,w)=>{let L=(0,S.zv)(o.getBody()),P=(0,S.Su)(L,"output",o,"call",C,j,w,null,[S.LL.data,S.LL.flow]);return{...o.getParameters().reduce((L,P,D)=>{let E=(0,V.O)(),Z=P.getInitializer(),N=P.getName(),z=P.getTypeNode(),O=z?z.getText():null,I=!!P.getDescendantsOfKind(T.lGB.ObjectBindingPattern).length;return I&&(N=P.getDescendantsOfKind(T.lGB.ObjectBindingPattern)[0]),{...L,["param-"+E]:{key:I?(0,S.Su)(N,"output",o,"param-"+E,C,j,w,"key"):P.getName(),value:Z?(0,S.Su)(Z,"output",o,"param-"+E,C,j,w,"value"):"",isBindingPattern:I,type:O}}},{name:o.getName&&void 0!=o.getName()?o.getName():"",export:!!o.getModifiers&&!!o.getModifiers().find(o=>"export"==o.getText()),isDefault:!!o.getModifiers&&!!o.getModifiers().find(o=>"default"==o.getText()),async:!!o.getModifiers().find(o=>"AsyncKeyword"==o.getKindName()),call:P,type:o.getReturnTypeNode()?o.getReturnTypeNode().getText():null})}},U.dump=function(o,C,j,w){var L,P;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,E=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=null!==(L=w[o.id])&&void 0!==L?L:{},z=Object.keys(T).filter(o=>o.startsWith("param")).map(L=>{let P;if(T[L].isBindingPattern){let z=(0,S.uC)(o,"target",L,S.LL.data,T[L].value,j,C,w,D,E,Z,N);P=z+(T[L].type?":".concat(T[L].type):"")}else{let z=(0,S.uC)(o,"target",L+"-key",S.LL.data,T[L].key,j,C,w,D,E,Z,N),O=(0,S.uC)(o,"target",L,S.LL.data,T[L].value,j,C,w,D,E,Z,N);P=z+(T[L].type?":".concat(T[L].type):"")+(O?"="+O:"")}return P}),O=(0,S.uC)(o,"target","call",S.LL.flow,null!==(P=T.call)&&void 0!==P?P:"{}",j,C,w,D,E,Z,N,{},!0),I=(T.export?"export ":"")+(T.export&&T.isDefault?"default ":"")+(T.async?"async ":"");return"ArrowFunction"==o.type?I+="("+z.join(",")+") => "+O:I+="function "+T.name+"("+z.join(",")+") "+(T.type?":"+T.type+" ":"")+O,I+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,D,E,Z,N)};var Y=(0,L.memo)(U);let X=o=>{let{id:C,type:j}=o;return(0,w.jsx)(w.Fragment,{})};X.getData=(o,C,j)=>{let w=o.getInitializer();return w?C[(0,S.zv)(w)]:{type:"data",value:""}},X.isShadow=(o,C,j,w)=>!0;var Q=(0,L.memo)(X),ee=j(18010),et=j(57451);let el=260,ei=o=>{var C;let{id:j,type:D}=o,Z=(0,N.H)(D),T=[{label:"Condition",field:"condition",type:"input"}],z=(0,N.ZP)("nodeFontSize"),O=(0,L.useContext)(E.p),I=O(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),W=O(o=>o.nodeData[j]&&o.nodeData[j]._metadata?o.nodeData[j]._metadata:{childHeight:0,childHeights:[]}),F=(o,C)=>W.childHeights.find(w=>{var L,S;return(null===(S=w.node)||void 0===S?void 0:null===(L=S.edge)||void 0===L?void 0:L.targetHandle)==j+C+o}),H=()=>{if(!j)return;if(!W.childHeight)return el;let o=F("condition",S.LL.data),C=F("then",S.LL.flow);return Math.max(el,(o?o.height:0)+(C?Math.min(10*z,C.height):0))},B=(o,C)=>{let j=F(o,S.LL.flow);return j?j.delta.y+2*z:C},R=H();return(0,w.jsxs)(P.ZP,{style:{minHeight:R+"px"},icon:ee.Z,node:o,isPreview:!j,title:j?"if ( "+I.condition+" )":"if",id:j,color:Z,dataOutput:et.f.flow,children:[(0,w.jsx)(P.kz,{id:j,params:T,boxStyle:{marginTop:"0px",marginBottom:"20px"}}),(0,w.jsx)(P._t,{id:j,type:"input",label:"Then",style:{top:B("then",8*z)+"px"},handleId:"then"}),(0,w.jsx)(P._t,{id:j,type:"input",label:"Else",style:{top:Math.max(0,R-z)+"px"},handleId:"else"})]})};ei.keyWords=["if","conditional","condition"],ei.category="conditionals",ei.getData=(o,C,j,w)=>{var L,P,D,E;(0,S.zv)(o);let Z=null===(P=C[(0,S.zv)(o.getThenStatement())])||void 0===P?void 0:null===(L=P.value)||void 0===L?void 0:L.id,N=null===(E=C[(0,S.zv)(o.getElseStatement())])||void 0===E?void 0:null===(D=E.value)||void 0===D?void 0:D.id;return Z&&(0,S.Su)(Z,"output",o,"then",C,j,w,null,[S.LL.data,S.LL.flow]),N&&(0,S.Su)(N,"output",o,"else",C,j,w,null,[S.LL.data,S.LL.flow]),{condition:(0,S.Su)(o.getExpression(),"output",o,"condition",C,j,w,"condition")}},ei.dataOutput=et.f.flow,ei.dump=function(o,C,j,w){var L;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id],T=(0,S.uC)(o,"target","condition",S.LL.data,null!==(L=null==N?void 0:N.condition)&&void 0!==L?L:"",j,C,w,P,D,E,Z),z=(0,S.uC)(o,"target","then",S.LL.flow,"",j,C,w,P,D,E,Z),O=(0,S.uC)(o,"target","else",S.LL.flow,"",j,C,w,P,D,E,Z),I="";return O&&(I=" else \n"+O),"if("+T+")\n"+z+"\n"+I+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,P,D,E,Z)},ei.getChildPosition=(o,C,j,w,L)=>(w.edge.targetHandle==o.id+S.LL.flow+"then"&&o.position.y==C.y&&(C.y+=120),C);var ea=(0,L.memo)(ei),eo=j(19753);let en=o=>{let{id:C,type:j}=o,L=[{label:"Error",field:"error",type:"input",static:!0}],S=(0,N.H)(j);return(0,w.jsxs)(P.ZP,{icon:eo.Z,node:o,isPreview:!C,title:"try",id:C,color:S,dataOutput:et.f.flow,children:[(0,w.jsx)(P.kz,{id:C,params:L,boxStyle:{marginTop:"70px",marginBottom:"30px"}}),(0,w.jsx)(P._t,{id:C,type:"input",label:"Try",style:{top:"60px"},handleId:"try"}),(0,w.jsx)(P._t,{id:C,type:"input",label:"Catch",style:{top:"90px"},handleId:"catch"})]})};en.category="error control",en.keyWords=["try","catch","error","exception"],en.getData=(o,C,j,w)=>{var L,P,D,E,Z;let N=null===(P=C[(0,S.zv)(o.getTryBlock())])||void 0===P?void 0:null===(L=P.value)||void 0===L?void 0:L.id,T=null===(E=C[(0,S.zv)(o.getCatchClause().getBlock())])||void 0===E?void 0:null===(D=E.value)||void 0===D?void 0:D.id;return{try:(0,S.Su)(N,"output",o,"try",C,j,w,"try",[S.LL.data,S.LL.flow]),catch:(0,S.Su)(T,"output",o,"catch",C,j,w,"catch",[S.LL.data,S.LL.flow]),error:null===(Z=o.getCatchClause())||void 0===Z?void 0:Z.getVariableDeclaration().getFullText()}},en.dataOutput=et.f.flow,en.dump=function(o,C,j,w){let L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,P=arguments.length>5&&void 0!==arguments[5]&&arguments[5],D=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",E=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,Z=w[o.id],N=(0,S.uC)(o,"target","try",S.LL.flow,"",j,C,w,L,P,D,E),T=(0,S.uC)(o,"target","catch",S.LL.flow,"",j,C,w,L,P,D,E);var z,O=(0,S.uC)(o,"source","error",S.LL.data,null!==(z=null==Z?void 0:Z.error)&&void 0!==z?z:"",j,C,w,L,P,D,E);return O||(O="e"),"try "+N+"catch("+O+") "+T+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,L,P,D,E)};var er=(0,L.memo)(en);let eu=o=>{var C;let{id:j,type:S}=o,Z=(0,N.H)(S),T=(0,L.useContext)(E.p),z=T(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),O=[{label:"Expression",field:"expression",type:"input"}].concat(Object.keys(z).filter(o=>o.startsWith("case-")).reduce((o,C,j)=>o=(o=o.concat({label:"case",field:C,type:"input",deleteable:!0})).concat({label:":",field:"block".concat(j),fieldType:"clause"}),[])),I=[{label:"default :",field:"defaultBlock",fieldType:"clause"}];return(0,w.jsxs)(P.ZP,{icon:ee.Z,node:o,isPreview:!j,title:"switch",id:j,color:Z,dataOutput:et.f.flow,children:[(0,w.jsx)(P.kz,{id:j,params:O,boxStyle:{marginTop:"10px"}}),(0,w.jsx)(D.Z,{id:j,nodeData:z,type:"Case",style:{marginBottom:"20px"}}),(0,w.jsx)(P.kz,{id:j,params:I,boxStyle:{marginBottom:"10px"}})]})};eu.category="conditionals",eu.keyWords=["switch","conditional","case","if"],eu.getData=(o,C,j,w)=>{let L=o.getCaseBlock().getClauses(),P={};return L&&(P=L.reduce((L,P,D)=>{if("CaseClause"!=P.getKindName())return{...L,defaultBlock:(0,S.Su)(P,"output",o,"defaultBlock"+S.LL.flow+"output",C,j,w,"defaultBlock",[S.LL.data,S.LL.flow])};{let E="case-".concat(D+1),Z="block".concat(D),N=P.getExpression();return{...L,[E]:(0,S.Su)(N,"output",o,E,C,j,w,E),[Z]:(0,S.Su)(P,"output",o,Z+S.LL.flow+"output",C,j,w,Z,[S.LL.data,S.LL.flow])}}},{})),{expression:(0,S.Su)(o.getExpression(),"output",o,"expression",C,j,w,"expression"),...P}},eu.dataOutput=et.f.flow,eu.dump=function(o,C,j,w){var L,P,D;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,z=null!==(L=w[o.id])&&void 0!==L?L:{},O=(0,S.uC)(o,"target","expression",S.LL.data,null!==(P=null==z?void 0:z.expression)&&void 0!==P?P:"",j,C,w,E,Z,N,T,{}),I="defaultBlock"+S.LL.flow+"output",W=(0,S.uC)(o,"target",I,S.LL.flow,null!==(D=z.defaultBlock)&&void 0!==D?D:"",j,C,w,E,Z,N,T,{}),F=W?"default: \n"+W+"\n":"",H=Object.keys(z).filter(o=>o.startsWith("case")).map((L,P)=>{var D,O;let I=(0,S.uC)(o,"target",L,S.LL.data,null!==(D=z[L])&&void 0!==D?D:"",j,C,w,E,Z,N,T,{},!1),W="block".concat(P),F=W+S.LL.flow+"output",H={},B=(0,S.uC)(o,"target",F,S.LL.flow,null!==(O=z[W])&&void 0!==O?O:"",j,C,w,E,Z,N,T,H);return"\n"+"	".repeat(T)+"case "+I+":\n"+B.replace(/^[\n\r\t]+/,"")});return"switch("+O+") {"+H.join("")+F+"\n}"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,E,Z,N,T)};var ec=(0,L.memo)(eu);let ep=o=>{let{id:C,type:j}=o,L=(0,N.H)(j),S=[{label:"Condition",field:"condition",type:"input"},{label:"When true",field:"whenTrue",type:"input"},{label:"When false",field:"whenFalse",type:"input"}];return(0,w.jsx)(P.ZP,{icon:ee.Z,node:o,isPreview:!C,title:"ternary",params:S,id:C,color:L})};ep.keyWords=["ternary"],ep.category="conditionals",ep.getData=(o,C,j,w)=>({condition:(0,S.Su)(null==o?void 0:o.getCondition(),"output",o,"condition",C,j,w,"condition"),whenTrue:(0,S.Su)(null==o?void 0:o.getWhenTrue(),"output",o,"whenTrue",C,j,w,"whenTrue"),whenFalse:(0,S.Su)(null==o?void 0:o.getWhenFalse(),"output",o,"whenFalse",C,j,w,"whenFalse")}),ep.dump=function(o,C,j,w){var L,P,D;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,z=w[o.id];return(0,S.uC)(o,"target","condition",S.LL.data,null!==(L=null==z?void 0:z.condition)&&void 0!==L?L:"",j,C,w,E,Z,N,T)+"?"+(0,S.uC)(o,"target","whenTrue",S.LL.data,null!==(P=null==z?void 0:z.whenTrue)&&void 0!==P?P:"",j,C,w,E,Z,N,T)+":"+(0,S.uC)(o,"target","whenFalse",S.LL.data,null!==(D=null==z?void 0:z.whenFalse)&&void 0!==D?D:"",j,C,w,E,Z,N,T)+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,E,Z,N,T)};var ef=(0,L.memo)(ep),eh=j(13410);let eg=o=>{var C,j,S;let{id:D,type:Z}=o,T=(0,N.H)(Z),z=(0,L.useContext)(E.p),O=z(o=>null!==(C=o.nodeData[D])&&void 0!==C?C:{}),I=[{label:"Variable",field:"accessName",type:"input"},{label:"Key",field:"key",type:"input",fieldType:O.fieldType}];return(0,w.jsx)(P.ZP,{icon:eh.Z,node:o,isPreview:!D,title:(null!==(j=null==O?void 0:O.accessName)&&void 0!==j?j:"x")+"["+(null!==(S=null==O?void 0:O.key)&&void 0!==S?S:"y")+"]",id:D,params:I,color:T})};eg.keyWords=["[]"],eg.category="operators",eg.getData=(o,C,j,w)=>({accessName:(0,S.Su)(o.getExpression(),"output",o,"accessName",C,j,w,"accessName"),key:(0,S.Su)(o.getArgumentExpression(),"output",o,"key",C,j,w,"key")}),eg.dump=function(o,C,j,w){var L,P;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,E=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=w[o.id];return(0,S.uC)(o,"target","accessName",S.LL.data,null!==(L=null==T?void 0:T.accessName)&&void 0!==L?L:"",j,C,w,D,E,Z,N)+"["+(0,S.uC)(o,"target","key",S.LL.data,null!==(P=null==T?void 0:T.key)&&void 0!==P?P:"",j,C,w,D,E,Z,N)+"]"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,D,E,Z,N)};var em=L.memo(eg),ev=j(16290);let ex=o=>{var C;let j=(0,L.useContext)(E.p),{id:S,type:Z}=o,T=j(o=>null!==(C=o.nodeData[S])&&void 0!==C?C:{}),z=j(o=>o.setNodeData),O=Object.keys(T).filter(o=>o.startsWith("element-")),I=O.length,W=(0,N.H)(Z),F=O.map((o,C)=>({label:"["+C+"]",field:o,type:"input",deleteable:!0}));return S&&L.useEffect(()=>{let o=Object.keys(T).filter(o=>o.startsWith("element"));o.length||T.error||z(S,{...T,"element-1":""})},[]),(0,w.jsxs)(P.ZP,{icon:ev.Z,node:{...o,data:{...o.data,width:1}},isPreview:!S,title:"array"+(I?" ["+I+"]":""),id:S,color:W,children:[(0,w.jsx)(P.kz,{id:S,params:F}),(0,w.jsx)(D.Z,{id:S,nodeData:T,type:"Element"})]})};function ey(o,C){if(!o||"partial"==C)return"";let j=o.getSourceFile().getFullText(),w=o.getLastChild();if(w&&"CloseBracketToken"===w.getKindName()){let o=w.getLeadingTriviaWidth(),C=j.substring(w.getPos(),w.getPos()+o);return C}return""}ex.keyWords=["Array","data","structure","list","collection","vector","dictionary"],ex.category="data structures",ex.defaultHandle=S.LL.data+"element-1",ex.getData=(o,C,j,w)=>{let L=o.getElements(),P=o.getFlags();return L.reduce((L,P,D)=>{let E="element-".concat(D),Z="trivia-element-".concat(D);return{...L,[E]:(0,S.Su)(P,"output",o,E,C,j,w,E),[Z]:(0,S.Tz)(P)}},{error:P})},ex.dump=function(o,C,j,w){var L;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=null!==(L=w[o.id])&&void 0!==L?L:{},T=Object.keys(N).filter(o=>o.startsWith("element-")).map(L=>{var T;return(void 0!==N["trivia-"+L]&&"full"==E?N["trivia-"+L]:"")+(0,S.uC)(o,"target",L,S.LL.data,null!==(T=N[L])&&void 0!==T?T:"",j,C,w,P,D,E,Z)});return"["+T.join(",")+ey(N._astNode,E)+"]"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,P,D,E,Z)},ex.getSize=(o,C,j)=>{let w=Object.keys(j).filter(o=>o.startsWith("element-")).length;return o[0].height=140+49*w,o};var eb=(0,L.memo)(ex),eC=j(13505);let ej=o=>{let{id:C,type:j}=o,L=(0,N.H)(j),S=[{label:"Value",field:"value",type:"input"}];return(0,w.jsx)(P.ZP,{icon:eC.Z,node:o,isPreview:!C,title:"()",id:C,params:S,color:L})};ej.category="operators",ej.keyWords=["()"],ej.getData=(o,C,j,w,L)=>({value:(0,S.Su)(o.getExpression(),"output",o,"value",C,j,w,"value")}),ej.dump=function(o,C,j,w){var L;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id];return"("+(0,S.uC)(o,"target","value",S.LL.data,null!==(L=null==N?void 0:N.value)&&void 0!==L?L:"",j,C,w,P,D,E,Z)+")"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,P,D,E,Z)};var ew=(0,L.memo)(ej),eL=j(92243);let ek=function(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",j=j=>{let L=(0,N.ZP)("nodeFontSize"),{id:S,type:D}=j,E=(0,N.H)(D),Z=[];return"for"==o&&Z.push({label:"Initializer",field:"initializer",type:"input"}),Z.push({label:"Condition",field:"condition",type:"input"}),"for"==o&&Z.push({label:"Incrementor",field:"incrementor",type:"input"}),(0,w.jsxs)(P.ZP,{icon:eL.Z,node:j,isPreview:!S,title:C||o,id:S,color:E,dataOutput:et.f.flow,children:[(0,w.jsx)(P.kz,{id:S,params:Z,boxStyle:{marginTop:"0px",marginBottom:3*L+"px"}}),(0,w.jsx)(P._t,{id:S,type:"input",label:"Loop",style:{top:"for"==o?11*L:6.5*L+"px"},handleId:"loop"})]})};return j.keyWords=["for","while","do-while","loop","iterator","iterate","for each","repeat"],j.category="loops",j.getData=(j,w,L,P)=>{j.getStatement()&&(0,S.Su)(j.getStatement(),"output",j,"loop",w,L,P,null,[S.LL.data,S.LL.flow]);let D={};return"for"==o&&(D={initializer:(0,S.Su)(j.getInitializer(),"output",j,"initializer",w,L,P,"initializer"),incrementor:(0,S.Su)(j.getIncrementor(),"output",j,"incrementor",w,L,P,"incrementor")}),{...D,condition:(0,S.Su)("while"==o?j.getExpression():j.getCondition(),"output",j,"condition",w,L,P,"condition"),mode:o,submode:C}},j.dataOutput=et.f.flow,j.dump=function(o,C,j,w){let L,P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id],T=(0,S.uC)(o,"target","condition",S.LL.data,null==N?void 0:N.condition,j,C,w,P,D,E,Z),z=(0,S.uC)(o,"target","loop",S.LL.flow,"",j,C,w,P,D,E,Z);if("WhileStatement"==o.type)L="while("+T+") "+z;else if("DoStatement"==o.type)L="do "+z+" while ("+T+")";else if("ForStatement"==o.type){let O=(0,S.uC)(o,"target","initializer",S.LL.data,null==N?void 0:N.initializer,j,C,w,P,D,E,Z),I=(0,S.uC)(o,"target","incrementor",S.LL.data,null==N?void 0:N.incrementor,j,C,w,P,D,E,Z);L="for("+O.replace(/;$/,"")+";"+T.replace(/;$/,"")+";"+I.replace(/;$/,"")+") "+z}return L+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,P,D,E,Z)},j};ek("while");let eS=o=>{let C=C=>{var j,S,D;let{id:Z,type:T}=C,z=(0,N.H)(T),O=(0,L.useContext)(E.p),I=O(o=>null!==(j=o.nodeData[Z])&&void 0!==j?j:{}),W=[{label:"Value",field:"value",type:"input"}];W.push({field:"operator",type:"select",data:["++","--","!","-"],static:!0}),"pre"==o&&W.reverse();let H=null!==(S=I.operator)&&void 0!==S?S:"++",B=null!==(D=I.value)&&void 0!==D?D:"x";return(0,w.jsx)(P.ZP,{icon:F.Z,node:C,isPreview:!Z,title:"pre"==o?H+B:B+H,id:Z,params:W,color:z})};return C.category="operators",C.keyWords=["increment","--","++","decrement"],C.getData=(o,C,j,w)=>{let L={40:"-",45:"++",46:"--",53:"!"};return{operator:L[o.getOperatorToken()],value:(0,S.Su)(o.getOperand(),"output",o,"value",C,j,w,"value")}},C.dump=function(C,j,w,L){var P;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,E=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=L[C.id],z=(0,S.uC)(C,"target","value",S.LL.data,null!==(P=null==T?void 0:T.value)&&void 0!==P?P:"",w,j,L,D,E,Z,N),O=[T.operator,z];return"post"==o&&O.reverse(),O.join("")+(0,S.uC)(C,"source","output",S.LL.flow,"",w,j,L,D,E,Z,N)},L.memo(C)};var eP=j(66753);let e_=o=>{var C;let{id:j,type:S}=o,Z=(0,N.H)(S),T=(0,L.useContext)(E.p),z=T(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),O=Object.keys(z).filter(o=>o.startsWith("import-")).map((o,C)=>({label:C+1+"",field:o,type:"input",static:!0,deleteable:!0})),I=[{label:"Module",field:"module",type:"input",static:!0},{label:"Default",field:"default",type:"input",static:!0}].concat(O);return(0,w.jsxs)(P.ZP,{icon:eP.Z,node:o,isPreview:!j,title:"import",id:j,color:Z,dataOutput:et.f.flow,children:[(0,w.jsx)(P.kz,{id:j,params:I,boxStyle:{marginTop:"10px"}}),(0,w.jsx)(D.Z,{id:j,nodeData:z,type:"Import",style:{marginBottom:"20px"}})]})};e_.category="module system",e_.keyWords=["import"],e_.getData=(o,C,j)=>{var w,L,S;let P=null!==(S=o.getNamedImports())&&void 0!==S?S:[];return P.reduce((o,C,j)=>{let w="import-"+j;return{...o,[w]:C.getName()}},{default:null===(w=o.getDefaultImport())||void 0===w?void 0:w.getText(),module:null===(L=o.getModuleSpecifier())||void 0===L?void 0:L.getText().slice(1,-1)})},e_.dataOutput=et.f.flow,e_.dump=function(o,C,j,w){var L,P,D,E;let Z=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,N=arguments.length>5&&void 0!==arguments[5]&&arguments[5],T=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,O=null!==(L=w[o.id])&&void 0!==L?L:{},I=Object.keys(O).filter(o=>o.startsWith("import")).reduce((L,P)=>{var D;return O[P]?L+=(0,S.uC)(o,"target",P,S.LL.data,null!==(D=O[P])&&void 0!==D?D:"",j,C,w,Z,N,T,z)+", ":L},""),W=null!==(D=(0,S.uC)(o,"target","default",S.LL.data,null!==(P=null==O?void 0:O.default)&&void 0!==P?P:"",j,C,w,Z,N,T,z))&&void 0!==D?D:"",F=(0,S.uC)(o,"target","module",S.LL.data,null!==(E=null==O?void 0:O.module)&&void 0!==E?E:"",j,C,w,Z,N,T,z),H=W&&I?", ":"",B=I?"{ "+I+"}":"";return"import "+W+H+B+' from "'.concat(F,'"')+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,Z,N,T,z)};var eD=(0,L.memo)(e_),eE=j(22951);let eZ=o=>{let{id:C,type:j}=o,L=(0,N.H)(j),S=[{label:"Value",field:"value",type:"input"}];return(0,w.jsx)(P.ZP,{icon:eE.Z,node:o,isPreview:!C,title:"export default",id:C,params:S,color:L,dataOutput:et.f.flow})};eZ.category="module system",eZ.keyWords=["export default"],eZ.getData=(o,C,j,w)=>({value:(0,S.Su)(null==o?void 0:o.getExpression(),"output",o,"value",C,j,w,"value")}),eZ.dataOutput=et.f.flow,eZ.dump=function(o,C,j,w){var L;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id];return"export default "+(0,S.uC)(o,"target","value",S.LL.data,null!==(L=null==N?void 0:N.value)&&void 0!==L?L:"",j,C,w,P,D,E,Z)};var eN=L.memo(eZ);let eT=o=>{var C;let{id:j,type:S}=o,D=(0,N.H)(S),Z=(0,L.useContext)(E.p),T=Z(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),z=Object.keys(T).filter(o=>o.startsWith("export-")).map((o,C)=>({label:C+1+"",field:o,type:"input",static:!0}));return(0,w.jsx)(P.ZP,{icon:eE.Z,node:o,isPreview:!j,title:"export",id:j,params:z,color:D,dataOutput:et.f.flow})};eT.category="module system",eT.keyWords=["export"],eT.getData=(o,C,j)=>{var w;let L=null!==(w=o.getNamedExports())&&void 0!==w?w:[];return L.reduce((o,C,j)=>{let w="export-"+j;return{...o,[w]:C.getName()}},{})},eT.dataOutput=et.f.flow,eT.dump=function(o,C,j,w){var L;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=null!==(L=w[o.id])&&void 0!==L?L:{},T=Object.keys(N).filter(o=>o.startsWith("export")).reduce((L,T)=>{var z;return L+((0,S.uC)(o,"target",T,S.LL.data,null!==(z=N[T])&&void 0!==z?z:"",j,C,w,P,D,E,Z)+", ")},"");return"export {"+T+"}"};var ez=L.memo(eT),eO=j(27145);let eI=o=>{var C;let{id:j,type:S}=o,D=(0,N.H)(S),Z=[{label:"Value",field:"value",type:"input"}],T=(0,L.useContext)(E.p),z=T(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{});return(0,w.jsx)(P.ZP,{icon:eO.Z,node:o,isPreview:!j,title:"return"+(o.id?" "+z.value:""),id:j,params:Z,color:D,dataOutput:et.f.flow})};eI.category="common",eI.keyWords=["return"],eI.getData=(o,C,j,w)=>({value:(0,S.Su)(null==o?void 0:o.getExpression(),"output",o,"value",C,j,w,"value")}),eI.dataOutput=et.f.flow,eI.dump=function(o,C,j,w){var L,P;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,E=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=w[o.id];return"return "+(null!==(P=(0,S.uC)(o,"target","value",S.LL.data,null!==(L=null==T?void 0:T.value)&&void 0!==L?L:"",j,C,w,D,E,Z,N))&&void 0!==P?P:"")+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,D,E,Z,N)};var eW=L.memo(eI),eF=j(5521);let eH=o=>{let{id:C,type:j}=o,L=(0,N.H)(j),S=[],D=(0,N.ZP)("nodeFontSize");return(0,w.jsx)(P.ZP,{icon:eF.Z,style:{minHeight:C?4*D+"px":D,minWidth:10*D+"px"},node:o,isPreview:!C,title:"break",id:C,params:S,color:L})};eH.keyWords=["break"],eH.category="conditionals",eH.getData=(o,C,j)=>({}),eH.dump=function(o,C,j,w){let L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,P=arguments.length>5&&void 0!==arguments[5]&&arguments[5],D=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",E=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return"break"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,L,P,D,E)};var eB=L.memo(eH);let eR=o=>{let{id:C,type:j}=o;return(0,w.jsx)(w.Fragment,{})};eR.getData=(o,C,j)=>{let w=o.getDeclarationList();return w?C[(0,S.zv)(w)]:{type:"data",value:""}},eR.isShadow=(o,C,j,w)=>!0;var eA=(0,L.memo)(eR),eM=j(45927),eJ=j(19837),e$=j(43055);let eK=o=>{let C=C=>{var j,S;let{id:D,type:Z}=C,T=(0,N.H)(Z),z=(0,L.useContext)(E.p),O=z(o=>null!==(S=o.nodeData[D])&&void 0!==S?S:{}),I=z(o=>o.setNodeData),W=null===(j=Object.keys(O))||void 0===j?void 0:j.filter(o=>o.startsWith("member-")),F=null==W?void 0:W.map((o,C)=>o.startsWith("param-")?{field:o,type:"input",fieldType:"parameter",separator:"=",deleteable:!1}:{label:"Member [".concat(C,"]"),field:o,type:"input",deleteable:!0}),H=[{label:"Name",field:"name",type:"input",static:!0}],B=[{label:"Extends",field:"extends",type:"input"},{label:"Implements",field:"implements",type:"input"}].concat(F),R=o=>{"attribute"==o?I(D,{...O,["param-".concat(W.length)]:{type:"attribute",key:"",value:""}}):I(D,{...O,["member-".concat(W.length)]:""})};return(0,w.jsxs)(P.ZP,{icon:eJ.Z,node:C,isPreview:!D,title:"class ".concat(o),id:D,color:T,dataOutput:et.f.flow,children:["declaration"==o?(0,w.jsx)(P.kz,{id:D,params:H}):null,(0,w.jsx)(P.kz,{id:D,params:B}),(0,w.jsxs)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"space-around",marginTop:"20px"},children:[(0,w.jsx)(e$.Z,{onPress:()=>R("attribute"),label:"Add attribute",style:{width:"110px",margin:"0px"}}),(0,w.jsx)(e$.Z,{onPress:()=>R("member"),label:"Add member",style:{width:"110px",margin:"0px"}})]}),(0,w.jsx)(P.kz,{id:D,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),O.export?(0,w.jsx)(P.kz,{id:D,params:[{label:"isDefault",field:"isDefault",type:"boolean",static:!0}]}):null]})};return C.keyWords=["class","structure","object oriented"],C.category="program structure",C.getData=(o,C,j,w)=>{let L=o.getMembers().reduce((L,P,D)=>{var E="member-"+D,Z={};if("PropertyDeclaration"==P.getKindName()){var N,T,E="param-"+D;let o=P.getName(),C=P.getTypeNode(),j=null!==(T=null===(N=P.getInitializer())||void 0===N?void 0:N.getText())&&void 0!==T?T:"",w="attrTrivia".concat(D),L=(0,S.Tz)(P);Z[E]={key:o,value:j},Z["type-".concat(E)]=C?C.getText():null,Z[w]=L}else Z[E]=(0,S.Su)(P,"output",o,E,C,j,w,null,[S.LL.data,S.LL.data]);return{...L,...Z}},{}),P={...L,export:o.getModifiers().find(o=>"ExportKeyword"==o.getKindName()),isDefault:!!o.getModifiers&&!!o.getModifiers().find(o=>"default"==o.getText()),name:o.getName()},D=o.getHeritageClauses();return D.length&&D.forEach((L,E)=>{let Z=117==L.getToken()?"implements":"extends";P[Z]=(0,S.Su)(D[0],"output",o,Z,C,j,w,Z)}),P},C.dataOutput=et.f.flow,C.dump=function(C,j,w,L){var P,D;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,z=null!==(D=L[C.id])&&void 0!==D?D:{},O=null===(P=Object.keys(z))||void 0===P?void 0:P.filter(o=>o.startsWith("member-")).reduce((o,P,D)=>{if(P.startsWith("param-")){var E;let C=null!==(E=z[P].key)&&void 0!==E?E:"",j=z[P].value,w=z["type-"+P]&&j?":":"=",L="attrTrivia".concat(D);return o+z[L]+C+(j?w+j:"")}return(0,eM.m1)(C.id,P,S.LL.data,w)?o+(0,S.uC)(C,"target",P,S.LL.data,"",w,j,L,z[P],Z,N,T):o},"");return(z.export?"export ":"")+(z.export&&z.isDefault?"default ":"")+"class "+("declaration"==o?z.name:"")+(z.extends?" extends "+z.extends:"")+(z.implements?" implements "+z.implements:"")+"{"+O+"}"+(0,S.uC)(C,"source","output",S.LL.flow,"",w,j,L,E,Z,N,T)},C};eK("declaration");var eV=j(89285);let eq=o=>{let C=C=>{var j;let{id:S,type:Z}=C,T=(0,N.H)(Z),z=(0,L.useContext)(E.p),O=z(o=>null!==(j=o.nodeData[S])&&void 0!==j?j:{}),I=Object.keys(O).filter(o=>o.startsWith("param-")).map((o,C)=>({label:o.substr(6),field:o,fieldType:"parameter"}));return(0,w.jsxs)(P.ZP,{icon:eV.Z,node:C,isPreview:!S,title:o,id:S,color:T,dataOutput:et.f.method,children:[(0,w.jsx)("div",{style:{height:"40px"}}),"method"==o?(0,w.jsx)(P.kz,{id:S,params:[{label:"Name",field:"name",type:"input"}]}):null,(0,w.jsx)(P.kz,{id:S,params:I}),(0,w.jsx)(D.Z,{id:S,nodeData:O,type:"param"}),(0,w.jsx)(P._t,{id:S,type:"input",label:"Body",style:{top:"60px"},handleId:"body"}),(0,w.jsx)(P.kz,{id:S,params:[{label:"Static",field:"static",type:"boolean",static:!0},{label:"Async",field:"async",type:"boolean",static:!0}]}),(0,w.jsx)(P.kz,{id:S,params:[{field:"level",type:"select",data:["public","private","protected"],static:!0}]})]})};return C.category="program structure",C.keyWords=["method","constructor","class"],C.getData=(o,C,j,w)=>{(0,S.Su)(o.getBody(),"output",o,"body",C,j,w,null,[S.LL.data,S.LL.flow]);let L="public";return o.getModifiers().find(o=>"PublicKeyword"==o.getKindName())?L="public":o.getModifiers().find(o=>"PrivateKeyword"==o.getKindName())?L="private":o.getModifiers().find(o=>"ProtectedKeyword"==o.getKindName())&&(L="protected"),{...o.getParameters().reduce((L,P,D)=>{let E=(0,V.O)(),Z=P.getInitializer(),N=P.getTypeNode(),T=N?N.getText():null;return o.getName&&(L.name=o.getName()),{...L,["param-"+E]:{key:P.getName(),value:Z?(0,S.Su)(Z,"output",o,"param-"+E,C,j,w,"param-"+E):"",type:T}}},{static:!!o.getModifiers().find(o=>"StaticKeyword"==o.getKindName()),async:!!o.getModifiers().find(o=>"AsyncKeyword"==o.getKindName()),level:L,type:o.getReturnTypeNode()?o.getReturnTypeNode().getText():null})}},C.dataOutput=et.f.method,C.dump=function(C,j,w,L,P,D,E){var Z;let N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=null!==(Z=L[C.id])&&void 0!==Z?Z:{},z="constructor"==o?"constructor":T.name,O=Object.keys(T).filter(o=>o.startsWith("param")).map(o=>{var P,Z,z,O;let I=(0,S.uC)(C,"target",o+"-key",S.LL.data,null!==(z=null===(P=T[o])||void 0===P?void 0:P.key)&&void 0!==z?z:"",w,j,L,null,D,E,N),W=(0,S.uC)(C,"target",o,S.LL.data,null!==(O=null===(Z=T[o])||void 0===Z?void 0:Z.value)&&void 0!==O?O:"",w,j,L,null,D,E,N),F=I+(T[o].type?":"+T[o].type+" ":"")+(W?"="+W:"");return F}),I=(0,S.uC)(C,"target","body",S.LL.flow,"",w,j,L,null,D,E,N);return(T.static?"static ":"")+(T.async?"async ":"")+z+"("+O.join(",")+") "+(T.type?":"+T.type+" ":"")+I+(0,S.uC)(C,"source","output",S.LL.flow,"",w,j,L,null,D,E,N)},C};eq("method");var eG=j(22253);let eU=o=>{var C;let{id:j,type:S}=o,Z=(0,N.H)(S),T=(0,L.useContext)(E.p),z=T(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),O=Object.keys(z).filter(o=>o.startsWith("param")).map((o,C)=>({label:"Params[".concat(C+1,"]"),field:o,type:"input",deleteable:!0})),I=[{label:"Name",field:"name",type:"input"}].concat(O),W={label:"Output",field:"value",type:"output"};return(0,w.jsxs)(P.ZP,{icon:eG.Z,output:{label:"Output",field:"value",type:"output"},node:o,isPreview:!j,title:"new",id:j,color:Z,children:[(0,w.jsx)(P.kz,{id:j,params:I,boxStyle:{marginTop:"10px"}}),(0,w.jsx)(D.Z,{id:j,nodeData:z,type:"param"}),(0,w.jsx)(P.IS,{id:j,param:W})]})};eU.category="operators",eU.keyWords=["new"],eU.getData=(o,C,j,w)=>({...o.getArguments().reduce((L,P,D)=>({...L,["param"+(D+1)]:(0,S.Su)(P,"output",o,"param"+(D+1),C,j,w,"param"+(D+1))}),{}),name:(0,S.Su)(o.getExpression(),"output",o,"name",C,j,w,"name")}),eU.dump=function(o,C,j,w){var L,P;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,E=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=null!==(L=w[o.id])&&void 0!==L?L:{},z=Object.keys(T).filter(o=>o.startsWith("param")).map(L=>(0,S.uC)(o,"target",L,S.LL.data,null!==(P=T[L])&&void 0!==P?P:"",j,C,w,D,E,Z,N)),O=(0,S.uC)(o,"target","name",S.LL.data,T.name,j,C,w,D,E,Z,N);return"new "+O+"("+z.join(",")+")"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,D,E,Z,N)};var eY=L.memo(eU),eX=j(81267);let eQ=o=>{let{id:C,type:j}=o,L=[],S=(0,N.H)(j);return(0,w.jsx)(P.ZP,{icon:eX.Z,node:o,isPreview:!C,title:"continue",id:C,params:L,color:S,dataOutput:et.f.flow})};eQ.keyWords=["continue","case","switch"],eQ.category="conditionals",eQ.getData=(o,C,j)=>({}),eQ.dataOutput=et.f.flow,eQ.dump=function(o,C,j,w){let L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,P=arguments.length>5&&void 0!==arguments[5]&&arguments[5],D=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",E=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return"continue"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,L,P,D,E)};var e0=L.memo(eQ),e1=j(15038);let e2=o=>{let C=C=>{var j;let{id:S,type:Z}=C,T=(0,N.H)(Z),z=(0,L.useContext)(E.p),O=z(o=>null!==(j=o.nodeData[S])&&void 0!==j?j:{}),I="json"==O.mode?{keyPre:o=>o.replace(/^(["'])|(["'])$/g,""),keyPost:o=>'"'+o+'"'}:{},W=Object.keys(O).filter(o=>o.startsWith("param-")).map((o,C)=>{let j="json"==O.mode?{}:{additionalHandlePort:"key"};return{label:o.substr(6),field:o,fieldType:"parameter",deleteable:!0,...j,...I}});return(0,w.jsxs)(P.ZP,{icon:e1.Z,node:C,isPreview:!S,title:"typeLiteral"==o?"type literal":"Object",id:S,color:T,children:[(0,w.jsx)("div",{style:{height:"5px"}}),(0,w.jsx)(P.kz,{id:S,params:W}),(0,w.jsx)(D.Z,{label:"Add Property",id:S,nodeData:O})]})};function j(o){let C=o.getSourceFile().getFullText(),j=o.getLastChild();if(j&&"CloseBraceToken"===j.getKindName()){let o=j.getLeadingTriviaWidth(),w=C.substring(j.getPos(),j.getPos()+o);return w}return""}return C.category="data structures",C.keyWords=["object","data"],C.getData=(C,j,w,L,P)=>({...C["typeLiteral"==o?"getMembers":"getProperties"]().reduce((D,E,Z)=>{let N,T;let z=(0,V.O)();return"SpreadAssignment"==E.getKindName()?N=(0,S.Su)(E,"output",C,"param-"+z+"-key",j,w,L):(N=E.getName(),T="typeLiteral"==o?E.getType().getText():E.getInitializer()?(0,S.Su)(E.getInitializer(),"output",C,"param-"+z,j,w,L,"param-"+z):""),{...D,["param-"+z]:{key:null!=N?N:"",value:null!=T?T:""},["trivia-param-"+z]:(0,S.Tz)(E),mode:P}},{})}),C.onDeleteConnection=(o,C)=>({...o,[C]:{...o[C],value:""}}),C.dump=function(o,C,w,L){var P;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,E=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;arguments.length>8&&arguments[8];let T=null!==(P=L[o.id])&&void 0!==P?P:{},z=T._astNode?"":" ",O=!!T._astNode,I=Object.keys(T).filter(o=>o.startsWith("param")).map(j=>{var P,O,I,W;let F=null!==(I=null===(P=T[j])||void 0===P?void 0:P.key)&&void 0!==I?I:"",H={},B=(0,S.uC)(o,"target",j,S.LL.data,null!==(W=null===(O=T[j])||void 0===O?void 0:O.value)&&void 0!==W?W:"",w,C,L,D,E,Z,N+1,H),R=F+(B?":"+z+B:"");return{code:R,trivia:H.content,paramTrivia:T["trivia-"+j]}}),W="partial"==Z?"":O?j(T._astNode):"\n"+"	".repeat(N-1);return"{"+I.reduce((o,C,j)=>{let w="partial"==Z?"":void 0!==C.paramTrivia?C.paramTrivia:"\n"+"	".repeat(N);return o+w+C.code+(j<I.length-1?",":"")},"")+W+"}"+(0,S.uC)(o,"source","output",S.LL.flow,"",w,C,L,D,E,Z,N)},C},e5=e2("objectLiteral");var e4=L.memo(e5);let e3=o=>(0,w.jsx)(w.Fragment,{});e3.skipTraversal=!0;var e6=(0,L.memo)(e3),e7=j(22e3);let e8=o=>{let{id:C,type:j}=o,L=(0,N.H)(j),S=[{label:"Template",field:"value",type:"input"}];return(0,w.jsx)(P.ZP,{icon:e7.Z,node:o,isPreview:!C,title:"template",id:C,params:S,color:L})};e8.category="operators",e8.keyWords=["Template"],e8.getData=(o,C,j)=>({value:o.getText().slice(1,-1)}),e8.skipTraversal=!0;var e9=L.memo(e8),te=j(77044),tt=j(38588),tl=j(66810),ti=j(86130),ta=j(16399);let to=200,tn=222,tr=120,td=100,ts=!0,tu=o=>{var C,j,S,D;let{id:Z,type:T}=o,z=(0,L.useContext)(E.p),O=(0,N.v8)(),I=z(o=>null!==(j=o.nodeData[Z])&&void 0!==j?j:{}),F=z(o=>o.nodeData[Z]&&o.nodeData[Z]._metadata?o.nodeData[Z]._metadata:{childWidth:0,childHeight:0,childHeights:[]}),H=z(o=>o.setNodeData),B=z(o=>o.currentPath),R=(0,N.ZP)("nodeFontSize");(0,N.ZP)("blockPort");let{resolvedTheme:A}=(0,ta.P)(),M=!F.childHeight,J=tn+(0,N.ZP)("nodeFontSize")/2,$=()=>{var o;return F.childHeight?F.childHeight+1.5*J+1*Math.max(0,(null===(o=I.connections)||void 0===o?void 0:o.length)-1):tr},K=Z?$():0,V=(0,W.Mi)(),G=()=>{H(Z,{...I,connections:I.connections?I.connections.concat([1]):[1]})},U={};U.minHeight=K+"px",U.border=0,U.minWidth="CaseClause"==T||"DefaultClause"==T?"400px":"200px";let Y=(0,N.ZP)("containerColor"),X={SourceFile:{output:!1,color:O,title:B.split(/[/\\]/).pop()},Block:{icon:tt.Z,color:"dark"==A?O:"#cccccc88",title:"Block"},CaseClause:{icon:tl.Z,color:"#cccccc88",title:"Case Clause"},DefaultClause:{icon:tl.Z,color:"#cccccc88",title:"Case Clause"}},Q=Z?V.filter(o=>o.target==Z):[];return Z&&L.useEffect(()=>{var o,C;if("json"==I.mode||Q.length!=(null==I?void 0:null===(o=I.connections)||void 0===o?void 0:o.length)&&(null==I?void 0:null===(C=I.connections)||void 0===C?void 0:C.length)){let o=Q.reduce((o,C)=>{let j=parseInt(C.targetHandle.slice(Z.length+6),10);return j>o?j:o},-1);H(Z,{...I,connections:I.connections.slice(0,o+2)})}else G()},[V,null==I?void 0:null===(S=I.connections)||void 0===S?void 0:S.length]),(0,w.jsxs)(P.ZP,{draggable:"SourceFile"!=T,container:!M,style:U,icon:null!==(D=X[T].icon)&&void 0!==D?D:null,node:o,output:!1==X[T].output?null:{field:"value",type:"output"},isPreview:!Z,title:X[T].title,id:Z,params:[],color:X[T].color,dataOutput:et.f.block,children:[M?(0,w.jsx)("div",{style:{height:2*R+"px"}}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{style:{top:1.9*R,opacity:1,pointerEvents:"none",borderRadius:"0px "+R/1.3+"px "+R/1.3+"px "+R/1.3+"px",position:"absolute",width:F.childWidth+(F.childWidth>700?100:0)+"px",height:K-P.sS-2*R+"px",backgroundColor:Y,borderLeft:R/2+"px solid "+X[T].color,boxShadow:(0,ti.p)(1.5)}})}),(0,w.jsx)("div",{children:null===(C=I.connections)||void 0===C?void 0:C.map((o,C)=>{let j=C&&F&&F&&F.childHeight&&F.childHeights&&F.childHeights[C-1]?F.childHeights[C-1].height:0;return j=j+(1==I.connections.length?td:J)-10,(0,w.jsxs)(w.Fragment,{children:[Q.length>0&&(0,w.jsx)("div",{style:{left:R/2-1+"px",position:"absolute",top:j-R/4+"px",width:R+"px",height:R/2+"px",backgroundColor:X[T].color}}),(0,w.jsx)(P._t,{id:Z,type:"input",label:"",style:{left:M?"":R+"px",top:j+"px"},handleId:"block"+C,allowedTypes:["data","flow"]},C)]})})})]})};tu.keyWords=["block","{}","CaseClause","group"],tu.category="common",tu.defaultHandle=S.LL.flow+"block0",tu.getData=(o,C,j,w,L)=>{let P=o.getStatements?o.getStatements():o.getDeclarations();P.forEach((L,P)=>{let D=C[(0,S.zv)(L)];if((null==D?void 0:D.type)||console.error("item has no type: ",D),(null==D?void 0:D.type)=="node"){let L=D.value.id;L&&(0,S.Su)(L,"output",o,"block"+P,C,j,w,null,[S.LL.data,S.LL.flow])}});let D=o.getStatements();return{connections:"json"==L&&D.length?D:D.concat([1]),mode:L}},tu.dataOutput=et.f.block,tu.dump=function(o,C,j,w){var L,P,D;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;arguments.length>8&&void 0!==arguments[8]&&arguments[8];let z=null!==(L=w[o.id])&&void 0!==L?L:{connections:[]},O=null!==(P=z.connections)&&void 0!==P?P:[],I=z._astNode;I&&(D=I.getText());let W="Block"==o.type?"	":"",F=O.map((L,P)=>{j.find(C=>C.targetHandle==o.id+S.LL.flow+"block"+P&&C.source);var D,z="";let O={},I=(0,S.uC)(o,"target","block"+P,S.LL.flow,"",j,C,w,E,Z,N,T+1,O);return z=O.content&&O.content.includes("\n")||!P?"":"\n"+(I?W.repeat(T>0?T:0):""),{code:I=I?z+I:null,trivia:null!==(D=O.content)&&void 0!==D?D:""}}).filter(o=>o.code),H=F.length&&F[0].trivia.includes("\n")?"":"\n",B=("Block"==o.type?"{"+H:"")+F.map(o=>o.code).join("")+("Block"==o.type?"\n"+W.repeat(Math.max(T-1,0))+"}":"");return B},tu.filterChildren=(o,C,j,w,L)=>{if(!te.NE)return C;let P=(0,S.dS)([0,0],"VisualGroup","VisualGroup_"+C[0].id,{visible:!1},!1,j);return P[0].children=C,P},tu.getWidth=o=>50,tu.getPosition=(o,C)=>(ts&&(o.y=o.y+to),o),tu.getSpacingFactor=()=>({factorX:1.2,factorY:1});var tc=tu,tp=j(94533);let tf=o=>{let{id:C,type:j}=o,S=(0,N.H)(j),D=(0,L.useContext)(E.p),Z=D(o=>o.setMenu);return(0,w.jsxs)(P.ZP,{style:{borderColor:"#bbb",borderStyle:"dashed",borderWidth:2},output:!1,node:o,isPreview:!C,id:C,color:S,children:[(0,w.jsx)("div",{onClick:o=>{let{clientX:j,clientY:w}=o;console.log("event: ",o),console.log("locationX: ",j,"locationY: ",w),Z("open",[j,w],C)},children:(0,w.jsx)(tp.Z,{style:{color:"#bbb",fontSize:"25px"},children:"+"})}),(0,w.jsx)(P.IS,{id:C,param:{label:"",field:"value",type:"output"},style:{backgroundColor:"#bbb",marginTop:"-25px"}})]})};tf.keyWords=["phantom"],tf.dump=(o,C,j,w)=>"";var th=(0,L.memo)(tf),tg=j(69335);let tm=o=>{var C,j;let{id:S,type:Z}=o,T=(0,N.H)(Z),z=(0,L.useContext)(E.p),O=z(o=>null!==(C=o.nodeData[S])&&void 0!==C?C:{}),I=[{label:"Name",static:!0,field:"name",type:"input",description:"Type name"}],W=I.concat(Object.keys(O).filter(o=>o.startsWith("union-")).map((o,C)=>({label:"["+C+"]",field:o,type:"input",deleteable:!0})));return(0,w.jsxs)(P.ZP,{icon:tg.Z,node:o,isPreview:!S,title:(O.export?"export ":"")+"type "+(null!==(j=O.name)&&void 0!==j?j:""),id:S,color:T,dataOutput:et.f.flow,children:[(0,w.jsx)(P.kz,{id:S,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),(0,w.jsx)(P.kz,{id:S,params:W}),(0,w.jsx)(D.Z,{id:S,nodeData:O,type:"Union"})]})};tm.category="type system",tm.keyWords=["type"],tm.getData=(o,C,j,w)=>{var L={name:o.getName?o.getName():"",export:o.getModifiers().find(o=>"ExportKeyword"==o.getKindName())},P=[];return o.forEachChild(o=>{"TypeLiteral"==o.getKindName()?P.push(o):"UnionType"==o.getKindName()&&o.forEachChild((o,C)=>{P.push(o)})}),P.forEach((P,D)=>{let E="union-"+D;L={...L,[E]:(0,S.Su)(P,"output",o,E,C,j,w,null)}}),L},tm.dataOutput=et.f.flow,tm.dump=function(o,C,j,w){var L;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=null!==(L=w[o.id])&&void 0!==L?L:{},T=Object.keys(N).filter(o=>o.startsWith("union-")),z=T.length,O=T.reduce((L,T,O)=>{var I;let W=(0,S.uC)(o,"target",T,S.LL.data,null!==(I=N[T])&&void 0!==I?I:"",j,C,w,P,D,E,Z);return L+W+(O+1<z?" | ":"\n")},"");return(N.export?"export ":"")+"type "+N.name+" = "+O+" "+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,P,D,E,Z)};var tv=L.memo(tm);let tx=o=>{var C;let{id:j,type:S}=o,Z=(0,N.H)(S),T=(0,L.useContext)(E.p),z=T(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),O=[{label:"Name",static:!0,field:"name",type:"input",description:"Interface name"}],I=O.concat(Object.keys(z).filter(o=>o.startsWith("param-")).map((o,C)=>({label:o.substr(6),field:o,fieldType:"parameter",deleteable:!0})));return(0,w.jsxs)(P.ZP,{icon:tg.Z,node:o,isPreview:!j,title:"interface",id:j,color:Z,dataOutput:et.f.flow,children:[(0,w.jsx)(P.kz,{id:j,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),(0,w.jsx)(P.kz,{id:j,params:I}),(0,w.jsx)(D.Z,{id:j,nodeData:z})]})};tx.category="program structure",tx.keyWords=["interface"],tx.getData=(o,C,j)=>({...o.getType().getProperties().reduce((o,C,j)=>{var w;let L=(0,V.O)(),S=C.getValueDeclaration().getType().getText(),P=!!(null===(w=C.getValueDeclaration())||void 0===w?void 0:w.getChildrenOfKind(T.lGB.QuestionToken).length),D=C.getName()+(P?"?":"");return{...o,["param-"+L]:{key:null!=D?D:"",value:null!=S?S:""}}},{name:o.getName?o.getName():"",export:o.getModifiers().find(o=>"ExportKeyword"==o.getKindName())})}),tx.dataOutput=et.f.flow,tx.dump=function(o,C,j,w){var L;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=null!==(L=w[o.id])&&void 0!==L?L:{},T=Object.keys(N).filter(o=>o.startsWith("param-")).reduce((L,T)=>{var z,O;let I=N[T].key,W=(0,S.uC)(o,"target",T,S.LL.data,null!==(O=null===(z=N[T])||void 0===z?void 0:z.value)&&void 0!==O?O:"",j,C,w,P,D,E,Z),F="	"+I+":"+W+";";return L+F+"\n"},"");return(N.export?"export ":"")+" interface "+N.name+" {\n"+T+"\n}"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,P,D,E,Z)};var ty=L.memo(tx),tb=j(58942);let tC=o=>{var C;let{id:j,type:S}=o,Z=(0,N.H)(S),T=(0,L.useContext)(E.p),z=T(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),O=Object.keys(z).filter(o=>o.startsWith("param-")).map((o,C)=>({label:o.substr(6),field:o,fieldType:"parameter",deleteable:!0}));return(0,w.jsxs)(P.ZP,{icon:tb.Z,node:o,isPreview:!j,title:"object binding",id:j,color:Z,dataOutput:et.f.binding,children:[(0,w.jsx)(P.kz,{id:j,params:O}),(0,w.jsx)(D.Z,{id:j,nodeData:z})]})};tC.category="operators",tC.keyWords=["object","binding","object binding"],tC.getData=(o,C,j,w)=>({...o.getElements().reduce((o,C,j)=>{let w=(0,V.O)(),L=null==C?void 0:C.getPropertyNameNode(),S=null!==(D=null==C?void 0:C.getName())&&void 0!==D?D:"",P=null==C?void 0:C.getInitializer();var D,E={};return E=P?{key:S,value:P.getText(),initializer:!0}:L?{key:L.getText(),value:S}:{key:S},{...o,["param-"+w]:{...E}}},{})}),tC.dataOutput=et.f.binding,tC.dump=function(o,C,j,w){var L;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=null!==(L=w[o.id])&&void 0!==L?L:{},T=Object.keys(N).filter(o=>o.startsWith("param-")).reduce((L,T)=>{var z,O;let I=N[T].key,W=N[T].initializer?"=":":",F=(0,S.uC)(o,"target",T,S.LL.data,null!==(O=null===(z=N[T])||void 0===z?void 0:z.value)&&void 0!==O?O:"",j,C,w,P,D,E,Z),H=I+(F?W+F:"")+", ";return L+H},"");return"{"+T+"}"+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,P,D,E,Z)};var tj=tC,tw=j(1594),tL=j(1674);let tk=o=>{let{id:C,type:j}=o,L=(0,N.H)(j),S=[{label:"{jsx}",field:"expression",type:"input",description:"JsxExpression"}];return(0,w.jsx)(P.ZP,{icon:tL.Z,node:o,isPreview:!C,title:"{Jsx}",id:C,params:S,color:L,dataOutput:et.f.jsx})};tk.category="react",tk.keyWords=["jsx","jsxexpression","expression","tsx","{}"],tk.defaultHandle=S.LL.data+"expression",tk.getData=(o,C,j,w)=>{var L;return{expression:null!==(L=(0,S.Su)(o.getExpression(),"output",o,"expression",C,j,w,"expression"))&&void 0!==L?L:""}},tk.dataOutput=et.f.jsx,tk.dump=function(o,C,j,w){var L;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id],T=(0,S.uC)(o,"target","expression",S.LL.data,null!==(L=null==N?void 0:N.expression)&&void 0!==L?L:"",j,C,w,P,D,E,Z),z="{".concat(T,"}")+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,P,D,E,Z);return z},tk.isShadow=(o,C,j,w)=>"JsxAttribute"==o.getParent().getKindName();var tS=L.memo(tk);let tP=o=>{var C;let{id:j,type:S}=o,Z=(0,N.H)(S),T=(0,L.useContext)(E.p),z=T(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),O=Object.keys(z).filter(o=>o.startsWith("child-")).map((o,C)=>({label:"Child"+(C+1),field:o,fieldType:"child",deleteable:!0})),I=O;return(0,w.jsxs)(P.ZP,{icon:tL.Z,node:o,isPreview:!j,title:"<></>",id:j,color:Z,children:[(0,w.jsx)(P.kz,{id:j,params:I}),(0,w.jsx)(D.Z,{id:j,nodeData:z,type:"Child"})]})};tP.category="react",tP.keyWords=["jsx","jsxelement","jsxfragment","react","tsx","fragment","selfclosed"],tP.getData=(o,C,j,w)=>{let L=o.getChildrenOfKind(T.lGB.SyntaxList)[0],P=L.getChildren(),D=P.filter(o=>["JsxElement","JsxSelfClosingElement","JsxExpression","JsxFragment"].includes(o.getKindName())),E=null==D?void 0:D.reduce((L,P,D)=>{let E="child-".concat(D+1);return{...L,[E]:(0,S.Su)(P,"output",o,E,C,j,w,E)}},{});return{...E}},tP.dump=function(o,C,j,w){var L;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=null!==(L=w[o.id])&&void 0!==L?L:{},T=Object.keys(N).filter(o=>o.startsWith("child-")).reduce((L,T)=>{var z;return L+"	"+(0,S.uC)(o,"target",T,S.LL.data,null!==(z=N[T])&&void 0!==z?z:"",j,C,w,P,D,E,Z)+"\n"},"");return"<>\n".concat(T,"</>")+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,P,D,E,Z)};var t_=L.memo(tP);let tD=o=>{let C=C=>{var j,S,D;let{id:Z,type:T}=C,z=(0,N.H)(T),O=(0,L.useContext)(E.p),I=O(o=>null!==(j=o.nodeData[Z])&&void 0!==j?j:{}),W=[{label:"Element",field:"element",type:"input"},{label:"Iterator",field:"iterator",type:"input"}];return(0,w.jsxs)(P.ZP,{icon:eh.Z,node:C,isPreview:!Z,title:"for("+(null!==(S=null==I?void 0:I.element)&&void 0!==S?S:"element")+" ".concat(o," ")+(null!==(D=null==I?void 0:I.iterator)&&void 0!==D?D:"item")+")",id:Z,color:z,children:[(0,w.jsx)(P.kz,{id:Z,params:W,boxStyle:{marginTop:"0px",marginBottom:"80px"}}),(0,w.jsx)(P._t,{id:Z,type:"input",label:"Loop",style:{top:"180px"},handleId:"loop"})]})};return C.category="loops",C.keyWords=["for","for-in","for-of"],C.getData=(o,C,j,w)=>{o.getStatement()&&(0,S.Su)(o.getStatement(),"output",o,"loop",C,j,w,null,[S.LL.data,S.LL.flow]);let L=o.getInitializer(),P=o.getExpression();return{element:(0,S.Su)(L,"output",o,"element",C,j,w,"element"),iterator:(0,S.Su)(P,"output",o,"iterator",C,j,w,"iterator")}},C.dump=function(C,j,w,L){var P,D;let E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,Z=arguments.length>5&&void 0!==arguments[5]&&arguments[5],N=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,z=L[C.id],O=(0,S.uC)(C,"target","loop",S.LL.flow,"{}",w,j,L,E,Z,N,T),I=(0,S.uC)(C,"target","element",S.LL.data,null!==(P=null==z?void 0:z.element)&&void 0!==P?P:"",w,j,L,E,Z,N,T),W=(0,S.uC)(C,"target","iterator",S.LL.data,null!==(D=null==z?void 0:z.iterator)&&void 0!==D?D:"",w,j,L,E,Z,N,T),F="for("+I+" ".concat(o," ")+W+" ) "+O+"\n";return F+(0,S.uC)(C,"source","output",S.LL.flow,"",w,j,L,E,Z,N,T)},C};tD("in");var tE=j(54373);let tZ=o=>{var C;let{id:j,type:S}=o,D=(0,N.H)(S),Z=(0,L.useContext)(E.p),T=Z(o=>null!==(C=o.nodeData[j])&&void 0!==C?C:{}),z=[{label:"Expression",field:"expression",type:"input"}];return(0,w.jsx)(P.ZP,{icon:tE.Z,node:o,isPreview:!j,title:"delete "+((null==T?void 0:T.expression)?T.expression:"expression"),params:z,id:j,color:D,dataOutput:et.f.flow})};tZ.category="operators",tZ.keyWords=["delete"],tZ.getData=(o,C,j,w)=>({expression:(0,S.Su)(null==o?void 0:o.getExpression(),"output",o,"expression",C,j,w,"expression")}),tZ.dataOutput=et.f.flow,tZ.dump=function(o,C,j,w){var L;let P=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,D=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,N=w[o.id];return"delete "+(0,S.uC)(o,"target","expression",S.LL.data,null!==(L=null==N?void 0:N.expression)&&void 0!==L?L:"",j,C,w,P,D,E,Z)+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,P,D,E,Z)};var tN=(0,L.memo)(tZ);let tT=o=>{let{id:C,type:j}=o,L=(0,N.H)(j),S=[{label:"Expression",field:"expression",type:"input"}];return(0,w.jsx)(P.ZP,{icon:J.Z,node:o,isPreview:!C,title:"...",color:L,id:C,params:S,dataOutput:et.f.spread})};tT.category="operators",tT.keyWords=["spread","..."],tT.getData=(o,C,j,w)=>{let L=o.getExpression();return{expression:(0,S.Su)(L,"output",o,"expression",C,j,w,"expression")}},tT.dataOutput=et.f.spread,tT.dump=function(o,C,j,w){var L,P;let D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,E=arguments.length>5&&void 0!==arguments[5]&&arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,T=w[o.id];return"..."+(null!==(P=(0,S.uC)(o,"target","expression",S.LL.data,null!==(L=null==T?void 0:T.expression)&&void 0!==L?L:"",j,C,w,D,E,Z,N))&&void 0!==P?P:"")+(0,S.uC)(o,"source","output",S.LL.flow,"",j,C,w,D,E,Z,N)};var tz=(0,L.memo)(tT);let tO=o=>{let{id:C,type:j}=o;return(0,w.jsx)(w.Fragment,{})};tO.getData=(o,C,j)=>{let w=o.getExpression();return w?C[(0,S.zv)(w)]:{type:"data",value:""}},tO.isShadow=(o,C,j,w)=>!0;var tI=(0,L.memo)(tO);let tW=o=>{var C,j,L;console.log("node in visualgroup: ",o),o.id.startsWith("VisualGroup_SourceFile_");let S=(null===(C=o.data)||void 0===C?void 0:C.width)+"px",P=(null===(j=o.data)||void 0===j?void 0:j.height)+"px",D="3px",E="white";return(0,w.jsx)("div",{style:{width:"0px",height:"0px"},children:(null===(L=o.data)||void 0===L?void 0:L.visible)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"nodrag",style:{position:"absolute",width:S,height:D,backgroundColor:E}}),(0,w.jsx)("div",{className:"nodrag",style:{position:"absolute",top:P,width:S,height:D,backgroundColor:E}}),(0,w.jsx)("div",{className:"nodrag",style:{position:"absolute",width:D,height:P,backgroundColor:E}}),(0,w.jsx)("div",{className:"nodrag",style:{position:"absolute",left:S,width:D,height:P,backgroundColor:E}})]}):null})};var tF=(0,L.memo)(tW);let tH=o=>{var C,j,S;let P=(0,L.useContext)(E.p),{id:D,type:Z}=o,N=P(o=>null!==(C=o.nodeData[D])&&void 0!==C?C:{});switch(null==N?void 0:N.type){case"text":return(0,w.jsx)("p",{style:null==N?void 0:null===(j=N.data)||void 0===j?void 0:j.style,children:null==N?void 0:null===(S=N.data)||void 0===S?void 0:S.text});case"image":return(0,w.jsx)(w.Fragment,{})}};var tB=(0,L.memo)(tH);let tR={Block:tc,CallExpression:I,BinaryExpression:B("+"),ObjectLiteralExpression:e4,ArrayLiteralExpression:eb,ArrowFunction:Y,FunctionDeclaration:Y,ReturnStatement:eW,ElementAccessExpression:em,ParenthesizedExpression:ew,IfStatement:ea,ConditionalExpression:ef,WhileStatement:ek("while"),DoStatement:ek("while","do-while"),ForStatement:ek("for"),ForInStatement:tD("in"),ForOfStatement:tD("of"),SwitchStatement:ec,BreakStatement:eB,constNode:R("const"),letNode:R("let"),varNode:R("var"),setNode:B("="),PrefixUnaryExpression:eS("pre"),PostfixUnaryExpression:eS("post"),ClassDeclaration:eK("declaration"),ClassExpression:eK("expression"),MethodDeclaration:eq("method"),Constructor:eq("constructor"),ImportDeclaration:eD,ContinueStatement:e0,TemplateExpression:e9,ExportAssignment:eN,ExportDeclaration:ez,NewExpression:eY,TryStatement:er,PropertyAccessExpression:K,TypeLiteral:e2("typeLiteral"),TypeAliasDeclaration:tv,InterfaceDeclaration:ty,ObjectBindingPattern:tj,JsxElement:(0,tw.$N)("JsxElement"),JsxExpression:tS,JsxFragment:t_,JsxSelfClosingElement:(0,tw.$N)("JsxSelfClosingElement"),DeleteExpression:tN,SpreadAssignment:tz,CaseClause:tc},tA={...tR,PropertyAccessExpression:K,SourceFile:tc,Parameter:Q,VariableDeclarationList:M,VariableStatement:eA,ComputedPropertyName:e6,SpreadElement:tz,PhantomBox:th,FunctionExpression:Y,ExpressionStatement:tI,VisualGroup:tF,Layer:tB,DefaultClause:tc};var tM=tR},33361:function(o,C,j){"use strict";j.d(C,{Df:function(){return z},NH:function(){return S},XD:function(){return N},ui:function(){return Z},vM:function(){return E},yt:function(){return T}});var w=j(2784),L=j(85716);let S=(0,w.createContext)({nodePreview:"",flowsHeight:void 0}),P=()=>{let{nodePreview:o,flowsHeight:C}=(0,w.useContext)(S),j="preview"===o,L=j?"node":"default";return{preview:L,flowsHeight:C}},D=(o,C)=>"function"==typeof o?j=>o(j.map(o=>({...o,data:{...o.data,...C}}))):o.map(o=>({...o,data:{...o.data,...C}})),E=()=>{let{setNodes:o,setEdges:C,project:j,setViewport:w,getNodes:S,getViewport:E,setCenter:Z,getEdges:N,deleteElements:T,fitView:z}=(0,L._K)(),O=P(),I=C=>{o(D(C,O))},W=o=>{C(D(o,O))};return{setNodes:I,project:j,setViewport:w,getNodes:S,getViewport:E,setCenter:Z,setEdges:W,getEdges:N,deleteElements:T,fitView:z}},Z=function(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[j,w,S]=(0,L.Rr)(D(o,C)),P=o=>w(D(o,C));return[j,P,S]},N=function(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[j,w,S]=(0,L.ll)(D(o,C)),P=o=>w(D(o,C));return[j,P,S]},T=()=>(0,L.Mi)(),z=(o,C)=>(0,L.Z_)({...o,type:"custom",animated:!1},C)},45823:function(o,C,j){"use strict";j.d(C,{g:function(){return P},p:function(){return D}});var w=j(2784),L=j(92467),S=j(15729);let P=()=>(0,L.Z)((o,C)=>({errorData:{},nodeData:{},customComponents:[],initialEdges:[],initialNodes:[],saveStatus:null,menuState:"closed",menuPosition:[0,0],menuOpener:"",themeMode:"light",primaryColor:"#ccc",themeOverride:{},flowInstance:Math.random(),currentPath:"Start",metadata:{},dataNotify:()=>{},setDataNotify:C=>o((0,S.ZP)(o=>{o.dataNotify=C})),clearError:()=>o((0,S.ZP)(o=>{o.errorData={}})),setError:C=>o((0,S.ZP)(o=>{o.errorData={id:C}})),setCurrentPath:C=>o((0,S.ZP)(o=>{o.currentPath=C})),setMenu:(C,j,w)=>o((0,S.ZP)(o=>{o.menuState=C,o.menuPosition=j||[-5e3,-5e3],o.menuOpener=w||""})),setInitialEdges:C=>o((0,S.ZP)(o=>{o.initialEdges=C})),setInitialNodes:C=>o((0,S.ZP)(o=>{o.initialNodes=C})),setCustomComponents:C=>o((0,S.ZP)(o=>{o.customComponents=C})),appendCustomComponents:C=>o((0,S.ZP)(o=>{let j=(o,C)=>o.some(o=>o.id===C.id);C.forEach(C=>{j(o.customComponents,C)||o.customComponents.push(C)})})),setNodeData:(j,w)=>o((0,S.ZP)(o=>{o.nodeData={...C().nodeData,[j]:{...C().nodeData[j],...w}}})),setNodesMetaData:C=>o((0,S.ZP)(o=>{Object.keys(C).forEach(j=>{o.nodeData[j]||(o.nodeData[j]={}),o.nodeData[j]._metadata=C[j]})})),setNodesData:C=>o((0,S.ZP)(o=>{o.nodeData=C})),deletePropNodeData:(j,w)=>o((0,S.ZP)(o=>{var L={...C().nodeData[j]};Object.keys(L).includes(w)?(delete L[w],o.nodeData={...o.nodeData,[j]:{...L}}):(console.error('Error deleting the following "Property Node Data": '+j),o.nodeData={...o.nodeData})})),clearNodesData:()=>o((0,S.ZP)(o=>{let j={},w=Object.keys(C().nodeData).filter(o=>!(o.startsWith("Object")||o.startsWith("ArrowFunction")||o.startsWith("TypeAliasDeclaration")||o.startsWith("InterfaceDeclaration")||o.startsWith("ObjectBindingPattern")||o.startsWith("JsxElement")||o.startsWith("JsxExpression")||o.startsWith("PropertyAssignment")||o.startsWith("FunctionDeclaration")));w.forEach(o=>{j[o]=C().nodeData[o]}),o.nodeData=j})),setSaveStatus:C=>o((0,S.ZP)(o=>{o.saveStatus=C})),setThemeMode:(C,j,w)=>o((0,S.ZP)(o=>{o.themeMode=C,o.themeOverride=j,o.primaryColor=null!=w?w:"#ccc"})),setMetadata:C=>o((0,S.ZP)(o=>{o.metadata=C}))})),D=(0,w.createContext)(P())},77044:function(o,C,j){"use strict";j.d(C,{Hd:function(){return w},NE:function(){return S},r0:function(){return P},te:function(){return L}});let w="LEFT",L=!1,S=!1,P=!1},69685:function(o,C,j){"use strict";j.d(C,{Jf:function(){return L},Ql:function(){return w},oe:function(){return S}});let w=o=>{var C;let j=o.split("-")[0];switch(j){case"prop":case"param":C="detailed";break;default:C="literal"}return C},L=function(o){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,L=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!C)return o;let S=C.split("-")[0],P=w(S),D=null!==(Z=null!==(E=null==T?void 0:T.kind)&&void 0!==E?E:L.kind)&&void 0!==Z?Z:"StringLiteral";if("detailed"===P){var E,Z,N,T=j[C],z=C.split("-")[1];N={...T,key:z,kind:D,value:o}}else N=o;return N},S=(o,C)=>{var j,L;let S=o.split("-")[0],P=w(S);return"detailed"===P?null===(L=C[o])||void 0===L?void 0:L.value:C[o]}},91092:function(){},62321:function(){},78260:function(){},77733:function(){},97752:function(){},34719:function(){},79711:function(){},56699:function(){},68379:function(){},68382:function(){},78867:function(){},21212:function(){},89854:function(){},25800:function(){},93037:function(){},26996:function(){}}]);