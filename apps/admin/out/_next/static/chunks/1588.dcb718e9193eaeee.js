(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1588],{48313:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=48313,e.exports=t},52398:function(e,t,l){"use strict";l.r(t),l.d(t,{AddPropButton:function(){return F},BaseJSMasks:function(){return tR},CustomEdge:function(){return lb},Diagram:function(){return l$},FallbackPort:function(){return tP},FlowConstructor:function(){return iz},FlowFactory:function(){return iB},FlowPort:function(){return lu},FlowStoreContext:function(){return p},HandleOutput:function(){return ld},Node:function(){return lp},NodeParams:function(){return ls},NodeTypes:function(){return tD},PORT_TYPES:function(){return E},Panel:function(){return r.s_},connectNodes:function(){return b},createNode:function(){return w},filterCallback:function(){return tF},filterCallbackProp:function(){return tO},generateId:function(){return y},getId:function(){return k},isHandleConnected:function(){return tQ},layouts:function(){return lz},restoreCallback:function(){return tW},restoreCallbackProp:function(){return tI},useFlowsStore:function(){return u}});var i,o,n=l(52322),a=l(2784),r=l(10729),d=l(92467),s=l(15729);let u=()=>(0,d.Z)((e,t)=>({errorData:{},nodeData:{},customComponents:[],initialEdges:[],initialNodes:[],saveStatus:null,menuState:"closed",menuPosition:[0,0],menuOpener:"",themeMode:"light",themeOverride:{},flowInstance:Math.random(),currentPath:"Start",metadata:{},dataNotify:()=>{},setDataNotify:t=>e((0,s.ZP)(e=>{e.dataNotify=t})),clearError:()=>e((0,s.ZP)(e=>{e.errorData={}})),setError:t=>e((0,s.ZP)(e=>{e.errorData={id:t}})),setCurrentPath:t=>e((0,s.ZP)(e=>{e.currentPath=t})),setMenu:(t,l,i)=>e((0,s.ZP)(e=>{e.menuState=t,e.menuPosition=l||[-5e3,-5e3],e.menuOpener=i||""})),setInitialEdges:t=>e((0,s.ZP)(e=>{e.initialEdges=t})),setInitialNodes:t=>e((0,s.ZP)(e=>{e.initialNodes=t})),setCustomComponents:t=>e((0,s.ZP)(e=>{e.customComponents=t})),appendCustomComponents:t=>e((0,s.ZP)(e=>{let l=(e,t)=>e.some(e=>e.id===t.id);t.forEach(t=>{l(e.customComponents,t)||e.customComponents.push(t)})})),setNodeData:(l,i)=>e((0,s.ZP)(e=>{e.nodeData={...t().nodeData,[l]:{...t().nodeData[l],...i}}})),setNodesMetaData:t=>e((0,s.ZP)(e=>{Object.keys(t).forEach(l=>{e.nodeData[l]||(e.nodeData[l]={}),e.nodeData[l]._metadata=t[l]})})),setNodesData:t=>e((0,s.ZP)(e=>{e.nodeData=t})),deletePropNodeData:(l,i)=>e((0,s.ZP)(e=>{var o={...t().nodeData[l]};Object.keys(o).includes(i)?(delete o[i],e.nodeData={...e.nodeData,[l]:{...o}}):(console.error('Error deleting the following "Property Node Data": '+l),e.nodeData={...e.nodeData})})),clearNodesData:()=>e((0,s.ZP)(e=>{let l={},i=Object.keys(t().nodeData).filter(e=>!(e.startsWith("Object")||e.startsWith("ArrowFunction")||e.startsWith("TypeAliasDeclaration")||e.startsWith("InterfaceDeclaration")||e.startsWith("ObjectBindingPattern")||e.startsWith("JsxElement")||e.startsWith("JsxExpression")||e.startsWith("PropertyAssignment")||e.startsWith("FunctionDeclaration")));i.forEach(e=>{l[e]=t().nodeData[e]}),e.nodeData=l})),setSaveStatus:t=>e((0,s.ZP)(e=>{e.saveStatus=t})),setTemeMode:(t,l)=>e((0,s.ZP)(e=>{e.themeMode=t,e.themeOverride=l})),setMetadata:t=>e((0,s.ZP)(e=>{e.metadata=t}))})),p=(0,a.createContext)(u()),c={nodeBorderWidth:"1px",nodeFontSize:20,nodeEdgeWidth:3,nodeEdgeStyle:"7 5"};c.portSize=20,c.borderWidth=0,c.borderWidthSelected=.5;let g="#888",v={light:{...c,plusColor:"#999",edgeColor:"#888",nodeBackgroundColor:"#fdfdfd",inputBackgroundColor:"white",inputBorder:"1px solid #ccc",textColor:"#666",disableTextColor:"#ccc",interactiveColor:"#4fc2f7",interactiveHoverColor:"rgba(79, 194, 247, 0.1)",borderColor:"#888",colorError:"#EF4444",handleBorderColor:"white",flowOutputColor:"white",dataOutputColor:"black",highlightInputBackgroundColor:"#F1F1F1",blockPort:"#fefefe",flowPort:"#fefefe",dataPort:"#fefefe",nodeBorderColor:"#aaa",titleColor:"#222",containerColor:"#00000005"},dark:{...c,plusColor:"white",handleBorderColor:"black",edgeColor:g,nodeBackgroundColor:"#303030",inputBackgroundColor:"#404040",inputBorder:"0",textColor:"#e5e5e5",disableTextColor:"grey",interactiveColor:"#4772b3",interactiveHoverColor:"#252525",borderColor:g,colorError:"#EF4444",flowOutputColor:"grey",dataOutputColor:"black",highlightInputBackgroundColor:"#222222",blockPort:"black",flowPort:"grey",dataPort:"grey",nodeBorderColor:g,titleColor:"black",containerColor:"#FFFFFF05"}};var h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=(0,a.useContext)(p),i=l(e=>e.themeMode),o=l(e=>e.themeOverride),n={...v[i],...o};try{let t=n[e];return t}catch(e){return t}};let f=a.forwardRef((e,t)=>(0,n.jsx)("input",{...e,ref:t,style:{fontSize:h("nodeFontSize"),fontFamily:"Jost-Regular",border:h("inputBorder"),color:e.readOnly?h("disableTextColor"):h("textColor"),backgroundColor:h("inputBackgroundColor"),padding:"0.35ch",paddingLeft:"1ch",borderRadius:"0.5ch",display:"flex",flex:1,width:"100%",boxSizing:"border-box",cursor:e.readOnly?"grab":"text",...e.style},children:e.children}));var x=e=>{let t=h("nodeFontSize");return(0,n.jsx)("span",{...e,style:{whiteSpace:"nowrap",textOverflow:"ellipsis",fontFamily:"Jost-Regular",paddingLeft:"0.4em",paddingRight:"0.4em",fontSize:t+"px",color:h("textColor"),...e.style},title:e.children,children:e.children})},m=l(6364);let y=()=>(0,m.Z)().replace(/-/g,""),b=(e,t,l,i)=>({id:(0,m.Z)(),source:e,sourceHandle:t,target:l,targetHandle:i,animated:!1,type:"custom"}),j=(e,t,l,i)=>!!i.find(i=>{let o=i.sourceHandle==k(e)+l+t||i.targetHandle==k(e)+l+t;return o}),C=(e,t,l)=>{var i=[];let o={id:y(),source:t,sourceHandle:t+"-output",target:e.target,targetHandle:e.targetHandle,type:"custom"};if(i.push(o),l){let o={id:y(),source:e.source,sourceHandle:e.sourceHandle,target:t,targetHandle:t+l,type:"custom"};i.push(o)}return i},w=(e,t,l,i,o,n,a)=>{let r={id:null!=l?l:y(),position:{x:e[0],y:e[1]},data:null!=i?i:{},type:t,deletable:o,selectable:o,draggable:!1};return tD[t]&&tD[t].onCreate?tD[t].onCreate(r,n,a):[r]};function k(e){try{return e.getKindName()+"_"+e._compilerNode.pos+"_"+e._compilerNode.end}catch(t){return e}}let E={flow:"_",data:"-"},D={prop:["JsxExpression"],expression:["ArrowFunction","CallExpression","JsxElement","JsxFragment","JsxSelfClosingElement","ObjectBindingPattern","ObjectLiteralExpression"],child:["Block","JsxElement","JsxFragment","JsxSelfClosingElement"],incrementor:["BinaryExpression"],initializer:["letNode","varNode"],condition:["BinaryExpression","CallExpression"],declarationName:["ObjectBindingPattern"],accessName:["BinaryExpression","CallExpression","ElementAccessExpression"],setLeft:["ElementAccessExpression"],left:["ArrayLiteralExpression","BinaryExpression","CallExpression","ElementAccessExpression"],right:["ArrayLiteralExpression","BinaryExpression","CallExpression","ElementAccessExpression"],to:["ElementAccessExpression"],param:["ArrayLiteralExpression","ArrowFunction","BinaryExpression","CallExpression","Function","JsxElement","JsxFragment","JsxSelfClosingElement","ObjectBindingPattern","ObjectLiteralExpression","ParenthesizedExpression"],key:["SpreadAssignment"],name:["ElementAccessExpression"],value:["ArrayLiteralExpression","CallExpression","ElementAccessExpression"],block:[],request:["Block","CallExpression"],then:["BinaryExpression","Block","CallExpression"],else:["BinaryExpression","Block","CallExpression"],constructor:["MethodDeclaration"],body:["Block"],union:["TypeLiteral"]};function S(e,t,l,i,o,n,a){let r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[E.data,E.data];if(!e||!l)return"";try{let u=k(e),p=k(l),c=o[u],g=o[p];if(c||(c={type:"node",value:{id:u}}),g||(g={type:"node",value:{id:p}}),"node"==c.type){a.push(b(c.value.id,"".concat(c.value.id).concat(d[0]).concat(t),g.value.id,"".concat(g.value.id).concat(d[1]).concat(i)));var s=tD[u.split("_")[0]];if(!s)return"";s=s.type?s.type:s;let e=Object.keys(o).filter(e=>o[e]&&"node"==o[e].type).map(e=>o[e].value),l=s.dump({id:u,type:u.split("_")[0]},e,a,n);return l.replace(/(\r\n|\n|\r)/gm,"")}if(r&&c._astNode)try{n[p]["trivia-"+r]=N(c._astNode)}catch(e){}return c?c.value:""}catch(o){return console.error("Error connecting nodes: ",o,e,t,l,i),""}}function N(e){let t=e.getFullText();return e.getLeadingTriviaWidth()?t.substring(0,e.getLeadingTriviaWidth()):""}function T(e,t){var l,i;return(null!==(l=e["trivia-"+t])&&void 0!==l?l:" ")+(null!==(i=e[t])&&void 0!==i?i:"")}function P(e,t,l,i,o,n,a,r){let d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,s=arguments.length>9&&void 0!==arguments[9]&&arguments[9],u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"partial",p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,c=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{},g=arguments.length>13&&void 0!==arguments[13]&&arguments[13],v="source"==t?"sourceHandle":"targetHandle",h=n.find(t=>t[v]==e.id+i+l&&t.source);if(h){let e=a.find(e=>e.id==("target"==t?h.source:h.target));if(!e)return o;let l=tD[e.type];l.type&&(l=l.type);let i=s?"/* JSFLOWID("+(e&&e.id?e.id:"")+") */":"",v="";if(c.fromFile=!1,l){if(!g&&r[e.id]&&r[e.id]._astNode){let t=r[e.id]._astNode;c.fromFile=!0,v=N(t),c.content=v}let t=l.dump(e,a,n,r,d,s,u,p,v);return i+("full"==u?v:"")+t}}return o}var O=e=>{let{onPress:t,label:l,style:i={}}=e,o={width:"50%",margin:"15px",border:"0px solid transparent",borderRadius:"8px",color:h("interactiveColor"),padding:"10px 15px",cursor:"pointer",transition:"background-color 0.3s ease",display:"flex",position:"relative",alignSelf:"center",textAlign:"center",alignItems:"stretch",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",textDecoration:"none",zIndex:"0",fontFamily:"Jost-Regular",fontSize:h("nodeFontSize"),...i},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[i,o]=a.useState(t);return{style:{...i,customStyle:l},onMouseEnter:()=>o(e),onMouseLeave:()=>o(t)}}({...o,backgroundColor:h("interactiveHoverColor")},{...o,backgroundColor:"transparent"},i);return(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,n.jsx)("button",{onClick:t,...r,children:l})})},F=e=>{let{nodeData:t,id:l,type:i="Param",style:o={},keyId:r=null,label:d=null}=e,s=(0,a.useContext)(p),u=s(e=>e.setNodeData),c={Attribute:"attr",Method:"meth",Case:"case",Element:"element",Component:"element",Import:"import",param:"param",Prop:"prop",Child:"child",Union:"union"}[i]||"param";return r=null!==r?r:c+"-"+y(),(0,n.jsx)(O,{onPress:()=>{if(["child","case","element","union"].includes(c)){var e,i;r=c+"-"+(null!==(i=(null===(e=Object.keys(t))||void 0===e?void 0:e.filter(e=>e.startsWith("".concat(c,"-"))).length)+1)&&void 0!==i?i:1)}u(l,{...t,[r]:""})},label:null!=d?d:"Add ".concat(i),style:o})},W=l(76066);let I=e=>{var t;let{id:l,type:i}=e,o=(0,a.useContext)(p),r=o(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),d=Object.keys(r).filter(e=>e.startsWith("param")),s=d.reduce((e,t)=>{let l=parseInt(t.replace(/\D/g,""),10)>e?parseInt(t.replace(/\D/g,""),10):e;return l},1)+1,u=[{label:"To",field:"to",type:"input",description:"Identifier name. Leave empty to access current scope"}].concat(d.map((e,t)=>({label:"Params[".concat(t+1,"]"),field:e,type:"input",deleteable:!0})));return(0,n.jsxs)(lp,{icon:W.Z,node:e,isPreview:!l,title:(r.to?r.to:"x")+"("+d.map(e=>r[e]?r[e]:"...").join(",")+")",id:l,color:tN[i],children:[(0,n.jsx)(ls,{id:l,params:u}),(0,n.jsx)(F,{keyId:"param"+s,id:l,nodeData:r})]})};I.keyWords=["call"],I.defaultHandle=E.data+"to",I.getData=(e,t,l,i)=>({to:S(e.getExpression(),"output",e,"to",t,l,i,"to"),...e.getArguments().reduce((o,n,a)=>({...o,["param"+(a+1)]:S(n,"output",e,"param"+(a+1),t,l,i,"param"+(a+1))}),{})}),I.dump=function(e,t,l,i){var o,n;let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=null!==(o=i[e.id])&&void 0!==o?o:{},p=Object.keys(u).sort(),c=p.filter(e=>e.startsWith("param")).sort((e,t)=>e.localeCompare(t,"en",{numeric:!0})).map(o=>{let n;let p=u._fallBack?u._fallBack.find(e=>e.port==o):null;if(p){let o=P(e,p.type,p.fallbackPort,p.portType,null,l,t,i,a,r,d,s);n=o?p.preText+o+p.postText:p.fallbackText}else n=P(e,"target",o,E.data,T(u,o),l,t,i,a,r,d,s);return n}),g=P(e,"target","to",E.data,null!==(n=null==u?void 0:u.to)&&void 0!==n?n:"",l,t,i,a,r,d,s);return g?g+"("+c.join(",")+function(e){if(!e)return"";let t=e.getSourceFile().getFullText(),l=e.getLastChild();if(l&&"CloseParenToken"===l.getKindName()){let e=l.getLeadingTriviaWidth(),i=t.substring(l.getPos(),l.getPos()+e);return i}return""}(u._astNode)+")":""+P(e,"source","output",E.flow,"",l,t,i,a,r,d,s)};var B=(0,a.memo)(I),z=l(51442),H=l(38757);let L=e=>{let t=e=>"="==e?"setLeft":"left",l=l=>{var i,o,d;let{id:s,type:u}=l,c=(0,a.useContext)(p),g=c(e=>null!==(i=e.nodeData[s])&&void 0!==i?i:{}),v=(0,r.Mi)(),h={"+":"operator","-":"operator","*":"operator","/":"operator","%":"operator","<=":"operator","==":"operator","===":"operator","!=":"operator","!==":"operator",">=":"operator","||":"operator","&&":"operator","|":"operator","&":"operator",">":"operator","<":"operator","**":"operator","**=":"operator","-=":"operator","+=":"operator","/=":"operator","*=":"operator","=":"set",".":"property",instanceof:"operator","??":"operator"}[null!==(o=g.operator)&&void 0!==o?o:e],f=null!==(d=g.operator)&&void 0!==d?d:e,x=[{label:"operator"==h?"Value":"Variable",field:t(f),type:"input",fieldType:g.leftType}];return"operator"==h&&x.push({field:"operator",type:"select",data:["+","-","*","/",">","<","<=","==","!=","===","!==",">=","||","&&","|","&","instanceof",""],static:!0}),x.push({label:{operator:"Value",set:"Value",property:"Property"}[h],field:"right",type:"input",fieldType:g.rightType}),(0,n.jsx)(lp,{icon:"operator"==h?z.Z:H.Z,node:l,isPreview:!s,title:"operator"==h?(!li(s,t(f),v)&&g[t(f)]?g[t(f)]:"...")+(g.operator?" "+g.operator+" ":" + ")+(!li(s,"right",v)&&g.right?g.right:"..."):h,id:s,params:x,color:tN[u]})};return l.keyWords=["+","-","*","/",">","<","<=","==","!=","===","!==",">=","||","&&","|","&","set","operator","set","property","instanceof"],l.defaultHandle=E.data+t(e),l.getData=(e,l,i,o)=>{let n=e.getOperatorToken().getText();return{operator:n,[t(n)]:S(e.getLeft(),"output",e,t(n),l,i,o,t(n)),right:S(e.getRight(),"output",e,"right",l,i,o,"right"),leftType:e.getLeft().getKindName(),rightType:e.getRight().getKindName(),operatorTrivia:N(e.getOperatorToken())}},l.dump=function(l,i,o,n){var a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=n[l.id],c=null!==(a=p.operator)&&void 0!==a?a:e,g=P(l,"target",t(c),E.data,p[t(c)],o,i,n,r,d,s,u,{},!0),v=P(l,"target","right",E.data,T(p,"right"),o,i,n,r,d,s,u);return g+(void 0!==p.operatorTrivia&&"full"==s?p.operatorTrivia:"")+c+v+P(l,"source","output",E.flow,"",o,i,n,r,d,s,u)},l};L("+");let Z=e=>{let t=t=>{var l,i,o;let{id:d,type:s}=t,u=(0,a.useContext)(p),c=u(e=>null!==(l=e.nodeData[d])&&void 0!==l?l:{}),g=null!==(i=c.type)&&void 0!==i?i:e;(0,r.Mi)();let v=Object.keys(c).filter(e=>e.startsWith("declarationName")),h=v.length?v:["declarationName1"];console.log("mobx: ",c);let f=[{label:"Type",field:"type",type:"select",data:["let","const","var"],static:!0}].concat(h.reduce((e,t,l)=>e=(e=e.concat({label:"Variable "+(l>0?"(".concat(l+1,")"):""),field:t,type:"input",static:"const"!=g})).concat({label:"Value "+(l>0?"(".concat(l+1,")"):""),field:"value".concat(l+1),fieldType:"input"}),[]),{label:"Export",field:"export",type:"boolean",static:!0});return(0,n.jsx)(lp,{icon:H.Z,node:t,isPreview:!d,title:((null==c?void 0:c.export)?"export ":"")+g+" "+h.map(e=>c[e]).join(","),id:d,params:f,color:null!==(o=tN[g+"Node"])&&void 0!==o?o:tN[s]})};t.keyWords=["const","let","var"],t.getData=(e,t,l,i)=>{let o=e.getChildren()[0].getText(),n=e.getDeclarations().reduce((o,n,a)=>{let r=n.getInitializer(),d=n.getName(),s=n.getTypeNode(),u=n.getChildren(),p=u.length>2?N(u[1]):" ",c="value".concat(a+1),g={["declarationName".concat(a+1)]:d,["opTrivia".concat(a+1)]:p};return r&&(g={...g,[c]:S(r,"output",e,c,t,l,i,c)}),s&&(g={...g,["type".concat(a+1)]:s.getText()}),{...o,...g}},{});return{type:o,...n,export:!!e.getParent().getModifiers&&!!e.getParent().getModifiers().find(e=>"export"==e.getText())}};let l=e=>e?":"+e.trim():"";return t.dump=function(t,i,o,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=n[t.id];var p,c=Object.keys(u).filter(e=>e.startsWith("declarationName"));if(!c.length)return"";let g=c.reduce((e,p,g)=>{let v="value".concat(g+1),h="opTrivia".concat(g+1),f=P(t,"target",v,E.data,T(u,v),o,i,n,a,r,d,s);return console.log("value in vardec: ["+f+"]"),e+u[p]+l(u["type".concat(g+1)])+(""===f||void 0===f||" "==f?"":(void 0!==u[h]?u[h]:" ")+"="+f)+(c.length==g+1?"":", ")},"");return(u.export?"export ":"")+(null!==(p=u.type)&&void 0!==p?p:e)+" "+g},t},A=Z("const");var _=(0,a.memo)(A),R=l(56881);let M=e=>{let{id:t,type:l}=e;return(0,n.jsx)(lp,{icon:R.Z,node:e,isPreview:!t,title:"property",color:tN[l],id:t,params:[{label:"Name",field:"name",type:"input"},{label:"Property",field:"prop",type:"input"}]})};M.keyWords=["property"],M.getData=(e,t,l,i)=>{let o=e.getNameNode(),n=e.getExpression();return"data"==t[k(n)].type&&"data"==t[k(o)].type?{type:"data",value:t[k(n)].value+"."+t[k(o)].value}:{name:S(o,"output",e,"name",t,l,i,"name"),prop:S(n,"output",e,"prop",t,l,i,"prop")}},M.checkCreate=(e,t)=>"data"!=t[k(e)].type,M.dump=function(e,t,l,i){var o,n,a,r;let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=i[e.id],g=null!==(n=P(e,"target","name",E.data,null!==(o=null==c?void 0:c.name)&&void 0!==o?o:"",l,t,i,d,s,u,p))&&void 0!==n?n:"";return(null!==(r=P(e,"target","prop",E.data,null!==(a=null==c?void 0:c.prop)&&void 0!==a?a:"",l,t,i,d,s,u,p))&&void 0!==r?r:"")+"."+g+P(e,"source","output",E.flow,"",l,t,i,d,s,u,p)};var K=(0,a.memo)(M),J=l(20477),V=l(69498);let q=e=>{var t;let{id:l,type:i}=e,o="ArrowFunction"==i,r=(0,a.useContext)(p),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),s=(o?[]:[{label:"Name",static:!0,field:"name",type:"input",description:"Function name"}]).concat(Object.keys(d).filter(e=>e.startsWith("param-")).map((e,t)=>({label:d[e].isBindingPattern?"".concat("Params["+(t+1)+"]"):e.substr(6),field:e,fieldType:"parameter",deleteable:!0})));return(0,n.jsxs)(lp,{icon:V.Z,node:e,isPreview:!l,title:o?"=>":d.name?d.name:"function",id:l,color:tN[i],children:[(0,n.jsx)(ls,{id:l,params:[{label:"Call",field:"call",fieldType:"call",type:"input"}]}),(0,n.jsx)(ls,{id:l,params:s}),"FunctionExpression"!=i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ls,{id:l,params:[{label:"Async",field:"async",type:"boolean",static:!0}],boxStyle:{marginTop:"40px"}}),(0,n.jsx)(ls,{id:l,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),d.export?(0,n.jsx)(ls,{id:l,params:[{label:"isDefault",field:"isDefault",type:"boolean",static:!0}]}):null]}):(0,n.jsx)("div",{style:{marginTop:"26px"}}),(0,n.jsx)(F,{id:l,nodeData:d})]})};q.keyWords=["function","=>","arrow"],q.getData=(e,t,l,i)=>{let o=k(e.getBody()),n=S(o,"output",e,"call",t,l,i,null,[E.data,E.flow]);return{...e.getParameters().reduce((o,n,a)=>{let r=y(),d=n.getInitializer(),s=n.getName(),u=n.getTypeNode(),p=u?u.getText():null,c=!!n.getDescendantsOfKind(J.lGB.ObjectBindingPattern).length;return c&&(s=n.getDescendantsOfKind(J.lGB.ObjectBindingPattern)[0]),{...o,["param-"+r]:{key:c?S(s,"output",e,"param-"+r,t,l,i,"key"):n.getName(),value:d?S(d,"output",e,"param-"+r,t,l,i,"value"):"",isBindingPattern:c,type:p}}},{name:e.getName&&void 0!=e.getName()?e.getName():"",export:!!e.getModifiers&&!!e.getModifiers().find(e=>"export"==e.getText()),isDefault:!!e.getModifiers&&!!e.getModifiers().find(e=>"default"==e.getText()),async:!!e.getModifiers().find(e=>"AsyncKeyword"==e.getKindName()),call:n,type:e.getReturnTypeNode()?e.getReturnTypeNode().getText():null})}},q.dump=function(e,t,l,i){var o,n;let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=null!==(o=i[e.id])&&void 0!==o?o:{},p=Object.keys(u).filter(e=>e.startsWith("param")).map(o=>{let n;if(u[o].isBindingPattern){let p=P(e,"target",o,E.data,u[o].value,l,t,i,a,r,d,s);n=p+(u[o].type?":".concat(u[o].type):"")}else{let p=P(e,"target",o+"-key",E.data,u[o].key,l,t,i,a,r,d,s),c=P(e,"target",o,E.data,u[o].value,l,t,i,a,r,d,s);n=p+(u[o].type?":".concat(u[o].type):"")+(c?"="+c:"")}return n}),c=P(e,"target","call",E.flow,null!==(n=u.call)&&void 0!==n?n:"{}",l,t,i,a,r,d,s,{},!0),g=(u.export?"export ":"")+(u.export&&u.isDefault?"default ":"")+(u.async?"async ":"");return"ArrowFunction"==e.type?g+="("+p.join(",")+") => "+c:g+="function "+u.name+"("+p.join(",")+") "+(u.type?":"+u.type+" ":"")+c,g+P(e,"source","output",E.flow,"",l,t,i,a,r,d,s)};var $=(0,a.memo)(q);let X=e=>{let{id:t,type:l}=e;return(0,n.jsx)(n.Fragment,{})};X.getData=(e,t,l)=>{let i=e.getInitializer();return i?t[k(i)]:{type:"data",value:""}},X.isShadow=(e,t,l,i)=>!0;var U=(0,a.memo)(X),G=l(18010);(i=o||(o={})).block="block",i.flow="flow",i.data="data",i.spread="spread",i.method="method",i.jsx="jsx",i.binding="binding";let Y=e=>{var t;let{id:l,type:i}=e,r=h("nodeFontSize"),d=(0,a.useContext)(p),s=d(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),u=d(e=>e.nodeData[l]&&e.nodeData[l]._metadata?e.nodeData[l]._metadata:{childHeight:0,childHeights:[]}),c=(e,t)=>u.childHeights.find(i=>{var o,n;return(null===(n=i.node)||void 0===n?void 0:null===(o=n.edge)||void 0===o?void 0:o.targetHandle)==l+t+e}),g=(()=>{if(!u.childHeight)return 0;let e=c("condition",E.data),t=c("then",E.flow);return Math.max(0,(e?e.height:0)+(t?Math.min(10*r,t.height):0))})();return(0,n.jsxs)(lp,{style:{minHeight:g+"px"},icon:G.Z,node:e,isPreview:!l,title:l?"if ( "+s.condition+" )":"if",id:l,color:tN[i],dataOutput:o.flow,children:[(0,n.jsx)(ls,{id:l,params:[{label:"Condition",field:"condition",type:"input"}],boxStyle:{marginTop:"0px",marginBottom:"20px"}}),(0,n.jsx)(lu,{id:l,type:"input",label:"Then",style:{top:((e,t)=>{let l=c(e,E.flow);return l?l.delta.y+2*r:t})("then",10*r)+"px"},handleId:"then"}),(0,n.jsx)(lu,{id:l,type:"input",label:"Else",style:{top:Math.max(0,g-r)+"px"},handleId:"else"})]})};Y.keyWords=["if"],Y.getData=(e,t,l,i)=>{var o,n,a,r;k(e);let d=null===(n=t[k(e.getThenStatement())])||void 0===n?void 0:null===(o=n.value)||void 0===o?void 0:o.id,s=null===(r=t[k(e.getElseStatement())])||void 0===r?void 0:null===(a=r.value)||void 0===a?void 0:a.id;return d&&S(d,"output",e,"then",t,l,i,null,[E.data,E.flow]),s&&S(s,"output",e,"else",t,l,i,null,[E.data,E.flow]),{condition:S(e.getExpression(),"output",e,"condition",t,l,i,"condition")}},Y.dataOutput=o.flow,Y.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id],u=P(e,"target","condition",E.data,null!==(o=null==s?void 0:s.condition)&&void 0!==o?o:"",l,t,i,n,a,r,d),p=P(e,"target","then",E.flow,"",l,t,i,n,a,r,d),c=P(e,"target","else",E.flow,"",l,t,i,n,a,r,d),g="";return c&&(g=" else "+c),"if("+u+")"+p+g+P(e,"source","output",E.flow,"",l,t,i,n,a,r,d)},Y.getChildPosition=(e,t,l,i,o)=>(i.edge.targetHandle==e.id+E.flow+"then"&&e.position.y==t.y&&(t.y+=120),t);var Q=(0,a.memo)(Y),ee=l(19753);let et=e=>{let{id:t,type:l}=e;return(0,n.jsxs)(lp,{icon:ee.Z,node:e,isPreview:!t,title:"try",id:t,color:tN[l],dataOutput:o.flow,children:[(0,n.jsx)(ls,{id:t,params:[{label:"Error",field:"error",type:"input",static:!0}],boxStyle:{marginTop:"70px",marginBottom:"30px"}}),(0,n.jsx)(lu,{id:t,type:"input",label:"Try",style:{top:"60px"},handleId:"try"}),(0,n.jsx)(lu,{id:t,type:"input",label:"Catch",style:{top:"90px"},handleId:"catch"})]})};et.keyWords=["try"],et.getData=(e,t,l,i)=>{var o,n,a,r,d;let s=null===(n=t[k(e.getTryBlock())])||void 0===n?void 0:null===(o=n.value)||void 0===o?void 0:o.id,u=null===(r=t[k(e.getCatchClause().getBlock())])||void 0===r?void 0:null===(a=r.value)||void 0===a?void 0:a.id;return{try:S(s,"output",e,"try",t,l,i,"try",[E.data,E.flow]),catch:S(u,"output",e,"catch",t,l,i,"catch",[E.data,E.flow]),error:null===(d=e.getCatchClause())||void 0===d?void 0:d.getVariableDeclaration().getFullText()}},et.dataOutput=o.flow,et.dump=function(e,t,l,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=i[e.id],s=P(e,"target","try",E.flow,"",l,t,i,o,n,a,r),u=P(e,"target","catch",E.flow,"",l,t,i,o,n,a,r);var p,c=P(e,"source","error",E.data,null!==(p=null==d?void 0:d.error)&&void 0!==p?p:"",l,t,i,o,n,a,r);return c||(c="e"),"try "+s+"catch("+c+") "+u+P(e,"source","output",E.flow,"",l,t,i,o,n,a,r)};var el=(0,a.memo)(et);let ei=e=>{var t;let{id:l,type:i}=e,r=(0,a.useContext)(p),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),s=[{label:"Expression",field:"expression",type:"input"}].concat(Object.keys(d).filter(e=>e.startsWith("case-")).reduce((e,t,l)=>e=(e=e.concat({label:"case",field:t,type:"input",deleteable:!0})).concat({label:":",field:"block".concat(l),fieldType:"clause"}),[]));return(0,n.jsxs)(lp,{icon:G.Z,node:e,isPreview:!l,title:"switch",id:l,color:tN[i],dataOutput:o.flow,children:[(0,n.jsx)(ls,{id:l,params:s,boxStyle:{marginTop:"10px"}}),(0,n.jsx)(F,{id:l,nodeData:d,type:"Case",style:{marginBottom:"20px"}}),(0,n.jsx)(ls,{id:l,params:[{label:"default :",field:"defaultBlock",fieldType:"clause"}],boxStyle:{marginBottom:"10px"}})]})};ei.keyWords=["switch"],ei.getData=(e,t,l,i)=>{let o=e.getCaseBlock().getClauses(),n={};return o&&(n=o.reduce((o,n,a)=>{if("CaseClause"!=n.getKindName())return{...o,defaultBlock:S(n,"output",e,"defaultBlock"+E.flow+"output",t,l,i,"defaultBlock",[E.data,E.flow])};{let r="case-".concat(a+1),d="block".concat(a),s=n.getExpression();return{...o,[r]:S(s,"output",e,r,t,l,i,r),[d]:S(n,"output",e,d+E.flow+"output",t,l,i,d,[E.data,E.flow])}}},{})),{expression:S(e.getExpression(),"output",e,"expression",t,l,i,"expression"),...n}},ei.dataOutput=o.flow,ei.dump=function(e,t,l,i){var o,n,a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=null!==(o=i[e.id])&&void 0!==o?o:{},c=P(e,"target","expression",E.data,null!==(n=null==p?void 0:p.expression)&&void 0!==n?n:"",l,t,i,r,d,s,u,{}),g="defaultBlock"+E.flow+"output",v=P(e,"target",g,E.flow,null!==(a=p.defaultBlock)&&void 0!==a?a:"",l,t,i,r,d,s,u,{}),h=Object.keys(p).filter(e=>e.startsWith("case")).map((o,n)=>{var a,c;let g=P(e,"target",o,E.data,null!==(a=p[o])&&void 0!==a?a:"",l,t,i,r,d,s,u,{},!1),v="block".concat(n),h=v+E.flow+"output",f=P(e,"target",h,E.flow,null!==(c=p[v])&&void 0!==c?c:"",l,t,i,r,d,s,u,{});return"\n"+"	".repeat(u)+"case "+g+":\n"+f.replace(/^[\n\r\t]+/,"")});return"switch("+c+") {"+h.join("")+(v?"default: \n"+v+"\n":"")+"\n}"+P(e,"source","output",E.flow,"",l,t,i,r,d,s,u)};var eo=(0,a.memo)(ei);let en=e=>{let{id:t,type:l}=e;return(0,n.jsx)(lp,{icon:G.Z,node:e,isPreview:!t,title:"ternary",params:[{label:"Condition",field:"condition",type:"input"},{label:"When true",field:"whenTrue",type:"input"},{label:"When false",field:"whenFalse",type:"input"}],id:t,color:tN[l]})};en.keyWords=["ternary"],en.getData=(e,t,l,i)=>({condition:S(null==e?void 0:e.getCondition(),"output",e,"condition",t,l,i,"condition"),whenTrue:S(null==e?void 0:e.getWhenTrue(),"output",e,"whenTrue",t,l,i,"whenTrue"),whenFalse:S(null==e?void 0:e.getWhenFalse(),"output",e,"whenFalse",t,l,i,"whenFalse")}),en.dump=function(e,t,l,i){var o,n,a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=i[e.id];return P(e,"target","condition",E.data,null!==(o=null==p?void 0:p.condition)&&void 0!==o?o:"",l,t,i,r,d,s,u)+"?"+P(e,"target","whenTrue",E.data,null!==(n=null==p?void 0:p.whenTrue)&&void 0!==n?n:"",l,t,i,r,d,s,u)+":"+P(e,"target","whenFalse",E.data,null!==(a=null==p?void 0:p.whenFalse)&&void 0!==a?a:"",l,t,i,r,d,s,u)+P(e,"source","output",E.flow,"",l,t,i,r,d,s,u)};var ea=(0,a.memo)(en),er=l(13410);let ed=e=>{var t,l,i;let{id:o,type:r}=e,d=(0,a.useContext)(p),s=d(e=>null!==(t=e.nodeData[o])&&void 0!==t?t:{}),u=[{label:"Variable",field:"accessName",type:"input"},{label:"Key",field:"key",type:"input",fieldType:s.fieldType}];return(0,n.jsx)(lp,{icon:er.Z,node:e,isPreview:!o,title:(null!==(l=null==s?void 0:s.accessName)&&void 0!==l?l:"x")+"["+(null!==(i=null==s?void 0:s.key)&&void 0!==i?i:"y")+"]",id:o,params:u,color:tN[r]})};ed.keyWords=["[]"],ed.getData=(e,t,l,i)=>({accessName:S(e.getExpression(),"output",e,"accessName",t,l,i,"accessName"),key:S(e.getArgumentExpression(),"output",e,"key",t,l,i,"key")}),ed.dump=function(e,t,l,i){var o,n;let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=i[e.id];return P(e,"target","accessName",E.data,null!==(o=null==u?void 0:u.accessName)&&void 0!==o?o:"",l,t,i,a,r,d,s)+"["+P(e,"target","key",E.data,null!==(n=null==u?void 0:u.key)&&void 0!==n?n:"",l,t,i,a,r,d,s)+"]"+P(e,"source","output",E.flow,"",l,t,i,a,r,d,s)};var es=a.memo(ed),eu=l(16290);let ep=e=>{var t;let l=(0,a.useContext)(p),{id:i,type:o}=e,r=l(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),d=l(e=>e.setNodeData),s=Object.keys(r).filter(e=>e.startsWith("element-")),u=s.length,c=s.map((e,t)=>({label:"["+t+"]",field:e,type:"input",deleteable:!0}));return i&&a.useEffect(()=>{let e=Object.keys(r).filter(e=>e.startsWith("element"));e.length||r.error||d(i,{...r,"element-1":""})},[]),(0,n.jsxs)(lp,{icon:eu.Z,node:{...e,data:{...e.data,width:1}},isPreview:!i,title:"array"+(u?" ["+u+"]":""),id:i,color:tN[o],children:[(0,n.jsx)(ls,{id:i,params:c}),(0,n.jsx)(F,{id:i,nodeData:r,type:"Element"})]})};ep.keyWords=["Array"],ep.defaultHandle=E.data+"element-1",ep.getData=(e,t,l,i)=>{let o=e.getElements(),n=e.getFlags();return o.reduce((o,n,a)=>{let r="element-".concat(a),d="trivia-element-".concat(a);return{...o,[r]:S(n,"output",e,r,t,l,i,r),[d]:N(n)}},{error:n})},ep.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(o=i[e.id])&&void 0!==o?o:{},u=Object.keys(s).filter(e=>e.startsWith("element-")).map(o=>{var u;return(void 0!==s["trivia-"+o]&&"full"==r?s["trivia-"+o]:"")+P(e,"target",o,E.data,null!==(u=s[o])&&void 0!==u?u:"",l,t,i,n,a,r,d)});return"["+u.join(",")+function(e,t){if(!e||"partial"==t)return"";let l=e.getSourceFile().getFullText(),i=e.getLastChild();if(i&&"CloseBracketToken"===i.getKindName()){let e=i.getLeadingTriviaWidth(),t=l.substring(i.getPos(),i.getPos()+e);return t}return""}(s._astNode,r)+"]"+P(e,"source","output",E.flow,"",l,t,i,n,a,r,d)},ep.getSize=(e,t,l)=>{let i=Object.keys(l).filter(e=>e.startsWith("element-")).length;return e[0].height=140+49*i,e};var ec=(0,a.memo)(ep),eg=l(13505);let ev=e=>{let{id:t,type:l}=e;return(0,n.jsx)(lp,{icon:eg.Z,node:e,isPreview:!t,title:"()",id:t,params:[{label:"Value",field:"value",type:"input"}],color:tN[l]})};ev.keyWords=["()"],ev.getData=(e,t,l,i,o)=>({value:S(e.getExpression(),"output",e,"value",t,l,i,"value")}),ev.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id];return"("+P(e,"target","value",E.data,null!==(o=null==s?void 0:s.value)&&void 0!==o?o:"",l,t,i,n,a,r,d)+")"+P(e,"source","output",E.flow,"",l,t,i,n,a,r,d)};var eh=(0,a.memo)(ev),ef=l(92243);let ex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=l=>{let i=h("nodeFontSize"),{id:a,type:r}=l,d=[];return"for"==e&&d.push({label:"Initializer",field:"initializer",type:"input"}),d.push({label:"Condition",field:"condition",type:"input"}),"for"==e&&d.push({label:"Incrementor",field:"incrementor",type:"input"}),(0,n.jsxs)(lp,{icon:ef.Z,node:l,isPreview:!a,title:t||e,id:a,color:tN[r],dataOutput:o.flow,children:[(0,n.jsx)(ls,{id:a,params:d,boxStyle:{marginTop:"0px",marginBottom:3*i+"px"}}),(0,n.jsx)(lu,{id:a,type:"input",label:"Loop",style:{top:"for"==e?11*i:6.5*i+"px"},handleId:"loop"})]})};return l.keyWords=["for","while","do-while"],l.getData=(l,i,o,n)=>{l.getStatement()&&S(l.getStatement(),"output",l,"loop",i,o,n,null,[E.data,E.flow]);let a={};return"for"==e&&(a={initializer:S(l.getInitializer(),"output",l,"initializer",i,o,n,"initializer"),incrementor:S(l.getIncrementor(),"output",l,"incrementor",i,o,n,"incrementor")}),{...a,condition:S("while"==e?l.getExpression():l.getCondition(),"output",l,"condition",i,o,n,"condition"),mode:e,submode:t}},l.dataOutput=o.flow,l.dump=function(e,t,l,i){let o,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id],u=P(e,"target","condition",E.data,null==s?void 0:s.condition,l,t,i,n,a,r,d),p=P(e,"target","loop",E.flow,"",l,t,i,n,a,r,d);if("WhileStatement"==e.type)o="while("+u+") "+p;else if("DoStatement"==e.type)o="do "+p+" while ("+u+")";else if("ForStatement"==e.type){let c=P(e,"target","initializer",E.data,null==s?void 0:s.initializer,l,t,i,n,a,r,d),g=P(e,"target","incrementor",E.data,null==s?void 0:s.incrementor,l,t,i,n,a,r,d);o="for("+c.replace(/;$/,"")+";"+u.replace(/;$/,"")+";"+g.replace(/;$/,"")+") "+p}return o+P(e,"source","output",E.flow,"",l,t,i,n,a,r,d)},l};ex("while");let em=e=>{let t=t=>{var l,i,o;let{id:r,type:d}=t,s=(0,a.useContext)(p),u=s(e=>null!==(l=e.nodeData[r])&&void 0!==l?l:{}),c=[{label:"Value",field:"value",type:"input"}];c.push({field:"operator",type:"select",data:["++","--","!","-"],static:!0}),"pre"==e&&c.reverse();let g=null!==(i=u.operator)&&void 0!==i?i:"++",v=null!==(o=u.value)&&void 0!==o?o:"x";return(0,n.jsx)(lp,{icon:z.Z,node:t,isPreview:!r,title:"pre"==e?g+v:v+g,id:r,params:c,color:tN[d]})};return t.keyWords=["pre","++x","x++","-x"],t.getData=(e,t,l,i)=>({operator:({40:"-",45:"++",46:"--",53:"!"})[e.getOperatorToken()],value:S(e.getOperand(),"output",e,"value",t,l,i,"value")}),t.dump=function(t,l,i,o){var n;let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=o[t.id],p=P(t,"target","value",E.data,null!==(n=null==u?void 0:u.value)&&void 0!==n?n:"",i,l,o,a,r,d,s),c=[u.operator,p];return"post"==e&&c.reverse(),c.join("")+P(t,"source","output",E.flow,"",i,l,o,a,r,d,s)},a.memo(t)};var ey=l(66753);let eb=e=>{var t;let{id:l,type:i}=e,r=(0,a.useContext)(p),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),s=Object.keys(d).filter(e=>e.startsWith("import-")).map((e,t)=>({label:t+1+"",field:e,type:"input",static:!0,deleteable:!0})),u=[{label:"Module",field:"module",type:"input",static:!0},{label:"Default",field:"default",type:"input",static:!0}].concat(s);return(0,n.jsxs)(lp,{icon:ey.Z,node:e,isPreview:!l,title:"import",id:l,color:tN[i],dataOutput:o.flow,children:[(0,n.jsx)(ls,{id:l,params:u,boxStyle:{marginTop:"10px"}}),(0,n.jsx)(F,{id:l,nodeData:d,type:"Import",style:{marginBottom:"20px"}})]})};eb.keyWords=["import"],eb.getData=(e,t,l)=>{var i,o,n;let a=null!==(n=e.getNamedImports())&&void 0!==n?n:[];return a.reduce((e,t,l)=>({...e,["import-"+l]:t.getName()}),{default:null===(i=e.getDefaultImport())||void 0===i?void 0:i.getText(),module:null===(o=e.getModuleSpecifier())||void 0===o?void 0:o.getText().slice(1,-1)})},eb.dataOutput=o.flow,eb.dump=function(e,t,l,i){var o,n,a,r;let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=null!==(o=i[e.id])&&void 0!==o?o:{},g=Object.keys(c).filter(e=>e.startsWith("import")).reduce((o,n)=>{var a;return c[n]?o+=P(e,"target",n,E.data,null!==(a=c[n])&&void 0!==a?a:"",l,t,i,d,s,u,p)+", ":o},""),v=null!==(a=P(e,"target","default",E.data,null!==(n=null==c?void 0:c.default)&&void 0!==n?n:"",l,t,i,d,s,u,p))&&void 0!==a?a:"",h=P(e,"target","module",E.data,null!==(r=null==c?void 0:c.module)&&void 0!==r?r:"",l,t,i,d,s,u,p);return"import "+v+(v&&g?", ":"")+(g?"{ "+g+"}":"")+' from "'.concat(h,'"')+P(e,"source","output",E.flow,"",l,t,i,d,s,u,p)};var ej=(0,a.memo)(eb),eC=l(22951);let ew=e=>{let{id:t,type:l}=e;return(0,n.jsx)(lp,{icon:eC.Z,node:e,isPreview:!t,title:"export default",id:t,params:[{label:"Value",field:"value",type:"input"}],color:tN[l],dataOutput:o.flow})};ew.keyWords=["export default"],ew.getData=(e,t,l,i)=>({value:S(null==e?void 0:e.getExpression(),"output",e,"value",t,l,i,"value")}),ew.dataOutput=o.flow,ew.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id];return"export default "+P(e,"target","value",E.data,null!==(o=null==s?void 0:s.value)&&void 0!==o?o:"",l,t,i,n,a,r,d)};var ek=a.memo(ew);let eE=e=>{var t;let{id:l,type:i}=e,r=(0,a.useContext)(p),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),s=Object.keys(d).filter(e=>e.startsWith("export-")).map((e,t)=>({label:t+1+"",field:e,type:"input",static:!0}));return(0,n.jsx)(lp,{icon:eC.Z,node:e,isPreview:!l,title:"export",id:l,params:s,color:tN[i],dataOutput:o.flow})};eE.keyWords=["export"],eE.getData=(e,t,l)=>{var i;let o=null!==(i=e.getNamedExports())&&void 0!==i?i:[];return o.reduce((e,t,l)=>({...e,["export-"+l]:t.getName()}),{})},eE.dataOutput=o.flow,eE.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(o=i[e.id])&&void 0!==o?o:{},u=Object.keys(s).filter(e=>e.startsWith("export")).reduce((o,u)=>{var p;return o+(P(e,"target",u,E.data,null!==(p=s[u])&&void 0!==p?p:"",l,t,i,n,a,r,d)+", ")},"");return"export {"+u+"}"};var eD=a.memo(eE),eS=l(27145);let eN=e=>{var t;let{id:l,type:i}=e,r=(0,a.useContext)(p),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{});return(0,n.jsx)(lp,{icon:eS.Z,node:e,isPreview:!l,title:"return"+(e.id?" "+d.value:""),id:l,params:[{label:"Value",field:"value",type:"input"}],color:tN[i],dataOutput:o.flow})};eN.keyWords=["return"],eN.getData=(e,t,l,i)=>({value:S(null==e?void 0:e.getExpression(),"output",e,"value",t,l,i,"value")}),eN.dataOutput=o.flow,eN.dump=function(e,t,l,i){var o,n;let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=i[e.id];return"return "+(null!==(n=P(e,"target","value",E.data,null!==(o=null==u?void 0:u.value)&&void 0!==o?o:"",l,t,i,a,r,d,s))&&void 0!==n?n:"")+P(e,"source","output",E.flow,"",l,t,i,a,r,d,s)};var eT=a.memo(eN),eP=l(5521);let eO=e=>{let{id:t,type:l}=e,i=h("nodeFontSize");return(0,n.jsx)(lp,{icon:eP.Z,style:{minHeight:t?4*i+"px":i,minWidth:10*i+"px"},node:e,isPreview:!t,title:"break",id:t,params:[],color:tN[l]})};eO.keyWords=["break"],eO.getData=(e,t,l)=>({}),eO.dump=function(e,t,l,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return"break"+P(e,"source","output",E.flow,"",l,t,i,o,n,a,r)};var eF=a.memo(eO);let eW=e=>{let{id:t,type:l}=e;return(0,n.jsx)(n.Fragment,{})};eW.getData=(e,t,l)=>{let i=e.getDeclarationList();return i?t[k(i)]:{type:"data",value:""}},eW.isShadow=(e,t,l,i)=>!0;var eI=(0,a.memo)(eW),eB=l(19837);let ez=e=>{let t=t=>{var l,i;let{id:r,type:d}=t,s=(0,a.useContext)(p),u=s(e=>null!==(i=e.nodeData[r])&&void 0!==i?i:{}),c=s(e=>e.setNodeData),g=null===(l=Object.keys(u))||void 0===l?void 0:l.filter(e=>e.startsWith("member-")),v=null==g?void 0:g.map((e,t)=>e.startsWith("member-attr-")?{field:e,type:"input",fieldType:"parameter",separator:"=",deleteable:!1}:{label:"Member [".concat(t,"]"),field:e,type:"input",deleteable:!0}),h=[{label:"Extends",field:"extends",type:"input"},{label:"Implements",field:"implements",type:"input"}].concat(v),f=e=>{"attribute"==e?c(r,{...u,["member-attr-".concat(g.length)]:{type:"attribute",key:"",value:""}}):c(r,{...u,["member-".concat(g.length)]:""})};return(0,n.jsxs)(lp,{icon:eB.Z,node:t,isPreview:!r,title:"class ".concat(e),id:r,color:tN[d],dataOutput:o.flow,children:["declaration"==e?(0,n.jsx)(ls,{id:r,params:[{label:"Name",field:"name",type:"input",static:!0}]}):null,(0,n.jsx)(ls,{id:r,params:h}),(0,n.jsxs)("div",{style:{flexDirection:"row",display:"flex",justifyContent:"space-around",marginTop:"20px"},children:[(0,n.jsx)(O,{onPress:()=>f("attribute"),label:"Add attribute",style:{width:"110px",margin:"0px"}}),(0,n.jsx)(O,{onPress:()=>f("member"),label:"Add member",style:{width:"110px",margin:"0px"}})]}),(0,n.jsx)(ls,{id:r,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),u.export?(0,n.jsx)(ls,{id:r,params:[{label:"isDefault",field:"isDefault",type:"boolean",static:!0}]}):null]})};return t.keyWords=["class"],t.getData=(e,t,l,i)=>{let o=e.getMembers().reduce((o,n,a)=>{var r="member-"+a,d={};if("PropertyDeclaration"==n.getKindName()){var s,u,r="member-attr-"+a;let e=n.getName(),t=n.getTypeNode(),l=null!==(u=null===(s=n.getInitializer())||void 0===s?void 0:s.getText())&&void 0!==u?u:"",i=N(n);d[r]={key:e,value:l},d["type-".concat(r)]=t?t.getText():null,d["attrTrivia".concat(a)]=i}else d[r]=S(n,"output",e,r,t,l,i,null,[E.data,E.data]);return{...o,...d}},{}),n={...o,export:e.getModifiers().find(e=>"ExportKeyword"==e.getKindName()),isDefault:!!e.getModifiers&&!!e.getModifiers().find(e=>"default"==e.getText()),name:e.getName()},a=e.getHeritageClauses();return a.length&&a.forEach((o,r)=>{let d=117==o.getToken()?"implements":"extends";n[d]=S(a[0],"output",e,d,t,l,i,d)}),n},t.dataOutput=o.flow,t.dump=function(t,l,i,o){var n,a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=null!==(a=o[t.id])&&void 0!==a?a:{},c=null===(n=Object.keys(p))||void 0===n?void 0:n.filter(e=>e.startsWith("member-")).reduce((e,n,a)=>{if(n.startsWith("member-attr-")){var r;let t=null!==(r=p[n].key)&&void 0!==r?r:"",l=p[n].value,i=p["type-"+n]&&l?":":"=";return e+p["attrTrivia".concat(a)]+t+(l?i+l:"")}return j(t.id,n,E.data,i)?e+P(t,"target",n,E.data,"",i,l,o,p[n],d,s,u):e},"");return(p.export?"export ":"")+(p.export&&p.isDefault?"default ":"")+"class "+("declaration"==e?p.name:"")+(p.extends?" extends "+p.extends:"")+(p.implements?" implements "+p.implements:"")+"{"+c+"}"+P(t,"source","output",E.flow,"",i,l,o,r,d,s,u)},t};ez("declaration");var eH=l(89285);let eL=e=>{let t=t=>{var l;let{id:i,type:r}=t,d=(0,a.useContext)(p),s=d(e=>null!==(l=e.nodeData[i])&&void 0!==l?l:{}),u=Object.keys(s).filter(e=>e.startsWith("param-")).map((e,t)=>({label:e.substr(6),field:e,fieldType:"parameter"}));return(0,n.jsxs)(lp,{icon:eH.Z,node:t,isPreview:!i,title:e,id:i,color:tN[r],dataOutput:o.method,children:[(0,n.jsx)("div",{style:{height:"40px"}}),"method"==e?(0,n.jsx)(ls,{id:i,params:[{label:"Name",field:"name",type:"input"}]}):null,(0,n.jsx)(ls,{id:i,params:u}),(0,n.jsx)(F,{id:i,nodeData:s,type:"param"}),(0,n.jsx)(lu,{id:i,type:"input",label:"Body",style:{top:"60px"},handleId:"body"}),(0,n.jsx)(ls,{id:i,params:[{label:"Static",field:"static",type:"boolean",static:!0},{label:"Async",field:"async",type:"boolean",static:!0}]}),(0,n.jsx)(ls,{id:i,params:[{field:"level",type:"select",data:["public","private","protected"],static:!0}]})]})};return t.keyWords=["method","constructor"],t.getData=(e,t,l,i)=>{S(e.getBody(),"output",e,"body",t,l,i,null,[E.data,E.flow]);let o="public";return e.getModifiers().find(e=>"PublicKeyword"==e.getKindName())?o="public":e.getModifiers().find(e=>"PrivateKeyword"==e.getKindName())?o="private":e.getModifiers().find(e=>"ProtectedKeyword"==e.getKindName())&&(o="protected"),{...e.getParameters().reduce((o,n,a)=>{let r=y(),d=n.getInitializer(),s=n.getTypeNode(),u=s?s.getText():null;return e.getName&&(o.name=e.getName()),{...o,["param-"+r]:{key:n.getName(),value:d?S(d,"output",e,"param-"+r,t,l,i,"param-"+r):"",type:u}}},{static:!!e.getModifiers().find(e=>"StaticKeyword"==e.getKindName()),async:!!e.getModifiers().find(e=>"AsyncKeyword"==e.getKindName()),level:o,type:e.getReturnTypeNode()?e.getReturnTypeNode().getText():null})}},t.dataOutput=o.method,t.dump=function(t,l,i,o,n,a,r){var d;let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=null!==(d=o[t.id])&&void 0!==d?d:{},p="constructor"==e?"constructor":u.name,c=Object.keys(u).filter(e=>e.startsWith("param")).map(e=>{var n,d,p,c;let g=P(t,"target",e+"-key",E.data,null!==(p=null===(n=u[e])||void 0===n?void 0:n.key)&&void 0!==p?p:"",i,l,o,null,a,r,s),v=P(t,"target",e,E.data,null!==(c=null===(d=u[e])||void 0===d?void 0:d.value)&&void 0!==c?c:"",i,l,o,null,a,r,s),h=g+(u[e].type?":"+u[e].type+" ":"")+(v?"="+v:"");return h}),g=P(t,"target","body",E.flow,"",i,l,o,null,a,r,s);return(u.static?"static ":"")+(u.async?"async ":"")+p+"("+c.join(",")+") "+(u.type?":"+u.type+" ":"")+g+P(t,"source","output",E.flow,"",i,l,o,null,a,r,s)},t};eL("method");var eZ=l(22253);let eA=e=>{var t;let{id:l,type:i}=e,o=(0,a.useContext)(p),r=o(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),d=Object.keys(r).filter(e=>e.startsWith("param")).map((e,t)=>({label:"Params[".concat(t+1,"]"),field:e,type:"input",deleteable:!0})),s=[{label:"Name",field:"name",type:"input"}].concat(d);return(0,n.jsxs)(lp,{icon:eZ.Z,output:{label:"Output",field:"value",type:"output"},node:e,isPreview:!l,title:"new",id:l,color:tN[i],children:[(0,n.jsx)(ls,{id:l,params:s,boxStyle:{marginTop:"10px"}}),(0,n.jsx)(F,{id:l,nodeData:r,type:"param"}),(0,n.jsx)(ld,{id:l,param:{label:"Output",field:"value",type:"output"}})]})};eA.keyWords=["new"],eA.getData=(e,t,l,i)=>({...e.getArguments().reduce((o,n,a)=>({...o,["param"+(a+1)]:S(n,"output",e,"param"+(a+1),t,l,i,"param"+(a+1))}),{}),name:S(e.getExpression(),"output",e,"name",t,l,i,"name")}),eA.dump=function(e,t,l,i){var o,n;let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=null!==(o=i[e.id])&&void 0!==o?o:{},p=Object.keys(u).filter(e=>e.startsWith("param")).map(o=>P(e,"target",o,E.data,null!==(n=u[o])&&void 0!==n?n:"",l,t,i,a,r,d,s)),c=P(e,"target","name",E.data,u.name,l,t,i,a,r,d,s);return"new "+c+"("+p.join(",")+")"+P(e,"source","output",E.flow,"",l,t,i,a,r,d,s)};var e_=a.memo(eA),eR=l(81267);let eM=e=>{let{id:t,type:l}=e;return(0,n.jsx)(lp,{icon:eR.Z,node:e,isPreview:!t,title:"continue",id:t,params:[],color:tN[l],dataOutput:o.flow})};eM.keyWords=["continue"],eM.getData=(e,t,l)=>({}),eM.dataOutput=o.flow,eM.dump=function(e,t,l,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return"continue"+P(e,"source","output",E.flow,"",l,t,i,o,n,a,r)};var eK=a.memo(eM),eJ=l(69786);let eV=e=>{let{id:t,type:l}=e;return(0,n.jsx)(lp,{icon:eJ.Z,node:e,isPreview:!t,title:"await",id:t,params:[{label:"Value",field:"value",type:"input"}],color:tN[l]})};eV.keyWords=["await"],eV.getData=(e,t,l,i)=>({value:S(null==e?void 0:e.getExpression(),"output",e,"value",t,l,i,"value")}),eV.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id];return"await "+P(e,"target","value",E.data,null!==(o=null==s?void 0:s.value)&&void 0!==o?o:"",l,t,i,n,a,r,d)};var eq=a.memo(eV),e$=l(15038);let eX=e=>{let t=t=>{var l;let{id:i,type:o}=t,r=(0,a.useContext)(p),d=r(e=>null!==(l=e.nodeData[i])&&void 0!==l?l:{}),s="json"==d.mode?{keyPre:e=>e.replace(/^(["'])|(["'])$/g,""),keyPost:e=>'"'+e+'"'}:{},u=Object.keys(d).filter(e=>e.startsWith("param-")).map((e,t)=>{let l="json"==d.mode?{}:{additionalHandlePort:"key"};return{label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0,...l,...s}});return(0,n.jsxs)(lp,{icon:e$.Z,node:t,isPreview:!i,title:"typeLiteral"==e?"type literal":"Object",id:i,color:tN[o],children:[(0,n.jsx)("div",{style:{height:"5px"}}),(0,n.jsx)(ls,{id:i,params:u}),(0,n.jsx)(F,{label:"Add Property",id:i,nodeData:d})]})};return t.keyWords=["Object"],t.getData=(t,l,i,o,n)=>({...t["typeLiteral"==e?"getMembers":"getProperties"]().reduce((a,r,d)=>{let s,u;let p=y();return"SpreadAssignment"==r.getKindName()?s=S(r,"output",t,"param-"+p+"-key",l,i,o):(s=r.getName(),u="typeLiteral"==e?r.getType().getText():r.getInitializer()?S(r.getInitializer(),"output",t,"param-"+p,l,i,o,"param-"+p):""),{...a,["param-"+p]:{key:null!=s?s:"",value:null!=u?u:""},["trivia-param-"+p]:N(r),mode:n}},{})}),t.onDeleteConnection=(e,t)=>({...e,[t]:{...e[t],value:""}}),t.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;arguments.length>8&&arguments[8];let s=null!==(o=i[e.id])&&void 0!==o?o:{},u=s._astNode?"":" ",p=!!s._astNode,c=Object.keys(s).filter(e=>e.startsWith("param")).map(o=>{var p,c,g,v;let h=null!==(g=null===(p=s[o])||void 0===p?void 0:p.key)&&void 0!==g?g:"",f={},x=P(e,"target",o,E.data,null!==(v=null===(c=s[o])||void 0===c?void 0:c.value)&&void 0!==v?v:"",l,t,i,n,a,r,d+1,f);return{code:h+(x?":"+u+x:""),trivia:f.content,paramTrivia:s["trivia-"+o]}}),g="partial"==r?"":p?function(e){let t=e.getSourceFile().getFullText(),l=e.getLastChild();if(l&&"CloseBraceToken"===l.getKindName()){let e=l.getLeadingTriviaWidth(),i=t.substring(l.getPos(),l.getPos()+e);return i}return""}(s._astNode):"\n"+"	".repeat(d-1);return"{"+c.reduce((e,t,l)=>{let i="partial"==r?"":void 0!==t.paramTrivia?t.paramTrivia:"\n"+"	".repeat(d);return e+i+t.code+(l<c.length-1?",":"")},"")+g+"}"+P(e,"source","output",E.flow,"",l,t,i,n,a,r,d)},t},eU=eX("objectLiteral");var eG=a.memo(eU);let eY=e=>(0,n.jsx)(n.Fragment,{});eY.skipTraversal=!0;var eQ=(0,a.memo)(eY),e0=l(22e3);let e1=e=>{let{id:t,type:l}=e;return(0,n.jsx)(lp,{icon:e0.Z,node:e,isPreview:!t,title:"template",id:t,params:[{label:"Template",field:"value",type:"input"}],color:tN[l]})};e1.keyWords=["Template"],e1.getData=(e,t,l)=>({value:e.getText().slice(1,-1)}),e1.skipTraversal=!0;var e5=a.memo(e1),e4=l(38588),e6=l(66810);function e7(e){e<0&&(e=0);let t=e/10;return"0px 3px 5px -1px rgba(0,0,0,".concat(.2*t,"), \n            0px 6px 10px 0px rgba(0,0,0,").concat(.14*t,"), \n            0px 1px 18px 0px rgba(0,0,0,").concat(.12*t,")")}let e2=e=>{var t,l,i,d,s;let{id:u,type:c}=e,g=(0,a.useContext)(p),v=g(e=>null!==(l=e.nodeData[u])&&void 0!==l?l:{}),f=g(e=>e.nodeData[u]&&e.nodeData[u]._metadata?e.nodeData[u]._metadata:{childWidth:0,childHeight:0,childHeights:[]}),x=g(e=>e.setNodeData),m=g(e=>e.currentPath),y=h("nodeFontSize");h("blockPort");let b=!f.childHeight,j=222+h("nodeFontSize")/2,C=u?f.childHeight?f.childHeight+1.5*j+1*Math.max(0,(null===(s=v.connections)||void 0===s?void 0:s.length)-1):120:0,w=(0,r.Mi)(),k=()=>{x(u,{...v,connections:v.connections?v.connections.concat([1]):[1]})},E={};E.minHeight=C+"px",E.border=0,E.minWidth="CaseClause"==c||"DefaultClause"==c?"400px":"200px";let D=h("containerColor"),S={SourceFile:{color:"#F7B500",output:!1,title:m.split(/[/\\]/).pop()},Block:{icon:e4.Z,color:"#ccc",title:"Block"},CaseClause:{icon:e6.Z,color:tN[c],title:"Case Clause"},DefaultClause:{icon:e6.Z,color:tN.CaseClause,title:"Case Clause"}};return u&&a.useEffect(()=>{var e,t;let l=w.filter(e=>e.target==u);"json"==v.mode||l.length!=(null==v?void 0:null===(e=v.connections)||void 0===e?void 0:e.length)&&(null==v?void 0:null===(t=v.connections)||void 0===t?void 0:t.length)||k()},[w,null==v?void 0:null===(i=v.connections)||void 0===i?void 0:i.length]),(0,n.jsxs)(lp,{draggable:"SourceFile"!=c,container:!b,style:E,icon:null!==(d=S[c].icon)&&void 0!==d?d:null,node:e,output:!1==S[c].output?null:{field:"value",type:"output"},isPreview:!u,title:S[c].title,id:u,params:[],color:S[c].color,dataOutput:o.block,children:[b?(0,n.jsx)("div",{style:{height:2*y+"px"}}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{style:{top:1.9*y,opacity:1,pointerEvents:"none",borderRadius:"0px "+y/1.3+"px "+y/1.3+"px "+y/1.3+"px",position:"absolute",width:f.childWidth+"px",height:C-lo-2*y+"px",backgroundColor:D,borderLeft:y/2+"px solid "+S[c].color,boxShadow:e7(1.5)}})}),(0,n.jsx)("div",{children:null===(t=v.connections)||void 0===t?void 0:t.map((e,t)=>{let l=t&&f&&f&&f.childHeight&&f.childHeights&&f.childHeights[t-1]?f.childHeights[t-1].height:0;return l=l+(1==v.connections.length?100:j)-10,(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{left:y/2-1+"px",position:"absolute",top:l-y/4+"px",width:y+"px",height:y/2+"px",backgroundColor:S[c].color}}),(0,n.jsx)(lu,{id:u,type:"input",label:"",style:{left:b?"":y+"px",top:l+"px"},handleId:"block"+t,allowedTypes:["data","flow"]},t)]})})})]})};e2.keyWords=["block","{}","CaseClause"],e2.defaultHandle=E.flow+"block0",e2.getData=(e,t,l,i,o)=>{let n=e.getStatements?e.getStatements():e.getDeclarations();n.forEach((o,n)=>{let a=t[k(o)];if((null==a?void 0:a.type)||console.error("item has no type: ",a),(null==a?void 0:a.type)=="node"){let o=a.value.id;o&&S(o,"output",e,"block"+n,t,l,i,null,[E.data,E.flow])}});let a=e.getStatements();return{connections:"json"==o&&a.length?a:a.concat([1]),mode:o}},e2.dataOutput=o.block,e2.dump=function(e,t,l,i){var o,n;let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;arguments.length>8&&void 0!==arguments[8]&&arguments[8];let u=null!==(o=i[e.id])&&void 0!==o?o:{connections:[]},p=null!==(n=u.connections)&&void 0!==n?n:[],c=u._astNode;c&&c.getText();let g="Block"==e.type?"	":"",v=p.map((o,n)=>{l.find(t=>t.targetHandle==e.id+E.flow+"block"+n&&t.source);var u,p="";let c={},v=P(e,"target","block"+n,E.flow,"",l,t,i,a,r,d,s+1,c);return p=c.content&&c.content.includes("\n")||!n?"":"\n"+(v?g.repeat(s>0?s:0):""),{code:v=v?p+v:null,trivia:null!==(u=c.content)&&void 0!==u?u:""}}).filter(e=>e.code),h=v.length&&v[0].trivia.includes("\n")?"":"\n",f=("Block"==e.type?"{"+h:"")+v.map(e=>e.code).join("")+("Block"==e.type?"\n"+g.repeat(Math.max(s-1,0))+"}":"");return f},e2.filterChildren=(e,t,l,i,o)=>t,e2.getWidth=e=>50,e2.getPosition=(e,t)=>(e.y=e.y+200,e),e2.getSpacingFactor=()=>({factorX:1.2,factorY:1});let e8=e=>{let{id:t,type:l}=e,i=(0,a.useContext)(p),o=i(e=>e.setMenu);return(0,n.jsxs)(lp,{style:{borderColor:"#bbb",borderStyle:"dashed",borderWidth:2},output:!1,node:e,isPreview:!t,id:t,color:tN[l],children:[(0,n.jsx)("div",{onClick:e=>{let{clientX:l,clientY:i}=e;console.log("event: ",e),console.log("locationX: ",l,"locationY: ",i),o("open",[l,i],t)},children:(0,n.jsx)(x,{style:{color:"#bbb",fontSize:"25px"},children:"+"})}),(0,n.jsx)(ld,{id:t,param:{label:"",field:"value",type:"output"},style:{backgroundColor:"#bbb",marginTop:"-25px"}})]})};e8.keyWords=["phantom"],e8.dump=(e,t,l,i)=>"";var e3=(0,a.memo)(e8),e9=l(69335);let te=e=>{var t,l;let{id:i,type:r}=e,d=(0,a.useContext)(p),s=d(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{}),u=[{label:"Name",static:!0,field:"name",type:"input",description:"Type name"}].concat(Object.keys(s).filter(e=>e.startsWith("union-")).map((e,t)=>({label:"["+t+"]",field:e,type:"input",deleteable:!0})));return(0,n.jsxs)(lp,{icon:e9.Z,node:e,isPreview:!i,title:(s.export?"export ":"")+"type "+(null!==(l=s.name)&&void 0!==l?l:""),id:i,color:tN[r],dataOutput:o.flow,children:[(0,n.jsx)(ls,{id:i,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),(0,n.jsx)(ls,{id:i,params:u}),(0,n.jsx)(F,{id:i,nodeData:s,type:"Union"})]})};te.keyWords=["type"],te.getData=(e,t,l,i)=>{var o={name:e.getName?e.getName():"",export:e.getModifiers().find(e=>"ExportKeyword"==e.getKindName())},n=[];return e.forEachChild(e=>{"TypeLiteral"==e.getKindName()?n.push(e):"UnionType"==e.getKindName()&&e.forEachChild((e,t)=>{n.push(e)})}),n.forEach((n,a)=>{let r="union-"+a;o={...o,[r]:S(n,"output",e,r,t,l,i,null)}}),o},te.dataOutput=o.flow,te.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(o=i[e.id])&&void 0!==o?o:{},u=Object.keys(s).filter(e=>e.startsWith("union-")),p=u.length,c=u.reduce((o,u,c)=>{var g;let v=P(e,"target",u,E.data,null!==(g=s[u])&&void 0!==g?g:"",l,t,i,n,a,r,d);return o+v+(c+1<p?" | ":"\n")},"");return(s.export?"export ":"")+"type "+s.name+" = "+c+" "+P(e,"source","output",E.flow,"",l,t,i,n,a,r,d)};var tt=a.memo(te);let tl=e=>{var t;let{id:l,type:i}=e,r=(0,a.useContext)(p),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),s=[{label:"Name",static:!0,field:"name",type:"input",description:"Interface name"}].concat(Object.keys(d).filter(e=>e.startsWith("param-")).map((e,t)=>({label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0})));return(0,n.jsxs)(lp,{icon:e9.Z,node:e,isPreview:!l,title:"interface",id:l,color:tN[i],dataOutput:o.flow,children:[(0,n.jsx)(ls,{id:l,params:[{label:"Export",field:"export",type:"boolean",static:!0}]}),(0,n.jsx)(ls,{id:l,params:s}),(0,n.jsx)(F,{id:l,nodeData:d})]})};tl.keyWords=["interface"],tl.getData=(e,t,l)=>({...e.getType().getProperties().reduce((e,t,l)=>{var i;let o=y(),n=t.getValueDeclaration().getType().getText(),a=!!(null===(i=t.getValueDeclaration())||void 0===i?void 0:i.getChildrenOfKind(J.lGB.QuestionToken).length),r=t.getName()+(a?"?":"");return{...e,["param-"+o]:{key:null!=r?r:"",value:null!=n?n:""}}},{name:e.getName?e.getName():"",export:e.getModifiers().find(e=>"ExportKeyword"==e.getKindName())})}),tl.dataOutput=o.flow,tl.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(o=i[e.id])&&void 0!==o?o:{},u=Object.keys(s).filter(e=>e.startsWith("param-")).reduce((o,u)=>{var p,c;let g=s[u].key,v=P(e,"target",u,E.data,null!==(c=null===(p=s[u])||void 0===p?void 0:p.value)&&void 0!==c?c:"",l,t,i,n,a,r,d);return o+("	"+g)+":"+v+";\n"},"");return(s.export?"export ":"")+" interface "+s.name+" {\n"+u+"\n}"+P(e,"source","output",E.flow,"",l,t,i,n,a,r,d)};var ti=a.memo(tl),to=l(58942);let tn=e=>{var t;let{id:l,type:i}=e,r=(0,a.useContext)(p),d=r(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),s=Object.keys(d).filter(e=>e.startsWith("param-")).map((e,t)=>({label:e.substr(6),field:e,fieldType:"parameter",deleteable:!0}));return(0,n.jsxs)(lp,{icon:to.Z,node:e,isPreview:!l,title:"object binding",id:l,color:tN[i],dataOutput:o.binding,children:[(0,n.jsx)(ls,{id:l,params:s}),(0,n.jsx)(F,{id:l,nodeData:d})]})};tn.keyWords=["object","binding","object binding"],tn.getData=(e,t,l,i)=>({...e.getElements().reduce((e,t,l)=>{let i=y(),o=null==t?void 0:t.getPropertyNameNode(),n=null!==(r=null==t?void 0:t.getName())&&void 0!==r?r:"",a=null==t?void 0:t.getInitializer();var r,d={};return d=a?{key:n,value:a.getText(),initializer:!0}:o?{key:o.getText(),value:n}:{key:n},{...e,["param-"+i]:{...d}}},{})}),tn.dataOutput=o.binding,tn.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(o=i[e.id])&&void 0!==o?o:{},u=Object.keys(s).filter(e=>e.startsWith("param-")).reduce((o,u)=>{var p,c;let g=s[u].key,v=s[u].initializer?"=":":",h=P(e,"target",u,E.data,null!==(c=null===(p=s[u])||void 0===p?void 0:p.value)&&void 0!==c?c:"",l,t,i,n,a,r,d);return o+(g+(h?v+h:"")+", ")},"");return"{"+u+"}"+P(e,"source","output",E.flow,"",l,t,i,n,a,r,d)};var ta=l(1674);l(99272),l(8939),l(66306),l(10956);let tr=e=>{var t;let{id:l,type:i}=e,o=(0,a.useContext)(p),r=o(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),d=Object.keys(r).filter(e=>e.startsWith("prop-")).map((e,t)=>({label:e.substr(5),field:e,fieldType:"prop",deleteable:!0})),s=Object.keys(r).filter(e=>e.startsWith("child-")).map((e,t)=>({label:"Child"+(t+1),field:e,fieldType:"child",deleteable:!0})),u=[{label:"TagName",static:!0,field:"name",type:"input",description:"JsxElement name"}].concat(d);return(0,n.jsxs)(lp,{headerContent:(0,n.jsx)("div",{children:"hello"}),icon:ta.Z,node:e,isPreview:!l,title:"<x ...></x>",id:l,color:tN[i],children:[!1,(0,n.jsx)(ls,{id:l,params:u}),(0,n.jsx)(F,{id:l,nodeData:r,type:"Prop"}),(0,n.jsx)(ls,{id:l,params:s}),(0,n.jsx)(F,{id:l,nodeData:r,type:"Child"})]})};tr.keyWords=["jsx","jsxelement","react","tsx","fragment","selfclosed"],tr.getData=(e,t,l,i)=>{var o,n,a;let r={name:null==e?void 0:null===(n=e.getOpeningElement())||void 0===n?void 0:null===(o=n.getTagNameNode())||void 0===o?void 0:o.getText()},d=null==e?void 0:null===(a=e.getOpeningElement())||void 0===a?void 0:a.getAttributes(),s=null==d?void 0:d.reduce((o,n,a)=>{let r,d,s;if("JsxSpreadAttribute"==n.getKindName())d="prop-spreaded-"+a,r="",n.getText();else{var u;s=function(e){let t;var l,i=null==e?void 0:e.getKindName();if("StringLiteral"===i)t=null==e?void 0:e.getLiteralValue(),l=i;else{let i=null==e?void 0:e.getExpression();switch(l=null==i?void 0:i.getKindName()){case"StringLiteral":case"NumericLiteral":case"TrueKeyword":case"FalseKeyword":t=i.getLiteralValue();break;default:return}}return{value:t,kind:l}}(null==n?void 0:n.getInitializer()),d="prop-"+(r=n.getNameNode().getText()),s||(s={value:null!==(u=S(null==n?void 0:n.getInitializer(),"output",e,d,t,l,i,d))&&void 0!==u?u:""})}return{...o,[d]:{key:null!=r?r:"",...s}}},{}),u=e.getChildrenOfKind(J.lGB.SyntaxList)[0],p=u.getChildren(),c=p.filter(e=>["JsxElement","JsxSelfClosingElement","JsxExpression","JsxFragment","JsxText"].includes(e.getKindName())&&e.getText()),g=null==c?void 0:c.reduce((o,n,a)=>{let r="child-".concat(a+1);return{...o,[r]:S(n,"output",e,r,t,l,i,r)}},{});return{...r,...s,...g}},tr.dump=function(e,t,l,i){var o,n,a,r,d;let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,g=null!==(a=i[e.id])&&void 0!==a?a:{},v=null==g?void 0:g.name,h=null!==(r=null===(o=g._fallBack)||void 0===o?void 0:o.reduce((o,n)=>{let a=P(e,n.type,n.fallbackPort,n.portType,null,l,t,i,s,!1,"full");return o=a?o+(n.preText+a+n.postText)+" ":o+n.fallbackText+" "},""))&&void 0!==r?r:"",f=null!==(d=null===(n=g._fallBack)||void 0===n?void 0:n.map(e=>e.port))&&void 0!==d?d:[],x=Object.keys(g).filter(e=>e.startsWith("prop-")&&!f.includes(e)).reduce((o,n)=>{var a,r,d,v;let h;if(n.startsWith("prop-spreaded"))h=P(e,"target",n,E.data,null!==(r=null===(a=g[n])||void 0===a?void 0:a.value)&&void 0!==r?r:"",l,t,i,s,u,p,c);else{let a,r=g[n].key,f=function(e){let t=e.kind;var l=e.value;switch(t){case"StringLiteral":return'"'+l+'"';case"NumericLiteral":case"TrueKeyword":case"FalseKeyword":break;default:return}return"{"+l+"}"}(g[n]);if(a=f||P(e,"target",n,E.data,null!==(v=null===(d=g[n])||void 0===d?void 0:d.value)&&void 0!==v?v:"",l,t,i,s,u,p,c),h="".concat(r,"=").concat(a," "),!a||!r)return o}return o+h},""),m=Object.keys(g).filter(e=>e.startsWith("child-")).reduce((o,n)=>{var a;return o+"	"+P(e,"target",n,E.data,null!==(a=g[n])&&void 0!==a?a:"",l,t,i,s,u,p,c)+"\n"},"");return"<".concat(v," ")+h+x+">\n".concat(m,"</").concat(v,">")+P(e,"source","output",E.flow,"",l,t,i,s,u,p,c)};var td=a.memo(tr);let ts=e=>{let{id:t,type:l}=e;return(0,n.jsx)(lp,{icon:ta.Z,node:e,isPreview:!t,title:"{Jsx}",id:t,params:[{label:"{jsx}",field:"expression",type:"input",description:"JsxExpression"}],color:tN[l],dataOutput:o.jsx})};ts.keyWords=["jsx","jsxexpression","expression","tsx","{}"],ts.defaultHandle=E.data+"expression",ts.getData=(e,t,l,i)=>{var o;return{expression:null!==(o=S(e.getExpression(),"output",e,"expression",t,l,i,"expression"))&&void 0!==o?o:""}},ts.dataOutput=o.jsx,ts.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id],u=P(e,"target","expression",E.data,null!==(o=null==s?void 0:s.expression)&&void 0!==o?o:"",l,t,i,n,a,r,d),p="{".concat(u,"}")+P(e,"source","output",E.flow,"",l,t,i,n,a,r,d);return p};var tu=a.memo(ts);let tp=e=>{var t;let{id:l,type:i}=e,o=(0,a.useContext)(p),r=o(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),d=Object.keys(r).filter(e=>e.startsWith("child-")).map((e,t)=>({label:"Child"+(t+1),field:e,fieldType:"child",deleteable:!0}));return(0,n.jsxs)(lp,{icon:ta.Z,node:e,isPreview:!l,title:"<></>",id:l,color:tN[i],children:[(0,n.jsx)(ls,{id:l,params:d}),(0,n.jsx)(F,{id:l,nodeData:r,type:"Child"})]})};tp.keyWords=["jsx","jsxelement","jsxfragment","react","tsx","fragment","selfclosed"],tp.getData=(e,t,l,i)=>{let o=e.getChildrenOfKind(J.lGB.SyntaxList)[0],n=o.getChildren(),a=n.filter(e=>["JsxElement","JsxSelfClosingElement","JsxExpression","JsxFragment"].includes(e.getKindName())),r=null==a?void 0:a.reduce((o,n,a)=>{let r="child-".concat(a+1);return{...o,[r]:S(n,"output",e,r,t,l,i,r)}},{});return{...r}},tp.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(o=i[e.id])&&void 0!==o?o:{},u=Object.keys(s).filter(e=>e.startsWith("child-")).reduce((o,u)=>{var p;return o+"	"+P(e,"target",u,E.data,null!==(p=s[u])&&void 0!==p?p:"",l,t,i,n,a,r,d)+"\n"},"");return"<>\n".concat(u,"</>")+P(e,"source","output",E.flow,"",l,t,i,n,a,r,d)};var tc=a.memo(tp);let tg=e=>{var t;let{id:l,type:i}=e,o=(0,a.useContext)(p),r=o(e=>null!==(t=e.nodeData[l])&&void 0!==t?t:{}),d=Object.keys(r).filter(e=>e.startsWith("prop-")).map((e,t)=>({label:e.substr(5),field:e,fieldType:"prop",deleteable:!0})),s=[{label:"TagName",static:!0,field:"name",type:"input",description:"JsxSelfClosingElement name"}].concat(d);return(0,n.jsxs)(lp,{icon:ta.Z,node:e,isPreview:!l,title:"<x ... />",id:l,color:tN[i],children:[(0,n.jsx)(ls,{id:l,params:s}),(0,n.jsx)(F,{id:l,nodeData:r,type:"Prop"})]})};tg.keyWords=["jsx","jsxelement","jsxselfclosingelement","react","tsx","fragment","selfclosed"],tg.getData=(e,t,l,i)=>{var o;let n={name:null==e?void 0:null===(o=e.getTagNameNode())||void 0===o?void 0:o.getText()},a=null==e?void 0:e.getAttributes(),r=null==a?void 0:a.reduce((o,n,a)=>{let r,d,s;return"JsxSpreadAttribute"==n.getKindName()?(s="prop-spreaded-"+a,r="",d=n.getText()):(s="prop-"+(r=n.getNameNode().getText()),d=S(null==n?void 0:n.getInitializer(),"output",e,s,t,l,i,s)),{...o,[s]:{key:null!=r?r:"",value:null!=d?d:""}}},{});return{...n,...r}},tg.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=null!==(o=i[e.id])&&void 0!==o?o:{},u=null==s?void 0:s.name,p=Object.keys(s).filter(e=>e.startsWith("prop-")).reduce((o,u)=>{var p,c,g,v;let h;if(u.startsWith("prop-spreaded"))h=P(e,"target",u,E.data,null!==(c=null===(p=s[u])||void 0===p?void 0:p.value)&&void 0!==c?c:"",l,t,i,n,a,r,d);else{let o=s[u].key,p=P(e,"target",u,E.data,null!==(v=null===(g=s[u])||void 0===g?void 0:g.value)&&void 0!==v?v:"",l,t,i,n,a,r,d);h="".concat(o,"=").concat(p," ")}return o+h},"");return"< ".concat(u," ").concat(p," />")+P(e,"source","output",E.flow,"",l,t,i,n,a,r,d)};var tv=a.memo(tg);let th=e=>{let t=t=>{var l,i,o;let{id:r,type:d}=t,s=(0,a.useContext)(p),u=s(e=>null!==(l=e.nodeData[r])&&void 0!==l?l:{});return(0,n.jsxs)(lp,{icon:er.Z,node:t,isPreview:!r,title:"for("+(null!==(i=null==u?void 0:u.element)&&void 0!==i?i:"element")+" ".concat(e," ")+(null!==(o=null==u?void 0:u.iterator)&&void 0!==o?o:"item")+")",id:r,color:tN[d],children:[(0,n.jsx)(ls,{id:r,params:[{label:"Element",field:"element",type:"input"},{label:"Iterator",field:"iterator",type:"input"}],boxStyle:{marginTop:"0px",marginBottom:"80px"}}),(0,n.jsx)(lu,{id:r,type:"input",label:"Loop",style:{top:"180px"},handleId:"loop"})]})};return t.keyWords=["for","for-in","for-of"],t.getData=(e,t,l,i)=>{e.getStatement()&&S(e.getStatement(),"output",e,"loop",t,l,i,null,[E.data,E.flow]);let o=e.getInitializer(),n=e.getExpression();return{element:S(o,"output",e,"element",t,l,i,"element"),iterator:S(n,"output",e,"iterator",t,l,i,"iterator")}},t.dump=function(t,l,i,o){var n,a;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,p=o[t.id],c=P(t,"target","loop",E.flow,"{}",i,l,o,r,d,s,u),g=P(t,"target","element",E.data,null!==(n=null==p?void 0:p.element)&&void 0!==n?n:"",i,l,o,r,d,s,u),v=P(t,"target","iterator",E.data,null!==(a=null==p?void 0:p.iterator)&&void 0!==a?a:"",i,l,o,r,d,s,u),h="for("+g+" ".concat(e," ")+v+" ) "+c+"\n";return h+P(t,"source","output",E.flow,"",i,l,o,r,d,s,u)},t};th("in");var tf=l(54373);let tx=e=>{var t,l;let{id:i,type:r}=e,d=(0,a.useContext)(p),s=d(e=>null!==(t=e.nodeData[i])&&void 0!==t?t:{});return(0,n.jsx)(lp,{icon:tf.Z,node:e,isPreview:!i,title:"delete "+(null==s?void 0:s.expression),params:[{label:"Expression",field:"expression",type:"input"}],id:i,color:tN[r],dataOutput:o.flow})};tx.keyWords=["delete"],tx.getData=(e,t,l,i)=>({expression:S(null==e?void 0:e.getExpression(),"output",e,"expression",t,l,i,"expression")}),tx.dataOutput=o.flow,tx.dump=function(e,t,l,i){var o;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,s=i[e.id];return"delete "+P(e,"target","expression",E.data,null!==(o=null==s?void 0:s.expression)&&void 0!==o?o:"",l,t,i,n,a,r,d)+P(e,"source","output",E.flow,"",l,t,i,n,a,r,d)};var tm=(0,a.memo)(tx);let ty=e=>{let{id:t,type:l}=e;return(0,n.jsx)(lp,{icon:R.Z,node:e,isPreview:!t,title:"...",color:tN.SpreadAssignment,id:t,params:[{label:"Expression",field:"expression",type:"input"}],dataOutput:o.spread})};ty.keyWords=["spread","..."],ty.getData=(e,t,l,i)=>{let o=e.getExpression();return{expression:S(o,"output",e,"expression",t,l,i,"expression")}},ty.dataOutput=o.spread,ty.dump=function(e,t,l,i){var o,n;let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"partial",s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=i[e.id];return"..."+(null!==(n=P(e,"target","expression",E.data,null!==(o=null==u?void 0:u.expression)&&void 0!==o?o:"",l,t,i,a,r,d,s))&&void 0!==n?n:"")+P(e,"source","output",E.flow,"",l,t,i,a,r,d,s)};var tb=(0,a.memo)(ty);let tj=e=>{let{id:t,type:l}=e;return(0,n.jsx)(n.Fragment,{})};tj.getData=(e,t,l)=>{let i=e.getExpression();return i?t[k(i)]:{type:"data",value:""}},tj.isShadow=(e,t,l,i)=>!0;var tC=(0,a.memo)(tj),tw=(0,a.memo)(e=>{var t,l,i;console.log("node in visualgroup: ",e),e.id.startsWith("VisualGroup_SourceFile_");let o=(null===(t=e.data)||void 0===t?void 0:t.width)+"px",a=(null===(l=e.data)||void 0===l?void 0:l.height)+"px",r="white";return(0,n.jsx)("div",{style:{width:"0px",height:"0px"},children:(null===(i=e.data)||void 0===i?void 0:i.visible)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"nodrag",style:{position:"absolute",width:o,height:"3px",backgroundColor:r}}),(0,n.jsx)("div",{className:"nodrag",style:{position:"absolute",top:a,width:o,height:"3px",backgroundColor:r}}),(0,n.jsx)("div",{className:"nodrag",style:{position:"absolute",width:"3px",height:a,backgroundColor:r}}),(0,n.jsx)("div",{className:"nodrag",style:{position:"absolute",left:o,width:"3px",height:a,backgroundColor:r}})]}):null})}),tk=(0,a.memo)(e=>{var t,l,i;let o=(0,a.useContext)(p),{id:r,type:d}=e,s=o(e=>null!==(t=e.nodeData[r])&&void 0!==t?t:{});switch(null==s?void 0:s.type){case"text":return(0,n.jsx)("p",{style:null==s?void 0:null===(l=s.data)||void 0===l?void 0:l.style,children:null==s?void 0:null===(i=s.data)||void 0===i?void 0:i.text});case"image":return(0,n.jsx)(n.Fragment,{})}});let tE={Block:e2,CallExpression:B,BinaryExpression:L("+"),ObjectLiteralExpression:eG,ArrayLiteralExpression:ec,ArrowFunction:$,FunctionDeclaration:$,ReturnStatement:eT,ElementAccessExpression:es,ParenthesizedExpression:eh,IfStatement:Q,ConditionalExpression:ea,WhileStatement:ex("while"),DoStatement:ex("while","do-while"),ForStatement:ex("for"),ForInStatement:th("in"),ForOfStatement:th("of"),SwitchStatement:eo,BreakStatement:eF,constNode:Z("const"),letNode:Z("let"),varNode:Z("var"),setNode:L("="),PrefixUnaryExpression:em("pre"),PostfixUnaryExpression:em("post"),ClassDeclaration:ez("declaration"),ClassExpression:ez("expression"),MethodDeclaration:eL("method"),Constructor:eL("constructor"),ImportDeclaration:ej,ContinueStatement:eK,TemplateExpression:e5,ExportAssignment:ek,ExportDeclaration:eD,NewExpression:e_,TryStatement:el,AwaitExpression:eq,PropertyAccessExpression:K,TypeLiteral:eX("typeLiteral"),TypeAliasDeclaration:tt,InterfaceDeclaration:ti,ObjectBindingPattern:tn,JsxElement:td,JsxExpression:tu,JsxFragment:tc,JsxSelfClosingElement:tv,DeleteExpression:tm,SpreadAssignment:tb,CaseClause:e2},tD={...tE,PropertyAccessExpression:K,SourceFile:e2,Parameter:U,VariableDeclarationList:_,VariableStatement:eI,ComputedPropertyName:eQ,SpreadElement:tb,PhantomBox:e3,FunctionExpression:$,ExpressionStatement:tC,VisualGroup:tw,Layer:tk,DefaultClause:e2},tS=["#EF9A9A","#F48FB1","#CE93D8","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#A5D6A7","#C5E1A5","#FFF59D","#FFE082","#FFCC80","#FFAB91","#BCAAA4","#EEEEEE","#B0BEC5","#E57373","#F06292","#BA68C8","#9575CD","#7986CB","#64B5F6","#4FC3F7","#4DD0E1","#4DB6AC","#81C784","#AED581","#FFF176","#FFD54F","#FFB74D","#FF8A65","#A1887F","#E0E0E0","#90A4AE"],tN=Object.keys(tE).reduce((e,t,l)=>({...e,[t]:tS[l%tS.length]}),{});var tT=l(64346),tP=e=>{let{node:t,port:l,type:i,fallbackPort:o,portType:r,preText:d,postText:s,fallbackText:u=""}=e,c=(0,a.useContext)(p),g=c(e=>e.setNodeData),v=c(e=>e.nodeData[null==t?void 0:t.id]);return(0,a.useEffect)(()=>{t&&t.id&&!(null==v?void 0:v.hasOwnProperty("_fallBack"))&&g(t.id,{...v,_fallBack:[{port:l,type:i,fallbackPort:o,portType:r,fallbackText:u,preText:d,postText:s}]})},[null==t?void 0:t.id,v]),(0,n.jsx)(n.Fragment,{})};let tO=()=>(e,t,l)=>{var i,o,n,a=[],r=[],d=null===(i=l.find(t=>t.target==k(e)))||void 0===i?void 0:i.source;a.push(d);var s=null===(o=l.find(e=>e.target==d))||void 0===o?void 0:o.source;a.push(s);var u=null===(n=l.find(e=>e.target==s))||void 0===n?void 0:n.source;return u&&r.push(u),null==r||r.forEach(t=>l.push(b(t,t+"-output",k(e),k(e)+"_request"))),t.filter(e=>!(null==a?void 0:a.includes(null==e?void 0:e.id)))},tF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2";return(t,l,i)=>{var o;let n=null===(o=i.find(l=>l.targetHandle==k(t)+"-param"+e))||void 0===o?void 0:o.source,a=i.find(e=>e.targetHandle==n+"_call");return a&&(console.log("new edge: ",b(k(t),k(t)+"_request",a.target,a.targetHandle)),i.push(b(a.source,a.sourceHandle,k(t),k(t)+"_request"))),l.filter(e=>(null==e?void 0:e.id)!=n)}},tW=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2";return(t,l,i,o,n)=>{let a=n.find(l=>l.targetHandle==t.id+"-param"+e),r=[],d=[];if(a){let e=null==i?void 0:i.find(e=>e.id==a.source);e&&d.push(e),r=n.filter(t=>t.source==(null==e?void 0:e.id)||t.target==(null==e?void 0:e.id))}return{nodes:[...d,...l],edges:[...r,...o]}}},tI=()=>(e,t,l,i,o)=>{let n=[],a=[];if(o&&l){let t=o.find(t=>t.target==e.id),r=i.find(e=>e.target==(null==t?void 0:t.source)),d=i.find(e=>e.target==(null==r?void 0:r.source));if(t&&r&&d){let e=l.find(e=>e.id==(null==t?void 0:t.source)),i=l.find(e=>e.id==(null==r?void 0:r.source)),s=l.find(e=>e.id==(null==d?void 0:d.source));a.push(e),a.push(i),a.push(s),n=o.filter(t=>t.source==(null==e?void 0:e.id)||t.target==(null==e?void 0:e.id)||t.source==(null==i?void 0:i.id)||t.target==(null==i?void 0:i.id)||t.source==(null==s?void 0:s.id)||t.target==(null==s?void 0:s.id))}}return{nodes:[...a,...t],edges:[...n,...i]}};var tB=l(34504),tz=l(76926),tH=l(60790),tL=l(38880),tZ=l(78377),tA=l(81374);let t_=e=>{var t;let l=(null==e?void 0:e.getArguments)?null==e?void 0:e.getArguments()[0]:null,i=(null==l?void 0:l.getKindName())=="ArrowFunction",o=null!=l&&!!l.getBody&&!["PropertyAccessExpression","Identifier","NumericLiteral"].includes(null==l?void 0:null===(t=l.getBody())||void 0===t?void 0:t.getKindName());return i&&o},tR=[{id:"Console",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("console."))},getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{id:l,type:i}=e,o=Object.keys(t).filter(e=>e.startsWith("param")),a=[{label:"Type",field:"to",type:"select",data:["console.log","console.error","console.warn","console.info","console.trace","console.assert","console.clear","console.count","console.dir","console.table","console.time","console.group"],static:!0}].concat(o.map((e,t)=>({label:"Params[".concat(t+1,"]"),field:e,type:"input",deleteable:!0})));return(0,n.jsxs)(lp,{icon:tT.Z,node:e,isPreview:!e.id,title:"console",id:e.id,color:"#BCAAA4",skipCustom:!0,children:[(0,n.jsx)(ls,{id:e.id,params:a}),(0,n.jsx)(F,{id:e.id,nodeData:t})]})},getInitialData:()=>({to:"console.log",param1:'"Hello World"'})},{id:"SetTimeout",type:"CallExpression",check:(e,t)=>{var l=null==t?void 0:t._astNode,i=!l||t_(l);return"CallExpression"==e.type&&"setTimeout"==t.to&&t.param1.startsWith("() =>")&&i},getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1],(0,n.jsxs)(lp,{icon:eJ.Z,node:e,isPreview:!(null==e?void 0:e.id),title:"timeout",id:e.id,color:"#EEEEEE",skipCustom:!0,children:[(0,n.jsx)(ls,{id:e.id,params:[{label:"Timer(ms)",field:"param2",type:"input"}]}),(0,n.jsx)("div",{style:{marginBottom:"50px"}}),(0,n.jsx)(lu,{id:e.id,type:"output",label:"On Timeout",style:{top:"110px"},handleId:"request"}),(0,n.jsx)(tP,{node:e,port:"param1",type:"target",fallbackPort:"request",portType:"_",preText:"() => ",postText:""})]})},filterChildren:tF("1"),restoreChildren:tW("1"),getInitialData:()=>({to:"setTimeout",param2:"1000",param1:"() =>"})},{id:"SetInterval",type:"CallExpression",check:(e,t)=>{var l=null==t?void 0:t._astNode,i=!l||t_(l);return"CallExpression"==e.type&&"setInterval"==t.to&&t.param1.startsWith("() =>")&&i},getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1],(0,n.jsxs)(lp,{icon:tB.Z,node:e,isPreview:!(null==e?void 0:e.id),title:"interval",id:e.id,color:"#B0BEC5",skipCustom:!0,children:[(0,n.jsx)(ls,{id:e.id,params:[{label:"Timer(ms)",field:"param2",type:"input"}]}),(0,n.jsx)("div",{style:{marginBottom:"50px"}}),(0,n.jsx)(lu,{id:e.id,type:"output",label:"On Interval",style:{top:"120px"},handleId:"request"}),(0,n.jsx)(tP,{node:e,port:"param1",type:"target",fallbackPort:"request",portType:"_",preText:"() => ",postText:""})]})},filterChildren:tF("1"),restoreChildren:tW("1"),getInitialData:()=>({to:"setInterval",param2:"1000",param1:"() =>"})},{id:"Map",type:"CallExpression",check:(e,t)=>{var l,i=null==t?void 0:t._astNode,o=!i||t_(i);return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.endsWith(".map"))&&t.param1.startsWith("(item,i,) =>")&&o},getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1],(0,n.jsxs)(lp,{icon:tz.Z,node:e,isPreview:!(null==e?void 0:e.id),title:"map",id:e.id,color:"#E57373",skipCustom:!0,children:[(0,n.jsx)(ls,{id:e.id,params:[{label:"Array",field:"to",type:"input",pre:e=>e.replace(".map",""),post:e=>e+".map"}]}),(0,n.jsx)("div",{style:{marginBottom:"50px"}}),(0,n.jsx)(lu,{id:e.id,type:"output",label:"For Each (item, i)",style:{top:"110px"},handleId:"request"}),(0,n.jsx)(tP,{node:e,port:"param1",type:"target",fallbackPort:"request",portType:"_",preText:"(item, i) => ",postText:""})]})},filterChildren:tF("1"),restoreChildren:tW("1"),getInitialData:()=>({to:".map",param1:"(item,i,) =>"})},{id:"Filter",type:"CallExpression",check:(e,t)=>{var l,i=null==t?void 0:t._astNode,o=!i||t_(i);return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.endsWith(".filter"))&&t.param1.startsWith("(item,i,) =>")&&o},getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1],(0,n.jsxs)(lp,{icon:tH.Z,node:e,isPreview:!(null==e?void 0:e.id),title:"filter",id:e.id,color:"#F06292",skipCustom:!0,children:[(0,n.jsx)(ls,{id:e.id,params:[{label:"Array",field:"to",type:"input",pre:e=>e.replace(".filter",""),post:e=>e+".filter"}]}),(0,n.jsx)("div",{style:{marginBottom:"50px"}}),(0,n.jsx)(lu,{id:e.id,type:"output",label:"For Each (item, i)",style:{top:"110px"},handleId:"request"}),(0,n.jsx)(tP,{node:e,port:"param1",type:"target",fallbackPort:"request",portType:"_",preText:"(item, i) => ",postText:""})]})},filterChildren:tF("1"),restoreChildren:tW("1"),getInitialData:()=>({to:".filter",param1:"(item,i,) =>"})},{id:"Find",type:"CallExpression",check:(e,t)=>{var l,i=null==t?void 0:t._astNode,o=!i||t_(i);return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.endsWith(".find"))&&t.param1.startsWith("(item,i,) =>")&&o},getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1],(0,n.jsxs)(lp,{icon:tL.Z,node:e,isPreview:!(null==e?void 0:e.id),title:"find",id:e.id,color:"#BA68C8",skipCustom:!0,children:[(0,n.jsx)(ls,{id:e.id,params:[{label:"Array",field:"to",type:"input",pre:e=>e.replace(".find",""),post:e=>e+".find"}]}),(0,n.jsx)("div",{style:{marginBottom:"50px"}}),(0,n.jsx)(lu,{id:e.id,type:"output",label:"For Each (item, i)",style:{top:"110px"},handleId:"request"}),(0,n.jsx)(tP,{node:e,port:"param1",type:"target",fallbackPort:"request",portType:"_",preText:"(item, i) => ",postText:""})]})},filterChildren:tF("1"),restoreChildren:tW("1"),getInitialData:()=>({to:".find",param1:"(item,i,) =>"})},{id:"Reduce",type:"CallExpression",check:(e,t)=>{var l,i=null==t?void 0:t._astNode,o=!i||t_(i);return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.endsWith(".reduce"))&&t.param1.startsWith("(total,item,i,) =>")&&o},getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1],(0,n.jsxs)(lp,{icon:tZ.Z,node:e,isPreview:!(null==e?void 0:e.id),title:"reduce",id:e.id,color:"#9575CD",skipCustom:!0,children:[(0,n.jsx)(ls,{id:e.id,params:[{label:"Array",field:"to",type:"input",pre:e=>e.replace(".reduce",""),post:e=>e+".reduce"}]}),(0,n.jsx)(ls,{id:e.id,params:[{label:"Initial Value",field:"param2",type:"input"}]}),(0,n.jsx)("div",{style:{marginBottom:"50px"}}),(0,n.jsx)(lu,{id:e.id,type:"output",label:"For Each (total, item, i)",style:{top:"160px"},handleId:"request"}),(0,n.jsx)(tP,{node:e,port:"param1",type:"target",fallbackPort:"request",portType:"_",preText:"(total,item,i) => ",postText:""})]})},filterChildren:tF("1"),restoreChildren:tW("1"),getInitialData:()=>({to:".reduce",param1:"(total,item,i,) =>",param2:""})},{id:"Fetch",type:"CallExpression",check:(e,t)=>{var l;return"CallExpression"==e.type&&(null===(l=t.to)||void 0===l?void 0:l.startsWith("fetch"))},getComponent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Object.keys(t).filter(e=>e.startsWith("param")),i=l.map((e,t)=>({label:"Params[".concat(t+1,"]"),field:e,type:"input",deleteable:!0}));return(0,n.jsxs)(lp,{icon:tA.Z,node:e,isPreview:!e.id,title:"fetch",id:e.id,color:"#7986CB",skipCustom:!0,children:[(0,n.jsx)(ls,{id:e.id,params:i}),(0,n.jsx)(F,{id:e.id,nodeData:t})]})},getInitialData:()=>({to:"fetch",param1:'"/cloudapi/v1/"'})}];var tM=(e,t,l)=>{if(!e)return null;let i=null==l?void 0:l.find(l=>l.check(e,t));return i||null},tK=l(50902),tJ=l(59336),tV=l(5392),tq=l.n(tV);let t$=(e,t,l)=>[],tX=(e,t,l)=>{};var tU=l(34389),tG=l(57643);let tY=e=>{var t,l;let{id:i,type:o,style:d,label:s,isConnected:u=!1,nodeId:c,position:g=r.Ly.Right,allowedTypes:v}=e,f=(0,a.useRef)(),m=(0,a.useRef)(),y=(0,a.useContext)(p),b=y(e=>e.setMenu),j=y(e=>e.flowInstance),C=g==r.Ly.Right?"-".concat(160,"px"):"25px",w=(0,r.Mi)(),k=tQ(w,i),E=h("portSize"),D=h("plusColor"),S=h("nodeBorderColor"),N=h("nodeBorderWidth"),T=(null===(t=w[0])||void 0===t?void 0:t.data)&&(null===(l=w[0])||void 0===l?void 0:l.data.preview)=="node",P=()=>{b("open",[(null==m?void 0:m.current.getBoundingClientRect().right)+200,(null==m?void 0:m.current.getBoundingClientRect().top)-30],{targetHandle:i,target:c})},O=v?v.includes("block")?h("blockPort"):h("flowPort"):null;return 1==v.length&&v.includes("data")&&(O=h("dataPort")),a.useEffect(()=>{tX(j,i,v)},[v]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(r.HH,{ref:m,tabIndex:k?-1:0,title:void 0,onClick:()=>P(),onKeyDown:e=>"Enter"==e.code?P():null,type:"target",position:g,style:{backgroundColor:O,display:T?"none":"flex",flexDirection:"row",alignItems:"center",border:N+" solid "+S,width:E+"px",height:E+"px",marginLeft:"",marginRight:Math.floor(-(E/3.5*1))+"px",cursor:"pointer",...d},id:i,isConnectable:!k,isValidConnection:e=>{let t=e.source.split("_")[0],l=tD[t];if(l){var i;let e=null!==(i=l.type)&&void 0!==i?i:l,t=e&&e.dataOutput?e.dataOutput:"data";if(-1==v.indexOf(t))return!1}let o=tQ(w,e.sourceHandle);return!o},children:[s?(0,n.jsx)("div",{style:{display:"flex",width:"".concat(160,"px"),marginLeft:C,zIndex:-1,justifyContent:"flex-end"},children:(0,n.jsx)(x,{ref:f,style:{marginRight:"5px",textAlign:g==r.Ly.Right?"right":"left"},children:s})}):null,k?null:(0,n.jsx)("div",{style:{width:E+"px",height:E+"px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(tU.Z,{color:D,size:10,strokeWidth:5})})]})})},tQ=(e,t)=>e.find(e=>e.targetHandle==t||e.sourceHandle==t),t0=(e,t)=>e.find(e=>e.target==t||e.source==t);var t1=(0,a.memo)(e=>{var t;let{adaptiveTitleSize:l=!0,mode:i="column",draggable:o=!0,icon:r=null,container:d=!1,title:s="",children:u,isPreview:c=!1,id:g,color:v="white",node:f,headerContent:m=null,style:y={},contentStyle:b={}}=e,j=(0,a.useContext)(p),C=j(e=>e.errorData),w=(0,a.useRef)(),k=(0,a.useRef)(),E=(null==f?void 0:null===(t=f.data)||void 0===t?void 0:t.preview)=="node",D=g&&g==C.id,S=!g||-1==g.indexOf("_"),N=h("colorError");v=D?N:!c&&S?tq().scale([v,"white"])(.5).hex():v;let T=tq().scale([v,"black"])(.6).hex(),P=h("titleColor"),O=h("borderColor"),F=D?N:O,W=h("borderWidth");h("borderWidthSelected");let I=h("nodeBackgroundColor"),B=(0,tG.XI)(w),z=h("nodeFontSize")/100*100,H="12px ";if(f&&f.data&&f.data.flowsHeight&&E){let e=f.data.flowsHeight-80;b.height=e+"px",b.maxHeight=e+"px",b.overflow="scroll",b.overflowX="hidden"}return(0,n.jsxs)("div",{id:g,ref:w,style:{display:"flex",minHeight:c?"30px":"80px",flexDirection:i,borderRadius:13,textAlign:"center",fontSize:h("nodeFontSize"),boxShadow:E?"none":e7(d?0:B?10:!c&&(null==f?void 0:f.selected)?10:3),cursor:E?"default":void 0,...y},className:o?"":"nodrag",children:[(s||m)&&!E?(0,n.jsxs)("div",{ref:k,style:{display:"flex",backgroundColor:v,borderRadius:c?"8px":"column"==i?H+H+" 0px 0px":H+"0px 0px "+H,borderBottom:"column"!=i||c?"0px":W+" solid "+F,paddingBottom:"10px",justifyContent:"center"},children:[r?(0,n.jsx)("div",{style:{display:"flex",right:"15px",position:"absolute",top:"8px"},children:a.createElement(r,{size:g?z:"18px",color:T})}):null,s?(0,n.jsx)(x,{style:{fontSize:g?z:"18px",padding:"0px 10px 0px 10px",color:P,flex:1,textAlign:"center",alignSelf:"center",position:"relative",top:"4px",fontFamily:"Jost-Medium",maxWidth:"15ch",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:s}):null,null,m]}):null,c?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)("div",{className:E?"nowheel":"",style:{borderRadius:"0px 0px "+H+H,backgroundColor:d?"transparent":I,flex:1,paddingTop:"0.5ch",paddingBottom:"0.5ch",...b},children:u})]})}),t5=l(64509),t4=l(6226),t6=l(81395),t7=e=>(0,n.jsxs)("div",{style:{position:"relative"},children:[(0,n.jsx)("select",{defaultValue:e.defaultValue.value,onChange:t=>{let l=t.target.value;e.onChange({label:l,value:l})},style:{width:"100%",boxSizing:"border-box",backgroundColor:h("inputBackgroundColor"),color:h("textColor"),fontFamily:"Jost-Regular",fontSize:h("nodeFontSize"),border:h("inputBorder"),padding:"0.35ch",paddingLeft:"1ch",paddingRight:"1ch",flex:1,display:"flex",borderRadius:"0.5ch",appearance:"none"},children:e.options.map(e=>(0,n.jsx)("option",{value:e.value,label:e.label}))}),(0,n.jsx)(t6.Z,{style:{position:"absolute",right:"10px",top:h("nodeFontSize")/2}})]}),t2=l(88724),t8=l(11001),t3=l(13153),t9=l(63044),le=l(95602),lt=l(86486),ll=l(43911);let li=(e,t,l)=>l.find(l=>l.targetHandle=="".concat(e).concat(E.data).concat(t)),lo=55,ln=e=>{let{id:t,left:l=!1,field:i}=e,o=(0,a.useContext)(p),r=o(e=>e.deletePropNodeData);return(0,n.jsx)("div",{id:"deleteButton-"+t+i,style:{display:"flex",alignSelf:"center",cursor:"pointer"},onClick:()=>{r(t,i)},children:(0,n.jsx)(t2.Z,{size:h("nodeFontSize"),color:h("colorError"),style:{marginRight:l?"7px":"2px"}})})},la=e=>{let{id:t,disabled:l,post:i=e=>e,pre:o=e=>e,onBlur:d,field:s,children:u,style:c={},editing:g=!1}=e,v=(0,a.useContext)(p),x=v(e=>e.setNodeData),{setNodes:m}=(0,r._K)(),y=v(e=>null!==(j=e.nodeData[t])&&void 0!==j?j:{}),b=v(e=>e.dataNotify);var j,C=o(y[s]);let[w,k]=a.useState(C),E=h("nodeFontSize"),D=a.useRef();a.useEffect(()=>{if(D.current&&g){var e;null===(e=D.current)||void 0===e||e.focus()}},[g]);let S=e=>{b({...e,notifyId:y._dataNotifyId})};return(0,a.useEffect)(()=>{k(C)},[y[s]]),(0,n.jsx)("div",{className:"nodrag",style:{flex:1},children:(0,n.jsxs)("div",{style:{flex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,n.jsx)(f,{ref:D,onFocus:()=>{m(e=>{let l=[...e];l=l.map(e=>(e.hasOwnProperty("selected")&&delete e.selected,e));let i=l.findIndex(e=>e.id==t);return l[i]={...l[i],selected:!0},l})},onBlur:()=>{l||(x(t,{...y,[s]:i(w)}),S({id:t,paramField:s,newValue:w})),d&&d(w)},readOnly:l,style:{fontSize:E+"px",fontWeight:"medium",...c},value:w,placeholder:"default",onChange:e=>k(e.target.value)}),u]})})},lr=e=>{var t,l,i,o,d;let s;let{id:u,param:c,index:g=0,portId:v=null,editing:f=!1,onRequestEdit:m=e=>{},onCancelEdit:y=()=>{}}=e,b=(0,a.useContext)(p),j=b(e=>e.setNodeData),C=b(e=>e.dataNotify);b(e=>e.deletePropNodeData);let w=b(e=>null!==(t=e.nodeData[u])&&void 0!==t?t:{}),k=(0,r.Mi)(),D=k.find(e=>e.targetHandle=="".concat(u).concat(E.data).concat(c.field)),S="child"==c.fieldType,N="parameter"==c.fieldType,T="prop"==c.fieldType,P=a.useRef(),O=a.useRef(),F=c.pre?c.pre:e=>e,W=c.post?c.post:e=>e,I=c.keyPre?c.keyPre:e=>e,B=c.keyPost?c.keyPost:e=>e,z=e=>{C({...e,notifyId:w._dataNotifyId})},H="default"==c.field,L="call"==c.fieldType||"clause"==c.fieldType,Z=h("borderColor"),A=h("borderWidth"),_=h("handleBorderColor");h("dataOutputColor");let R=h("dataPort"),M=h("nodeFontSize"),K=a.useRef();return(0,n.jsxs)("div",{style:{alignItems:"stretch",flexBasis:"auto",flexShrink:0,listStyle:"none",position:"relative",display:"flex",zIndex:"select"==c.type||"colorPicker"==c.type?1100:0,flexDirection:"column"},children:[H?null:(0,n.jsxs)("div",{ref:K,style:{flex:1,fontSize:M+"px",padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row",alignItems:"stretch"},children:[(0,n.jsxs)("div",{className:"handleKey",ref:O,style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(null==c?void 0:c.deleteable)&&S?(0,n.jsx)(ln,{id:u,left:!0,field:c.field}):null,(s=null!==(l=null==c?void 0:c.label)&&void 0!==l?l:c.field,(N||T)&&!c.static&&(s=I(null!==(o=null===(i=w[c.field])||void 0===i?void 0:i.key)&&void 0!==o?o:""),f)?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(la,{editing:f,id:u,post:e=>{var t,l;return{key:B(e),value:null!==(l=null===(t=w[c.field])||void 0===t?void 0:t.value)&&void 0!==l?l:""}},pre:()=>{var e;return I(null!==(d=null===(e=w[c.field])||void 0===e?void 0:e.key)&&void 0!==d?d:"")},field:c.field,onBlur:e=>{e&&y()},style:{marginRight:"16px"}})}):(0,n.jsx)(x,{adaptiveSize:!0,onClick:()=>{(N||T)&&m(c)},style:{marginRight:"12px",textAlign:"left",whiteSpace:"nowrap",cursor:"pointer"},children:null!=s?s:" "}))]}),(0,n.jsxs)("div",{className:"handleValue",title:c.description,style:{minWidth:"180px",marginRight:"10px",display:"flex",flexDirection:"row",flexGrow:1,justifyContent:"boolean"==c.type?"flex-end":"",alignItems:"center"},children:[(e=>{var t,l,i,o,r,d,s,p,g,v,f,m,y,b,C,k,E,D;switch(c.type){case"select":let S=null===(t=c.data)||void 0===t?void 0:t.map((e,t)=>{var l=(null==e?void 0:e.color)?{color:e.color}:{};return{label:null!=e?e:"default",value:e,...l}});return(0,n.jsx)("div",{style:{flex:1,zIndex:1e3},children:(0,n.jsx)(t7,{onChange:e=>{var t,l={[c.field]:T||(null===(t=w[c.field])||void 0===t?void 0:t.value)?{key:c.label,value:null==e?void 0:e.value}:null==e?void 0:e.value};j(u,{...w,...l}),z({id:u,paramField:c.field,newValue:null==e?void 0:e.value})},defaultValue:{value:T||(null===(l=w[c.field])||void 0===l?void 0:l.value)?null===(i=w[c.field])||void 0===i?void 0:i.value:w[c.field],label:null!==(r=null===(o=w[c.field])||void 0===o?void 0:o.value)&&void 0!==r?r:w[c.field]},options:S})});case"select-multi":let O=h("inputBorder"),I=h("textColor"),B=null===(d=c.data)||void 0===d?void 0:d.map((e,t)=>{var l=e.color?{color:e.color}:{};return{label:e,value:e,...l}});return(0,n.jsx)("div",{style:{zIndex:1e3},children:(0,n.jsx)(tJ.ZP,{components:{DropdownIndicatorMulti:e=>tK.c.DropdownIndicator&&(0,n.jsxs)(tK.c.DropdownIndicator,{...e,children:[" ",(0,n.jsx)(t8.Z,{size:"15px"})," "]})},menuPlacement:"top",onChange:e=>{let t=e.map(e=>e.value.replace(/"/g,""));console.log("\uD83D\uDE80 ~ file: Node.tsx:142 ~ onChangeSelectMulti ~ dataValues:",t),j(u,{...w,dataValues:t}),z({id:u,paramField:c.field,newValue:t})},className:"nodrag",options:B,styles:{control:(e,t)=>({...e,backgroundColor:h("inputBackgroundColor"),borderColor:t.isSelected?O:"transparent",textColor:I,width:"fit-content"}),singleValue:(e,t)=>{let{data:l}=t;return{...e,fontSize:"12px",minWidth:"95px",textAlign:"left",color:I}},menu:e=>({...e,color:I,backgroundColor:h("inputBackgroundColor")})},isMulti:!0})});case"colorPicker":let H=w[c.field]?F(w[c.field]):"#404040",[L,_]=a.useState(!1);return(0,n.jsxs)("div",{style:{cursor:"pointer"},children:[(0,n.jsx)("div",{style:{width:"36px",height:"36px",backgroundColor:H,border:L?A+" solid "+Z:"1px #cccccc solid",borderRadius:5},onClick:()=>{_(!L)}}),(0,n.jsx)("div",{style:{cursor:"pointer",position:"absolute",zIndex:1100},children:L?(0,n.jsx)(t4.xS,{className:"nodrag",color:H,onChangeComplete:e=>{z({id:u,paramField:c.field,newValue:{r:e.rgb.r,g:e.rgb.g,b:e.rgb.b,a:e.rgb.a}}),j(u,{...w,[c.field]:e.hex})}}):null})]});case"range":let R=(null===(s=c.data)||void 0===s?void 0:s.min)?c.data.min:0,K=(null===(p=c.data)||void 0===p?void 0:p.max)?c.data.max:100,J=null===(g=c.data)||void 0===g?void 0:g.step,V=null===(v=c.data)||void 0===v?void 0:v.defaultValue,q=null!==(y=null!==(m=null===(f=w[c.field])||void 0===f?void 0:f.value)&&void 0!==m?m:w[c.field])&&void 0!==y?y:null!=V?V:R,[$,X]=a.useState(F(q));return(0,n.jsxs)(n.Fragment,{children:[c.hideLabel?null:(0,n.jsx)("div",{style:{fontSize:"14px",position:"relative",top:"3px",width:18*K.toString().length,textAlign:"left"},children:W($)}),(0,n.jsx)("input",{type:"range",style:{width:"100%",marginTop:"6px",accentColor:h("interactiveColor"),height:"5px",borderWidth:"4px solid blue",backgroundColor:h("inputBackgroundColor"),borderRadius:"10px"},step:J,onChange:e=>X(e.target.value),onMouseUp:()=>{var e,t,l,i;z({id:u,paramField:c.field,newValue:$}),j(u,{...w,[c.field]:N||T?{...w[c.field],key:null!==(l=null===(e=w[c.field])||void 0===e?void 0:e.key)&&void 0!==l?l:c.label,value:W($),kind:null!==(i=null===(t=c.data)||void 0===t?void 0:t.kind)&&void 0!==i?i:"NumericLiteral"}:W($)})},value:$,min:R,max:K})]});case"boolean":let[U,G]=a.useState("string"==typeof(D=w[c.field])||D instanceof String?"true"==D:D);return(0,n.jsx)("span",{ref:P,children:(0,n.jsx)("input",{type:"checkbox",onChange:()=>{z({id:u,paramField:c.field,newValue:!U}),j(u,{...w,[c.field]:!U}),G(!U)},checked:!!U,style:{all:"revert",width:M,margin:"2px 0px 2px 0px",accentColor:h("interactiveColor"),transform:"scale(".concat(h("nodeFontSize")/15,")"),marginRight:"5px"}})});default:let Y=null===(b=w[c.field])||void 0===b?void 0:b.kind,Q={StringLiteral:t3.Z,NumericLiteral:t9.Z,TrueKeyword:le.Z,ObjectLiteralExpression:lt.Z,FalseKeyword:le.Z};return(0,n.jsxs)(n.Fragment,{children:[Y&&Q[Y]?(0,n.jsx)("div",{style:{padding:"8px",justifyContent:"center",position:"absolute",zIndex:100,cursor:"pointer"},onClick:()=>{j(u,{...w,[c.field]:{...w[c.field],kind:Object.keys(Q)[(Object.keys(Q).indexOf(Y)+1)%(Object.keys(Q).length-1)]}})},children:a.createElement(Q[Y],{size:16,color:h("interactiveColor")})}):(0,n.jsx)(n.Fragment,{}),(0,n.jsx)(la,{id:u,post:e=>{var t;return N||T?{...w[c.field],key:null!==(C=null===(t=w[c.field])||void 0===t?void 0:t.key)&&void 0!==C?C:c.label,value:W(e)}:W(e)},pre:e=>null!==(E=null!==(k=null==e?void 0:e.value)&&void 0!==k?k:e)&&void 0!==E?E:"",field:c.field,onBlur:c.onBlur,disabled:e||c.isDisabled,style:{marginRight:["case","child"].includes(c.fieldType)?"20px":"0px",paddingLeft:Y&&Q[Y]?"30px":void 0},children:c.error?(0,n.jsxs)("div",{style:{alignItems:"center",marginTop:"5px",display:"flex"},children:[(0,n.jsx)(ll.Z,{size:"14px",color:"red",style:{alignSelf:"center",marginRight:"5px"}}),(0,n.jsx)(x,{style:{color:"red",fontSize:"12px"},children:c.error})," "]}):null})]})}})(D),(null==c?void 0:c.deleteable)&&!S?(0,n.jsx)(ln,{id:u,field:c.field}):null]})]}),c.additionalHandlePort?(0,n.jsx)(tY,{type:"target",style:{top:"16px"},position:r.Ly.Right,id:"".concat(null!=v?v:u).concat(E.data).concat(c.field).concat(E.data).concat(c.additionalHandlePort),allowedTypes:["data"]}):null,c.static||L?null:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(tY,{position:r.Ly.Right,id:"".concat(null!=v?v:u).concat(E.data).concat(c.field),label:"",nodeId:u,type:"target",style:{marginTop:c.additionalHandlePort?"14px":""},allowedTypes:["data"]})}),"error"==c.type?(0,n.jsx)(r.HH,{type:"source",title:void 0,style:{width:"15px",height:"15px",backgroundColor:R,marginRight:"-4px",border:A+"solid "+_},position:r.Ly.Right,id:"".concat(null!=v?v:u).concat(E.data).concat(c.field)}):null,"clause"==c.fieldType?(0,n.jsx)(lu,{id:"".concat(null!=v?v:u).concat(E.flow).concat(c.field),type:"output",style:{top:"26px"},label:H?"Default":void 0,isConnected:!!D}):null,"call"==c.fieldType?(0,n.jsx)(lu,{id:u,handleId:"call",type:"input",style:{top:"26px"},isConnected:!!k.find(e=>e.targetHandle=="".concat(u).concat(E.flow).concat(c.field))}):null]})},ld=e=>{let{id:t,param:l,position:i=null,style:d={},isConnected:s=!1,dataOutput:u=o.data}=e,{getEdges:c}=(0,r._K)(),g=tQ(c(),"".concat(t).concat(E.data,"output")),v=u==o.data?h("dataPort"):u==o.block?h("blockPort"):h("flowPort"),f=(0,a.useContext)(p),m=f(e=>e.flowInstance),y=h("portSize"),b=h("nodeBorderColor"),j=h("nodeBorderWidth");return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",zIndex:222},children:[l.label?(0,n.jsx)("div",{style:{padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row"},children:(0,n.jsx)(x,{style:{marginRight:"12px"},children:l.label})}):null,(0,n.jsx)(r.HH,{type:"source",style:{marginLeft:-y/4,width:y+"px",height:y+"px",backgroundColor:v,top:y/2+10,border:j+" solid "+b,...d},position:null!=i?i:r.Ly.Left,title:void 0,id:"".concat(t).concat(E.data,"output"),isConnectable:!g,isValidConnection:e=>{let t=t$(m,e.targetHandle,[]);if(-1==t.indexOf(u))return!1;let l=tQ(c(),e.targetHandle);return!l}})]})},ls=e=>{let{mode:t="column",id:l,params:i,boxStyle:o={},children:r=null,portId:d=null}=e,[s,u]=a.useState(""),[p,c]=a.useState(null);return(0,a.useEffect)(()=>{if((!s||i)&&i.length&&i.find(e=>e.field==s)||u(""),null!==p){let e=i.find(e=>!p.includes(e.field));e&&u(e.field)}c(i.map(e=>e.field))},[i]),(0,n.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:t,...o},children:[i.map((e,t)=>(0,n.jsx)(lr,{onCancelEdit:()=>u(""),editing:e.field==s,onRequestEdit:e=>s?null:u(e.field),id:l,param:e,index:t,portId:d},t)),r]})},lu=e=>{let{id:t,type:l,style:i,handleId:o,label:a,isConnected:d=!1,position:s=null,allowedTypes:u=["block","data","flow"]}=e,p=null!=s?s:r.Ly.Right;return(0,n.jsx)(tY,{position:p,id:"".concat(t).concat(E.flow).concat(null!=o?o:l),type:l,style:{...i,marginLeft:p==r.Ly.Left?-4:0},label:a,isConnected:d,nodeId:t,allowedTypes:u})};var lp=(0,t5.Ic)(e=>{var t,l,i,d;let{adaptiveTitleSize:s=!0,modeParams:u="column",mode:c="column",draggable:g=!0,icon:v=null,container:h=!1,title:f="",children:x,isPreview:m=!1,id:y,params:b=[],output:j={label:"",field:"value",type:"output"},color:C=tN.defaultColor,node:w,skipCustom:k=!1,topics:E,style:D={},dataOutput:S=o.data,contentStyle:N={}}=e,T=(0,a.useContext)(p),P=T(e=>null!==(l=e.nodeData[y])&&void 0!==l?l:{}),O=T(e=>e.customComponents),F=(0,r.Mi)();t0(F,y);let W=a.useRef();if(!k){let e=tM(w,P,O),t=null==e?void 0:e.getComponent(w,P,E,e);if(t)return t}let I=!1;for(let e in x)(null===(d=x[e])||void 0===d?void 0:null===(i=d.type)||void 0===i?void 0:i.name)=="HandleOutput"&&(I=!0);let B={};y||(B.minWidth="200px"),w&&w.data&&w.data.width&&(B.minWidth=w.data.width+"px"),w&&w.data&&w.data.height&&(B.minHeight=w.data.height+"px"),!w.id||(null==P?void 0:null===(t=P._metadata)||void 0===t?void 0:t.layouted)||(B.opacity="0");let z=()=>{if(W.current){let e=W.current.querySelectorAll(".handleKey"),t=0;e.forEach(e=>{var l;let i=null===(l=e.firstElementChild)||void 0===l?void 0:l.offsetWidth;i>t&&(t=i)}),e.forEach(e=>{e.style.width=t+15+"px"})}};return(0,a.useEffect)(()=>z(),[]),(0,n.jsx)(t1,{adaptiveTitleSize:s,mode:c,contentStyle:N,draggable:g,icon:v,container:h,title:f,isPreview:m,id:y,color:C,node:w,style:{...D,...B},headerContent:(0,n.jsx)(n.Fragment,{children:I||m||!j?null:(0,n.jsx)(ld,{id:y,param:j,dataOutput:S})}),children:(0,n.jsxs)("div",{ref:W,children:[null,!m&&b?(0,n.jsx)(ls,{mode:u,id:y,params:b}):null,m?null:x]})})});l(18803),l(43579),l(95280);var lc=l(56334),lg=l(52998),lv=l(9274),lh=l(85067),lf=l.n(lh);function lx(e,t){var l=lf().diff(e,t);return null==l?void 0:l.filter(e=>!(["E","N"].includes(e.kind)&&"hidden"===e.path[1]))}var lm=(0,t5.Ic)(e=>{let{enabledNodes:t=["*"],hideBaseComponents:l,customComponents:i=[],style:o={},diagramNodes:d,setNodes:s,setNodeData:u,edges:c,setEdges:g,takeSnapshot:v=()=>null,reactFlowWrapper:f=null,topics:m,onAddNode:b=(e,t,l)=>null,onEditDiagram:j=(e,t,l)=>{}}=e,k=(0,a.useRef)(),S=(0,a.useRef)(),N=(0,a.useRef)(),[T,P]=(0,a.useState)(""),[O,F]=(0,a.useState)(0),W=(0,a.useContext)(p),I=W(e=>e.menuState),B=W(e=>e.menuPosition),z=W(e=>e.menuOpener),H=W(e=>e.setMenu),{project:L,setViewport:Z,getViewport:A,setCenter:_}=(0,r._K)(),{publish:R}=m,M=()=>{var e=B[0]-110;return(null==f?void 0:f.current)?e<100||(null==f?void 0:f.current.offsetWidth)-259-100<100?100:e+259+100<(null==f?void 0:f.current.offsetWidth)?e:(null==f?void 0:f.current.offsetWidth)-259-100:100},K=Object.fromEntries(Object.entries(tE).filter(e=>{let[l,i]=e;return t.includes(l)||t.includes("*")})),J=i.filter(e=>t.includes(e.type)||t.includes("*")),V=z.targetHandle?z.targetHandle.replace(z.target,"").slice(1):null;var q,$=Object.keys(K),X=J,U=!1;if(V){var G,Y,Q,ee=Object.keys(D).find(e=>V.startsWith(e));"param"==ee&&(null===(Q=z.targetHandle)||void 0===Q?void 0:Q.endsWith("-key"))&&(ee="key"),ee&&D[ee].length&&($=Object.keys(K).filter(e=>D[ee].includes(e)),X=J.filter(e=>D[ee].includes(e.type)),U=!0)}let et=T?Object.keys(K).filter(e=>{var t,l=null!==(t=K[e].type)&&void 0!==t?t:K[e];let i=[...l.keyWords,l.name];return null==i?void 0:i.map(e=>e.toLowerCase()).join().includes(T.toLowerCase())}):$,el=T?J.filter(e=>e.id.toLowerCase().replace(/\s+/g,"").includes(T.toLowerCase().replace(/\s+/g,""))):X,ei="open"!=I?{top:"-5000px"}:{top:((q=B[1]-30)<70?70:q+500+100<(null==f?void 0:f.current.offsetHeight)?q:(null==f?void 0:f.current.offsetHeight)-500-100)+"px",left:M()+"px"},eo=async(e,t)=>{v(),P("");let l=e+E.flow+y(),i=L({x:M(),y:B[1]});var o,n=w([i.x,i.y-70],e,l,{},!0,{},{}),a=[],r={},s=[];if(t&&u(l,r=t.getInitialData()),"edge"==z.type){let t=null!==(o=K[e].type)&&void 0!==o?o:K[e],i=t.defaultHandle;a.push(...C(z,l,i)),s.push(z.edgeId)}else{let e={animated:!1,id:y(),source:l,sourceHandle:l+"-output",target:z.target,targetHandle:z.targetHandle,type:"custom"};a.push(e),b(n[0],e,r)}let p=c.filter(e=>!s.includes(e.id)).concat(a),g=d.concat(n);H("closed"),j(g,p,(e,t)=>{if(!t)return;t.getBoundingClientRect();let i=A(),o=e.find(e=>e.id==n[0].id),a=document.getElementById(l),r=-o.position.x,d=-o.position.y;if(!a)return;let s=a.querySelector("input:first-of-type");s&&(s.focus(),en(r,d,i.zoom));let u=a.querySelector("div > [role='button']:first-of-type");u&&(u.focus(),en(r,d,i.zoom))})},en=(0,a.useCallback)((e,t,l)=>{},[Z]),ea=()=>{O+1>el.length&&et.length?eo(et[O-el.length]):el.length&&eo(el[O].type,el[O])},er=e=>(0,n.jsx)("div",{style:{display:"flex",border:e.isSelected?"".concat(h("borderWidth"),"px solid black"):"0px solid transparent",borderRadius:2*h("borderWidthSelected"),alignItems:"stretch",backgroundColor:"rgba(0, 0, 0, 0)",boxSizing:"border-box",flexBasis:"auto",flexDirection:"column",flexShrink:"0",listStyle:"none",margin:"0px",minHeight:"0px",minWidth:"0px",padding:"0px",position:"relative",textDecoration:"none",zIndex:"0"},children:e.children});(0,a.useEffect)(()=>{if("closed"!=I)try{null==S||S.current.focus()}catch(e){console.error("error focusing element. ",e)}R("menuState",{state:I})},[I]);let ed=h("textColor");return(0,n.jsxs)(r.s_,{position:"top-left",children:[(0,n.jsx)("div",{onClick:()=>H("closed"),style:{display:"closed"==I?"none":"flex",height:"100vh",width:"100vw",position:"absolute"}}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",height:500,margin:"0px",position:"absolute",border:"1px solid grey",borderRadius:"10px",...ei},children:(0,n.jsxs)("div",{ref:k,style:{flexGrow:1,width:259,backgroundColor:h("nodeBackgroundColor"),borderRadius:"10px",paddingBottom:"20px",padding:"10px",border:"".concat(h("borderWidth"),"px solid ").concat(h("borderColor"))},children:[(0,n.jsxs)("div",{style:{height:50},children:[(0,n.jsx)("input",{ref:S,style:{fontFamily:"Jost-Regular",padding:"8px",border:h("inputBorder"),display:"flex",flex:1,width:"100%",boxSizing:"border-box",fontSize:"14px",backgroundColor:h("highlightInputBackgroundColor"),borderRadius:"6px",borderWidth:"0px",outline:"none",paddingLeft:"32px",color:ed},value:T,onKeyDown:e=>{"Enter"==e.key?ea():"ArrowDown"==e.key&&O<el.length+et.length-1?(F(O+1),N.current.scrollBy({top:44,behavior:"smooth"})):"ArrowUp"==e.key&&O>0?(F(O-1),N.current.scrollBy({top:-44,behavior:"smooth"})):F(0)},onChange:e=>P(e.target.value),placeholder:"search nodel"}),(0,n.jsx)(tL.Z,{color:"#57534e",size:20,style:{marginRight:"-5px",marginLeft:"8px",position:"absolute",top:18}})]}),(0,n.jsxs)("div",{ref:N,className:".list-protoflow",style:{height:"calc(".concat(500,"px - ").concat(50,"px - 22px)"),overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column",paddingRight:(null==N?void 0:null===(G=N.current)||void 0===G?void 0:G.scrollHeight)>(null==N?void 0:null===(Y=N.current)||void 0===Y?void 0:Y.clientHeight)?"10px":"0px"},children:[!l&&el.length?(0,n.jsxs)(x,{style:{fontSize:"16px",marginBottom:"10px",fontFamily:"Jost-Medium",marginLeft:"10px"},children:["Custom ",U&&!T.length?"(Suggestions)":""]}):null,J.map((e,t)=>{let l=el.map(e=>e.id.toLowerCase().replace(/\s+/g,"")).indexOf(e.id.toLowerCase().replace(/\s+/g,"")),i=l==O;return e.hidden?null:(0,n.jsx)("div",{onClick:()=>eo(e.type,e),style:{display:el.map(e=>e.id.toLowerCase().replace(/\s+/g,"")).includes(e.id.toLowerCase().replace(/\s+/g,""))?"flex":"none",marginBottom:"10px"},children:(0,n.jsx)(er,{isSelected:i,children:e.getComponent({type:e.type},{},null,e)})},t)}),!l&&el.length?(0,n.jsx)("div",{style:{margin:"10px 0px 10px 0px"}}):null,!l&&et.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(x,{style:{fontSize:"16px",marginBottom:"10px",fontFamily:"Jost-Medium",marginLeft:"10px"},children:["JavaScript ",U&&!T.length?"(Suggestions)":""]}),et.map((e,t)=>(0,n.jsx)("div",{onClick:()=>eo(e),style:{marginBottom:"10px"},children:(0,n.jsx)(er,{isSelected:el.length+t==O,children:a.createElement(K[e],{type:e})})},t))]}):null]})]})})]})});function ly(e){let{id:t,sourceX:l,sourceY:i,targetX:o,targetY:a,sourcePosition:d,targetPosition:s,style:u={},markerEnd:p,targetHandleId:c,sourceHandleId:g,selected:v,color:f,children:x}=e,m=l===o,y=i===a,[b]=(0,r.OQ)({sourceX:m?l+1e-4:l,sourceY:y?i+1e-4:i,sourcePosition:d,targetX:o,targetY:a,targetPosition:s});h("nodeBorderWidth");let j=h("nodeEdgeWidth"),C=h("nodeEdgeStyle");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{id:t,strokeWidth:v?2*j:j,stroke:f,className:"react-flow__edge",d:b,fill:"none","stroke-dasharray":C}),(0,n.jsx)("path",{id:t,className:"react-flow__edge-interaction",d:b,strokeOpacity:"0",strokeWidth:"20",fill:"none"}),x]})}function lb(e){var t,l;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=(0,a.useContext)(p),d=o(e=>e.setMenu),s=o(t=>null!==(l=t.nodeData[e.source])&&void 0!==l?l:{}),[u,c,g]=(0,r.OQ)({sourceX:e.sourceX,sourceY:e.sourceY,sourcePosition:e.sourcePosition,targetX:e.targetX,targetY:e.targetY,targetPosition:e.targetPosition}),v=null!=s&&null!==(t=s._metadata)&&void 0!==t&&!!t.layouted,f={...e,color:h("edgeColor")},x=h("edgeColor"),m=h("plusColor"),y=h("portSize"),b=h("flowOutputColor");return v?(0,n.jsx)(ly,{...f,children:i?(0,n.jsxs)("g",{transform:"translate(".concat(c,", ").concat(g,")"),children:[(0,n.jsx)("rect",{style:{cursor:"pointer",pointerEvents:"all",strokeWidth:"1px",stroke:x,fill:b},onClick:t=>{d("open",[t.clientX,t.clientY],{edgeId:e.id,type:"edge",sourceHandle:e.sourceHandleId,source:e.source,targetHandle:e.targetHandleId,target:e.target})},x:-10,y:-10,width:y,ry:y,rx:y,height:y}),(0,n.jsx)("text",{style:{fontWeight:600,pointerEvents:"none",userSelect:"none",fill:m,fontSize:"17px"},y:5,x:-6,children:"+"})]}):null}):null}var lj=l(41051),lC=l(53544),lw=l(39036),lk=l(96325),lE=l.n(lk);let lD={"elk.algorithm":"layered","elk.direction":"LEFT","elk.layered.considerModelOrder.strategy":"NODES_AND_EDGES","elk.hierarchyHandling":"SEPARATE_CHILDREN","elk.layered.crossingMinimization.forceNodeModelOrder":!0,"elk.layered.crossingMinimization.strategy":"LAYER_SWEEP","elk.layered.spacing.nodeNodeBetweenLayers":"350","elk.spacing.nodeNode":"160"},lS=function(e){var t;arguments.length>1&&void 0!==arguments[1]&&arguments[1];let l=arguments.length>2?arguments[2]:void 0,i=l.filter(t=>t.target==e.id).length;return{layoutOptions:(null===(t=e.children)||void 0===t?void 0:t.length)?lD:{},id:e.id,width:e.width+40*Math.max(0,i-1),height:e.height,children:e.children?e.children.map((e,t)=>lS(e,t,l)):[]}},lN=async(e,t,l)=>{let i=new(lE()),o={id:"root",layoutOptions:{...lD,"elk.hierarchyHandling":"INCLUDE_CHILDREN"},children:e.map(e=>lS(e,0,t)),edges:[]},n=(e=>{let l=[],i=(e,o,n)=>{let a={...e};if(delete a.children,n&&(a.parentNode=n),l.push(a),e.children&&e.children.length){let l=t.find(t=>t.source==e.children[0].id);if(l){let i=JSON.parse(JSON.stringify(l));i.source=e.id,i.sourceHandle=e.id+"-output",t.push(i)}e.children.forEach(t=>i(t,o,e.id))}};return e.forEach(e=>i(e,o,null)),l})(e);t.filter(e=>n.find(t=>t&&t.id==e.source)&&n.find(t=>t&&t.id==e.target)).sort((e,t)=>{let l=e.targetHandle.split("_"),i=t.targetHandle.split("_"),o=l[l.length-1],n=i[i.length-1];if(o.startsWith("block")&&n.startsWith("block")&&e.target==t.target){let e=parseInt(o.substr(5),10),t=parseInt(n.substr(5),10);return e-t}return 0}).forEach((e,t)=>{o.edges.push({id:e.id,sources:[e.source],targets:[e.target]})}),await i.layout(o),o.children[0];var a={};let r=e=>e.forEach(e=>{let t=n.find(t=>t.id==e.id);if(t){a[t.id]={layouted:!0};let l=e.x,i=e.y;t.position={x:l,y:i},e.children&&e.children.length&&(t.data.height=e.height,t.data.width=e.width)}e&&e.children&&r(e.children)});return r(o.children),{nodes:n,edges:t,metadata:a}},lT=(e,t,l)=>{let i=e.filter(e=>t.find(t=>t.source==e.id&&t.target==l.id)).map(e=>({node:e,edge:t.find(t=>t.source==e.id&&t.target==l.id)}));return i},lP=function(e,t,l){var i,o,n;let a,r,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{x:0},p=lT(e,t,l),c=tD[l.type];if(l.position={x:d.x,y:d.y},l.data={...l.data,layouted:!0},c){let e=null!==(i=c.type)&&void 0!==i?i:c;e&&e.getPosition&&(d=e.getPosition(d,l.type))}let g=d.y,v=d.x,h=l.width;if(c){let e=null!==(o=c.type)&&void 0!==o?o:c;e&&e.getWidth&&(h=e.getWidth(l))}let f=1,x=1;if(c){let e=null!==(n=c.type)&&void 0!==n?n:c;if(e&&e.getSpacingFactor){let{factorX:t,factorY:i}=e.getSpacingFactor(l);f=t,x=i}}let m=h+120*f;d.x+=m;let y=[],b=0;p.forEach(async i=>{if(c){var o;let e=null!==(o=c.type)&&void 0!==o?o:c;e&&e.getChildPosition&&(d=e.getChildPosition(l,d,{x:v,y:g},i,l.type))}a={...d},r={x:0},lP(e,t,i.node,d,s,r),y.push({pos:{...a},delta:{x:a.x-l.position.x,y:a.y-g},width:r.x-u.x,height:d.y-g,node:i}),r.x>b&&(b=r.x)}),u.x+=m+b,s[l.id]={layouted:!0,childWidth:u.x,childHeight:d.y-g,childHeights:y},d.x-=h+120*f;let j="Block"==l.type||"CaseClause"==l.type||"DefaultClause"==l.type?s[l.id].childHeight?s[l.id].childHeight+100:0:l.height;return d.y+=d.y-g>j+100*x?0:j+100*x-(d.y-g),s},lO=async(e,t,l)=>{let i=e.map(e=>({...e})),o=lP(i,t,l);return await new Promise(e=>setTimeout(e,1)),{nodes:i,edges:t,metadata:o}},lF=(e,t,l)=>{let i=e.filter(e=>t.find(t=>t.source==e.id&&t.target==l.id)).map(e=>({node:e,edge:t.find(t=>t.source==e.id&&t.target==l.id)}));return i},lW=[],lI=function(e,t,l,i){let o,n,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{x:0};console.log("----- ENTER ON computeLayout -----"),console.log("Nodes: ",e),console.log("Edges: ",t),console.log("Node: ",l);let s=lF(e,t,l),u=tD[l.type];var p,c,g,v,h="n";let f=(Object.keys(i).forEach(e=>{i[e]._devicePositioning&&(p={id:e,...i[e]})}),p);if(l.id!=(null==f?void 0:f.id)){let e=function(e,t){let l=e.filter(e=>e.source==t);return l[0]}(t,l.id);console.log("nodePositionReference: ",h=f._devicePositioning.filter(t=>{if(t)return t.includes(e.targetHandle.split("element-")[1])})[0].split("-")[1])}if(l.position={x:"r"==h?-1500+a.x:a.x,y:a.y},l.data={...l.data,layouted:!0},lW.push({node:l}),console.log("Metas: ",lW),u){let e=null!==(c=u.type)&&void 0!==c?c:u;e&&e.getPosition&&(a=e.getPosition(a,l.type))}let x=a.y,m=a.x,y=l.width;if(u){let e=null!==(g=u.type)&&void 0!==g?g:u;e&&e.getWidth&&(y=e.getWidth(l))}let b=1,j=1;if(u){let e=null!==(v=u.type)&&void 0!==v?v:u;if(e&&e.getSpacingFactor){let{factorX:t,factorY:i}=e.getSpacingFactor(l);b=t,j=i}}let C=y+120*b;a.x+=C;let w=[],k=0;s.forEach(async s=>{if(u){var p;let e=null!==(p=u.type)&&void 0!==p?p:u;e&&e.getChildPosition&&(a=e.getChildPosition(l,a,{x:m,y:x},s,l.type))}o={...a},n={x:0},lI(e,t,s.node,i,a,r,n),w.push({pos:{...o},delta:{x:o.x-l.position.x,y:o.y-x},width:n.x-d.x,height:a.y-x,node:s}),n.x>k&&(k=n.x)}),d.x+=C+k,r[l.id]={layouted:!0,childWidth:d.x,childHeight:a.y-x,childHeights:w},a.x-=y+120*b;let E="Block"==l.type||"CaseClause"==l.type||"DefaultClause"==l.type?r[l.id].childHeight?r[l.id].childHeight+100:0:l.height;return a.y+=a.y-x>E+100*j?0:E+100*j-(a.y-x),r},lB=async(e,t,l,i)=>{let o=e.map(e=>({...e}));console.log("Enter computeLayout: ",o,t,l);let n=lI(o,t,l,i);return console.log("Returning from computeLayout: ",n),await new Promise(e=>setTimeout(e,1)),{nodes:o,edges:t,metadata:n}};var lz={elk:lN,code:lO,device:lB};let lH=async function(e,t,l,i,o,n){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=t.map(e=>({...e})),{nodes:s,edges:u,metadata:p}="device"!=e?await lz[null!=e?e:"code"](d,l,n(d)):await lz[e](d,l,n(d),r);return await a(p),await i(s),await o(l),{layoutedNodes:s,layoutedEdges:u,metadata:p}};var lL=e=>{let{layout:t,hasChanges:l,onReload:i,onSave:o,onShowCode:d,getFirstNode:s}=e,u=(0,a.useContext)(p),c=u(e=>e.saveStatus),{fitView:g,setNodes:v,setEdges:h,getEdges:f,getNodes:x}=(0,r._K)();return(0,a.useCallback)(()=>{g({zoom:1,duration:800,padding:.5})},[g]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",margin:"auto",right:0,left:0,justifyContent:"center",marginTop:"20px"},children:[o?(0,n.jsx)("div",{onClick:()=>o(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"error"==c?"#EF4444":l?"#373737":"#BFBFBF",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:"loading"==c?(0,n.jsxs)("div",{id:"spinner",className:"lds-ring",children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]}):"error"==c?(0,n.jsx)(lj.Z,{color:"white",size:25}):(0,n.jsx)(lC.Z,{color:"white",size:25})}):null,d?(0,n.jsx)("div",{onClick:()=>d(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:(0,n.jsx)(ta.Z,{color:"white",size:25})}):null,i?(0,n.jsx)("div",{onClick:()=>i(),style:{display:"flex",flexDirection:"row",justifyContent:"center",backgroundColor:"#373737",borderRadius:"14px",width:"40px",padding:"5px",marginLeft:"6px",height:"35px"},children:(0,n.jsx)(lw.Z,{color:"white",size:25})}):null]})})},lZ=l(70283),lA=l(17736);let l_={maxHistorySize:100,enableShortcuts:!1};var lR=function(){let{maxHistorySize:e=l_.maxHistorySize,enableShortcuts:t=l_.enableShortcuts}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l_,l=(0,a.useContext)(p),i=l(e=>e.nodeData),o=l(e=>e.setNodesData),[n,d]=(0,a.useState)([]),[s,u]=(0,a.useState)([]),{setNodes:c,setEdges:g,getNodes:v,getEdges:h,deleteElements:f}=(0,r._K)(),x=(0,a.useCallback)(t=>{d(l=>[...l.slice(l.length-e+1,l.length),{nodes:v(),edges:h(),nodeData:t||i}]),u([])},[v,h,e]),m=async e=>{var t,l,i,o,a=null!==(i=null===(t=n[n.length-1])||void 0===t?void 0:t.nodeData)&&void 0!==i?i:{},r=null!==(o=null===(l=s[s.length-1])||void 0===l?void 0:l.nodeData)&&void 0!==o?o:{};if((Object.keys(a).length||"undo"!=e)&&(Object.keys(r).length||"redo"!=e))return await c([])},y=(0,a.useCallback)(()=>{let e=n[n.length-1];e&&(d(e=>e.slice(0,e.length-1)),u(e=>[...e,{nodes:v(),edges:h(),nodeData:i}]),c(e.nodes),g(e.edges),Object.keys(e.nodeData).length&&o(e.nodeData))},[c,g,v,h,n,o]),b=(0,a.useCallback)(()=>{let e=s[s.length-1];e&&(u(e=>e.slice(0,e.length-1)),d(e=>[...e,{nodes:v(),edges:h(),nodeData:i}]),c(e.nodes),g(e.edges),Object.keys(e.nodeData).length&&o(e.nodeData))},[c,g,v,h,s,o]);return{undo:y,redo:b,takeSnapshot:x,canUndo:!n.length,canRedo:!s.length,clearNodes:m}},lM=l(45054),lK=e=>{let{onSelectionChange:t}=e;return(0,r.AQ)({onChange:e=>{let{nodes:l,edges:i}=e;return t(l,i)}}),(0,n.jsx)(n.Fragment,{})};let lJ=(0,d.Z)(e=>({zoom:0,setZoom:t=>e((0,s.ZP)(e=>{e.zoom=t}))}));var lV=e=>{let{zoom:t}=e;try{lJ(e=>e.setZoom),(0,r.oR)(e=>e.transform[2])}catch(e){console.error(e)}return(0,n.jsx)(n.Fragment,{})};let lq=a.forwardRef((e,t)=>{var l,i;let{componentsMenu:o=(0,n.jsx)(n.Fragment,{}),disableMiniMap:d=!1,disableDots:s=!1,zoomOnDoubleClick:u=!0,edgeTypes:c=[],nodeTypes:g=[],edges:v=[],nodes:h=[],onInit:f=e=>{},onNodesChange:x=()=>{},onEdgesChange:m=()=>{},onConnect:y=()=>{},style:b={},onSelectionChange:j=()=>{},onNodeClick:C=()=>{},onNodesDelete:w,children:k=null,topics:E,themeMode:D="light",theme:S={},defaultViewPort:N={x:100,y:window.innerHeight/4,zoom:.8},onViewPortChange:T=()=>{},nodePreview:P="flow"}=e,O=(0,a.useRef)(null),F=(null===(i=O.current)||void 0===i?void 0:null===(l=i.getBoundingClientRect())||void 0===l?void 0:l.height)>0,W=(0,a.useContext)(p),I=W(e=>e.nodeData),B=W(e=>e.setTemeMode),[z,H]=(0,a.useState)([]),{project:L,setViewport:Z,getNodes:A,getViewport:_,setCenter:R,setNodes:M,setEdges:K,getEdges:J}=(0,r._K)(),{undo:V,redo:q,takeSnapshot:$,clearNodes:X}=lR(),U=(0,a.useRef)(null),G=W(e=>e.setMenu),Y=W(e=>e.setNodeData),[Q,ee]=(0,a.useState)([]),{data:et,publish:el}=E,ei="preview"===P,eo=ei?"node":"default",en=(0,a.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},[]),ea=(0,a.useCallback)(()=>{$()},[$]),er=(0,a.useCallback)(()=>{$()},[$]),ed=(0,a.useCallback)(e=>{w(e),$()},[$,el]),es=e=>{e.forEach(e=>{let t=e.target,l=I[t],i=e.targetHandle.replace(t,"").slice(1),o=g[t.split("_")[0]];o.type&&(o=o.type),i&&(o.onDeleteConnection?Y(t,o.onDeleteConnection(l,i)):Y(t,{...l,[i]:""}))})},eu=(0,a.useCallback)(e=>{es(e),$()},[$,I]),ep=(0,a.useCallback)((e,t)=>{U.current=t},[]),ec=(0,a.useCallback)(e=>{var t;let l=e.target.classList.contains("react-flow__pane");l&&(null===(t=U.current)||void 0===t?void 0:t.handleType)=="target"&&G("open",[e.clientX,e.clientY],{target:U.current.nodeId,targetHandle:U.current.handleId})},[L]),eg=()=>{K(J().map(e=>({...e,hidden:!1,data:{...e.data,preview:eo}}))),M(A().map(e=>({...e,hidden:!1,data:{...e.data,preview:eo}})))},ev=e=>{let t=[e],l=J().filter(t=>t.target==e);return l.length&&l.forEach(e=>{t=t.concat(...ev(e.source))}),t},eh=e=>{let t=ev(e),l=A().map(e=>({...e,hidden:!t.includes(e.id),data:{...e.data,preview:eo}}));K(J().map(e=>({...e,hidden:!t.includes(e.target),data:{...e.data,preview:eo}}))),M(l)},ef=e=>{e&&(K(J().map(e=>({...e,hidden:!0,data:{...e.data,preview:eo}}))),M(A().map(t=>({...t,hidden:t.id!=e,data:{...t.data,preview:eo}}))))},ex=(0,a.useCallback)(e=>{var t,l,i;let o=A().find((t,l)=>(i=l,t.id==e));if(!o)return;let n=null===(t=O.current)||void 0===t?void 0:t.offsetWidth;if(!n)return;let a=null===(l=O.current)||void 0===l?void 0:l.offsetHeight,r=o.position.x+o.width/2,d=o.position.y+a/2-(ei?10:50);M(e=>(e[i]={...e[i],data:{...e[i].data,flowsHeight:a}},e)),R(r,d,{zoom:1,duration:ei?1:500})},[R,P,h]);return(0,lM.Z)(["z","Z"],async e=>{if(F){if(("z"==e.key||"Z"==e.key)&&(e.ctrlKey||e.metaKey)&&e.shiftKey)return e.preventDefault(),await X("redo"),q();if(("z"==e.key||"Z"==e.key)&&(e.ctrlKey||e.metaKey))return e.preventDefault(),await X("undo"),V()}}),(0,a.useEffect)(()=>{B(D,S)},[D,S]),(0,a.useEffect)(()=>{z.push(I),H(z)},[I]),(0,a.useEffect)(()=>{var e,t,l;if(!document.activeElement)return;let i=null===(e=document.activeElement.id)||void 0===e?void 0:e.includes("input"),o=null===(t=document.activeElement.id)||void 0===t?void 0:t.includes("select"),n=null===(l=document.activeElement.id)||void 0===l?void 0:l.includes("delete-button"),a=z[z.length-2];a&&(o||i||n)&&Object.keys(a).length&&$(a)},[document.activeElement]),(0,a.useEffect)(()=>{var e;let t=null===(e=et.zoomToNode)||void 0===e?void 0:e.id;if(t){if(Q[0]==t)return;Q[0]=t,ee([...Q]),setTimeout(()=>ex(t),80),ei&&ef(t)}},[et.zoomToNode]),(0,a.useEffect)(()=>{switch(P){case"preview":ef(Q[0]);break;case"flow-preview":eh(Q[0]);break;case"flow":eg();break;default:console.error("Unauthorized value for nodePreview: ",P)}setTimeout(()=>ex(Q[0]),80)},[P,Q[0]]),(0,n.jsxs)("div",{style:{width:"100%",height:"100%"},children:[(0,n.jsx)(lK,{onSelectionChange:j}),(0,n.jsx)("div",{style:{height:"100%"},ref:O,children:(0,n.jsxs)(r.x$,{onMoveEnd:e=>T(_()),defaultViewport:N,proOptions:{hideAttribution:!0},nodeTypes:g,nodes:h,edges:v,zoomOnDoubleClick:u,onNodesChange:x,onEdgesChange:m,onConnectStart:ep,onConnectEnd:ec,onConnect:e=>{$(),y(e)},onNodeDragStart:ea,onSelectionDragStart:er,onNodesDelete:ed,onEdgesDelete:eu,onNodeClick:C,style:{cursor:"pointer",...b},onDragOver:en,edgeTypes:c,zoomOnScroll:"preview"!==P,panOnDrag:"preview"!==P,minZoom:.3,maxZoom:2,onInit:e=>{f(e)},children:[d?null:(0,n.jsx)(lZ.a,{zoomable:!0,pannable:!0}),s?null:(0,n.jsx)(lA.A,{}),(0,a.cloneElement)(o,{takeSnapshot:$,reactFlowWrapper:O}),k,(0,n.jsx)(lV,{zoom:N.zoom})]})})]})});var l$=a.memo((0,t5.Ic)(e=>(0,n.jsx)(r.tV,{children:(0,n.jsx)(lq,{...e})}),{topics:["zoomToNode","flow/editor"]}));let lX=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0,i=Object.keys(t).reduce((i,o)=>{if(!o.startsWith("child-"))return{...i,[o]:t[o]};{let n=Number(o.split("child-")[1]);return n===l?(e=t[o],i):n>l?{...i,["child-"+(n-1)]:t[o]}:{...i,[o]:t[o]}}},{});return{data:i,deletedElementData:e}},lU=(e,t,l)=>{var i,o=null===(i=Object.keys(e))||void 0===i?void 0:i.filter(e=>e.startsWith("child-")).length;return[...Object.keys(e),"child-"+(o+1)].reduce((i,o)=>{if(o.startsWith("child-")){let n=Number(o.split("child-")[1]);if(n===t)return{...i,["child-"+t]:l};if(n>t)return{...i,["child-"+n]:e["child-"+(n-1)]}}return{...i,[o]:e[o]}},{})},lG=function(e,t,l,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=[];if(e.forEach(e=>{let t={...e},r=Number(t.targetHandle.split(l+"-child-")[1]),d=Number(t.targetHandle.split(o+"-child-")[1]);r?r>i?(t.targetHandle=l+"-child-"+(r-1),a.push(t)):r<i&&a.push(t):(d&&d>n-1&&(t.targetHandle=o+"-child-"+(d+1)),a.push(t))}),o&&n){let e={id:y(),targetHandle:o+"-child-"+n,target:o,source:t,sourceHandle:t+"-output",animated:!1,type:"custom"};a.push(e)}return a},lY=(e,t,l,i)=>{let o=[];e.forEach(e=>{let t={...e};if(t.targetHandle.startsWith(l+"-child-")&&!(t.targetHandle.split(l+"-child-")[1]<i)){let e=t.targetHandle.split(l+"-child-")[1];e>=i&&(t.targetHandle=l+"-child-"+(Number(e)+1),o.push(t))}else o.push(t)});let n={id:y(),targetHandle:l+"-child-"+i,target:l,source:t,sourceHandle:t+"-output",animated:!1,type:"custom"};return o.push(n),o},lQ=(e,t,l,i)=>{let o=[];return e.forEach(e=>{let n={...e},a=n.targetHandle.split(t+"-child-")[1];n.targetHandle.startsWith(t+"-child-")&&-1!=i.findIndex(e=>e+1===Number(a))&&(n.targetHandle=t+"-child-"+(l+(i.findIndex(e=>e+1===Number(a))+1))),o.push(n)}),o},l0=(e,t,l)=>{let i={...e};return t.forEach((t,o)=>{i["child-"+(l+o+1)]=e["child-"+(t+1)]}),i},l1=(e,t,l,i,o)=>{let n;i.forEach(t=>{e.includes(t.target)&&e.push(t.source)});var a=i.filter(l=>e.includes(l.source)&&l.target==t);let r={...o};return n=i,a.forEach(e=>{let i=e?Number(e.targetHandle.split("child-")[1]):null;n=lG(n,l,t,i);let{data:a}=lX(o[t],i);r[t]=a}),{updatedEdges:n,newNodeData:r}},l5=e=>Object.keys(e).reduce((t,l)=>{let i=e[l],o=Object.keys(i).reduce((e,t)=>(t.startsWith("_")||"connections"==t||"SourceFile_0_0"==t||(e={...e,[t]:i[t]}),e),{});return t={...t,[l]:o}},{}),l4=(e,t,l,i,o)=>{var n=tD[o].type;let a=null==n?void 0:n.dump({id:i,type:o},e,t,l);return a},l6=(e,t)=>{let l=t.find(t=>t.source==e);if(!l)return;let i=l.targetHandle,o="JsxElement"===i.split("_")[0];return o?i:l6(l.target,t)},l7=(e,t,l,i,o,n)=>{var a,r,d,s;let u=l4(e,t,l,i,o),p=l2(u),c=null===(d=p.getFirstDescendantByKind(J.lGB.JsxElement))||void 0===d?void 0:null===(r=d.getOpeningElement())||void 0===r?void 0:null===(a=r.getAttributes())||void 0===a?void 0:a.find(e=>(null==e?void 0:e.getName)&&e.getName()==n),g=null==c?void 0:null===(s=c.getInitializer())||void 0===s?void 0:s.getText();return g},l2=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customCode.tsx",l=new J.IKL({useInMemoryFileSystem:!0,manipulationSettings:{indentationText:J.xI4.Tab},compilerOptions:{target:J.H7j.Latest,scriptKind:J.hVH.TSX,languageVariant:J.C$L.JSX}}),i=l.createSourceFile(t,e,{overwrite:!0});return i},l8=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=(arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0),[i,o]=a.useState("");return(0,n.jsx)(lp,{icon:tT.Z,node:e,isPreview:!e.id,title:l.data.title,id:e.id,color:"#BCAAA4",skipCustom:!0,children:l.data.body.map(l=>{switch(l.type){case"params":return(0,n.jsx)(ls,{id:e.id,params:l.params});case"spacer":return(0,n.jsx)("div",{style:{marginBottom:l.params.height}});case"output":var a;return(0,n.jsx)(lu,{id:e.id,type:"output",label:l.params.label,style:null!==(a=l.params.style)&&void 0!==a?a:{},handleId:l.params.handleId});case"redirect":return(0,n.jsx)(tP,{node:e,port:l.params.port,type:"target",fallbackPort:l.params.fallbackPort,portType:"_",preText:l.params.preText,postText:l.params.postText});case"button":return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O,{onPress:async()=>{let e=Function("data","\n                                    return (async () => {\n                                        ".concat(l.params.onPress,"\n                                    })();\n                                ")),i=await e(t);o(i),console.log("result: ",i)},label:l.params.label}),i&&l.params.displayResult?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("textarea",{style:{width:"100%",height:"150px",fontSize:"20px"},children:JSON.stringify(i)})}):null]})}})})};l8.check=(e,t,l)=>{let i=e.type==l.type&&new RegExp(l.filter.to).test(t.to);for(let e=0;l.filter.params&&i&&e<l.filter.params.length;e++)i=new RegExp(l.filter.params[e]).test(t["param"+(e+1)]);return i};let l3=function(){var e,t,l,i,o,n,r,d,s,u;let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["*"],g=(0,a.useContext)(p),v=g(e=>e.metadata),h="*"==c[0];Object.keys(null!==(n=null==v?void 0:null===(e=v.tamagui)||void 0===e?void 0:e.color)&&void 0!==n?n:{}).filter(e=>e.startsWith("$")).map(e=>{var t;return'"'+(null==v?void 0:null===(t=v.tamagui)||void 0===t?void 0:t.color[e].key)+'"'});let f=Object.keys(null!==(r=null==v?void 0:null===(t=v.tamagui)||void 0===t?void 0:t.size)&&void 0!==r?r:{}).filter(e=>e.startsWith("$")).map(e=>{var t;return'"'+(null==v?void 0:null===(t=v.tamagui)||void 0===t?void 0:t.size[e].key)+'"'}),x=Object.keys(null!==(d=null==v?void 0:null===(l=v.tamagui)||void 0===l?void 0:l.radius)&&void 0!==d?d:{}).filter(e=>e.startsWith("$")).map(e=>{var t;return'"'+(null==v?void 0:null===(t=v.tamagui)||void 0===t?void 0:t.radius[e].key)+'"'}),m=Object.keys(null!==(s=null==v?void 0:null===(i=v.tamagui)||void 0===i?void 0:i.space)&&void 0!==s?s:{}).filter(e=>e.startsWith("$")).map(e=>{var t;return'"'+(null==v?void 0:null===(t=v.tamagui)||void 0===t?void 0:t.space[e].key)+'"'}),y=Object.keys(null!==(u=null==v?void 0:null===(o=v.tamagui)||void 0===o?void 0:o.zIndex)&&void 0!==u?u:{}).filter(e=>e.startsWith("$")).map(e=>{var t;return'"'+(null==v?void 0:null===(t=v.tamagui)||void 0===t?void 0:t.zIndex[e].key)+'"'}),b=void 0;return[{field:"prop-fontSize",label:"fontSize",type:"select",fieldType:"prop",data:f?[b,...f]:[],static:!0},{field:"prop-br",label:"br",type:"select",fieldType:"prop",data:x?[b,...x]:[],static:!0},{field:"prop-bw",label:"bw",type:"select",fieldType:"prop",data:f?[b,...f]:[],static:!0},{field:"prop-size",label:"size",type:"select",fieldType:"prop",data:f?[b,...f]:[],static:!0},{field:"prop-margin",label:"margin",type:"range",fieldType:"prop",data:{step:1,min:0,max:20,kind:"StringLiteral"},pre:e=>"$"==e[0]?e.split("$")[1]:e,post:e=>"$"+e,static:!0},{field:"prop-padding",label:"padding",type:"range",fieldType:"prop",data:{step:1,min:0,max:20,kind:"StringLiteral"},pre:e=>"$"==e[0]?e.split("$")[1]:e,post:e=>"$"+e,static:!0},{field:"prop-space",label:"space",type:"select",fieldType:"prop",data:m?[b,...m]:[],static:!0},{field:"prop-opacity",label:"opacity",type:"range",fieldType:"prop",data:{min:0,max:1,step:.1,defaultValue:1},static:!0},{field:"prop-width",label:"width",type:"input",fieldType:"prop",static:!0},{field:"prop-height",label:"height",type:"input",fieldType:"prop",static:!0},{field:"prop-zi",label:"zi",type:"select",fieldType:"prop",data:y?[b,...y]:[],static:!0}].filter(e=>h||c.includes(e.field))},l9=e=>e.map(e=>e.fieldType?e.fieldType+"-"+e.field:e.field),ie=e=>{var t,l;let i=null!==(l=null===(t=e.find(e=>"protolibProps"==e.type))||void 0===t?void 0:t.data)&&void 0!==l?l:[],o=l9(i),n=l3();return[...n.map(e=>e.field),...o]};var it=l(34854),il=l(47416),ii=l(76588),io=l(51619),ia=l(62200),ir=l(34550),id=l(27995),is=l(34498),iu=l(40971),ip=l(11059),ic=l(51801),ig=l(35034),iv=l(3368),ih=l(76515),ix=l(12966),im=l(33511),iy=l(97894),ib=e=>{let{nodeData:t={},item:l,node:i}=e,o=(0,a.useContext)(p),r=o(e=>e.setNodeData),d=o(e=>e.deletePropNodeData),s=h("nodeFontSize"),{field:u,label:c,type:g,fieldType:v}=l,f=v?v+"-"+u:u,m=t[f],y=null==m?void 0:m.value,b=function(){var e,l;let i="0deg",o=!!(null===(l=t["prop-flexDirection"])||void 0===l?void 0:null===(e=l.value)||void 0===e?void 0:e.startsWith("row"));return o&&(i="alignItems"==u?"90deg":"-90deg"),i}(),j=e=>y==e?"white":void 0,C=e=>{y==e?d(i.id,f):r(i.id,{...t,[f]:{...m,key:u,value:e,kind:"StringLiteral"}})},w=e=>{let{icon:t,name:l,rotate:i="0deg"}=e;return(0,n.jsx)("div",{title:l,style:{cursor:"pointer",rotate:i},onClick:()=>C(l),children:a.createElement(t,{color:j(l)})})};return(0,n.jsx)("div",{style:{alignItems:"stretch",flexBasis:"auto",flexShrink:0,listStyle:"none",position:"relative",display:"flex",flexDirection:"column"},children:(0,n.jsxs)("div",{style:{fontSize:s+"px",padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row",alignItems:"stretch"},children:[(0,n.jsx)("div",{className:"handleKey",style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,n.jsx)(x,{children:c})}),(0,n.jsx)("div",{className:"handleValue",style:{minWidth:"180px",marginRight:"10px",display:"flex",flexDirection:"row",flexGrow:1,alignItems:"center"},children:(()=>{switch(g){case"alignment-text":return(0,n.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,n.jsx)(w,{icon:it.Z,name:"left"}),(0,n.jsx)(w,{icon:il.Z,name:"center"}),(0,n.jsx)(w,{icon:ii.Z,name:"right"}),(0,n.jsx)(w,{icon:io.Z,name:"justify"})]});case"alignment-items":return(0,n.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,n.jsx)(w,{rotate:b,icon:ia.Z,name:"start"}),(0,n.jsx)(w,{rotate:b,icon:ir.Z,name:"center"}),(0,n.jsx)(w,{rotate:b,icon:id.Z,name:"end"}),(0,n.jsx)(w,{rotate:b,icon:is.Z,name:"stretch"})]});case"alignment-flex":return(0,n.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,n.jsx)(w,{icon:iu.Z,name:"row"}),(0,n.jsx)(w,{icon:ip.Z,name:"row-reverse"}),(0,n.jsx)(w,{icon:ic.Z,name:"column"}),(0,n.jsx)(w,{icon:ig.Z,name:"column-reverse"})]});case"alignment-content":return(0,n.jsxs)("div",{style:{gap:"10px",display:"flex"},children:[(0,n.jsx)(w,{rotate:b,icon:iv.Z,name:"start"}),(0,n.jsx)(w,{rotate:b,icon:ih.Z,name:"center"}),(0,n.jsx)(w,{rotate:b,icon:ix.Z,name:"end"}),(0,n.jsx)(w,{rotate:b,icon:im.Z,name:"space-between"}),(0,n.jsx)(w,{rotate:b,icon:iy.Z,name:"space-around"})]})}})()})]})})},ij=e=>{let{children:t,trigger:l}=e,[i,o]=(0,a.useState)(!1),r=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=e=>{r.current&&!r.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onClick:()=>{o(!0)},children:l}),(0,n.jsx)("div",{style:{position:"relative",display:"inline-block"},children:i&&(0,n.jsx)("div",{ref:r,style:{position:"fixed",width:"250px",height:"380px",top:0,left:"50%",zIndex:1e4,backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",padding:"10px",borderRadius:"4px",minWidth:"200px",transform:"translateX(-50%)"},children:t})})]})},iC=l(2350),iw=l(25228);let ik=e=>{let{onPress:t=e=>{},selected:l=!1,...i}=e;return(0,n.jsx)("div",{onClick:t,style:{padding:"5px",backgroundColor:l?"#EBEBEB":"#F8F8F8",display:"flex",alignContent:"center",alignItems:"center"},...i})};var iE=e=>{var t,l,i;let{nodeData:o={},node:r,item:d}=e,s="dark",u=s.charAt(0).toUpperCase()+s.slice(1),c=(0,a.useContext)(p),g=c(e=>e.setNodeData),v=c(e=>e.metadata),m=null==v?void 0:null===(t=v.tamagui)||void 0===t?void 0:t.color,y=h("nodeFontSize"),b=h("interactiveColor"),j=["blue","gray","green","orange","pink","purple","red","yellow"].map(e=>Object.keys(m).filter(t=>t.startsWith(e)&&t.endsWith(u)).map(e=>m[e].val)),{field:C,label:w,type:k,fieldType:E}=d,D=E?E+"-"+C:C,S=o[D],N=null==S?void 0:S.value,[T,P]=a.useState("theme"),[O,F]=(0,a.useState)(N),W=e=>{e&&(g(r.id,{...o,[D]:{...S,key:C,value:e,kind:"StringLiteral"}}),F(e))};return(0,n.jsx)("div",{style:{alignItems:"stretch",flexBasis:"auto",flexShrink:0,listStyle:"none",position:"relative",display:"flex",flexDirection:"column"},children:(0,n.jsxs)("div",{style:{fontSize:y+"px",padding:"8px 15px 8px 15px",display:"flex",flexDirection:"row",alignItems:"stretch"},children:[(0,n.jsx)("div",{className:"handleKey",style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,n.jsx)(x,{children:w})}),(0,n.jsx)("div",{className:"handleValue",style:{minWidth:"180px",marginRight:"10px",display:"flex",flexDirection:"row",flexGrow:1,alignItems:"center"},children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ij,{trigger:(0,n.jsx)("div",{style:{width:"28px",height:"28px",cursor:"pointer",backgroundColor:null!==(i=null===(l=m[N+u])||void 0===l?void 0:l.val)&&void 0!==i?i:N,borderRadius:4,zIndex:10,position:"absolute",marginLeft:"5px",border:N?"":"1px solid white",top:"13px"}}),children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",padding:"6px"},children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(x,{style:{color:"black",fontFamily:"Jost-Medium",fontSize:"16px",paddingLeft:0},children:"Choose a Color"}),(0,n.jsx)(x,{style:{color:"gray",fontSize:"14px",paddingLeft:0,textAlign:"left"},children:"theme"==T?"Theme Color":"Custom Color"})]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",borderRadius:"6px",border:"1px solid #cccccc",overflow:"hidden",height:"28px"},children:[(0,n.jsx)(ik,{selected:"theme"==T,onPress:()=>P("theme"),children:(0,n.jsx)(iC.Z,{size:"16px",color:"theme"==T?b:"gray",fillOpacity:0})}),(0,n.jsx)(ik,{selected:"custom"==T,onPress:()=>P("custom"),children:(0,n.jsx)(iw.Z,{size:"16px",color:"custom"==T?b:"gray",fillOpacity:0})})]})]}),"theme"==T?(0,n.jsx)("div",{style:{height:"280px",marginTop:"5px",overflowY:"scroll"},children:(0,n.jsx)(t4.Lf,{className:"loooll",styles:{default:{card:{background:"transparent",border:"0px",boxShadow:"none"}}},triangle:"hide",onChangeComplete:e=>{let t=function(e){let{h:t,s:l,l:i,a:o}=e,n=1==l?100:(100*l).toFixed(1),a=(100*i).toFixed(1),r="hsl(".concat(Math.round(t),", ").concat(n,"%, ").concat(a,"%)");return r}(e.hsl),l=Object.keys(m).find(e=>m[e].val==t&&e.endsWith(u)),i=null==l?void 0:l.replace(u,"");W(null!=i?i:e.hex)},width:"220px",colors:j.flat(1)})}):(0,n.jsx)(t4.xS,{color:O,onChangeComplete:e=>{W(e.hex)},styles:{default:{picker:{background:"transparent",border:"0px",boxShadow:"none",width:"210px"}}}})]})}),(0,n.jsx)(f,{onBlur:()=>W(O),style:{fontSize:y+"px",fontWeight:"medium",paddingLeft:"38px"},value:O,placeholder:"default",onChange:e=>F(e.target.value)})]})})]})})};let iD=e=>{let{item:t,node:l,nodeData:i}=e;var o,a,r=null!==(o=t.type)&&void 0!==o?o:"";switch(r.startsWith("alignment-")?a="alignment":r.startsWith("color-")&&(a="color"),a){case"alignment":return(0,n.jsx)(ib,{node:l,item:t,nodeData:i},r);case"color":return(0,n.jsx)(iE,{node:l,item:t,nodeData:i},r);default:return(0,n.jsx)(n.Fragment,{})}},iS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=(arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0),i=Object.keys(t).filter(e=>e.startsWith("prop-")).map((e,t)=>({label:e.substr(5),field:e,fieldType:"prop",deleteable:!0}));return(0,n.jsx)(lp,{icon:ta.Z,node:e,isPreview:!e.id,title:l.data.title,id:e.id,color:"#C5E1A5",skipCustom:!0,children:l.data.body.map(o=>{var a,r;switch(o.type){case"child":{let l=Object.keys(t).filter(e=>e.startsWith("child-")).map((e,t)=>{var l;let i=null===(l=o.data)||void 0===l?void 0:l.find(t=>t.field===e);return{label:i?i.label:"Child"+(t+1),field:e,fieldType:"child",deleteable:!i}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ls,{id:e.id,params:l}),o.disableAdd?null:(0,n.jsx)(F,{id:e.id,type:"Child",nodeData:t})]})}case"prop":{let r=l.data.body.find(e=>"redirect"==e.type),d=null==r?void 0:null===(a=r.params)||void 0===a?void 0:a.port,s=l.data.body.find(e=>"protolibProps"==e.type),u=ie(l.data.body);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ls,{id:e.id,params:o.data}),(0,n.jsx)(ls,{id:e.id,params:i.filter(e=>!u.includes(e.field)||!s).filter(e=>!o.data.find(t=>t.field==e.field)&&e.field!=d)}),o.disableAdd?null:(0,n.jsx)(F,{id:e.id,type:"Prop",nodeData:t})]})}case"spacer":return(0,n.jsx)("div",{style:{marginBottom:o.params.height}});case"output":return(0,n.jsx)(lu,{id:e.id,type:"output",label:o.params.label,style:null!==(r=o.params.style)&&void 0!==r?r:{},handleId:o.params.handleId});case"redirect":return(0,n.jsx)(tP,{node:e,port:o.params.port,type:"target",fallbackPort:o.params.fallbackPort,portType:"_",preText:o.params.preText,postText:o.params.postText});case"protolibProps":{let l=l9(o.data);return(0,n.jsxs)(n.Fragment,{children:[o.data.map((l,i)=>(0,n.jsx)(iD,{item:l,node:e,nodeData:t},i)),(0,n.jsx)(ls,{id:e.id,params:l3(l)})]})}}})})};iS.check=(e,t,l)=>{var i=!1;if(l.initialData){var o,n,a,r=null===(a=l.body)||void 0===a?void 0:null===(n=a.find(e=>"prop"==e.type))||void 0===n?void 0:null===(o=n.props)||void 0===o?void 0:o.map(e=>null==e?void 0:e.field),d=Object.keys(t);i=(null==r?void 0:r.filter(e=>!d.includes(e)).length)==0}else i=!0;return e.type==l.type&&t.name==l.id&&i};var iN={CallExpression:l8,JsxElement:iS};let iT={filterCallback:tF,restoreCallback:tW,filterCallbackProp:tO,restoreCallbackProp:tI},iP=e=>{var t;let l=void 0===(t=Function(e))?void 0:t.call(iT);return l};var iO=e=>{var t,l;let i={data:e,id:e.id,type:e.type,check:(l,i)=>(null!==(t=iN[e.type])&&void 0!==t?t:l8).check(l,i,e),getComponent:null!==(l=iN[e.type])&&void 0!==l?l:l8,getInitialData:()=>e.initialData};return e.filterChildren&&(i.filterChildren=iP(e.filterChildren)),e.restoreChildren&&(i.restoreChildren=iP(e.restoreChildren)),i};let iF=e=>{var t,l;let{dataNotify:i=()=>{},disableDots:o=!1,bgColor:d="transparent",onShowCode:s=null,sourceCode:u,onSave:c,onPlay:g,onReload:v,disableStart:h=!1,getFirstNode:f=e=>e.find(e=>e.id&&e.id.startsWith("SourceFile")),customComponents:x=[],hideBaseComponents:m=!1,positions:b,topics:j,flowId:C,display:D=!0,enableCommunicationInterface:S=!1,children:N,showActionsBar:T=!1,zoomOnDoubleClick:P=!0,onSelectionChange:O=()=>{},onEdit:F=()=>{},config:W={},themeMode:I="light",theme:B={},disableMiniMap:z=!0,bridgeNode:H=!1,onViewPortChange:L=()=>{},defaultViewPort:Z={x:100,y:window.innerHeight/4,zoom:.8},path:A="Start",mode:_="js",nodePreview:R="preview",metadata:M={}}=e,{data:K,publish:V}=j,q=(0,a.useContext)(p),$=(0,a.useRef)(null),X=q(e=>e.setError),U=q(e=>e.clearError),G=q(e=>e.setDataNotify),Y=q(e=>e.initialEdges),Q=q(e=>e.setInitialEdges),ee=q(e=>e.initialNodes),et=q(e=>e.setInitialNodes),el=q(e=>e.setSaveStatus),ei=q(e=>e.setNodeData),eo=q(e=>e.setNodesData),en=q(e=>e.setMetadata),ea=q(e=>e.setCurrentPath),er=q(e=>e.setNodesMetaData),ed=q(e=>e.clearNodesData),es=q(e=>e.appendCustomComponents),eu=q(e=>e.customComponents),ep=q(e=>e.nodeData),ec=q(e=>e.menuState),eg=[...x,...null!==(l=null==W?void 0:null===(t=W.masks)||void 0===t?void 0:t.map(e=>iO(e)))&&void 0!==l?l:[]].filter(e=>e),ev=(0,a.useMemo)(()=>tD,[]),eh=(0,a.useMemo)(()=>({custom:e=>lb(e,H)}),[]),[ef,ex,em]=(0,r.Rr)(ee),[ey,eb,ej]=(0,r.ll)(Y),[eC,ew]=(0,a.useState)(!1),[ek,eE]=(0,a.useState)(l5(ep)),eD=(0,a.useCallback)(e=>eb(t=>(0,r.Z_)({...e,type:"custom",animated:!1},t)),[eb]),eS=async()=>{ed();let{nodes:e,edges:t,nodeDataTable:l}=await eO();eo(l),eE(l5(l)),ex(e),eb(t),Q(t),et(e)},eN=e=>"json"==_?"("+e+")":e,eT="json"==_?"elk":"device"==_?"device":"code",eP="json"==_?e=>e.find(e=>e.id&&e.id.startsWith("ObjectLiteralExpression")):f,eO=async()=>{let e;let t=new J.IKL({useInMemoryFileSystem:!0,manipulationSettings:{indentationText:J.xI4.Tab},compilerOptions:{target:J.H7j.Latest,scriptKind:J.hVH.TSX,languageVariant:J.C$L.JSX}}),l=t.createSourceFile("_temp1.tsx",eN(u),{overwrite:!0});if("json"==_){var i,o;let e=null===(o=l.getStatements()[0])||void 0===o?void 0:null===(i=o.getExpression())||void 0===i?void 0:i.getExpression();e&&(l=e)}let n=(e,t,l,i)=>{if(!t(e))return l(e,i,[]);let o=[];return e.forEachChild(e=>{o=o.concat(n(e,t,l,[]))}),l(e,i,o)},a={},r=[],d={},s=n(l,t=>{let l=ev[t.getKindName()];if(l){var i;let o=null!==(i=l.type)&&void 0!==i?i:l;if(o.isShadow&&o.isShadow(t,a,_,r)||e||(e=k(t)),o.skipTraversal)return!1}return!0},(e,t,l)=>{let i=ev[e.getKindName()];if((null===(s=e.getParent())||void 0===s?void 0:s.getKindName())=="CatchClause"&&"VariableDeclaration"==e.getKindName())return;var o,n=!0;if(i){let l=null!==(p=i.type)&&void 0!==p?p:i;if(l.getData){d[k(e)]={};var s,u,p,c,g=l.getData(e,a,d,r,_);g={...d[k(e)],...g,_astNode:e},d[k(e)]=g,a[k(e)]=g;let t=tM({type:e.getKindName()},null!==(c=d[k(e)])&&void 0!==c?c:{},eg);ei(k(e),g),(null==t?void 0:t.nonDeletable)&&(n=!1)}if((!l.isShadow||!l.isShadow(e,a,_,r))&&(!l.checkCreate||l.checkCreate(e,a))&&("SourceFile"!=e.getKindName()||!h)){let l=w([0,0],e.getKindName(),k(e),null,"SourceFile"!=e.getKindName()&&n,r,d[k(e)]);t=t.concat(l),a[k(e)]={type:"node",value:l[0]}}}a[k(e)]||(0==e.getChildren().length?a[k(e)]={type:"data",value:e.getText(),_astNode:e}:a[k(e)]=e.forEachDescendant(e=>a[k(e)]));let v=tM(null===(u=a[k(e)])||void 0===u?void 0:u.value,null!==(o=d[k(e)])&&void 0!==o?o:{},eg),f=(e,t)=>{d[e]=t};v&&v.filterChildren&&f(k(e),{...d[k(e)],_initialNodes:l,_initialEdges:JSON.parse(JSON.stringify(r))});let x=i&&i.type?i.type:i,m=[...t,...v&&v.filterChildren?v.filterChildren(e,l,r,d,f):l];return x&&x.filterChildren?x.filterChildren(e,m,r,d,f):m},[]).filter(e=>e),p=s;return W&&W.layers&&W.layers.length&&(p=[...p,...W.layers.map(e=>{var t;let l="Layer_"+y();return d[l]=e,w(null!==(t=e.position)&&void 0!==t?t:[0,0],"Layer",l,{},!1,[],{})[0]})]),{nodes:p,edges:r,nodeDataTable:d}},eF=e=>ef.reduce((t,l)=>{var i;let o=tM(l,null!==(i=e[l.id])&&void 0!==i?i:{},eg);if(o&&o.restoreChildren){let i=o.restoreChildren(l,t.nodes,e[l.id]._initialNodes,t.edges,Y,e);return i.nodeData||(i.nodeData=t.nodeData),i}return t},{nodes:ef,edges:ey,nodeData:e}),eW=async e=>{var t;let l=eF(Object.assign({},ep));U();try{t=function(e,t,l,i,o){let n=i(e,l);if(!n)return"";let a=tD[n.type];a.type&&(a=a.type);let r=a.dump(n,e,t,l,null,"json"!=o,"full");if("json"==o){let e=JSON.stringify(JSON.parse(r),null,4);return e}if(r){let i=a.dump(n,e,t,l,null,!1,"full");return i}return""}(l.nodes,l.edges,l.nodeData,eP,_),Q(l.edges),et(l.nodes);let i=ef.map(e=>({id:e.id,position:e.position}));!e&&c&&(null==ef?void 0:ef.length)&&c(t,i,{nodesData:ep,nodes:ef})}catch(n){let e=n.codeFrame.split("\n").find(e=>e.startsWith("> ")).split("|");e.shift();let t=n.loc.start.column,l=e.join("|").substr(1,t),i=l.lastIndexOf("/* JSFLOWID("),o=l.substring(i+12).split(")")[0];el("error"),X(o)}return t},eI=async()=>{try{let e=await eW();g&&g(e)}catch(e){console.error(e)}},eB=e=>e.map(e=>{let{draggable:t,height:l,width:i,position:o,selected:n,positionAbsolute:a,dragging:r,data:d,...s}=e,{layouted:u,...p}=d||{layouted:1};return{...s,data:p}}),ez=async()=>{await eb([]),await ex([]),v?v():eS()},eH=(e,t)=>{if(S){var l=t.nodeId,i=t.param,o=t.value;try{o=JSON.parse(o)}catch(e){}switch(e){case"delete-node":let c=t.map(e=>e.id),g=ey.find(e=>c.includes(e.source));n=null==g?void 0:g.target;let v=g?null===(r=ef.find(e=>e.id==g.source))||void 0===r?void 0:r.type:null===(d=t.find(e=>e.id==c[0]))||void 0===d?void 0:d.type;if(a={action:"delete-node",nodesToDelete:c,deletedNodeType:v},"JsxElement"==v){let e=g?Number(g.targetHandle.split("child-")[1]):null;if(ep[n]){let{data:t}=lX(ep[n],e);eo({...ep,[n]:t})}}V("flow/editor",a);break;case"delete-data":V("flow/editor",a={action:"delete-data",nodeId:l,param:i});break;case"add-node":let h=t.newEdge,f=t.initialData,x=null==f?void 0:f.name,m=null===(s=t.node)||void 0===s?void 0:s.type;l=t.node.id,n=h.target,i=h.targetHandle.split(n+"-")[1];let y={...ep,[l]:{...f}};a={...a,action:"add-node",nodeId:l,type:m,nodeName:x,parent:n};let b=l4(ef,ey.concat(h),y,l,m);if("JsxElement"==m){let e=(null==i?void 0:i.startsWith("child"))?Number(i.split("child-")[1]):void 0;a={...a,childrenPos:e-1},eo(y={...y,[n]:{...y[n],["child-"+e]:b}})}else{let e,t,l=h.targetHandle.split(n)[1],i=l.slice(0,1),o=l.slice(1),c=y[n];if(i==E.flow){let l=null===(u=c._fallBack)||void 0===u?void 0:u.find(e=>e.fallbackPort==o&&e.portType==i),g=(null==l?void 0:l.preText)+b+(null==l?void 0:l.postText);var n,a,r,d,s,u,p=g.indexOf("=");if(-1===p)return;e=g.substring(0,p).trim(),t=g.substring(p+1).trim()}else if(i==E.data){let l=c[o];e=null==l?void 0:l.key,t=b}a={...a,data:{isAncestorJsxElement:!0,key:e,value:t}}}V("flow/editor",a);break;case"add-data":V("flow/editor",a={action:"add-data",nodeId:l,param:i,value:o,isProp:!!t.isProp});break;case"edit-data":V("flow/editor",a={action:"edit-data",nodeId:l,param:i,value:o,deleteKey:t.deleteKey});break;default:console.error("Communication sender error. Invalid action ".concat(e))}}},eL=e=>{if(e)return e.startsWith("prop-")?e.split("prop-")[1]:e.startsWith("child-")?"children":e},eZ=e=>{let t=ey.find(t=>t.targetHandle==e);return t},eA=()=>{if(!S)return;let e=l5(ep);if(!Object.keys(ek).length)return;let t=lf().diff(ek,e);if(t&&!(t.length>1)){if(t.find(e=>"E"==e.kind)){var l,i,o,n;let e,a;let r=t.find(e=>"E"==e.kind),d=r.path[0];if(!ek[d])return;let s=d+E.data+r.path[1];if(eZ(s))return;let u=null===(l=ef.find(e=>e.id==d))||void 0===l?void 0:l.type,p={nodeId:d};if("JsxElement"==u){let t;if("key"==r.path[2]){a=r.rhs;let l=r.lhs,o=r.path[1];e=null===(i=ep[d][o])||void 0===i?void 0:i.value,t=!0,p={...p,deleteKey:l}}else{if(a=eL(r.path[1]),!(e=r.rhs)||!a||"object"==typeof e||"kind"==r.path[2])return;(t=!a.includes("child"))&&(a=null!==(n=null===(o=ep[d]["prop-"+a])||void 0===o?void 0:o.key)&&void 0!==n?n:a)}p={...p,param:a,value:e,isProp:t}}else{let e=l6(d,ey);if(e){a=e.split("-")[2],d=e.split("-")[0];let t=e.split("_")[0],l=l7(ef,ey,ep,d,t,a);p={...p,nodeId:d,param:a,value:l,isProp:!0}}}eH("edit-data",p)}else if(t.find(e=>"N"==e.kind)){let e;let l=t.find(e=>"N"==e.kind),i=l.path[0];if(!ek[i])return;let o=null===(a=ef.find(e=>e.id==i))||void 0===a?void 0:a.type,n=l.path[1];if("JsxElement"==o){let t=l.rhs;"object"==typeof t&&(n=n.split("-")[0]+"-"+t.key,t=t.value),n=eL(n);let o=i+E.data+l.path[1];if(eZ(o)||!t||!n)return;let a=!n.includes("child");e={nodeId:i,param:n,value:t,isProp:a}}else{let t=l6(i,ey);var a,r=null==t?void 0:t.indexOf("-");if(-1===r||!t)return;let l=t.slice(r+1),o=t.split("-")[0],n=t.split("_")[0],d=ep[o],s=d[l].key,u=l7(ef,ey,ep,o,n,s);e={nodeId:o,param:s,value:u,isProp:!0}}eH("add-data",e)}else if(t.find(e=>"D"==e.kind)){let e=t.find(e=>"D"==e.kind),l=e.path[0],i=e.lhs.key;eH("delete-data",{nodeId:l,param:i})}}},e_=e=>{var t;let l=null===(t=e[0])||void 0===t?void 0:t.type,i=["ObjectLiteralExpression","ArrowFunction","CallExpression"].includes(l)||e.length<=1;if(!e||!e.length||i)return u;let o=e[0];if(!o)return u;let n=tD[o.type];n.type&&(n=n.type);let a=n.dump(o,ef,ey,ep);return a},eR=async()=>{try{let e=await eW(!0);void 0!==e?F(e):console.error("There was an error in the code, not emitting")}catch(e){}};return(0,a.useEffect)(()=>{let e=lx(eB(Y),eB(ey)),t=lx(eB(ee),eB(ef)),l=ef.filter(e=>{var t;return e.id!=(null===(t=f(ef))||void 0===t?void 0:t.id)&&!ey.find(t=>t.source==e.id)&&!e.draggable});l.length&&ex(ef.map(e=>l.find(t=>t.id==e.id)?{...e,draggable:!0}:e));let i=ef.filter(e=>{var t;return e.id!=(null===(t=f(ef))||void 0===t?void 0:t.id)&&ey.find(t=>t.source==e.id)&&e.draggable});i.length&&ex(ef.map(e=>i.find(t=>t.id==e.id)?{...e,draggable:!1}:e)),t&&t.length||e&&e.length?(e&&!t&&(lH(eT,ef,ey,ex,eb,eP,er,ep),Q(ey)),T||eR(),ew(!0)):ew(!1),el(null)},[ef,ey]),(0,a.useEffect)(()=>{G(i)},[i]),(0,a.useEffect)(()=>{var e;(null===(e=K[C+"/play"])||void 0===e?void 0:e.ts)&&eI()},[K[C+"/play"]]),(0,a.useEffect)(()=>{ea(A)},[A]),S&&((0,a.useEffect)(()=>{let e=K[C+"/ui"];if(e){var t=e.nodeId;switch(e.action){case"delete-node":var l,i=null!==(l=e.deletedNodes)&&void 0!==l?l:[],o=e.parent;let{updatedEdges:h,newNodeData:f}=l1(i,o,t,ey,ep);eb(h),eo(f),ex(e=>e.filter(e=>!i.includes(e.id)));break;case"add-node":var n,a,r=e.nodeName,d=e.parent,s=null!==(a=null==e?void 0:e.data)&&void 0!==a?a:{},u=null===(n=ef.find(t=>t.id==e.parent))||void 0===n?void 0:n.position;if(!u)return;var p=e.childrenPos+1,c=e.nodeProps;let x=Object.keys(c).reduce((e,t)=>{var l=c[t],i="prop-".concat(t);let o=function(e){switch(typeof e){case"number":return"NumericLiteral";case"string":return"StringLiteral";case"boolean":return"TrueKeyword";case"object":return Array.isArray(e)?"ArrayLiteralExpression":"ObjectLiteralExpression"}}(l);var n={key:t,value:l,kind:o};return"children"==t&&(i="child-1",n=l),{...e,[i]:n}},{name:r});var g={...ep,[t]:x};if(eg.find(e=>e.id==r)){var v={};g={...g,[t]:{...g[t]}}}let m=w([u.x+500,u.y],"JsxElement",e.nodeId,s,!0,{},v);ex(e=>e.concat(m));let y=l4(ef,ey,g,t,"JsxElement");eo(g={...g,[d]:{...lU(g[d],p,null!=y?y:'"children"')}}),eb(lY(ey,t,d,p));break;case"edit-node":var g={...ep,[t]:{...ep[t],"child-1":e.newChildValue}};eo(g);break;case"move-node":let b=e.isSameParent;if(b){let t=e.parent,l=e.childrenIndexes,i=Math.min(...l),o={...ep[t]},n=l0(o,l,i);ei(t,n);let a=lQ(ey,t,i,l);eb(a);return}{let l=e.oldParentId,i=e.oldPos+1,o=ep[l],{data:n,deletedElementData:a}=lX(o,i),r=e.newParentId,d=ep[r];if(!d)return;let s=Object.keys(d).filter(e=>e.startsWith("child-")).length,u=-1==e.newPos?s+1:e.newPos+1,p=lU(d,u,a);eo({...ep,[l]:n,[r]:p});let c=lG(ey,t,l,i,r,u);eb(c)}}}},[K[C+"/ui"]]),(0,a.useEffect)(()=>{var e;(null===(e=K.savenodes)||void 0===e?void 0:e.value)&&eW()},[K.savenodes])),(0,a.useEffect)(()=>{eg.length!=eu.length&&es(eg),en(M)},[eg.length]),(0,a.useEffect)(()=>{u&&eS()},[u]),(0,a.useEffect)(()=>{let e=l5(ep),t=lx(ek,e);(null==t?void 0:t.length)&&(ew(!0),eA(),eE(e),ef.length&&!T&&eR())},[ep]),(0,a.useEffect)(()=>{ef&&ef.length&&ef.filter(e=>e.width&&e.height).length==ef.length&&lH(eT,ef,ey,ex,eb,eP,er,ep)},[ef.reduce((e,t)=>e+=t.id+" "+(t.width&&t.height?"1":"0")+",","")]),(0,n.jsx)("div",{ref:$,style:{height:"100%",width:"100%"},children:D?(0,n.jsxs)(l$,{onViewPortChange:L,defaultViewPort:Z,themeMode:I,onSelectionChange:e=>O(e_(e),e),nodeTypes:ev,nodes:ef,edges:ey,zoomOnDoubleClick:P,onNodesChange:em,onEdgesChange:ej,onNodesDelete:e=>eH("delete-node",e),onConnect:eD,edgeTypes:eh,onInit:()=>{},style:{backgroundColor:d},nodePreview:R,componentsMenu:"closed"!=ec?(0,n.jsx)(lm,{enabledNodes:"json"==_?["ObjectLiteralExpression","ArrayLiteralExpression"]:["*"],onEditDiagram:async(e,t,l)=>{ex(e),eb(t)},edges:ey,diagramNodes:ef,setNodes:ex,setEdges:eb,setNodeData:ei,style:{position:"absolute",top:"0px",left:"0px"},hideBaseComponents:m,customComponents:eg,onAddNode:(e,t,l)=>eH("add-node",{node:e,newEdge:t,initialData:l})}):(0,n.jsx)(n.Fragment,{}),disableDots:o,disableMiniMap:z,theme:B,children:[N,T?(0,n.jsx)(r.s_,{position:"top-center",children:(0,n.jsx)(lL,{getFirstNode:eP,layout:eT,onSave:eW,onReload:v?ez:null,onShowCode:s||null,hasChanges:eC})}):null]}):(0,n.jsx)(n.Fragment,{})})},iW=e=>{let t=(0,a.useMemo)(u,[]);return(0,n.jsx)(p.Provider,{value:t,children:(0,n.jsx)(iI,{children:(0,n.jsx)(iF,{...e})})})},iI=e=>{let{children:t}=e,[l,i]=(0,lc.U)();return(0,n.jsx)(lg.G,{onChangeTheme:e=>{i(e)},children:(0,n.jsx)(lv.z,{disableRootThemeClass:!0,defaultTheme:l,children:t})})};var iB=e=>{let t=(0,t5.Ic)(iW,{topics:[e.flowId+"/play",e.flowId+"/ui","savenodes"]});return e.path&&(e.path.endsWith(".json")?e.mode="json":(e.path.endsWith("yml")||e.path.endsWith("yaml"))&&(e.mode="yaml")),(0,n.jsx)(t5.US,{children:(0,n.jsx)(t,{...e})})};let iz=e=>(0,t5.Ic)(iW,{topics:[e+"/play",e+"/ui","savenodes"]})},56699:function(){},68379:function(){},68382:function(){},78867:function(){},21212:function(){},89854:function(){},25800:function(){},93037:function(){},26996:function(){}}]);