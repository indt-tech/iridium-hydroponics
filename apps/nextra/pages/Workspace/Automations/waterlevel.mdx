import { Callout } from 'nextra/components'
import { Steps } from 'nextra/components'
import { Cards, Card } from 'nextra/components'

# ðŸš°â€‹ Water level
![Protofy](http://localhost:8080/media/workspace/automation_filltank.png?raw=true)


```js copy filename="filltank.ts"
context.deviceSub("mydevice", "floatswitch", "status", async (message, topic) =>
  context.flow.switch(
    message,
    "OFF",
    "equals",
    async () => {
      await context.deviceAction("mydevice", "freshwater", "on");
    },
    async () => {
      await context.deviceAction("mydevice", "freshwater", "off");
    },
    null
  )
);
```
